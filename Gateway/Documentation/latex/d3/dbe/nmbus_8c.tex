\hypertarget{nmbus_8c}{}\section{third\+\_\+party/atmel/devices/wilc1000/driver/source/nmbus.c File Reference}
\label{nmbus_8c}\index{third\+\_\+party/atmel/devices/wilc1000/driver/source/nmbus.\+c@{third\+\_\+party/atmel/devices/wilc1000/driver/source/nmbus.\+c}}


This module contains W\+I\+LC bus A\+P\+Is implementation.  


{\ttfamily \#include \char`\"{}nmbus.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}nmi2c.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}nmspi.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}nmsdio.\+h\char`\"{}}\newline
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{nmbus_8c_ad309a02d9c71c2edf8e901db7060f73f}{M\+A\+X\+\_\+\+T\+R\+X\+\_\+\+C\+F\+G\+\_\+\+SZ}~8
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{group__DataT_gae35f10ffd0ac8dd2bc3e794da9bdfbc7}{sint8} \hyperlink{nmbus_8c_aaafc1bd52ccd798c512173f18543b966}{nm\+\_\+bus\+\_\+iface\+\_\+init} (void $\ast$pv\+Init\+Val)
\item 
\hyperlink{group__DataT_gae35f10ffd0ac8dd2bc3e794da9bdfbc7}{sint8} \hyperlink{nmbus_8c_afd8c7289de1cbf00464909c5c491b088}{nm\+\_\+bus\+\_\+iface\+\_\+deinit} (void)
\begin{DoxyCompactList}\small\item\em Deinitialize bus interface. \end{DoxyCompactList}\item 
\hyperlink{group__DataT_gae35f10ffd0ac8dd2bc3e794da9bdfbc7}{sint8} \hyperlink{nmbus_8c_a47e65a88a8262359d46de3cb869f481e}{nm\+\_\+bus\+\_\+reset} (void)
\begin{DoxyCompactList}\small\item\em reset bus interface \end{DoxyCompactList}\item 
\hyperlink{group__DataT_gae35f10ffd0ac8dd2bc3e794da9bdfbc7}{sint8} \hyperlink{nmbus_8c_ab501805e8c02565149e2374da370ec9c}{nm\+\_\+bus\+\_\+iface\+\_\+reconfigure} (void $\ast$ptr)
\item 
\hyperlink{group__DataT_ga100e7c691a47d6978527c479a0158245}{uint32} \hyperlink{nmbus_8c_a40095d9f8d9cd502b40d93015c93af24}{nm\+\_\+read\+\_\+reg} (\hyperlink{group__DataT_ga100e7c691a47d6978527c479a0158245}{uint32} u32\+Addr)
\item 
\hyperlink{group__DataT_gae35f10ffd0ac8dd2bc3e794da9bdfbc7}{sint8} \hyperlink{nmbus_8c_a475d273d8342f3f5c2a00e2887bf1b4f}{nm\+\_\+read\+\_\+reg\+\_\+with\+\_\+ret} (\hyperlink{group__DataT_ga100e7c691a47d6978527c479a0158245}{uint32} u32\+Addr, \hyperlink{group__DataT_ga100e7c691a47d6978527c479a0158245}{uint32} $\ast$pu32\+Ret\+Val)
\item 
\hyperlink{group__DataT_gae35f10ffd0ac8dd2bc3e794da9bdfbc7}{sint8} \hyperlink{nmbus_8c_a6a7d6b943cea86630575707ef80e09f9}{nm\+\_\+write\+\_\+reg} (\hyperlink{group__DataT_ga100e7c691a47d6978527c479a0158245}{uint32} u32\+Addr, \hyperlink{group__DataT_ga100e7c691a47d6978527c479a0158245}{uint32} u32\+Val)
\item 
static \hyperlink{group__DataT_gae35f10ffd0ac8dd2bc3e794da9bdfbc7}{sint8} \hyperlink{nmbus_8c_a6daa03ed5056fe33cec769edfe20c397}{p\+\_\+nm\+\_\+read\+\_\+block} (\hyperlink{group__DataT_ga100e7c691a47d6978527c479a0158245}{uint32} u32\+Addr, \hyperlink{group__DataT_ga4df709a77647e870bbf1d955b8edc9a6}{uint8} $\ast$pu\+Buf, \hyperlink{group__DataT_ga1daa745171fc6e31d942c161422a76f9}{uint16} u16\+Sz)
\item 
\hyperlink{group__DataT_gae35f10ffd0ac8dd2bc3e794da9bdfbc7}{sint8} \hyperlink{nmbus_8c_af1e8ce2caa79fdd112216a9f36f103a0}{nm\+\_\+read\+\_\+block} (\hyperlink{group__DataT_ga100e7c691a47d6978527c479a0158245}{uint32} u32\+Addr, \hyperlink{group__DataT_ga4df709a77647e870bbf1d955b8edc9a6}{uint8} $\ast$pu\+Buf, \hyperlink{group__DataT_ga100e7c691a47d6978527c479a0158245}{uint32} u32\+Sz)
\item 
static \hyperlink{group__DataT_gae35f10ffd0ac8dd2bc3e794da9bdfbc7}{sint8} \hyperlink{nmbus_8c_a81ed1ef0558d7051509ba9c17b094ac7}{p\+\_\+nm\+\_\+write\+\_\+block} (\hyperlink{group__DataT_ga100e7c691a47d6978527c479a0158245}{uint32} u32\+Addr, \hyperlink{group__DataT_ga4df709a77647e870bbf1d955b8edc9a6}{uint8} $\ast$pu\+Buf, \hyperlink{group__DataT_ga1daa745171fc6e31d942c161422a76f9}{uint16} u16\+Sz)
\item 
\hyperlink{group__DataT_gae35f10ffd0ac8dd2bc3e794da9bdfbc7}{sint8} \hyperlink{nmbus_8c_afb924df7f944a8137cd51069512661cf}{nm\+\_\+write\+\_\+block} (\hyperlink{group__DataT_ga100e7c691a47d6978527c479a0158245}{uint32} u32\+Addr, \hyperlink{group__DataT_ga4df709a77647e870bbf1d955b8edc9a6}{uint8} $\ast$pu\+Buf, \hyperlink{group__DataT_ga100e7c691a47d6978527c479a0158245}{uint32} u32\+Sz)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
This module contains W\+I\+LC bus A\+P\+Is implementation. 

Copyright (c) 2016-\/2018 Microchip Technology Inc. and its subsidiaries.

\subsection{Macro Definition Documentation}
\mbox{\Hypertarget{nmbus_8c_ad309a02d9c71c2edf8e901db7060f73f}\label{nmbus_8c_ad309a02d9c71c2edf8e901db7060f73f}} 
\index{nmbus.\+c@{nmbus.\+c}!M\+A\+X\+\_\+\+T\+R\+X\+\_\+\+C\+F\+G\+\_\+\+SZ@{M\+A\+X\+\_\+\+T\+R\+X\+\_\+\+C\+F\+G\+\_\+\+SZ}}
\index{M\+A\+X\+\_\+\+T\+R\+X\+\_\+\+C\+F\+G\+\_\+\+SZ@{M\+A\+X\+\_\+\+T\+R\+X\+\_\+\+C\+F\+G\+\_\+\+SZ}!nmbus.\+c@{nmbus.\+c}}
\subsubsection{\texorpdfstring{M\+A\+X\+\_\+\+T\+R\+X\+\_\+\+C\+F\+G\+\_\+\+SZ}{MAX\_TRX\_CFG\_SZ}}
{\footnotesize\ttfamily \#define M\+A\+X\+\_\+\+T\+R\+X\+\_\+\+C\+F\+G\+\_\+\+SZ~8}



Definition at line 45 of file nmbus.\+c.



\subsection{Function Documentation}
\mbox{\Hypertarget{nmbus_8c_afd8c7289de1cbf00464909c5c491b088}\label{nmbus_8c_afd8c7289de1cbf00464909c5c491b088}} 
\index{nmbus.\+c@{nmbus.\+c}!nm\+\_\+bus\+\_\+iface\+\_\+deinit@{nm\+\_\+bus\+\_\+iface\+\_\+deinit}}
\index{nm\+\_\+bus\+\_\+iface\+\_\+deinit@{nm\+\_\+bus\+\_\+iface\+\_\+deinit}!nmbus.\+c@{nmbus.\+c}}
\subsubsection{\texorpdfstring{nm\+\_\+bus\+\_\+iface\+\_\+deinit()}{nm\_bus\_iface\_deinit()}}
{\footnotesize\ttfamily nm\+\_\+bus\+\_\+iface\+\_\+deinit (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Deinitialize bus interface. 

\begin{DoxyReturn}{Returns}
M2\+M\+\_\+\+S\+U\+C\+C\+E\+SS in case of success and M2\+M\+\_\+\+E\+R\+R\+\_\+\+B\+U\+S\+\_\+\+F\+A\+IL in case of failure 
\end{DoxyReturn}
\begin{DoxyAuthor}{Author}
Samer Sarhan 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
07 April 2014 
\end{DoxyDate}
\begin{DoxyVersion}{Version}
1.\+0
\end{DoxyVersion}
\begin{DoxyReturn}{Returns}
M2\+M\+\_\+\+S\+U\+C\+C\+E\+SS in case of success and M2\+M\+\_\+\+E\+R\+R\+\_\+\+B\+U\+S\+\_\+\+F\+A\+IL in case of failure 
\end{DoxyReturn}


Definition at line 71 of file nmbus.\+c.


\begin{DoxyCode}
72 \{
73     \hyperlink{group__DataT_gae35f10ffd0ac8dd2bc3e794da9bdfbc7}{sint8} ret = \hyperlink{nm__common_8h_a9ef27ba27aafdd1aa3a79d3ba2c36b8f}{M2M\_SUCCESS};
74     ret = \hyperlink{nm__bus__wrapper_8h_a079140d5aa8c4f896339434c669a44aa}{nm\_bus\_deinit}();
75 
76     \textcolor{keywordflow}{return} ret;
77 \}
\end{DoxyCode}
\mbox{\Hypertarget{nmbus_8c_aaafc1bd52ccd798c512173f18543b966}\label{nmbus_8c_aaafc1bd52ccd798c512173f18543b966}} 
\index{nmbus.\+c@{nmbus.\+c}!nm\+\_\+bus\+\_\+iface\+\_\+init@{nm\+\_\+bus\+\_\+iface\+\_\+init}}
\index{nm\+\_\+bus\+\_\+iface\+\_\+init@{nm\+\_\+bus\+\_\+iface\+\_\+init}!nmbus.\+c@{nmbus.\+c}}
\subsubsection{\texorpdfstring{nm\+\_\+bus\+\_\+iface\+\_\+init()}{nm\_bus\_iface\_init()}}
{\footnotesize\ttfamily \hyperlink{group__DataT_gae35f10ffd0ac8dd2bc3e794da9bdfbc7}{sint8} nm\+\_\+bus\+\_\+iface\+\_\+init (\begin{DoxyParamCaption}\item[{void $\ast$}]{pv\+Init\+Val }\end{DoxyParamCaption})}



Definition at line 55 of file nmbus.\+c.


\begin{DoxyCode}
56 \{
57     \hyperlink{group__DataT_gae35f10ffd0ac8dd2bc3e794da9bdfbc7}{sint8} ret = \hyperlink{nm__common_8h_a9ef27ba27aafdd1aa3a79d3ba2c36b8f}{M2M\_SUCCESS};
58     ret = \hyperlink{nm__bus__wrapper_8h_a49d829741cadeeac4cb2dc64fe5bfd7e}{nm\_bus\_init}(pvInitVal);
59     
60     \textcolor{keywordflow}{return} ret;
61 \}
\end{DoxyCode}
\mbox{\Hypertarget{nmbus_8c_ab501805e8c02565149e2374da370ec9c}\label{nmbus_8c_ab501805e8c02565149e2374da370ec9c}} 
\index{nmbus.\+c@{nmbus.\+c}!nm\+\_\+bus\+\_\+iface\+\_\+reconfigure@{nm\+\_\+bus\+\_\+iface\+\_\+reconfigure}}
\index{nm\+\_\+bus\+\_\+iface\+\_\+reconfigure@{nm\+\_\+bus\+\_\+iface\+\_\+reconfigure}!nmbus.\+c@{nmbus.\+c}}
\subsubsection{\texorpdfstring{nm\+\_\+bus\+\_\+iface\+\_\+reconfigure()}{nm\_bus\_iface\_reconfigure()}}
{\footnotesize\ttfamily \hyperlink{group__DataT_gae35f10ffd0ac8dd2bc3e794da9bdfbc7}{sint8} nm\+\_\+bus\+\_\+iface\+\_\+reconfigure (\begin{DoxyParamCaption}\item[{void $\ast$}]{ptr }\end{DoxyParamCaption})}



Definition at line 107 of file nmbus.\+c.


\begin{DoxyCode}
108 \{
109     \hyperlink{group__DataT_gae35f10ffd0ac8dd2bc3e794da9bdfbc7}{sint8} ret = \hyperlink{nm__common_8h_a9ef27ba27aafdd1aa3a79d3ba2c36b8f}{M2M\_SUCCESS};
110     \textcolor{keywordflow}{return} ret;
111 \}
\end{DoxyCode}
\mbox{\Hypertarget{nmbus_8c_a47e65a88a8262359d46de3cb869f481e}\label{nmbus_8c_a47e65a88a8262359d46de3cb869f481e}} 
\index{nmbus.\+c@{nmbus.\+c}!nm\+\_\+bus\+\_\+reset@{nm\+\_\+bus\+\_\+reset}}
\index{nm\+\_\+bus\+\_\+reset@{nm\+\_\+bus\+\_\+reset}!nmbus.\+c@{nmbus.\+c}}
\subsubsection{\texorpdfstring{nm\+\_\+bus\+\_\+reset()}{nm\_bus\_reset()}}
{\footnotesize\ttfamily nm\+\_\+bus\+\_\+reset (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



reset bus interface 

\begin{DoxyReturn}{Returns}
M2\+M\+\_\+\+S\+U\+C\+C\+E\+SS in case of success and M2\+M\+\_\+\+E\+R\+R\+\_\+\+B\+U\+S\+\_\+\+F\+A\+IL in case of failure 
\end{DoxyReturn}
\begin{DoxyVersion}{Version}
1.\+0 
\end{DoxyVersion}


Definition at line 85 of file nmbus.\+c.


\begin{DoxyCode}
86 \{
87     \hyperlink{group__DataT_gae35f10ffd0ac8dd2bc3e794da9bdfbc7}{sint8} ret = \hyperlink{nm__common_8h_a9ef27ba27aafdd1aa3a79d3ba2c36b8f}{M2M\_SUCCESS};
88 \textcolor{preprocessor}{#ifdef CONF\_WILC\_USE\_UART}
89 \textcolor{preprocessor}{#elif defined (CONF\_WILC\_USE\_SPI)}
90     ret = \hyperlink{nmspi_8h_a2277b874c5554c7f0675fcd5543aa6c0}{nm\_spi\_reset}();
91 \textcolor{preprocessor}{#elif defined (CONF\_WILC\_USE\_I2C) || defined (CONF\_WILC\_USE\_SDIO)}
92 \textcolor{preprocessor}{#else}
93 \textcolor{preprocessor}{#error "Please define bus usage"}
94 \textcolor{preprocessor}{#endif}
95 
96     \textcolor{keywordflow}{return} ret;
97 \}
\end{DoxyCode}
\mbox{\Hypertarget{nmbus_8c_af1e8ce2caa79fdd112216a9f36f103a0}\label{nmbus_8c_af1e8ce2caa79fdd112216a9f36f103a0}} 
\index{nmbus.\+c@{nmbus.\+c}!nm\+\_\+read\+\_\+block@{nm\+\_\+read\+\_\+block}}
\index{nm\+\_\+read\+\_\+block@{nm\+\_\+read\+\_\+block}!nmbus.\+c@{nmbus.\+c}}
\subsubsection{\texorpdfstring{nm\+\_\+read\+\_\+block()}{nm\_read\_block()}}
{\footnotesize\ttfamily \hyperlink{group__DataT_gae35f10ffd0ac8dd2bc3e794da9bdfbc7}{sint8} nm\+\_\+read\+\_\+block (\begin{DoxyParamCaption}\item[{\hyperlink{group__DataT_ga100e7c691a47d6978527c479a0158245}{uint32}}]{u32\+Addr,  }\item[{\hyperlink{group__DataT_ga4df709a77647e870bbf1d955b8edc9a6}{uint8} $\ast$}]{pu\+Buf,  }\item[{\hyperlink{group__DataT_ga100e7c691a47d6978527c479a0158245}{uint32}}]{u32\+Sz }\end{DoxyParamCaption})}



Definition at line 213 of file nmbus.\+c.


\begin{DoxyCode}
214 \{
215     \hyperlink{group__DataT_ga1daa745171fc6e31d942c161422a76f9}{uint16} u16MaxTrxSz = \hyperlink{nm__bus__wrapper_8h_ae7dfa29166b4111ca6c3e3bab953eb79}{egstrNmBusCapabilities}.
      \hyperlink{structtstrNmBusCapabilities_ac429d0704e0ed56dde1312828ebd7e15}{u16MaxTrxSz} - \hyperlink{nmbus_8c_ad309a02d9c71c2edf8e901db7060f73f}{MAX\_TRX\_CFG\_SZ};
216     \hyperlink{group__DataT_ga100e7c691a47d6978527c479a0158245}{uint32} off = 0;
217     \hyperlink{group__DataT_gae35f10ffd0ac8dd2bc3e794da9bdfbc7}{sint8} s8Ret = \hyperlink{nm__common_8h_a9ef27ba27aafdd1aa3a79d3ba2c36b8f}{M2M\_SUCCESS};
218 
219     \textcolor{keywordflow}{for}(;;)
220     \{
221         \textcolor{keywordflow}{if}(u32Sz <= u16MaxTrxSz)
222         \{
223             s8Ret += \hyperlink{nmbus_8c_a6daa03ed5056fe33cec769edfe20c397}{p\_nm\_read\_block}(u32Addr, &puBuf[off], (
      \hyperlink{group__DataT_ga1daa745171fc6e31d942c161422a76f9}{uint16})u32Sz);    
224             \textcolor{keywordflow}{break};
225         \}
226         \textcolor{keywordflow}{else}
227         \{
228             s8Ret += \hyperlink{nmbus_8c_a6daa03ed5056fe33cec769edfe20c397}{p\_nm\_read\_block}(u32Addr, &puBuf[off], u16MaxTrxSz);
229             \textcolor{keywordflow}{if}(\hyperlink{nm__common_8h_a9ef27ba27aafdd1aa3a79d3ba2c36b8f}{M2M\_SUCCESS} != s8Ret) \textcolor{keywordflow}{break};
230             u32Sz -= u16MaxTrxSz;
231             off += u16MaxTrxSz;
232             u32Addr += u16MaxTrxSz;
233         \}
234     \}
235 
236     \textcolor{keywordflow}{return} s8Ret;
237 \}
\end{DoxyCode}
\mbox{\Hypertarget{nmbus_8c_a40095d9f8d9cd502b40d93015c93af24}\label{nmbus_8c_a40095d9f8d9cd502b40d93015c93af24}} 
\index{nmbus.\+c@{nmbus.\+c}!nm\+\_\+read\+\_\+reg@{nm\+\_\+read\+\_\+reg}}
\index{nm\+\_\+read\+\_\+reg@{nm\+\_\+read\+\_\+reg}!nmbus.\+c@{nmbus.\+c}}
\subsubsection{\texorpdfstring{nm\+\_\+read\+\_\+reg()}{nm\_read\_reg()}}
{\footnotesize\ttfamily \hyperlink{group__DataT_ga100e7c691a47d6978527c479a0158245}{uint32} nm\+\_\+read\+\_\+reg (\begin{DoxyParamCaption}\item[{\hyperlink{group__DataT_ga100e7c691a47d6978527c479a0158245}{uint32}}]{u32\+Addr }\end{DoxyParamCaption})}



Definition at line 122 of file nmbus.\+c.


\begin{DoxyCode}
123 \{
124 \textcolor{preprocessor}{#if defined (CONF\_WILC\_USE\_SPI)}
125     \textcolor{keywordflow}{return} \hyperlink{nmspi_8h_a37c588aab608b441dbbaf508317e1ee3}{nm\_spi\_read\_reg}(u32Addr);
126 \textcolor{preprocessor}{#elif defined (CONF\_WILC\_USE\_I2C)}
127     \textcolor{keywordflow}{return} \hyperlink{nmi2c_8h_ae84e408bcb689b663a9dc87e3ee68cdf}{nm\_i2c\_read\_reg}(u32Addr);
128 \textcolor{preprocessor}{#elif defined (CONF\_WILC\_USE\_SDIO)}
129     \textcolor{keywordflow}{return} \hyperlink{nmsdio_8h_a6fe0b3f545782714714289b398f3418d}{nm\_sdio\_read\_reg}(u32Addr);
130 \textcolor{preprocessor}{#else}
131 \textcolor{preprocessor}{#error "Please define bus usage"}
132 \textcolor{preprocessor}{#endif}
133 
134 \}
\end{DoxyCode}
\mbox{\Hypertarget{nmbus_8c_a475d273d8342f3f5c2a00e2887bf1b4f}\label{nmbus_8c_a475d273d8342f3f5c2a00e2887bf1b4f}} 
\index{nmbus.\+c@{nmbus.\+c}!nm\+\_\+read\+\_\+reg\+\_\+with\+\_\+ret@{nm\+\_\+read\+\_\+reg\+\_\+with\+\_\+ret}}
\index{nm\+\_\+read\+\_\+reg\+\_\+with\+\_\+ret@{nm\+\_\+read\+\_\+reg\+\_\+with\+\_\+ret}!nmbus.\+c@{nmbus.\+c}}
\subsubsection{\texorpdfstring{nm\+\_\+read\+\_\+reg\+\_\+with\+\_\+ret()}{nm\_read\_reg\_with\_ret()}}
{\footnotesize\ttfamily \hyperlink{group__DataT_gae35f10ffd0ac8dd2bc3e794da9bdfbc7}{sint8} nm\+\_\+read\+\_\+reg\+\_\+with\+\_\+ret (\begin{DoxyParamCaption}\item[{\hyperlink{group__DataT_ga100e7c691a47d6978527c479a0158245}{uint32}}]{u32\+Addr,  }\item[{\hyperlink{group__DataT_ga100e7c691a47d6978527c479a0158245}{uint32} $\ast$}]{pu32\+Ret\+Val }\end{DoxyParamCaption})}



Definition at line 148 of file nmbus.\+c.


\begin{DoxyCode}
149 \{
150 \textcolor{preprocessor}{#if defined (CONF\_WILC\_USE\_SPI)}
151     \textcolor{keywordflow}{return} \hyperlink{nmspi_8h_aae92c14d16f00b293e10a8a3a86f9095}{nm\_spi\_read\_reg\_with\_ret}(u32Addr,pu32RetVal);
152 \textcolor{preprocessor}{#elif defined (CONF\_WILC\_USE\_I2C)}
153     \textcolor{keywordflow}{return} \hyperlink{nmi2c_8h_aa653cd4fd522820cd784c6328f372261}{nm\_i2c\_read\_reg\_with\_ret}(u32Addr,pu32RetVal);
154 \textcolor{preprocessor}{#elif defined (CONF\_WILC\_USE\_SDIO)}
155     \textcolor{keywordflow}{return} \hyperlink{nmsdio_8h_acae515dd391c65ebd42c528fadcf82b5}{nm\_sdio\_read\_reg\_with\_ret}(u32Addr,pu32RetVal);
156 \textcolor{preprocessor}{#else}
157 \textcolor{preprocessor}{#error "Please define bus usage"}
158 \textcolor{preprocessor}{#endif}
159 \}
\end{DoxyCode}
\mbox{\Hypertarget{nmbus_8c_afb924df7f944a8137cd51069512661cf}\label{nmbus_8c_afb924df7f944a8137cd51069512661cf}} 
\index{nmbus.\+c@{nmbus.\+c}!nm\+\_\+write\+\_\+block@{nm\+\_\+write\+\_\+block}}
\index{nm\+\_\+write\+\_\+block@{nm\+\_\+write\+\_\+block}!nmbus.\+c@{nmbus.\+c}}
\subsubsection{\texorpdfstring{nm\+\_\+write\+\_\+block()}{nm\_write\_block()}}
{\footnotesize\ttfamily \hyperlink{group__DataT_gae35f10ffd0ac8dd2bc3e794da9bdfbc7}{sint8} nm\+\_\+write\+\_\+block (\begin{DoxyParamCaption}\item[{\hyperlink{group__DataT_ga100e7c691a47d6978527c479a0158245}{uint32}}]{u32\+Addr,  }\item[{\hyperlink{group__DataT_ga4df709a77647e870bbf1d955b8edc9a6}{uint8} $\ast$}]{pu\+Buf,  }\item[{\hyperlink{group__DataT_ga100e7c691a47d6978527c479a0158245}{uint32}}]{u32\+Sz }\end{DoxyParamCaption})}



Definition at line 266 of file nmbus.\+c.


\begin{DoxyCode}
267 \{
268     \hyperlink{group__DataT_ga1daa745171fc6e31d942c161422a76f9}{uint16} u16MaxTrxSz = \hyperlink{nm__bus__wrapper_8h_ae7dfa29166b4111ca6c3e3bab953eb79}{egstrNmBusCapabilities}.
      \hyperlink{structtstrNmBusCapabilities_ac429d0704e0ed56dde1312828ebd7e15}{u16MaxTrxSz} - \hyperlink{nmbus_8c_ad309a02d9c71c2edf8e901db7060f73f}{MAX\_TRX\_CFG\_SZ};
269     \hyperlink{group__DataT_ga100e7c691a47d6978527c479a0158245}{uint32} off = 0;
270     \hyperlink{group__DataT_gae35f10ffd0ac8dd2bc3e794da9bdfbc7}{sint8} s8Ret = \hyperlink{nm__common_8h_a9ef27ba27aafdd1aa3a79d3ba2c36b8f}{M2M\_SUCCESS};
271 
272     \textcolor{keywordflow}{for}(;;)
273     \{
274         \textcolor{keywordflow}{if}(u32Sz <= u16MaxTrxSz)
275         \{
276             s8Ret += \hyperlink{nmbus_8c_a81ed1ef0558d7051509ba9c17b094ac7}{p\_nm\_write\_block}(u32Addr, &puBuf[off], (
      \hyperlink{group__DataT_ga1daa745171fc6e31d942c161422a76f9}{uint16})u32Sz);    
277             \textcolor{keywordflow}{break};
278         \}
279         \textcolor{keywordflow}{else}
280         \{
281             s8Ret += \hyperlink{nmbus_8c_a81ed1ef0558d7051509ba9c17b094ac7}{p\_nm\_write\_block}(u32Addr, &puBuf[off], u16MaxTrxSz);
282             \textcolor{keywordflow}{if}(\hyperlink{nm__common_8h_a9ef27ba27aafdd1aa3a79d3ba2c36b8f}{M2M\_SUCCESS} != s8Ret) \textcolor{keywordflow}{break};
283             u32Sz -= u16MaxTrxSz;
284             off += u16MaxTrxSz;
285             u32Addr += u16MaxTrxSz;
286         \}
287     \}
288 
289     \textcolor{keywordflow}{return} s8Ret;
290 \}
\end{DoxyCode}
\mbox{\Hypertarget{nmbus_8c_a6a7d6b943cea86630575707ef80e09f9}\label{nmbus_8c_a6a7d6b943cea86630575707ef80e09f9}} 
\index{nmbus.\+c@{nmbus.\+c}!nm\+\_\+write\+\_\+reg@{nm\+\_\+write\+\_\+reg}}
\index{nm\+\_\+write\+\_\+reg@{nm\+\_\+write\+\_\+reg}!nmbus.\+c@{nmbus.\+c}}
\subsubsection{\texorpdfstring{nm\+\_\+write\+\_\+reg()}{nm\_write\_reg()}}
{\footnotesize\ttfamily \hyperlink{group__DataT_gae35f10ffd0ac8dd2bc3e794da9bdfbc7}{sint8} nm\+\_\+write\+\_\+reg (\begin{DoxyParamCaption}\item[{\hyperlink{group__DataT_ga100e7c691a47d6978527c479a0158245}{uint32}}]{u32\+Addr,  }\item[{\hyperlink{group__DataT_ga100e7c691a47d6978527c479a0158245}{uint32}}]{u32\+Val }\end{DoxyParamCaption})}



Definition at line 173 of file nmbus.\+c.


\begin{DoxyCode}
174 \{
175 \textcolor{preprocessor}{#if defined (CONF\_WILC\_USE\_SPI)}
176     \textcolor{keywordflow}{return} \hyperlink{nmspi_8h_a8e4e4efa9b987e6eed4c23b848248a32}{nm\_spi\_write\_reg}(u32Addr,u32Val);
177 \textcolor{preprocessor}{#elif defined (CONF\_WILC\_USE\_I2C)}
178     \textcolor{keywordflow}{return} \hyperlink{nmi2c_8h_a1bd0dd974a31b39146c20717bd6b7991}{nm\_i2c\_write\_reg}(u32Addr,u32Val);
179 \textcolor{preprocessor}{#elif defined (CONF\_WILC\_USE\_SDIO)}
180     \textcolor{keywordflow}{return} \hyperlink{nmsdio_8h_af938772c2d0bfb8e33468fd967b14a47}{nm\_sdio\_write\_reg}(u32Addr,u32Val);
181 \textcolor{preprocessor}{#else}
182 \textcolor{preprocessor}{#error "Please define bus usage"}
183 \textcolor{preprocessor}{#endif}
184 \}
\end{DoxyCode}
\mbox{\Hypertarget{nmbus_8c_a6daa03ed5056fe33cec769edfe20c397}\label{nmbus_8c_a6daa03ed5056fe33cec769edfe20c397}} 
\index{nmbus.\+c@{nmbus.\+c}!p\+\_\+nm\+\_\+read\+\_\+block@{p\+\_\+nm\+\_\+read\+\_\+block}}
\index{p\+\_\+nm\+\_\+read\+\_\+block@{p\+\_\+nm\+\_\+read\+\_\+block}!nmbus.\+c@{nmbus.\+c}}
\subsubsection{\texorpdfstring{p\+\_\+nm\+\_\+read\+\_\+block()}{p\_nm\_read\_block()}}
{\footnotesize\ttfamily static \hyperlink{group__DataT_gae35f10ffd0ac8dd2bc3e794da9bdfbc7}{sint8} p\+\_\+nm\+\_\+read\+\_\+block (\begin{DoxyParamCaption}\item[{\hyperlink{group__DataT_ga100e7c691a47d6978527c479a0158245}{uint32}}]{u32\+Addr,  }\item[{\hyperlink{group__DataT_ga4df709a77647e870bbf1d955b8edc9a6}{uint8} $\ast$}]{pu\+Buf,  }\item[{\hyperlink{group__DataT_ga1daa745171fc6e31d942c161422a76f9}{uint16}}]{u16\+Sz }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 186 of file nmbus.\+c.


\begin{DoxyCode}
187 \{
188 \textcolor{preprocessor}{#if defined (CONF\_WILC\_USE\_SPI)}
189     \textcolor{keywordflow}{return} \hyperlink{nmspi_8h_ac3964a8fd12bc450d1e9ba0c4c8ebe1f}{nm\_spi\_read\_block}(u32Addr,puBuf,u16Sz);
190 \textcolor{preprocessor}{#elif defined (CONF\_WILC\_USE\_I2C)}
191     \textcolor{keywordflow}{return} \hyperlink{nmi2c_8h_a784fe4d1aa8d5786a3f76eddd3f82aea}{nm\_i2c\_read\_block}(u32Addr,puBuf,u16Sz);
192 \textcolor{preprocessor}{#elif defined (CONF\_WILC\_USE\_SDIO)}
193     \textcolor{keywordflow}{return} \hyperlink{nmsdio_8h_a8609825c0874cc10a2c02200e8d39496}{nm\_sdio\_read\_block}(u32Addr,puBuf,u16Sz);
194 \textcolor{preprocessor}{#else}
195 \textcolor{preprocessor}{#error "Please define bus usage"}
196 \textcolor{preprocessor}{#endif}
197 
198 \}
\end{DoxyCode}
\mbox{\Hypertarget{nmbus_8c_a81ed1ef0558d7051509ba9c17b094ac7}\label{nmbus_8c_a81ed1ef0558d7051509ba9c17b094ac7}} 
\index{nmbus.\+c@{nmbus.\+c}!p\+\_\+nm\+\_\+write\+\_\+block@{p\+\_\+nm\+\_\+write\+\_\+block}}
\index{p\+\_\+nm\+\_\+write\+\_\+block@{p\+\_\+nm\+\_\+write\+\_\+block}!nmbus.\+c@{nmbus.\+c}}
\subsubsection{\texorpdfstring{p\+\_\+nm\+\_\+write\+\_\+block()}{p\_nm\_write\_block()}}
{\footnotesize\ttfamily static \hyperlink{group__DataT_gae35f10ffd0ac8dd2bc3e794da9bdfbc7}{sint8} p\+\_\+nm\+\_\+write\+\_\+block (\begin{DoxyParamCaption}\item[{\hyperlink{group__DataT_ga100e7c691a47d6978527c479a0158245}{uint32}}]{u32\+Addr,  }\item[{\hyperlink{group__DataT_ga4df709a77647e870bbf1d955b8edc9a6}{uint8} $\ast$}]{pu\+Buf,  }\item[{\hyperlink{group__DataT_ga1daa745171fc6e31d942c161422a76f9}{uint16}}]{u16\+Sz }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 239 of file nmbus.\+c.


\begin{DoxyCode}
240 \{
241 \textcolor{preprocessor}{#if defined (CONF\_WILC\_USE\_SPI)}
242     \textcolor{keywordflow}{return} \hyperlink{nmspi_8h_a49c8f196f4c41f481a06e359147484ca}{nm\_spi\_write\_block}(u32Addr,puBuf,u16Sz);
243 \textcolor{preprocessor}{#elif defined (CONF\_WILC\_USE\_I2C)}
244     \textcolor{keywordflow}{return} \hyperlink{nmi2c_8h_a510fef9960385b5e33087e28758a9979}{nm\_i2c\_write\_block}(u32Addr,puBuf,u16Sz);
245 \textcolor{preprocessor}{#elif defined (CONF\_WILC\_USE\_SDIO)}
246     \textcolor{keywordflow}{return} \hyperlink{nmsdio_8h_a052714cf52d202d17fc2ce3d5b1c47e0}{nm\_sdio\_write\_block}(u32Addr,puBuf,u16Sz);
247 \textcolor{preprocessor}{#else}
248 \textcolor{preprocessor}{#error "Please define bus usage"}
249 \textcolor{preprocessor}{#endif}
250 
251 \}
\end{DoxyCode}
