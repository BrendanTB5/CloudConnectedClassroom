\hypertarget{demo_2microchip_2pic32mz__ef__curiosity_2wifi__http__server__demo_2src_2debug_8c}{}\section{demo/microchip/pic32mz\+\_\+ef\+\_\+curiosity/wifi\+\_\+http\+\_\+server\+\_\+demo/src/debug.c File Reference}
\label{demo_2microchip_2pic32mz__ef__curiosity_2wifi__http__server__demo_2src_2debug_8c}\index{demo/microchip/pic32mz\+\_\+ef\+\_\+curiosity/wifi\+\_\+http\+\_\+server\+\_\+demo/src/debug.\+c@{demo/microchip/pic32mz\+\_\+ef\+\_\+curiosity/wifi\+\_\+http\+\_\+server\+\_\+demo/src/debug.\+c}}
{\ttfamily \#include $<$p32xxxx.\+h$>$}\newline
{\ttfamily \#include \char`\"{}debug.\+h\char`\"{}}\newline
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{demo_2microchip_2pic32mz__ef__curiosity_2wifi__http__server__demo_2src_2debug_8c_adf5c4bff7199992626f91423e9178b65}{debug\+Init} (\hyperlink{stdint_8h_a435d1572bf3f880d55459d9805097f62}{uint32\+\_\+t} baudrate)
\begin{DoxyCompactList}\small\item\em Debug U\+A\+RT initialization. \end{DoxyCompactList}\item 
void \hyperlink{demo_2microchip_2pic32mz__ef__curiosity_2wifi__http__server__demo_2src_2debug_8c_a677d36098816518430188cb0a0b2bc71}{debug\+Display\+Array} (F\+I\+LE $\ast$stream, const \hyperlink{compiler__port_8h_a40bb5262bf908c328fbcfbe5d29d0201}{char\+\_\+t} $\ast$prepend, const void $\ast$\hyperlink{tftp__common_8h_a5c239a1bb87b52b0f1d6d68c4749cd2a}{data}, size\+\_\+t \hyperlink{ppp_8h_ab2b3adeb2a67e656ff030b56727fd0ac}{length})
\begin{DoxyCompactList}\small\item\em Display the contents of an array. \end{DoxyCompactList}\item 
\hyperlink{compiler__port_8h_a022c65af7f6c8d3947e8a37d64db6ad6}{int\+\_\+t} \hyperlink{demo_2microchip_2pic32mz__ef__curiosity_2wifi__http__server__demo_2src_2debug_8c_a61c59f5945c9c859460377ad6924cfb1}{fputc} (\hyperlink{compiler__port_8h_a022c65af7f6c8d3947e8a37d64db6ad6}{int\+\_\+t} \hyperlink{llmnr__common_8h_a2e5a04327b5658199f0f7bda2acceee1}{c}, F\+I\+LE $\ast$stream)
\begin{DoxyCompactList}\small\item\em Write character to stream. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Function Documentation}
\mbox{\Hypertarget{demo_2microchip_2pic32mz__ef__curiosity_2wifi__http__server__demo_2src_2debug_8c_a677d36098816518430188cb0a0b2bc71}\label{demo_2microchip_2pic32mz__ef__curiosity_2wifi__http__server__demo_2src_2debug_8c_a677d36098816518430188cb0a0b2bc71}} 
\index{demo/microchip/pic32mz\+\_\+ef\+\_\+curiosity/wifi\+\_\+http\+\_\+server\+\_\+demo/src/debug.\+c@{demo/microchip/pic32mz\+\_\+ef\+\_\+curiosity/wifi\+\_\+http\+\_\+server\+\_\+demo/src/debug.\+c}!debug\+Display\+Array@{debug\+Display\+Array}}
\index{debug\+Display\+Array@{debug\+Display\+Array}!demo/microchip/pic32mz\+\_\+ef\+\_\+curiosity/wifi\+\_\+http\+\_\+server\+\_\+demo/src/debug.\+c@{demo/microchip/pic32mz\+\_\+ef\+\_\+curiosity/wifi\+\_\+http\+\_\+server\+\_\+demo/src/debug.\+c}}
\subsubsection{\texorpdfstring{debug\+Display\+Array()}{debugDisplayArray()}}
{\footnotesize\ttfamily void debug\+Display\+Array (\begin{DoxyParamCaption}\item[{F\+I\+LE $\ast$}]{stream,  }\item[{const \hyperlink{compiler__port_8h_a40bb5262bf908c328fbcfbe5d29d0201}{char\+\_\+t} $\ast$}]{prepend,  }\item[{const void $\ast$}]{data,  }\item[{size\+\_\+t}]{length }\end{DoxyParamCaption})}



Display the contents of an array. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em stream} & Pointer to a F\+I\+LE object that identifies an output stream \\
\hline
\mbox{\tt in}  & {\em prepend} & String to prepend to the left of each line \\
\hline
\mbox{\tt in}  & {\em data} & Pointer to the data array \\
\hline
\mbox{\tt in}  & {\em length} & Number of bytes to display \\
\hline
\end{DoxyParams}


Definition at line 95 of file debug.\+c.


\begin{DoxyCode}
97 \{
98    \hyperlink{compiler__port_8h_a12a1e9b3ce141648783a82445d02b58d}{uint\_t} i;
99 
100    \textcolor{keywordflow}{for}(i = 0; i < \hyperlink{dtls__misc_8h_ab43ca82dd7fa2a0e56f941032ef324c4}{length}; i++)
101    \{
102       \textcolor{comment}{//Beginning of a new line?}
103       \textcolor{keywordflow}{if}((i % 16) == 0)
104          fprintf(stream, \textcolor{stringliteral}{"%s"}, prepend);
105       \textcolor{comment}{//Display current data byte}
106       fprintf(stream, \textcolor{stringliteral}{"%02"} PRIX8 \textcolor{stringliteral}{" "}, *((\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t} *) \hyperlink{dtls__misc_8h_a5c239a1bb87b52b0f1d6d68c4749cd2a}{data} + i));
107       \textcolor{comment}{//End of current line?}
108       \textcolor{keywordflow}{if}((i % 16) == 15 || i == (length - 1))
109          fprintf(stream, \textcolor{stringliteral}{"\(\backslash\)r\(\backslash\)n"});
110    \}
111 \}
\end{DoxyCode}
\mbox{\Hypertarget{demo_2microchip_2pic32mz__ef__curiosity_2wifi__http__server__demo_2src_2debug_8c_adf5c4bff7199992626f91423e9178b65}\label{demo_2microchip_2pic32mz__ef__curiosity_2wifi__http__server__demo_2src_2debug_8c_adf5c4bff7199992626f91423e9178b65}} 
\index{demo/microchip/pic32mz\+\_\+ef\+\_\+curiosity/wifi\+\_\+http\+\_\+server\+\_\+demo/src/debug.\+c@{demo/microchip/pic32mz\+\_\+ef\+\_\+curiosity/wifi\+\_\+http\+\_\+server\+\_\+demo/src/debug.\+c}!debug\+Init@{debug\+Init}}
\index{debug\+Init@{debug\+Init}!demo/microchip/pic32mz\+\_\+ef\+\_\+curiosity/wifi\+\_\+http\+\_\+server\+\_\+demo/src/debug.\+c@{demo/microchip/pic32mz\+\_\+ef\+\_\+curiosity/wifi\+\_\+http\+\_\+server\+\_\+demo/src/debug.\+c}}
\subsubsection{\texorpdfstring{debug\+Init()}{debugInit()}}
{\footnotesize\ttfamily void debug\+Init (\begin{DoxyParamCaption}\item[{\hyperlink{stdint_8h_a435d1572bf3f880d55459d9805097f62}{uint32\+\_\+t}}]{baudrate }\end{DoxyParamCaption})}



Debug U\+A\+RT initialization. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em baudrate} & U\+A\+RT baudrate \\
\hline
\end{DoxyParams}


Definition at line 39 of file debug.\+c.


\begin{DoxyCode}
40 \{
41 \textcolor{preprocessor}{#if 0}
42    \textcolor{comment}{//Disable analog pad on U1TX (AN33/RD15)}
43    ANSELDCLR = \_ANSELD\_ANSD15\_MASK;
44 
45    \textcolor{comment}{//Remap U1TX to RPD15}
46    RPD15R = 1;
47    \textcolor{comment}{//Remap U1RX to RPD10}
48    U1RXR = 3;
49 
50    \textcolor{comment}{//Configure UART1 (8 bits, no parity, 1 stop bit)}
51    U1STA = 0;
52    \textcolor{comment}{//Enable high-speed mode}
53    U1MODE = \_U1MODE\_BRGH\_MASK;
54    \textcolor{comment}{//Set baudrate}
55    U1BRG = ((40000000 / 4) / baudrate) - 1;
56 
57    \textcolor{comment}{//Enable UART1}
58    U1MODESET = \_U1MODE\_ON\_MASK;
59    \textcolor{comment}{//Enable transmitter and receiver}
60    U1STASET = \_U1STA\_UTXEN\_MASK | \_U1STA\_URXEN\_MASK;
61 \textcolor{preprocessor}{#else}
62    \textcolor{comment}{//Disable analog pad on U2TX (AN21/RC2)}
63    ANSELCCLR = \_ANSELC\_ANSC2\_MASK;
64    \textcolor{comment}{//Disable analog pad on U2RX (AN20/RC3)}
65    ANSELCCLR = \_ANSELC\_ANSC3\_MASK;
66 
67    \textcolor{comment}{//Remap U2TX to RPC2}
68    RPC2R = 2;
69    \textcolor{comment}{//Remap U2RX to RPC3}
70    U2RXR = 12;
71 
72    \textcolor{comment}{//Configure UART2 (8 bits, no parity, 1 stop bit)}
73    U2STA = 0;
74    \textcolor{comment}{//Enable high-speed mode}
75    U2MODE = \_U2MODE\_BRGH\_MASK;
76    \textcolor{comment}{//Set baudrate}
77    U2BRG = ((40000000 / 4) / baudrate) - 1;
78 
79    \textcolor{comment}{//Enable UART2}
80    U2MODESET = \_U2MODE\_ON\_MASK;
81    \textcolor{comment}{//Enable transmitter and receiver}
82    U2STASET = \_U2STA\_UTXEN\_MASK | \_U2STA\_URXEN\_MASK;
83 \textcolor{preprocessor}{#endif}
84 \}
\end{DoxyCode}
\mbox{\Hypertarget{demo_2microchip_2pic32mz__ef__curiosity_2wifi__http__server__demo_2src_2debug_8c_a61c59f5945c9c859460377ad6924cfb1}\label{demo_2microchip_2pic32mz__ef__curiosity_2wifi__http__server__demo_2src_2debug_8c_a61c59f5945c9c859460377ad6924cfb1}} 
\index{demo/microchip/pic32mz\+\_\+ef\+\_\+curiosity/wifi\+\_\+http\+\_\+server\+\_\+demo/src/debug.\+c@{demo/microchip/pic32mz\+\_\+ef\+\_\+curiosity/wifi\+\_\+http\+\_\+server\+\_\+demo/src/debug.\+c}!fputc@{fputc}}
\index{fputc@{fputc}!demo/microchip/pic32mz\+\_\+ef\+\_\+curiosity/wifi\+\_\+http\+\_\+server\+\_\+demo/src/debug.\+c@{demo/microchip/pic32mz\+\_\+ef\+\_\+curiosity/wifi\+\_\+http\+\_\+server\+\_\+demo/src/debug.\+c}}
\subsubsection{\texorpdfstring{fputc()}{fputc()}}
{\footnotesize\ttfamily \hyperlink{compiler__port_8h_a022c65af7f6c8d3947e8a37d64db6ad6}{int\+\_\+t} fputc (\begin{DoxyParamCaption}\item[{\hyperlink{compiler__port_8h_a022c65af7f6c8d3947e8a37d64db6ad6}{int\+\_\+t}}]{c,  }\item[{F\+I\+LE $\ast$}]{stream }\end{DoxyParamCaption})}



Write character to stream. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em c} & The character to be written \\
\hline
\mbox{\tt in}  & {\em stream} & Pointer to a F\+I\+LE object that identifies an output stream \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
On success, the character written is returned. If a writing error occurs, E\+OF is returned 
\end{DoxyReturn}


Definition at line 122 of file debug.\+c.


\begin{DoxyCode}
123 \{
124    \textcolor{comment}{//Standard output or error output?}
125    \textcolor{keywordflow}{if}(stream == stdout || stream == stderr)
126    \{
127 \textcolor{preprocessor}{#if 0}
128       \textcolor{comment}{//Wait for the transmitter to be ready}
129       \textcolor{keywordflow}{while}(U1STA & \_U1STA\_UTXBF\_MASK);
130       \textcolor{comment}{//Send character}
131       U1TXREG = \hyperlink{aria_8c_a5dadc28804036d1b82e1dc027e95c9a6}{c};
132       \textcolor{comment}{//Wait for the transfer to complete}
133       \textcolor{keywordflow}{while}(!(U1STA & \_U1STA\_TRMT\_MASK));
134 \textcolor{preprocessor}{#else}
135       \textcolor{comment}{//Wait for the transmitter to be ready}
136       \textcolor{keywordflow}{while}(U2STA & \_U2STA\_UTXBF\_MASK);
137       \textcolor{comment}{//Send character}
138       U2TXREG = \hyperlink{aria_8c_a5dadc28804036d1b82e1dc027e95c9a6}{c};
139       \textcolor{comment}{//Wait for the transfer to complete}
140       \textcolor{keywordflow}{while}(!(U2STA & \_U2STA\_TRMT\_MASK));
141 \textcolor{preprocessor}{#endif}
142 
143       \textcolor{comment}{//On success, the character written is returned}
144       \textcolor{keywordflow}{return} \hyperlink{aria_8c_a5dadc28804036d1b82e1dc027e95c9a6}{c};
145    \}
146    \textcolor{comment}{//Unknown output?}
147    \textcolor{keywordflow}{else}
148    \{
149       \textcolor{comment}{//If a writing error occurs, EOF is returned}
150       \textcolor{keywordflow}{return} EOF;
151    \}
152 \}
\end{DoxyCode}
