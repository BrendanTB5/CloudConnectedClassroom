\hypertarget{nm__bus__wrapper_8h}{}\section{third\+\_\+party/atmel/devices/wilc1000/bus\+\_\+wrapper/include/nm\+\_\+bus\+\_\+wrapper.h File Reference}
\label{nm__bus__wrapper_8h}\index{third\+\_\+party/atmel/devices/wilc1000/bus\+\_\+wrapper/include/nm\+\_\+bus\+\_\+wrapper.\+h@{third\+\_\+party/atmel/devices/wilc1000/bus\+\_\+wrapper/include/nm\+\_\+bus\+\_\+wrapper.\+h}}


This module contains W\+I\+LC bus wrapper A\+P\+Is declarations.  


{\ttfamily \#include \char`\"{}common/include/nm\+\_\+common.\+h\char`\"{}}\newline
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structtstrNmBusCapabilities}{tstr\+Nm\+Bus\+Capabilities}
\begin{DoxyCompactList}\small\item\em Structure holding bus capabilities information. \end{DoxyCompactList}\item 
struct \hyperlink{structtstrNmI2cDefault}{tstr\+Nm\+I2c\+Default}
\begin{DoxyCompactList}\small\item\em Structure holding I2C default operation parameters. \end{DoxyCompactList}\item 
struct \hyperlink{structtstrNmI2cSpecial}{tstr\+Nm\+I2c\+Special}
\begin{DoxyCompactList}\small\item\em Structure holding I2C special operation parameters. \end{DoxyCompactList}\item 
struct \hyperlink{structtstrNmSpiRw}{tstr\+Nm\+Spi\+Rw}
\begin{DoxyCompactList}\small\item\em Structure holding S\+PI R/W parameters. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{nm__bus__wrapper_8h_a74c7bf28af2130c00e41d8b32a95f7cb}{N\+M\+\_\+\+B\+U\+S\+\_\+\+T\+Y\+P\+E\+\_\+\+I2C}~((\hyperlink{group__DataT_ga4df709a77647e870bbf1d955b8edc9a6}{uint8})0)
\item 
\#define \hyperlink{nm__bus__wrapper_8h_a669d705177e218ad3ccc8d0ad1130a4a}{N\+M\+\_\+\+B\+U\+S\+\_\+\+T\+Y\+P\+E\+\_\+\+S\+PI}~((\hyperlink{group__DataT_ga4df709a77647e870bbf1d955b8edc9a6}{uint8})1)
\item 
\#define \hyperlink{nm__bus__wrapper_8h_af38b15b5c2263e416ef34018940bfac3}{N\+M\+\_\+\+B\+U\+S\+\_\+\+T\+Y\+P\+E\+\_\+\+S\+D\+IO}~((\hyperlink{group__DataT_ga4df709a77647e870bbf1d955b8edc9a6}{uint8})3)
\item 
\#define \hyperlink{nm__bus__wrapper_8h_addd8de7ba83342e5e5b7f3257c96ca73}{N\+M\+\_\+\+B\+U\+S\+\_\+\+I\+O\+C\+T\+L\+\_\+R}~((\hyperlink{group__DataT_ga4df709a77647e870bbf1d955b8edc9a6}{uint8})0)
\item 
\#define \hyperlink{nm__bus__wrapper_8h_ad75667626720c298a87a21b184f5a82a}{N\+M\+\_\+\+B\+U\+S\+\_\+\+I\+O\+C\+T\+L\+\_\+W}~((\hyperlink{group__DataT_ga4df709a77647e870bbf1d955b8edc9a6}{uint8})1)
\item 
\#define \hyperlink{nm__bus__wrapper_8h_a7fa13881ba1099dbde9b22b6f2e06b5e}{N\+M\+\_\+\+B\+U\+S\+\_\+\+I\+O\+C\+T\+L\+\_\+\+W\+\_\+\+S\+P\+E\+C\+I\+AL}~((\hyperlink{group__DataT_ga4df709a77647e870bbf1d955b8edc9a6}{uint8})2)
\item 
\#define \hyperlink{nm__bus__wrapper_8h_a7c9c01416493afd57406928672066506}{N\+M\+\_\+\+B\+U\+S\+\_\+\+I\+O\+C\+T\+L\+\_\+\+RW}~((\hyperlink{group__DataT_ga4df709a77647e870bbf1d955b8edc9a6}{uint8})3)
\item 
\#define \hyperlink{nm__bus__wrapper_8h_ab6b7be4545f38fae594ac338d837e291}{N\+M\+\_\+\+B\+U\+S\+\_\+\+I\+O\+C\+T\+L\+\_\+\+W\+R\+\_\+\+R\+E\+S\+T\+A\+RT}~((\hyperlink{group__DataT_ga4df709a77647e870bbf1d955b8edc9a6}{uint8})4)
\item 
\#define \hyperlink{nm__bus__wrapper_8h_a8dc39d6d006eb84e00db21df8c05422f}{N\+M\+\_\+\+B\+U\+S\+\_\+\+I\+O\+C\+T\+L\+\_\+\+C\+M\+D\+\_\+52}~((\hyperlink{group__DataT_ga4df709a77647e870bbf1d955b8edc9a6}{uint8})5)
\item 
\#define \hyperlink{nm__bus__wrapper_8h_a0109af2c7f740aca339ea67d1fde0d2c}{N\+M\+\_\+\+B\+U\+S\+\_\+\+I\+O\+C\+T\+L\+\_\+\+C\+M\+D\+\_\+53}~((\hyperlink{group__DataT_ga4df709a77647e870bbf1d955b8edc9a6}{uint8})6)
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{group__DataT_gae35f10ffd0ac8dd2bc3e794da9bdfbc7}{sint8} \hyperlink{nm__bus__wrapper_8h_a49d829741cadeeac4cb2dc64fe5bfd7e}{nm\+\_\+bus\+\_\+init} (void $\ast$)
\begin{DoxyCompactList}\small\item\em S\+PI bus initialization. \end{DoxyCompactList}\item 
\hyperlink{group__DataT_gae35f10ffd0ac8dd2bc3e794da9bdfbc7}{sint8} \hyperlink{nm__bus__wrapper_8h_aa98500dc13748397906e03440fb3892a}{nm\+\_\+bus\+\_\+ioctl} (\hyperlink{group__DataT_ga4df709a77647e870bbf1d955b8edc9a6}{uint8} u8\+Cmd, void $\ast$pv\+Parameter)
\begin{DoxyCompactList}\small\item\em I\+O\+C\+TL command processing. \end{DoxyCompactList}\item 
\hyperlink{group__DataT_gae35f10ffd0ac8dd2bc3e794da9bdfbc7}{sint8} \hyperlink{nm__bus__wrapper_8h_a079140d5aa8c4f896339434c669a44aa}{nm\+\_\+bus\+\_\+deinit} (void)
\begin{DoxyCompactList}\small\item\em De-\/initialize the bus wrapper. \end{DoxyCompactList}\item 
\hyperlink{group__DataT_gae35f10ffd0ac8dd2bc3e794da9bdfbc7}{sint8} \hyperlink{nm__bus__wrapper_8h_a65ee1293ab35f36aa7789f627f278fb5}{nm\+\_\+bus\+\_\+reinit} (void $\ast$config)
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\hyperlink{structtstrNmBusCapabilities}{tstr\+Nm\+Bus\+Capabilities} \hyperlink{nm__bus__wrapper_8h_ae7dfa29166b4111ca6c3e3bab953eb79}{egstr\+Nm\+Bus\+Capabilities}
\begin{DoxyCompactList}\small\item\em Bus capabilities information. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
This module contains W\+I\+LC bus wrapper A\+P\+Is declarations. 

Copyright (c) 2016-\/2018 Microchip Technology Inc. and its subsidiaries.

\subsection{Macro Definition Documentation}
\mbox{\Hypertarget{nm__bus__wrapper_8h_a8dc39d6d006eb84e00db21df8c05422f}\label{nm__bus__wrapper_8h_a8dc39d6d006eb84e00db21df8c05422f}} 
\index{nm\+\_\+bus\+\_\+wrapper.\+h@{nm\+\_\+bus\+\_\+wrapper.\+h}!N\+M\+\_\+\+B\+U\+S\+\_\+\+I\+O\+C\+T\+L\+\_\+\+C\+M\+D\+\_\+52@{N\+M\+\_\+\+B\+U\+S\+\_\+\+I\+O\+C\+T\+L\+\_\+\+C\+M\+D\+\_\+52}}
\index{N\+M\+\_\+\+B\+U\+S\+\_\+\+I\+O\+C\+T\+L\+\_\+\+C\+M\+D\+\_\+52@{N\+M\+\_\+\+B\+U\+S\+\_\+\+I\+O\+C\+T\+L\+\_\+\+C\+M\+D\+\_\+52}!nm\+\_\+bus\+\_\+wrapper.\+h@{nm\+\_\+bus\+\_\+wrapper.\+h}}
\subsubsection{\texorpdfstring{N\+M\+\_\+\+B\+U\+S\+\_\+\+I\+O\+C\+T\+L\+\_\+\+C\+M\+D\+\_\+52}{NM\_BUS\_IOCTL\_CMD\_52}}
{\footnotesize\ttfamily \#define N\+M\+\_\+\+B\+U\+S\+\_\+\+I\+O\+C\+T\+L\+\_\+\+C\+M\+D\+\_\+52~((\hyperlink{group__DataT_ga4df709a77647e870bbf1d955b8edc9a6}{uint8})5)}

Issue S\+D\+IO Command 52. parameter\+:tstr\+Nm\+Sdio\+Cmd52 

Definition at line 61 of file nm\+\_\+bus\+\_\+wrapper.\+h.

\mbox{\Hypertarget{nm__bus__wrapper_8h_a0109af2c7f740aca339ea67d1fde0d2c}\label{nm__bus__wrapper_8h_a0109af2c7f740aca339ea67d1fde0d2c}} 
\index{nm\+\_\+bus\+\_\+wrapper.\+h@{nm\+\_\+bus\+\_\+wrapper.\+h}!N\+M\+\_\+\+B\+U\+S\+\_\+\+I\+O\+C\+T\+L\+\_\+\+C\+M\+D\+\_\+53@{N\+M\+\_\+\+B\+U\+S\+\_\+\+I\+O\+C\+T\+L\+\_\+\+C\+M\+D\+\_\+53}}
\index{N\+M\+\_\+\+B\+U\+S\+\_\+\+I\+O\+C\+T\+L\+\_\+\+C\+M\+D\+\_\+53@{N\+M\+\_\+\+B\+U\+S\+\_\+\+I\+O\+C\+T\+L\+\_\+\+C\+M\+D\+\_\+53}!nm\+\_\+bus\+\_\+wrapper.\+h@{nm\+\_\+bus\+\_\+wrapper.\+h}}
\subsubsection{\texorpdfstring{N\+M\+\_\+\+B\+U\+S\+\_\+\+I\+O\+C\+T\+L\+\_\+\+C\+M\+D\+\_\+53}{NM\_BUS\_IOCTL\_CMD\_53}}
{\footnotesize\ttfamily \#define N\+M\+\_\+\+B\+U\+S\+\_\+\+I\+O\+C\+T\+L\+\_\+\+C\+M\+D\+\_\+53~((\hyperlink{group__DataT_ga4df709a77647e870bbf1d955b8edc9a6}{uint8})6)}

Issue S\+D\+IO Command 53. parameter\+:tstr\+Nm\+Sdio\+Cmd53 

Definition at line 62 of file nm\+\_\+bus\+\_\+wrapper.\+h.

\mbox{\Hypertarget{nm__bus__wrapper_8h_addd8de7ba83342e5e5b7f3257c96ca73}\label{nm__bus__wrapper_8h_addd8de7ba83342e5e5b7f3257c96ca73}} 
\index{nm\+\_\+bus\+\_\+wrapper.\+h@{nm\+\_\+bus\+\_\+wrapper.\+h}!N\+M\+\_\+\+B\+U\+S\+\_\+\+I\+O\+C\+T\+L\+\_\+R@{N\+M\+\_\+\+B\+U\+S\+\_\+\+I\+O\+C\+T\+L\+\_\+R}}
\index{N\+M\+\_\+\+B\+U\+S\+\_\+\+I\+O\+C\+T\+L\+\_\+R@{N\+M\+\_\+\+B\+U\+S\+\_\+\+I\+O\+C\+T\+L\+\_\+R}!nm\+\_\+bus\+\_\+wrapper.\+h@{nm\+\_\+bus\+\_\+wrapper.\+h}}
\subsubsection{\texorpdfstring{N\+M\+\_\+\+B\+U\+S\+\_\+\+I\+O\+C\+T\+L\+\_\+R}{NM\_BUS\_IOCTL\_R}}
{\footnotesize\ttfamily \#define N\+M\+\_\+\+B\+U\+S\+\_\+\+I\+O\+C\+T\+L\+\_\+R~((\hyperlink{group__DataT_ga4df709a77647e870bbf1d955b8edc9a6}{uint8})0)}

I\+O\+C\+TL commands\+Read only ==$>$ I2C. Parameter\+:\hyperlink{structtstrNmI2cDefault}{tstr\+Nm\+I2c\+Default} 

Definition at line 53 of file nm\+\_\+bus\+\_\+wrapper.\+h.

\mbox{\Hypertarget{nm__bus__wrapper_8h_a7c9c01416493afd57406928672066506}\label{nm__bus__wrapper_8h_a7c9c01416493afd57406928672066506}} 
\index{nm\+\_\+bus\+\_\+wrapper.\+h@{nm\+\_\+bus\+\_\+wrapper.\+h}!N\+M\+\_\+\+B\+U\+S\+\_\+\+I\+O\+C\+T\+L\+\_\+\+RW@{N\+M\+\_\+\+B\+U\+S\+\_\+\+I\+O\+C\+T\+L\+\_\+\+RW}}
\index{N\+M\+\_\+\+B\+U\+S\+\_\+\+I\+O\+C\+T\+L\+\_\+\+RW@{N\+M\+\_\+\+B\+U\+S\+\_\+\+I\+O\+C\+T\+L\+\_\+\+RW}!nm\+\_\+bus\+\_\+wrapper.\+h@{nm\+\_\+bus\+\_\+wrapper.\+h}}
\subsubsection{\texorpdfstring{N\+M\+\_\+\+B\+U\+S\+\_\+\+I\+O\+C\+T\+L\+\_\+\+RW}{NM\_BUS\_IOCTL\_RW}}
{\footnotesize\ttfamily \#define N\+M\+\_\+\+B\+U\+S\+\_\+\+I\+O\+C\+T\+L\+\_\+\+RW~((\hyperlink{group__DataT_ga4df709a77647e870bbf1d955b8edc9a6}{uint8})3)}

Read/\+Write at the same time ==$>$ S\+PI only. Parameter\+:\hyperlink{structtstrNmSpiRw}{tstr\+Nm\+Spi\+Rw} 

Definition at line 58 of file nm\+\_\+bus\+\_\+wrapper.\+h.

\mbox{\Hypertarget{nm__bus__wrapper_8h_ad75667626720c298a87a21b184f5a82a}\label{nm__bus__wrapper_8h_ad75667626720c298a87a21b184f5a82a}} 
\index{nm\+\_\+bus\+\_\+wrapper.\+h@{nm\+\_\+bus\+\_\+wrapper.\+h}!N\+M\+\_\+\+B\+U\+S\+\_\+\+I\+O\+C\+T\+L\+\_\+W@{N\+M\+\_\+\+B\+U\+S\+\_\+\+I\+O\+C\+T\+L\+\_\+W}}
\index{N\+M\+\_\+\+B\+U\+S\+\_\+\+I\+O\+C\+T\+L\+\_\+W@{N\+M\+\_\+\+B\+U\+S\+\_\+\+I\+O\+C\+T\+L\+\_\+W}!nm\+\_\+bus\+\_\+wrapper.\+h@{nm\+\_\+bus\+\_\+wrapper.\+h}}
\subsubsection{\texorpdfstring{N\+M\+\_\+\+B\+U\+S\+\_\+\+I\+O\+C\+T\+L\+\_\+W}{NM\_BUS\_IOCTL\_W}}
{\footnotesize\ttfamily \#define N\+M\+\_\+\+B\+U\+S\+\_\+\+I\+O\+C\+T\+L\+\_\+W~((\hyperlink{group__DataT_ga4df709a77647e870bbf1d955b8edc9a6}{uint8})1)}

Write only ==$>$ I2C. Parameter type \hyperlink{structtstrNmI2cDefault}{tstr\+Nm\+I2c\+Default} 

Definition at line 54 of file nm\+\_\+bus\+\_\+wrapper.\+h.

\mbox{\Hypertarget{nm__bus__wrapper_8h_a7fa13881ba1099dbde9b22b6f2e06b5e}\label{nm__bus__wrapper_8h_a7fa13881ba1099dbde9b22b6f2e06b5e}} 
\index{nm\+\_\+bus\+\_\+wrapper.\+h@{nm\+\_\+bus\+\_\+wrapper.\+h}!N\+M\+\_\+\+B\+U\+S\+\_\+\+I\+O\+C\+T\+L\+\_\+\+W\+\_\+\+S\+P\+E\+C\+I\+AL@{N\+M\+\_\+\+B\+U\+S\+\_\+\+I\+O\+C\+T\+L\+\_\+\+W\+\_\+\+S\+P\+E\+C\+I\+AL}}
\index{N\+M\+\_\+\+B\+U\+S\+\_\+\+I\+O\+C\+T\+L\+\_\+\+W\+\_\+\+S\+P\+E\+C\+I\+AL@{N\+M\+\_\+\+B\+U\+S\+\_\+\+I\+O\+C\+T\+L\+\_\+\+W\+\_\+\+S\+P\+E\+C\+I\+AL}!nm\+\_\+bus\+\_\+wrapper.\+h@{nm\+\_\+bus\+\_\+wrapper.\+h}}
\subsubsection{\texorpdfstring{N\+M\+\_\+\+B\+U\+S\+\_\+\+I\+O\+C\+T\+L\+\_\+\+W\+\_\+\+S\+P\+E\+C\+I\+AL}{NM\_BUS\_IOCTL\_W\_SPECIAL}}
{\footnotesize\ttfamily \#define N\+M\+\_\+\+B\+U\+S\+\_\+\+I\+O\+C\+T\+L\+\_\+\+W\+\_\+\+S\+P\+E\+C\+I\+AL~((\hyperlink{group__DataT_ga4df709a77647e870bbf1d955b8edc9a6}{uint8})2)}

Write two buffers within the same transaction (same start/stop conditions) ==$>$ I2C only. Parameter\+:\hyperlink{structtstrNmI2cSpecial}{tstr\+Nm\+I2c\+Special} 

Definition at line 55 of file nm\+\_\+bus\+\_\+wrapper.\+h.

\mbox{\Hypertarget{nm__bus__wrapper_8h_ab6b7be4545f38fae594ac338d837e291}\label{nm__bus__wrapper_8h_ab6b7be4545f38fae594ac338d837e291}} 
\index{nm\+\_\+bus\+\_\+wrapper.\+h@{nm\+\_\+bus\+\_\+wrapper.\+h}!N\+M\+\_\+\+B\+U\+S\+\_\+\+I\+O\+C\+T\+L\+\_\+\+W\+R\+\_\+\+R\+E\+S\+T\+A\+RT@{N\+M\+\_\+\+B\+U\+S\+\_\+\+I\+O\+C\+T\+L\+\_\+\+W\+R\+\_\+\+R\+E\+S\+T\+A\+RT}}
\index{N\+M\+\_\+\+B\+U\+S\+\_\+\+I\+O\+C\+T\+L\+\_\+\+W\+R\+\_\+\+R\+E\+S\+T\+A\+RT@{N\+M\+\_\+\+B\+U\+S\+\_\+\+I\+O\+C\+T\+L\+\_\+\+W\+R\+\_\+\+R\+E\+S\+T\+A\+RT}!nm\+\_\+bus\+\_\+wrapper.\+h@{nm\+\_\+bus\+\_\+wrapper.\+h}}
\subsubsection{\texorpdfstring{N\+M\+\_\+\+B\+U\+S\+\_\+\+I\+O\+C\+T\+L\+\_\+\+W\+R\+\_\+\+R\+E\+S\+T\+A\+RT}{NM\_BUS\_IOCTL\_WR\_RESTART}}
{\footnotesize\ttfamily \#define N\+M\+\_\+\+B\+U\+S\+\_\+\+I\+O\+C\+T\+L\+\_\+\+W\+R\+\_\+\+R\+E\+S\+T\+A\+RT~((\hyperlink{group__DataT_ga4df709a77647e870bbf1d955b8edc9a6}{uint8})4)}

Write buffer then made restart condition then read ==$>$ I2C only. parameter\+:\hyperlink{structtstrNmI2cSpecial}{tstr\+Nm\+I2c\+Special} 

Definition at line 60 of file nm\+\_\+bus\+\_\+wrapper.\+h.

\mbox{\Hypertarget{nm__bus__wrapper_8h_a74c7bf28af2130c00e41d8b32a95f7cb}\label{nm__bus__wrapper_8h_a74c7bf28af2130c00e41d8b32a95f7cb}} 
\index{nm\+\_\+bus\+\_\+wrapper.\+h@{nm\+\_\+bus\+\_\+wrapper.\+h}!N\+M\+\_\+\+B\+U\+S\+\_\+\+T\+Y\+P\+E\+\_\+\+I2C@{N\+M\+\_\+\+B\+U\+S\+\_\+\+T\+Y\+P\+E\+\_\+\+I2C}}
\index{N\+M\+\_\+\+B\+U\+S\+\_\+\+T\+Y\+P\+E\+\_\+\+I2C@{N\+M\+\_\+\+B\+U\+S\+\_\+\+T\+Y\+P\+E\+\_\+\+I2C}!nm\+\_\+bus\+\_\+wrapper.\+h@{nm\+\_\+bus\+\_\+wrapper.\+h}}
\subsubsection{\texorpdfstring{N\+M\+\_\+\+B\+U\+S\+\_\+\+T\+Y\+P\+E\+\_\+\+I2C}{NM\_BUS\_TYPE\_I2C}}
{\footnotesize\ttfamily \#define N\+M\+\_\+\+B\+U\+S\+\_\+\+T\+Y\+P\+E\+\_\+\+I2C~((\hyperlink{group__DataT_ga4df709a77647e870bbf1d955b8edc9a6}{uint8})0)}

B\+US Type 

Definition at line 47 of file nm\+\_\+bus\+\_\+wrapper.\+h.

\mbox{\Hypertarget{nm__bus__wrapper_8h_af38b15b5c2263e416ef34018940bfac3}\label{nm__bus__wrapper_8h_af38b15b5c2263e416ef34018940bfac3}} 
\index{nm\+\_\+bus\+\_\+wrapper.\+h@{nm\+\_\+bus\+\_\+wrapper.\+h}!N\+M\+\_\+\+B\+U\+S\+\_\+\+T\+Y\+P\+E\+\_\+\+S\+D\+IO@{N\+M\+\_\+\+B\+U\+S\+\_\+\+T\+Y\+P\+E\+\_\+\+S\+D\+IO}}
\index{N\+M\+\_\+\+B\+U\+S\+\_\+\+T\+Y\+P\+E\+\_\+\+S\+D\+IO@{N\+M\+\_\+\+B\+U\+S\+\_\+\+T\+Y\+P\+E\+\_\+\+S\+D\+IO}!nm\+\_\+bus\+\_\+wrapper.\+h@{nm\+\_\+bus\+\_\+wrapper.\+h}}
\subsubsection{\texorpdfstring{N\+M\+\_\+\+B\+U\+S\+\_\+\+T\+Y\+P\+E\+\_\+\+S\+D\+IO}{NM\_BUS\_TYPE\_SDIO}}
{\footnotesize\ttfamily \#define N\+M\+\_\+\+B\+U\+S\+\_\+\+T\+Y\+P\+E\+\_\+\+S\+D\+IO~((\hyperlink{group__DataT_ga4df709a77647e870bbf1d955b8edc9a6}{uint8})3)}



Definition at line 49 of file nm\+\_\+bus\+\_\+wrapper.\+h.

\mbox{\Hypertarget{nm__bus__wrapper_8h_a669d705177e218ad3ccc8d0ad1130a4a}\label{nm__bus__wrapper_8h_a669d705177e218ad3ccc8d0ad1130a4a}} 
\index{nm\+\_\+bus\+\_\+wrapper.\+h@{nm\+\_\+bus\+\_\+wrapper.\+h}!N\+M\+\_\+\+B\+U\+S\+\_\+\+T\+Y\+P\+E\+\_\+\+S\+PI@{N\+M\+\_\+\+B\+U\+S\+\_\+\+T\+Y\+P\+E\+\_\+\+S\+PI}}
\index{N\+M\+\_\+\+B\+U\+S\+\_\+\+T\+Y\+P\+E\+\_\+\+S\+PI@{N\+M\+\_\+\+B\+U\+S\+\_\+\+T\+Y\+P\+E\+\_\+\+S\+PI}!nm\+\_\+bus\+\_\+wrapper.\+h@{nm\+\_\+bus\+\_\+wrapper.\+h}}
\subsubsection{\texorpdfstring{N\+M\+\_\+\+B\+U\+S\+\_\+\+T\+Y\+P\+E\+\_\+\+S\+PI}{NM\_BUS\_TYPE\_SPI}}
{\footnotesize\ttfamily \#define N\+M\+\_\+\+B\+U\+S\+\_\+\+T\+Y\+P\+E\+\_\+\+S\+PI~((\hyperlink{group__DataT_ga4df709a77647e870bbf1d955b8edc9a6}{uint8})1)}



Definition at line 48 of file nm\+\_\+bus\+\_\+wrapper.\+h.



\subsection{Function Documentation}
\mbox{\Hypertarget{nm__bus__wrapper_8h_a079140d5aa8c4f896339434c669a44aa}\label{nm__bus__wrapper_8h_a079140d5aa8c4f896339434c669a44aa}} 
\index{nm\+\_\+bus\+\_\+wrapper.\+h@{nm\+\_\+bus\+\_\+wrapper.\+h}!nm\+\_\+bus\+\_\+deinit@{nm\+\_\+bus\+\_\+deinit}}
\index{nm\+\_\+bus\+\_\+deinit@{nm\+\_\+bus\+\_\+deinit}!nm\+\_\+bus\+\_\+wrapper.\+h@{nm\+\_\+bus\+\_\+wrapper.\+h}}
\subsubsection{\texorpdfstring{nm\+\_\+bus\+\_\+deinit()}{nm\_bus\_deinit()}}
{\footnotesize\ttfamily nm\+\_\+bus\+\_\+deinit (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



De-\/initialize the bus wrapper. 

\begin{DoxyReturn}{Returns}
Z\+E\+RO in case of success and M2\+M\+\_\+\+E\+R\+R\+\_\+\+B\+U\+S\+\_\+\+F\+A\+IL in case of failure
\end{DoxyReturn}
De-\/initialize the bus wrapper.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em pvinit} & Unused parameter \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Status code (M2\+M\+\_\+\+S\+U\+C\+C\+E\+SS or M2\+M\+\_\+\+E\+R\+R\+\_\+\+B\+U\+S\+\_\+\+F\+A\+IL) 
\end{DoxyReturn}


Definition at line 214 of file nm\+\_\+bus\+\_\+wrapper\+\_\+pic32mz.\+c.


\begin{DoxyCode}
215 \{
216    \textcolor{comment}{//Not implemented}
217    \textcolor{keywordflow}{return} \hyperlink{nm__common_8h_a9ef27ba27aafdd1aa3a79d3ba2c36b8f}{M2M\_SUCCESS};
218 \}
\end{DoxyCode}
\mbox{\Hypertarget{nm__bus__wrapper_8h_a49d829741cadeeac4cb2dc64fe5bfd7e}\label{nm__bus__wrapper_8h_a49d829741cadeeac4cb2dc64fe5bfd7e}} 
\index{nm\+\_\+bus\+\_\+wrapper.\+h@{nm\+\_\+bus\+\_\+wrapper.\+h}!nm\+\_\+bus\+\_\+init@{nm\+\_\+bus\+\_\+init}}
\index{nm\+\_\+bus\+\_\+init@{nm\+\_\+bus\+\_\+init}!nm\+\_\+bus\+\_\+wrapper.\+h@{nm\+\_\+bus\+\_\+wrapper.\+h}}
\subsubsection{\texorpdfstring{nm\+\_\+bus\+\_\+init()}{nm\_bus\_init()}}
{\footnotesize\ttfamily \hyperlink{group__DataT_gae35f10ffd0ac8dd2bc3e794da9bdfbc7}{sint8} nm\+\_\+bus\+\_\+init (\begin{DoxyParamCaption}\item[{void $\ast$}]{pvinit }\end{DoxyParamCaption})}



S\+PI bus initialization. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em pvinit} & Unused parameter \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Status code (M2\+M\+\_\+\+S\+U\+C\+C\+E\+SS or M2\+M\+\_\+\+E\+R\+R\+\_\+\+B\+U\+S\+\_\+\+F\+A\+IL) 
\end{DoxyReturn}


Definition at line 142 of file nm\+\_\+bus\+\_\+wrapper\+\_\+pic32mz.\+c.


\begin{DoxyCode}
143 \{
144    \hyperlink{group__DataT_ga100e7c691a47d6978527c479a0158245}{uint32} div;
145 
146    \textcolor{comment}{//Configure SCK pin}
147    \hyperlink{wilc1000__config_8h_a8a569bb91f3c7bffc5d90dca6da58276}{CONF\_WILC\_SCK\_INIT}();
148    \textcolor{comment}{//Configure MOSI pin}
149    \hyperlink{wilc1000__config_8h_a200f065c03da766a47cf1dad8f0bc240}{CONF\_WILC\_MOSI\_INIT}();
150    \textcolor{comment}{//Configure MISO pin}
151    \hyperlink{wilc1000__config_8h_ae301773d2baa9edc5154a8e4414109b3}{CONF\_WILC\_MISO\_INIT}();
152 
153    \textcolor{comment}{//Select master mode operation}
154    SPIxCON = \_SPI1CON\_CKE\_MASK | \_SPI1CON\_MSTEN\_MASK;
155    \textcolor{comment}{//Set SCK clock frequency}
156    SPIxBRG = \hyperlink{wilc1000__config_8h_ab29e2f27aa2bd81a6c04012f2952a445}{CONF\_WILC\_SPI\_BRG};
157    \textcolor{comment}{//Enable SPI module}
158    SPIxCONSET = \_SPI1CON\_ON\_MASK;
159 
160    \textcolor{comment}{//Reset WILC1000}
161    \hyperlink{group__NmBspResetFn_ga3e540428a9246a27c61999ecb7e13d05}{nm\_bsp\_reset}();
162 
163    \textcolor{comment}{//Successful operation}
164    \textcolor{keywordflow}{return} \hyperlink{nm__common_8h_a9ef27ba27aafdd1aa3a79d3ba2c36b8f}{M2M\_SUCCESS};
165 \}
\end{DoxyCode}
\mbox{\Hypertarget{nm__bus__wrapper_8h_aa98500dc13748397906e03440fb3892a}\label{nm__bus__wrapper_8h_aa98500dc13748397906e03440fb3892a}} 
\index{nm\+\_\+bus\+\_\+wrapper.\+h@{nm\+\_\+bus\+\_\+wrapper.\+h}!nm\+\_\+bus\+\_\+ioctl@{nm\+\_\+bus\+\_\+ioctl}}
\index{nm\+\_\+bus\+\_\+ioctl@{nm\+\_\+bus\+\_\+ioctl}!nm\+\_\+bus\+\_\+wrapper.\+h@{nm\+\_\+bus\+\_\+wrapper.\+h}}
\subsubsection{\texorpdfstring{nm\+\_\+bus\+\_\+ioctl()}{nm\_bus\_ioctl()}}
{\footnotesize\ttfamily \hyperlink{group__DataT_gae35f10ffd0ac8dd2bc3e794da9bdfbc7}{sint8} nm\+\_\+bus\+\_\+ioctl (\begin{DoxyParamCaption}\item[{\hyperlink{group__DataT_ga4df709a77647e870bbf1d955b8edc9a6}{uint8}}]{u8\+Cmd,  }\item[{void $\ast$}]{pv\+Parameter }\end{DoxyParamCaption})}



I\+O\+C\+TL command processing. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em u8\+Cmd} & Command opcode \\
\hline
\mbox{\tt in}  & {\em pv\+Parameter} & Command parameters \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Status code (M2\+M\+\_\+\+S\+U\+C\+C\+E\+SS or M2\+M\+\_\+\+E\+R\+R\+\_\+\+B\+U\+S\+\_\+\+F\+A\+IL) 
\end{DoxyReturn}


Definition at line 175 of file nm\+\_\+bus\+\_\+wrapper\+\_\+pic32mz.\+c.


\begin{DoxyCode}
176 \{
177    \hyperlink{group__DataT_gae35f10ffd0ac8dd2bc3e794da9bdfbc7}{sint8} ret;
178 \textcolor{preprocessor}{#ifdef CONF\_WILC\_USE\_SPI}
179    \hyperlink{structtstrNmSpiRw}{tstrNmSpiRw} *spiRwParams;
180 \textcolor{preprocessor}{#endif}
181 
182    \textcolor{comment}{//Check commande opcode}
183    \textcolor{keywordflow}{switch}(u8Cmd)
184    \{
185 \textcolor{preprocessor}{#ifdef CONF\_WILC\_USE\_SPI}
186    \textcolor{comment}{//Read/write command?}
187    \textcolor{keywordflow}{case} \hyperlink{nm__bus__wrapper_8h_a7c9c01416493afd57406928672066506}{NM\_BUS\_IOCTL\_RW}:
188       \textcolor{comment}{//Retrieve command parameters}
189       spiRwParams = (\hyperlink{structtstrNmSpiRw}{tstrNmSpiRw} *) pvParameter;
190       \textcolor{comment}{//Perform SPI transfer}
191       ret = \hyperlink{nm__bus__wrapper__pic32mz_8c_ae656e55934eaeffc372287189b5e0d5b}{spi\_rw}(spiRwParams->\hyperlink{structtstrNmSpiRw_aa0a0dd7106812c8af780cb0729e2d1ef}{pu8InBuf}, spiRwParams->\hyperlink{structtstrNmSpiRw_a6778f8ba906b9eb363ac0422fca66dd5}{pu8OutBuf}, spiRwParams->
      \hyperlink{structtstrNmSpiRw_a7daa8262b96cb0543eb9189c65622c72}{u16Sz});
192       \textcolor{keywordflow}{break};
193 \textcolor{preprocessor}{#endif}
194    \textcolor{comment}{//Invalid command?}
195    \textcolor{keywordflow}{default}:
196       \textcolor{comment}{//Debug message}
197       \hyperlink{nm__common_8h_a34d005df494e50b05cd38b80f318d7ac}{M2M\_ERR}(\textcolor{stringliteral}{"Invalid IOCTL command!\(\backslash\)r\(\backslash\)n"});
198       \textcolor{comment}{//Report an error}
199       ret = \hyperlink{nm__common_8h_a1337ea19161996276a331dc168c6b24b}{M2M\_ERR\_BUS\_FAIL};
200       \textcolor{keywordflow}{break};
201    \}
202 
203    \textcolor{comment}{//Return status code}
204    \textcolor{keywordflow}{return} ret;
205 \}
\end{DoxyCode}
\mbox{\Hypertarget{nm__bus__wrapper_8h_a65ee1293ab35f36aa7789f627f278fb5}\label{nm__bus__wrapper_8h_a65ee1293ab35f36aa7789f627f278fb5}} 
\index{nm\+\_\+bus\+\_\+wrapper.\+h@{nm\+\_\+bus\+\_\+wrapper.\+h}!nm\+\_\+bus\+\_\+reinit@{nm\+\_\+bus\+\_\+reinit}}
\index{nm\+\_\+bus\+\_\+reinit@{nm\+\_\+bus\+\_\+reinit}!nm\+\_\+bus\+\_\+wrapper.\+h@{nm\+\_\+bus\+\_\+wrapper.\+h}}
\subsubsection{\texorpdfstring{nm\+\_\+bus\+\_\+reinit()}{nm\_bus\_reinit()}}
{\footnotesize\ttfamily \hyperlink{group__DataT_gae35f10ffd0ac8dd2bc3e794da9bdfbc7}{sint8} nm\+\_\+bus\+\_\+reinit (\begin{DoxyParamCaption}\item[{void $\ast$}]{config }\end{DoxyParamCaption})}



\subsection{Variable Documentation}
\mbox{\Hypertarget{nm__bus__wrapper_8h_ae7dfa29166b4111ca6c3e3bab953eb79}\label{nm__bus__wrapper_8h_ae7dfa29166b4111ca6c3e3bab953eb79}} 
\index{nm\+\_\+bus\+\_\+wrapper.\+h@{nm\+\_\+bus\+\_\+wrapper.\+h}!egstr\+Nm\+Bus\+Capabilities@{egstr\+Nm\+Bus\+Capabilities}}
\index{egstr\+Nm\+Bus\+Capabilities@{egstr\+Nm\+Bus\+Capabilities}!nm\+\_\+bus\+\_\+wrapper.\+h@{nm\+\_\+bus\+\_\+wrapper.\+h}}
\subsubsection{\texorpdfstring{egstr\+Nm\+Bus\+Capabilities}{egstrNmBusCapabilities}}
{\footnotesize\ttfamily \hyperlink{structtstrNmBusCapabilities}{tstr\+Nm\+Bus\+Capabilities} egstr\+Nm\+Bus\+Capabilities}



Bus capabilities information. 

$<$ Bus capabilities. This structure must be declared at platform specific bus wrapper 

Definition at line 83 of file nm\+\_\+bus\+\_\+wrapper\+\_\+pic32mz.\+c.

