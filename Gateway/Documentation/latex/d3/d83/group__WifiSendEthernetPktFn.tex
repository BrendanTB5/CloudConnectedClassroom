\hypertarget{group__WifiSendEthernetPktFn}{}\section{m2m\+\_\+wifi\+\_\+send\+\_\+ethernet\+\_\+pkt}
\label{group__WifiSendEthernetPktFn}\index{m2m\+\_\+wifi\+\_\+send\+\_\+ethernet\+\_\+pkt@{m2m\+\_\+wifi\+\_\+send\+\_\+ethernet\+\_\+pkt}}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{group__BSPDefine_gaecc0323d771e41ef81a76b5f12783e22}{N\+M\+I\+\_\+\+A\+PI} \hyperlink{group__DataT_gae35f10ffd0ac8dd2bc3e794da9bdfbc7}{sint8} \hyperlink{group__WifiSendEthernetPktFn_ga6771776ed3f1c4c60bf51108dc46fa96}{m2m\+\_\+wifi\+\_\+send\+\_\+ethernet\+\_\+pkt} (\hyperlink{group__DataT_ga4df709a77647e870bbf1d955b8edc9a6}{uint8} $\ast$pu8\+Packet, \hyperlink{group__DataT_ga1daa745171fc6e31d942c161422a76f9}{uint16} u16\+Packet\+Size, \hyperlink{group__DataT_ga4df709a77647e870bbf1d955b8edc9a6}{uint8} u8\+Ifc\+Id)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Synchronous function to transmit an Ethernet packet. The implementation of this packet is left to the application developer. The Ethernet packet composition is left to the application developer. 

\subsection{Function Documentation}
\mbox{\Hypertarget{group__WifiSendEthernetPktFn_ga6771776ed3f1c4c60bf51108dc46fa96}\label{group__WifiSendEthernetPktFn_ga6771776ed3f1c4c60bf51108dc46fa96}} 
\index{m2m\+\_\+wifi\+\_\+send\+\_\+ethernet\+\_\+pkt@{m2m\+\_\+wifi\+\_\+send\+\_\+ethernet\+\_\+pkt}!m2m\+\_\+wifi\+\_\+send\+\_\+ethernet\+\_\+pkt@{m2m\+\_\+wifi\+\_\+send\+\_\+ethernet\+\_\+pkt}}
\index{m2m\+\_\+wifi\+\_\+send\+\_\+ethernet\+\_\+pkt@{m2m\+\_\+wifi\+\_\+send\+\_\+ethernet\+\_\+pkt}!m2m\+\_\+wifi\+\_\+send\+\_\+ethernet\+\_\+pkt@{m2m\+\_\+wifi\+\_\+send\+\_\+ethernet\+\_\+pkt}}
\subsubsection{\texorpdfstring{m2m\+\_\+wifi\+\_\+send\+\_\+ethernet\+\_\+pkt()}{m2m\_wifi\_send\_ethernet\_pkt()}}
{\footnotesize\ttfamily \hyperlink{group__BSPDefine_gaecc0323d771e41ef81a76b5f12783e22}{N\+M\+I\+\_\+\+A\+PI} \hyperlink{group__DataT_gae35f10ffd0ac8dd2bc3e794da9bdfbc7}{sint8} m2m\+\_\+wifi\+\_\+send\+\_\+ethernet\+\_\+pkt (\begin{DoxyParamCaption}\item[{\hyperlink{group__DataT_ga4df709a77647e870bbf1d955b8edc9a6}{uint8} $\ast$}]{pu8\+Packet,  }\item[{\hyperlink{group__DataT_ga1daa745171fc6e31d942c161422a76f9}{uint16}}]{u16\+Packet\+Size,  }\item[{\hyperlink{group__DataT_ga4df709a77647e870bbf1d955b8edc9a6}{uint8}}]{u8\+Ifc\+Id }\end{DoxyParamCaption})}



{\ttfamily \#include $<$\hyperlink{m2m__wifi_8h}{third\+\_\+party/atmel/devices/wilc1000/driver/include/m2m\+\_\+wifi.\+h}$>$}


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em pu8\+Packet} & Pointer to a buffer holding the whole Ethernet frame at an offset of M2\+M\+\_\+\+E\+T\+H\+E\+R\+N\+E\+T\+\_\+\+H\+D\+R\+\_\+\+O\+F\+F\+S\+ET + M2\+M\+\_\+\+E\+T\+H\+\_\+\+P\+A\+D\+\_\+\+S\+I\+ZE bytes. This buffer has to be aligned appropriately for D\+MA operations according to the host\textquotesingle{}s constraints (Word Aligned, cache line aligned… etc) \\
\hline
\mbox{\tt in}  & {\em u16\+Packet\+Size} & The size of the whole bytes in packet. \\
\hline
\mbox{\tt in}  & {\em u8\+Ifc\+Id} & The interface selected to send Ethernet packet (A\+P\+\_\+\+I\+N\+T\+E\+R\+F\+A\+CE, S\+T\+A\+T\+I\+O\+N\+\_\+\+I\+N\+T\+E\+R\+F\+A\+CE OR P2\+P\+\_\+\+I\+N\+T\+E\+R\+F\+A\+CE)\\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
Packets are the user\textquotesingle{}s responsibility. 
\end{DoxyNote}
\begin{DoxyReturn}{Returns}
The function returns \hyperlink{nm__common_8h_a9ef27ba27aafdd1aa3a79d3ba2c36b8f}{M2\+M\+\_\+\+S\+U\+C\+C\+E\+SS} for successful operations and a negative value otherwise. 
\end{DoxyReturn}


Definition at line 613 of file m2m\+\_\+wifi.\+c.


\begin{DoxyCode}
614 \{
615     \hyperlink{group__DataT_gae35f10ffd0ac8dd2bc3e794da9bdfbc7}{sint8} s8Ret = -1;
616     \hyperlink{group__DataT_ga1daa745171fc6e31d942c161422a76f9}{uint16} u16TotalPacketSize;
617     
618     \textcolor{keywordflow}{if} ((pu8Packet != \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}) && (u16PacketSize > 0)) 
619     \{
620         \hyperlink{structtstrM2MWifiTxPacketInfo}{tstrM2MWifiTxPacketInfo}* strTxPkt =
621                 (\hyperlink{structtstrM2MWifiTxPacketInfo}{tstrM2MWifiTxPacketInfo}*) (pu8Packet + 
      \hyperlink{m2m__hif_8h_a374fe954dffb43612aa5579e1bb340fe}{M2M\_HIF\_HDR\_OFFSET});
622 
623         strTxPkt->\hyperlink{structtstrM2MWifiTxPacketInfo_a4cd9dd241fe12bc078100cebf1298e20}{u16PacketSize} = \hyperlink{nm__bsp_8h_a22348273616354c0ac8a3de5ce4fb963}{NM\_BSP\_B\_L\_16}(u16PacketSize);
624         strTxPkt->\hyperlink{structtstrM2MWifiTxPacketInfo_a6890b3d90c9578aa3ecaa545fabe5860}{u16HeaderLength} = \hyperlink{nm__bsp_8h_a22348273616354c0ac8a3de5ce4fb963}{NM\_BSP\_B\_L\_16}(
      \hyperlink{group__WlanDefines_ga2e92eed1cebe5e5973b1682baf87d0a3}{M2M\_ETHERNET\_HDR\_LEN});
625         strTxPkt->\hyperlink{structtstrM2MWifiTxPacketInfo_a87f26b61d68dde10573a1b260452bc78}{u8IfcId} = u8IfcId;
626         u16TotalPacketSize = \hyperlink{group__WlanDefines_ga083f2ee97dbde0aea1372d3c0aa18de4}{M2M\_ETHERNET\_HDR\_OFFSET} + 
      \hyperlink{group__WlanDefines_ga3496dd7fbc0c97936dda2e6f9b91fa16}{M2M\_ETH\_PAD\_SIZE} + u16PacketSize;
627         s8Ret = \hyperlink{m2m__hif_8c_a8055cbaa8a24b713f6dcec6e9b721674}{hif\_send\_optimized}(\hyperlink{nm__common_8h_a9ab02eb1aea02a75c3f5aade4eef1276aeb9a7d57324ba4b8a6c2a5f46dd499c2}{M2M\_REQ\_GRP\_WIFI},
628                 (\hyperlink{group__DataT_ga4df709a77647e870bbf1d955b8edc9a6}{uint8})\hyperlink{group__WlanEnums_gga064de09dec1d5e88ed8d075fa40f57dea2e0bbb13559d21540b5862f06ff10ad4}{M2M\_WIFI\_REQ\_SEND\_ETHERNET\_PACKET} | (
      \hyperlink{group__DataT_ga4df709a77647e870bbf1d955b8edc9a6}{uint8})\hyperlink{nm__common_8h_a8f14623395b4e817613140afdf87fe6fa4ba55ee3c10f0b8175bba12f4b39a499}{M2M\_REQ\_DATA\_PKT}, pu8Packet, u16TotalPacketSize);
629     \}
630     \textcolor{keywordflow}{return} s8Ret;
631 \}
\end{DoxyCode}
