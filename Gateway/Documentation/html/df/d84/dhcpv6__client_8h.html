<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Senior Design Gateway: cyclone_tcp/dhcpv6/dhcpv6_client.h File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Senior Design Gateway
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">A HTTP To MQTT Converted for AWS IoT Core.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('df/d84/dhcpv6__client_8h.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">dhcpv6_client.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>DHCPv6 client (Dynamic Host Configuration Protocol for IPv6)  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="../../d1/ddf/dhcpv6__common_8h_source.html">dhcpv6/dhcpv6_common.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../da/ddd/socket_8h_source.html">core/socket.h</a>&quot;</code><br />
</div>
<p><a href="../../df/d84/dhcpv6__client_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dd5/structDhcpv6ClientSettings.html">Dhcpv6ClientSettings</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">DHCPv6 client settings.  <a href="../../dc/dd5/structDhcpv6ClientSettings.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d95/structDhcpv6ClientAddrEntry.html">Dhcpv6ClientAddrEntry</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">IA address entry.  <a href="../../de/d95/structDhcpv6ClientAddrEntry.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d88/structDhcpv6ClientIa.html">Dhcpv6ClientIa</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Client's IA (Identity Association)  <a href="../../d2/d88/structDhcpv6ClientIa.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d22/struct__Dhcpv6ClientContext.html">_Dhcpv6ClientContext</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">DHCPv6 client context.  <a href="../../d6/d22/struct__Dhcpv6ClientContext.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a36db853440cfe25dd5c865b4a832fa59"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#a36db853440cfe25dd5c865b4a832fa59">DHCPV6_CLIENT_SUPPORT</a>&#160;&#160;&#160;<a class="el" href="../../da/d42/os__port_8h.html#abd5c8ab57c190a6522ccdbf0ed7577da">DISABLED</a></td></tr>
<tr class="separator:a36db853440cfe25dd5c865b4a832fa59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b6879b728153909d57ffe075af6c937"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#a2b6879b728153909d57ffe075af6c937">DHCPV6_CLIENT_TICK_INTERVAL</a>&#160;&#160;&#160;200</td></tr>
<tr class="separator:a2b6879b728153909d57ffe075af6c937"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50daf16fa24e452127eef9a801d8f576"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#a50daf16fa24e452127eef9a801d8f576">DHCPV6_CLIENT_ADDR_LIST_SIZE</a>&#160;&#160;&#160;2</td></tr>
<tr class="separator:a50daf16fa24e452127eef9a801d8f576"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec663ebfadf8f576b3b5b2b68b97678e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#aec663ebfadf8f576b3b5b2b68b97678e">DHCPV6_CLIENT_MAX_FQDN_SIZE</a>&#160;&#160;&#160;16</td></tr>
<tr class="separator:aec663ebfadf8f576b3b5b2b68b97678e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31be3a90bd2cbf05e3a9fa5d9a7e4714"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#a31be3a90bd2cbf05e3a9fa5d9a7e4714">DHCPV6_CLIENT_SOL_MAX_DELAY</a>&#160;&#160;&#160;1000</td></tr>
<tr class="separator:a31be3a90bd2cbf05e3a9fa5d9a7e4714"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbc33f7b6178e2c6184b860eb110c19f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#acbc33f7b6178e2c6184b860eb110c19f">DHCPV6_CLIENT_SOL_TIMEOUT</a>&#160;&#160;&#160;1000</td></tr>
<tr class="separator:acbc33f7b6178e2c6184b860eb110c19f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad41aa61ee73646a89f8d4c6a0e10a1f5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#ad41aa61ee73646a89f8d4c6a0e10a1f5">DHCPV6_CLIENT_SOL_MAX_RT</a>&#160;&#160;&#160;120000</td></tr>
<tr class="separator:ad41aa61ee73646a89f8d4c6a0e10a1f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67abc24687165b593936ede41179b085"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#a67abc24687165b593936ede41179b085">DHCPV6_CLIENT_REQ_TIMEOUT</a>&#160;&#160;&#160;1000</td></tr>
<tr class="separator:a67abc24687165b593936ede41179b085"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c48ce238cfd17feca1413d6d1c98f10"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#a4c48ce238cfd17feca1413d6d1c98f10">DHCPV6_CLIENT_REQ_MAX_RT</a>&#160;&#160;&#160;30000</td></tr>
<tr class="separator:a4c48ce238cfd17feca1413d6d1c98f10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ca9925a207409329227b073df86e5c0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#a5ca9925a207409329227b073df86e5c0">DHCPV6_CLIENT_REQ_MAX_RC</a>&#160;&#160;&#160;10</td></tr>
<tr class="separator:a5ca9925a207409329227b073df86e5c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22a23d86625b9e5368c705b81bcff699"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#a22a23d86625b9e5368c705b81bcff699">DHCPV6_CLIENT_CNF_MAX_DELAY</a>&#160;&#160;&#160;1000</td></tr>
<tr class="separator:a22a23d86625b9e5368c705b81bcff699"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa08595ed02f80e2c2e2a0511f2aaab47"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#aa08595ed02f80e2c2e2a0511f2aaab47">DHCPV6_CLIENT_CNF_TIMEOUT</a>&#160;&#160;&#160;1000</td></tr>
<tr class="separator:aa08595ed02f80e2c2e2a0511f2aaab47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac576a1ddff3f7df551ff128cb556855d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#ac576a1ddff3f7df551ff128cb556855d">DHCPV6_CLIENT_CNF_MAX_RT</a>&#160;&#160;&#160;4000</td></tr>
<tr class="separator:ac576a1ddff3f7df551ff128cb556855d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3bcaa11919677bd2606891e2e620cde"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#aa3bcaa11919677bd2606891e2e620cde">DHCPV6_CLIENT_CNF_MAX_RD</a>&#160;&#160;&#160;10000</td></tr>
<tr class="separator:aa3bcaa11919677bd2606891e2e620cde"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a323354f8835b5e4753deb7d83697ae15"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#a323354f8835b5e4753deb7d83697ae15">DHCPV6_CLIENT_REN_TIMEOUT</a>&#160;&#160;&#160;10000</td></tr>
<tr class="separator:a323354f8835b5e4753deb7d83697ae15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1061db03308a1bd7cb801539b90f5f1a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#a1061db03308a1bd7cb801539b90f5f1a">DHCPV6_CLIENT_REN_MAX_RT</a>&#160;&#160;&#160;600000</td></tr>
<tr class="separator:a1061db03308a1bd7cb801539b90f5f1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78d5a54a62135ad6fd8c286b54d6b7ce"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#a78d5a54a62135ad6fd8c286b54d6b7ce">DHCPV6_CLIENT_REB_TIMEOUT</a>&#160;&#160;&#160;10000</td></tr>
<tr class="separator:a78d5a54a62135ad6fd8c286b54d6b7ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50f4069177062750355dcd9b3ee258d3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#a50f4069177062750355dcd9b3ee258d3">DHCPV6_CLIENT_REB_MAX_RT</a>&#160;&#160;&#160;600000</td></tr>
<tr class="separator:a50f4069177062750355dcd9b3ee258d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b19027885901baa017f50e4b8572e56"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#a3b19027885901baa017f50e4b8572e56">DHCPV6_CLIENT_INF_MAX_DELAY</a>&#160;&#160;&#160;1000</td></tr>
<tr class="separator:a3b19027885901baa017f50e4b8572e56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32491f83ec9e5b0a499c272c54d0812f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#a32491f83ec9e5b0a499c272c54d0812f">DHCPV6_CLIENT_INF_TIMEOUT</a>&#160;&#160;&#160;1000</td></tr>
<tr class="separator:a32491f83ec9e5b0a499c272c54d0812f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c75094b7382bb1dec7e37ec8cbbb10d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#a2c75094b7382bb1dec7e37ec8cbbb10d">DHCPV6_CLIENT_INF_MAX_RT</a>&#160;&#160;&#160;120000</td></tr>
<tr class="separator:a2c75094b7382bb1dec7e37ec8cbbb10d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0718db79190a07fc4d88b3784da95e75"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#a0718db79190a07fc4d88b3784da95e75">DHCPV6_CLIENT_REL_TIMEOUT</a>&#160;&#160;&#160;1000</td></tr>
<tr class="separator:a0718db79190a07fc4d88b3784da95e75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1b6b3d7f389412a86cdb91b4d22d701"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#aa1b6b3d7f389412a86cdb91b4d22d701">DHCPV6_CLIENT_REL_MAX_RC</a>&#160;&#160;&#160;5</td></tr>
<tr class="separator:aa1b6b3d7f389412a86cdb91b4d22d701"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8710d99a8e41194acd5c8d086ffbbf47"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#a8710d99a8e41194acd5c8d086ffbbf47">DHCPV6_CLIENT_DEC_TIMEOUT</a>&#160;&#160;&#160;1000</td></tr>
<tr class="separator:a8710d99a8e41194acd5c8d086ffbbf47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad03fb5c71f075424c37c48318c343c2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#aad03fb5c71f075424c37c48318c343c2">DHCPV6_CLIENT_DEC_MAX_RC</a>&#160;&#160;&#160;5</td></tr>
<tr class="separator:aad03fb5c71f075424c37c48318c343c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf71a384c88d17290314e06d408244f5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#adf71a384c88d17290314e06d408244f5">DHCPV6_CLIENT_REC_TIMEOUT</a>&#160;&#160;&#160;2000</td></tr>
<tr class="separator:adf71a384c88d17290314e06d408244f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac95dd43df9025d8fe55802fcc90988c2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#ac95dd43df9025d8fe55802fcc90988c2">DHCPV6_CLIENT_REC_MAX_RC</a>&#160;&#160;&#160;8</td></tr>
<tr class="separator:ac95dd43df9025d8fe55802fcc90988c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac4eb11915c8cf98cce890c9d0270c9b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#aac4eb11915c8cf98cce890c9d0270c9b">Dhcpv6ClientContext</a>&#160;&#160;&#160;struct <a class="el" href="../../d6/d22/struct__Dhcpv6ClientContext.html">_Dhcpv6ClientContext</a></td></tr>
<tr class="separator:aac4eb11915c8cf98cce890c9d0270c9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:afa288458e5e628c6f13cd8823bd8a559"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#afa288458e5e628c6f13cd8823bd8a559">Dhcpv6TimeoutCallback</a>) (<a class="el" href="../../df/d84/dhcpv6__client_8h.html#aac4eb11915c8cf98cce890c9d0270c9b">Dhcpv6ClientContext</a> *context, <a class="el" href="../../d7/d97/net_8h.html#a2234db8911a1148c9159979d8f5e0d6b">NetInterface</a> *interface)</td></tr>
<tr class="memdesc:afa288458e5e628c6f13cd8823bd8a559"><td class="mdescLeft">&#160;</td><td class="mdescRight">DHCPv6 configuration timeout callback.  <a href="#afa288458e5e628c6f13cd8823bd8a559">More...</a><br /></td></tr>
<tr class="separator:afa288458e5e628c6f13cd8823bd8a559"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae518d21ffd3e2e6bcd552774d398dc7d"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#ae518d21ffd3e2e6bcd552774d398dc7d">Dhcpv6LinkChangeCallback</a>) (<a class="el" href="../../df/d84/dhcpv6__client_8h.html#aac4eb11915c8cf98cce890c9d0270c9b">Dhcpv6ClientContext</a> *context, <a class="el" href="../../d7/d97/net_8h.html#a2234db8911a1148c9159979d8f5e0d6b">NetInterface</a> *interface, <a class="el" href="../../d1/dfa/compiler__port_8h.html#a812d16e5494522586b3784e55d479912">bool_t</a> linkState)</td></tr>
<tr class="memdesc:ae518d21ffd3e2e6bcd552774d398dc7d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Link state change callback.  <a href="#ae518d21ffd3e2e6bcd552774d398dc7d">More...</a><br /></td></tr>
<tr class="separator:ae518d21ffd3e2e6bcd552774d398dc7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40ca3757aa5a1b6e7e922eb0533f3b8b"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#a40ca3757aa5a1b6e7e922eb0533f3b8b">Dhcpv6StateChangeCallback</a>) (<a class="el" href="../../df/d84/dhcpv6__client_8h.html#aac4eb11915c8cf98cce890c9d0270c9b">Dhcpv6ClientContext</a> *context, <a class="el" href="../../d7/d97/net_8h.html#a2234db8911a1148c9159979d8f5e0d6b">NetInterface</a> *interface, <a class="el" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9">Dhcpv6State</a> state)</td></tr>
<tr class="memdesc:a40ca3757aa5a1b6e7e922eb0533f3b8b"><td class="mdescLeft">&#160;</td><td class="mdescRight">FSM state change callback.  <a href="#a40ca3757aa5a1b6e7e922eb0533f3b8b">More...</a><br /></td></tr>
<tr class="separator:a40ca3757aa5a1b6e7e922eb0533f3b8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a8610bfd009af9756638a193136ef93f9"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9">Dhcpv6State</a> { <br />
&#160;&#160;<a class="el" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a017951020877623ce2220289f5c93025">DHCPV6_STATE_INIT</a> = 0, 
<a class="el" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a7bc292bbd95a3839b42102e4f5a57e59">DHCPV6_STATE_SOLICIT</a> = 1, 
<a class="el" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a4a75d2c1f2fd8684d2a124721935a7d9">DHCPV6_STATE_REQUEST</a> = 2, 
<a class="el" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a73ca75f9f049c278a5f92b2def686884">DHCPV6_STATE_INIT_CONFIRM</a> = 3, 
<br />
&#160;&#160;<a class="el" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9ac0f1f4819e62f2979a26a3654af7e2fc">DHCPV6_STATE_CONFIRM</a> = 4, 
<a class="el" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a3b351a49eb0882948f1af86701439abd">DHCPV6_STATE_DAD</a> = 5, 
<a class="el" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a49b5f6fffcbc5e9dadbe07ebe2d29535">DHCPV6_STATE_BOUND</a> = 6, 
<a class="el" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a28a33f3446b846dc6ed8b728b23a5b70">DHCPV6_STATE_RENEW</a> = 7, 
<br />
&#160;&#160;<a class="el" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9ae19c57945990feb5d8fd89ae986481b6">DHCPV6_STATE_REBIND</a> = 8, 
<a class="el" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a5c7dfad4462eb1ae1b609e1800f1dc93">DHCPV6_STATE_RELEASE</a> = 9, 
<a class="el" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a198862c17ecac221d19b82f793b5fff8">DHCPV6_STATE_DECLINE</a> = 10
<br />
 }<tr class="memdesc:a8610bfd009af9756638a193136ef93f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">DHCPv6 client FSM states.  <a href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:a8610bfd009af9756638a193136ef93f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a4b7c727b671107febadf4731a332bdf2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#a4b7c727b671107febadf4731a332bdf2">dhcpv6ClientGetDefaultSettings</a> (<a class="el" href="../../dc/dd5/structDhcpv6ClientSettings.html">Dhcpv6ClientSettings</a> *settings)</td></tr>
<tr class="memdesc:a4b7c727b671107febadf4731a332bdf2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize settings with default values.  <a href="#a4b7c727b671107febadf4731a332bdf2">More...</a><br /></td></tr>
<tr class="separator:a4b7c727b671107febadf4731a332bdf2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af04f903341a262d1adddbd8e878ed0e5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689c">error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#af04f903341a262d1adddbd8e878ed0e5">dhcpv6ClientInit</a> (<a class="el" href="../../df/d84/dhcpv6__client_8h.html#aac4eb11915c8cf98cce890c9d0270c9b">Dhcpv6ClientContext</a> *context, const <a class="el" href="../../dc/dd5/structDhcpv6ClientSettings.html">Dhcpv6ClientSettings</a> *settings)</td></tr>
<tr class="memdesc:af04f903341a262d1adddbd8e878ed0e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">DHCPv6 client initialization.  <a href="#af04f903341a262d1adddbd8e878ed0e5">More...</a><br /></td></tr>
<tr class="separator:af04f903341a262d1adddbd8e878ed0e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb9e48f60c43f6fb4c800c16a3efde2b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689c">error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#acb9e48f60c43f6fb4c800c16a3efde2b">dhcpv6ClientStart</a> (<a class="el" href="../../df/d84/dhcpv6__client_8h.html#aac4eb11915c8cf98cce890c9d0270c9b">Dhcpv6ClientContext</a> *context)</td></tr>
<tr class="memdesc:acb9e48f60c43f6fb4c800c16a3efde2b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start DHCPv6 client.  <a href="#acb9e48f60c43f6fb4c800c16a3efde2b">More...</a><br /></td></tr>
<tr class="separator:acb9e48f60c43f6fb4c800c16a3efde2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ad0aeb8db19ae4b1be0285f365dffae"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689c">error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#a1ad0aeb8db19ae4b1be0285f365dffae">dhcpv6ClientStop</a> (<a class="el" href="../../df/d84/dhcpv6__client_8h.html#aac4eb11915c8cf98cce890c9d0270c9b">Dhcpv6ClientContext</a> *context)</td></tr>
<tr class="memdesc:a1ad0aeb8db19ae4b1be0285f365dffae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop DHCPv6 client.  <a href="#a1ad0aeb8db19ae4b1be0285f365dffae">More...</a><br /></td></tr>
<tr class="separator:a1ad0aeb8db19ae4b1be0285f365dffae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d922f9224e11d928ee215334f7f8a99"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689c">error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#a0d922f9224e11d928ee215334f7f8a99">dhcpv6ClientRelease</a> (<a class="el" href="../../df/d84/dhcpv6__client_8h.html#aac4eb11915c8cf98cce890c9d0270c9b">Dhcpv6ClientContext</a> *context)</td></tr>
<tr class="memdesc:a0d922f9224e11d928ee215334f7f8a99"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release DHCPv6 lease.  <a href="#a0d922f9224e11d928ee215334f7f8a99">More...</a><br /></td></tr>
<tr class="separator:a0d922f9224e11d928ee215334f7f8a99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa4bae0b8198fb1a32bfb99bb9577797"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9">Dhcpv6State</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#aaa4bae0b8198fb1a32bfb99bb9577797">dhcpv6ClientGetState</a> (<a class="el" href="../../df/d84/dhcpv6__client_8h.html#aac4eb11915c8cf98cce890c9d0270c9b">Dhcpv6ClientContext</a> *context)</td></tr>
<tr class="memdesc:aaa4bae0b8198fb1a32bfb99bb9577797"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve current state.  <a href="#aaa4bae0b8198fb1a32bfb99bb9577797">More...</a><br /></td></tr>
<tr class="separator:aaa4bae0b8198fb1a32bfb99bb9577797"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0856bc5fef6b68be0c8780ab0b25ae5c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#a0856bc5fef6b68be0c8780ab0b25ae5c">dhcpv6ClientTick</a> (<a class="el" href="../../df/d84/dhcpv6__client_8h.html#aac4eb11915c8cf98cce890c9d0270c9b">Dhcpv6ClientContext</a> *context)</td></tr>
<tr class="memdesc:a0856bc5fef6b68be0c8780ab0b25ae5c"><td class="mdescLeft">&#160;</td><td class="mdescRight">DHCPv6 client timer handler.  <a href="#a0856bc5fef6b68be0c8780ab0b25ae5c">More...</a><br /></td></tr>
<tr class="separator:a0856bc5fef6b68be0c8780ab0b25ae5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9061e440105f4e3ec613078afe8c7fd8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#a9061e440105f4e3ec613078afe8c7fd8">dhcpv6ClientLinkChangeEvent</a> (<a class="el" href="../../df/d84/dhcpv6__client_8h.html#aac4eb11915c8cf98cce890c9d0270c9b">Dhcpv6ClientContext</a> *context)</td></tr>
<tr class="memdesc:a9061e440105f4e3ec613078afe8c7fd8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback function for link change event.  <a href="#a9061e440105f4e3ec613078afe8c7fd8">More...</a><br /></td></tr>
<tr class="separator:a9061e440105f4e3ec613078afe8c7fd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a68a2c66db4634e60cf22402db2d1c8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#a3a68a2c66db4634e60cf22402db2d1c8">dhcpv6ClientStateInit</a> (<a class="el" href="../../df/d84/dhcpv6__client_8h.html#aac4eb11915c8cf98cce890c9d0270c9b">Dhcpv6ClientContext</a> *context)</td></tr>
<tr class="memdesc:a3a68a2c66db4634e60cf22402db2d1c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">INIT state.  <a href="#a3a68a2c66db4634e60cf22402db2d1c8">More...</a><br /></td></tr>
<tr class="separator:a3a68a2c66db4634e60cf22402db2d1c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f8b9540189d50995763ccef0e89037b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#a3f8b9540189d50995763ccef0e89037b">dhcpv6ClientStateSolicit</a> (<a class="el" href="../../df/d84/dhcpv6__client_8h.html#aac4eb11915c8cf98cce890c9d0270c9b">Dhcpv6ClientContext</a> *context)</td></tr>
<tr class="memdesc:a3f8b9540189d50995763ccef0e89037b"><td class="mdescLeft">&#160;</td><td class="mdescRight">SOLICIT state.  <a href="#a3f8b9540189d50995763ccef0e89037b">More...</a><br /></td></tr>
<tr class="separator:a3f8b9540189d50995763ccef0e89037b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa24ccb150ee9615fb89b5dae52b709c5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#aa24ccb150ee9615fb89b5dae52b709c5">dhcpv6ClientStateRequest</a> (<a class="el" href="../../df/d84/dhcpv6__client_8h.html#aac4eb11915c8cf98cce890c9d0270c9b">Dhcpv6ClientContext</a> *context)</td></tr>
<tr class="memdesc:aa24ccb150ee9615fb89b5dae52b709c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">REQUEST state.  <a href="#aa24ccb150ee9615fb89b5dae52b709c5">More...</a><br /></td></tr>
<tr class="separator:aa24ccb150ee9615fb89b5dae52b709c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc0bcc17a308c4015f93d1413efe6cdc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#acc0bcc17a308c4015f93d1413efe6cdc">dhcpv6ClientStateInitConfirm</a> (<a class="el" href="../../df/d84/dhcpv6__client_8h.html#aac4eb11915c8cf98cce890c9d0270c9b">Dhcpv6ClientContext</a> *context)</td></tr>
<tr class="memdesc:acc0bcc17a308c4015f93d1413efe6cdc"><td class="mdescLeft">&#160;</td><td class="mdescRight">INIT-CONFIRM state.  <a href="#acc0bcc17a308c4015f93d1413efe6cdc">More...</a><br /></td></tr>
<tr class="separator:acc0bcc17a308c4015f93d1413efe6cdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a003a5c770aeaf0c5df2bb69afb28e36f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#a003a5c770aeaf0c5df2bb69afb28e36f">dhcpv6ClientStateConfirm</a> (<a class="el" href="../../df/d84/dhcpv6__client_8h.html#aac4eb11915c8cf98cce890c9d0270c9b">Dhcpv6ClientContext</a> *context)</td></tr>
<tr class="memdesc:a003a5c770aeaf0c5df2bb69afb28e36f"><td class="mdescLeft">&#160;</td><td class="mdescRight">CONFIRM state.  <a href="#a003a5c770aeaf0c5df2bb69afb28e36f">More...</a><br /></td></tr>
<tr class="separator:a003a5c770aeaf0c5df2bb69afb28e36f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0a432f4acd640a42a731407c81fc6c5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#ac0a432f4acd640a42a731407c81fc6c5">dhcpv6ClientStateDad</a> (<a class="el" href="../../df/d84/dhcpv6__client_8h.html#aac4eb11915c8cf98cce890c9d0270c9b">Dhcpv6ClientContext</a> *context)</td></tr>
<tr class="memdesc:ac0a432f4acd640a42a731407c81fc6c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">DAD state.  <a href="#ac0a432f4acd640a42a731407c81fc6c5">More...</a><br /></td></tr>
<tr class="separator:ac0a432f4acd640a42a731407c81fc6c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b7bf9e3e3893c66b1d11f9b1cd8173b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#a5b7bf9e3e3893c66b1d11f9b1cd8173b">dhcpv6ClientStateBound</a> (<a class="el" href="../../df/d84/dhcpv6__client_8h.html#aac4eb11915c8cf98cce890c9d0270c9b">Dhcpv6ClientContext</a> *context)</td></tr>
<tr class="memdesc:a5b7bf9e3e3893c66b1d11f9b1cd8173b"><td class="mdescLeft">&#160;</td><td class="mdescRight">BOUND state.  <a href="#a5b7bf9e3e3893c66b1d11f9b1cd8173b">More...</a><br /></td></tr>
<tr class="separator:a5b7bf9e3e3893c66b1d11f9b1cd8173b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06d1754aad1293f116e268a803f7b9b3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#a06d1754aad1293f116e268a803f7b9b3">dhcpv6ClientStateRenew</a> (<a class="el" href="../../df/d84/dhcpv6__client_8h.html#aac4eb11915c8cf98cce890c9d0270c9b">Dhcpv6ClientContext</a> *context)</td></tr>
<tr class="memdesc:a06d1754aad1293f116e268a803f7b9b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">RENEW state.  <a href="#a06d1754aad1293f116e268a803f7b9b3">More...</a><br /></td></tr>
<tr class="separator:a06d1754aad1293f116e268a803f7b9b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09565760718a3fd8534b6213870106c5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#a09565760718a3fd8534b6213870106c5">dhcpv6ClientStateRebind</a> (<a class="el" href="../../df/d84/dhcpv6__client_8h.html#aac4eb11915c8cf98cce890c9d0270c9b">Dhcpv6ClientContext</a> *context)</td></tr>
<tr class="memdesc:a09565760718a3fd8534b6213870106c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">REBIND state.  <a href="#a09565760718a3fd8534b6213870106c5">More...</a><br /></td></tr>
<tr class="separator:a09565760718a3fd8534b6213870106c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a471ff743a2f7f0ba114d24e21b094207"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#a471ff743a2f7f0ba114d24e21b094207">dhcpv6ClientStateRelease</a> (<a class="el" href="../../df/d84/dhcpv6__client_8h.html#aac4eb11915c8cf98cce890c9d0270c9b">Dhcpv6ClientContext</a> *context)</td></tr>
<tr class="memdesc:a471ff743a2f7f0ba114d24e21b094207"><td class="mdescLeft">&#160;</td><td class="mdescRight">RELEASE state.  <a href="#a471ff743a2f7f0ba114d24e21b094207">More...</a><br /></td></tr>
<tr class="separator:a471ff743a2f7f0ba114d24e21b094207"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a270893a7e759dc1cbbdbf29e4fabd653"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#a270893a7e759dc1cbbdbf29e4fabd653">dhcpv6ClientStateDecline</a> (<a class="el" href="../../df/d84/dhcpv6__client_8h.html#aac4eb11915c8cf98cce890c9d0270c9b">Dhcpv6ClientContext</a> *context)</td></tr>
<tr class="memdesc:a270893a7e759dc1cbbdbf29e4fabd653"><td class="mdescLeft">&#160;</td><td class="mdescRight">DECLINE state.  <a href="#a270893a7e759dc1cbbdbf29e4fabd653">More...</a><br /></td></tr>
<tr class="separator:a270893a7e759dc1cbbdbf29e4fabd653"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac17d0545676651d297bedbd242ab2289"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689c">error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#ac17d0545676651d297bedbd242ab2289">dhcpv6ClientSendMessage</a> (<a class="el" href="../../df/d84/dhcpv6__client_8h.html#aac4eb11915c8cf98cce890c9d0270c9b">Dhcpv6ClientContext</a> *context, <a class="el" href="../../d1/ddf/dhcpv6__common_8h.html#aeca9d54a4001e239844ff0245aaedf6c">Dhcpv6MessageType</a> <a class="el" href="../../d8/dca/ppp_8h.html#a1d127017fb298b889f4ba24752d08b8e">type</a>)</td></tr>
<tr class="memdesc:ac17d0545676651d297bedbd242ab2289"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send Solicit message.  <a href="#ac17d0545676651d297bedbd242ab2289">More...</a><br /></td></tr>
<tr class="separator:ac17d0545676651d297bedbd242ab2289"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc731e16386b5bb776b7acbbe58ea2b8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#acc731e16386b5bb776b7acbbe58ea2b8">dhcpv6ClientProcessMessage</a> (<a class="el" href="../../d7/d97/net_8h.html#a2234db8911a1148c9159979d8f5e0d6b">NetInterface</a> *interface, const <a class="el" href="../../dd/d39/structIpPseudoHeader.html">IpPseudoHeader</a> *pseudoHeader, const <a class="el" href="../../d2/da7/udp_8h.html#a6877bae1da8326482f5e311875e52bce">UdpHeader</a> *udpHeader, const <a class="el" href="../../d3/dca/structNetBuffer.html">NetBuffer</a> *buffer, size_t <a class="el" href="../../d9/ddb/pic32mz_2isr__support_8h.html#ac0542d92dfcd62c19170fd963f9e5052">offset</a>, void *param)</td></tr>
<tr class="memdesc:acc731e16386b5bb776b7acbbe58ea2b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process incoming DHCPv6 message.  <a href="#acc731e16386b5bb776b7acbbe58ea2b8">More...</a><br /></td></tr>
<tr class="separator:acc731e16386b5bb776b7acbbe58ea2b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0a83fe8f0c247ae596f245e727c56cd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#ac0a83fe8f0c247ae596f245e727c56cd">dhcpv6ClientParseAdvertise</a> (<a class="el" href="../../df/d84/dhcpv6__client_8h.html#aac4eb11915c8cf98cce890c9d0270c9b">Dhcpv6ClientContext</a> *context, const <a class="el" href="../../d1/ddf/dhcpv6__common_8h.html#a32f2f44ec9a8d2ee5e2977a7fcddaf85">Dhcpv6Message</a> *<a class="el" href="../../de/df0/pap_8h.html#a52f19d36a71e9b8ddea38fe00c291181">message</a>, size_t <a class="el" href="../../d8/dca/ppp_8h.html#ab2b3adeb2a67e656ff030b56727fd0ac">length</a>)</td></tr>
<tr class="memdesc:ac0a83fe8f0c247ae596f245e727c56cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse Advertise message.  <a href="#ac0a83fe8f0c247ae596f245e727c56cd">More...</a><br /></td></tr>
<tr class="separator:ac0a83fe8f0c247ae596f245e727c56cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae47455838efddde0bce836e13249c2d0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#ae47455838efddde0bce836e13249c2d0">dhcpv6ClientParseReply</a> (<a class="el" href="../../df/d84/dhcpv6__client_8h.html#aac4eb11915c8cf98cce890c9d0270c9b">Dhcpv6ClientContext</a> *context, const <a class="el" href="../../d1/ddf/dhcpv6__common_8h.html#a32f2f44ec9a8d2ee5e2977a7fcddaf85">Dhcpv6Message</a> *<a class="el" href="../../de/df0/pap_8h.html#a52f19d36a71e9b8ddea38fe00c291181">message</a>, size_t <a class="el" href="../../d8/dca/ppp_8h.html#ab2b3adeb2a67e656ff030b56727fd0ac">length</a>)</td></tr>
<tr class="memdesc:ae47455838efddde0bce836e13249c2d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse Reply message.  <a href="#ae47455838efddde0bce836e13249c2d0">More...</a><br /></td></tr>
<tr class="separator:ae47455838efddde0bce836e13249c2d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad68a947419af81c6e478eaa92ae7680e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689c">error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#ad68a947419af81c6e478eaa92ae7680e">dhcpv6ClientParseIaNaOption</a> (<a class="el" href="../../df/d84/dhcpv6__client_8h.html#aac4eb11915c8cf98cce890c9d0270c9b">Dhcpv6ClientContext</a> *context, const <a class="el" href="../../d1/ddf/dhcpv6__common_8h.html#a89f7acb5d12dede28c2b98290018051e">Dhcpv6Option</a> *option)</td></tr>
<tr class="memdesc:ad68a947419af81c6e478eaa92ae7680e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse IA_NA option.  <a href="#ad68a947419af81c6e478eaa92ae7680e">More...</a><br /></td></tr>
<tr class="separator:ad68a947419af81c6e478eaa92ae7680e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9bbd88ba30bd504ed516714177e2b1d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689c">error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#ac9bbd88ba30bd504ed516714177e2b1d">dhcpv6ClientParseIaAddrOption</a> (<a class="el" href="../../df/d84/dhcpv6__client_8h.html#aac4eb11915c8cf98cce890c9d0270c9b">Dhcpv6ClientContext</a> *context, const <a class="el" href="../../d1/ddf/dhcpv6__common_8h.html#a89f7acb5d12dede28c2b98290018051e">Dhcpv6Option</a> *option)</td></tr>
<tr class="memdesc:ac9bbd88ba30bd504ed516714177e2b1d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse IA Address option.  <a href="#ac9bbd88ba30bd504ed516714177e2b1d">More...</a><br /></td></tr>
<tr class="separator:ac9bbd88ba30bd504ed516714177e2b1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38390e93bf1378cd3b58f09e58912de3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#a38390e93bf1378cd3b58f09e58912de3">dhcpv6ClientAddAddr</a> (<a class="el" href="../../df/d84/dhcpv6__client_8h.html#aac4eb11915c8cf98cce890c9d0270c9b">Dhcpv6ClientContext</a> *context, const <a class="el" href="../../d3/ddd/ipv6_8h.html#aed0cbc40c61ed5b4fb681ebc55237e89">Ipv6Addr</a> *<a class="el" href="../../d9/d42/nbns__common_8h.html#ac597eaa9711dfbc34f49d506132e85cd">addr</a>, <a class="el" href="../../df/dd8/stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="el" href="../../d3/d8d/ndp_8h.html#a5a204ed3be422255e9aa086573667e11">validLifetime</a>, <a class="el" href="../../df/dd8/stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="el" href="../../d3/d8d/ndp_8h.html#a40bac1e80f1005d8d5045ec837d1429b">preferredLifetime</a>)</td></tr>
<tr class="memdesc:a38390e93bf1378cd3b58f09e58912de3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add an IPv6 address to the IA.  <a href="#a38390e93bf1378cd3b58f09e58912de3">More...</a><br /></td></tr>
<tr class="separator:a38390e93bf1378cd3b58f09e58912de3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a960a1cdb90a7bd9abbf9d2a5bd70fa8d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#a960a1cdb90a7bd9abbf9d2a5bd70fa8d">dhcpv6ClientRemoveAddr</a> (<a class="el" href="../../df/d84/dhcpv6__client_8h.html#aac4eb11915c8cf98cce890c9d0270c9b">Dhcpv6ClientContext</a> *context, const <a class="el" href="../../d3/ddd/ipv6_8h.html#aed0cbc40c61ed5b4fb681ebc55237e89">Ipv6Addr</a> *<a class="el" href="../../d9/d42/nbns__common_8h.html#ac597eaa9711dfbc34f49d506132e85cd">addr</a>)</td></tr>
<tr class="memdesc:a960a1cdb90a7bd9abbf9d2a5bd70fa8d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove an IPv6 address from the IA.  <a href="#a960a1cdb90a7bd9abbf9d2a5bd70fa8d">More...</a><br /></td></tr>
<tr class="separator:a960a1cdb90a7bd9abbf9d2a5bd70fa8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab03f421bf4324e1426814302b4ef320a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#ab03f421bf4324e1426814302b4ef320a">dhcpv6ClientFlushAddrList</a> (<a class="el" href="../../df/d84/dhcpv6__client_8h.html#aac4eb11915c8cf98cce890c9d0270c9b">Dhcpv6ClientContext</a> *context)</td></tr>
<tr class="memdesc:ab03f421bf4324e1426814302b4ef320a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flush the list of IPv6 addresses from the IA.  <a href="#ab03f421bf4324e1426814302b4ef320a">More...</a><br /></td></tr>
<tr class="separator:ab03f421bf4324e1426814302b4ef320a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebf29ea2ff641b03c1736f386c63e268"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689c">error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#aebf29ea2ff641b03c1736f386c63e268">dhcpv6ClientGenerateDuid</a> (<a class="el" href="../../df/d84/dhcpv6__client_8h.html#aac4eb11915c8cf98cce890c9d0270c9b">Dhcpv6ClientContext</a> *context)</td></tr>
<tr class="memdesc:aebf29ea2ff641b03c1736f386c63e268"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate client's DUID.  <a href="#aebf29ea2ff641b03c1736f386c63e268">More...</a><br /></td></tr>
<tr class="separator:aebf29ea2ff641b03c1736f386c63e268"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8759e1d2cf5b1556bfa3d972e70e67e1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689c">error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#a8759e1d2cf5b1556bfa3d972e70e67e1">dhcpv6ClientGenerateFqdn</a> (<a class="el" href="../../df/d84/dhcpv6__client_8h.html#aac4eb11915c8cf98cce890c9d0270c9b">Dhcpv6ClientContext</a> *context)</td></tr>
<tr class="memdesc:a8759e1d2cf5b1556bfa3d972e70e67e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate client's fully qualified domain name.  <a href="#a8759e1d2cf5b1556bfa3d972e70e67e1">More...</a><br /></td></tr>
<tr class="separator:a8759e1d2cf5b1556bfa3d972e70e67e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e2ede14d583dbc040aeecc01b262ec2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689c">error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#a0e2ede14d583dbc040aeecc01b262ec2">dhcpv6ClientGenerateLinkLocalAddr</a> (<a class="el" href="../../df/d84/dhcpv6__client_8h.html#aac4eb11915c8cf98cce890c9d0270c9b">Dhcpv6ClientContext</a> *context)</td></tr>
<tr class="memdesc:a0e2ede14d583dbc040aeecc01b262ec2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate a link-local address.  <a href="#a0e2ede14d583dbc040aeecc01b262ec2">More...</a><br /></td></tr>
<tr class="separator:a0e2ede14d583dbc040aeecc01b262ec2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad527db35497d30d495444948bfd93ca7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/dfa/compiler__port_8h.html#a812d16e5494522586b3784e55d479912">bool_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#ad527db35497d30d495444948bfd93ca7">dhcpv6ClientCheckServerId</a> (<a class="el" href="../../df/d84/dhcpv6__client_8h.html#aac4eb11915c8cf98cce890c9d0270c9b">Dhcpv6ClientContext</a> *context, <a class="el" href="../../d1/ddf/dhcpv6__common_8h.html#a89f7acb5d12dede28c2b98290018051e">Dhcpv6Option</a> *serverIdOption)</td></tr>
<tr class="memdesc:ad527db35497d30d495444948bfd93ca7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check the Server Identifier option.  <a href="#ad527db35497d30d495444948bfd93ca7">More...</a><br /></td></tr>
<tr class="separator:ad527db35497d30d495444948bfd93ca7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa81ea43e74b44c4bb1c376ee7ddd28b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#aaa81ea43e74b44c4bb1c376ee7ddd28b">dhcpv6ClientCheckTimeout</a> (<a class="el" href="../../df/d84/dhcpv6__client_8h.html#aac4eb11915c8cf98cce890c9d0270c9b">Dhcpv6ClientContext</a> *context)</td></tr>
<tr class="memdesc:aaa81ea43e74b44c4bb1c376ee7ddd28b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Manage DHCPv6 configuration timeout.  <a href="#aaa81ea43e74b44c4bb1c376ee7ddd28b">More...</a><br /></td></tr>
<tr class="separator:aaa81ea43e74b44c4bb1c376ee7ddd28b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c0b3763ac06274d8b68eb5126fb51c8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/dd8/stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#a0c0b3763ac06274d8b68eb5126fb51c8">dhcpv6ClientComputeElapsedTime</a> (<a class="el" href="../../df/d84/dhcpv6__client_8h.html#aac4eb11915c8cf98cce890c9d0270c9b">Dhcpv6ClientContext</a> *context)</td></tr>
<tr class="memdesc:a0c0b3763ac06274d8b68eb5126fb51c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute the time elapsed since the client sent the first message.  <a href="#a0c0b3763ac06274d8b68eb5126fb51c8">More...</a><br /></td></tr>
<tr class="separator:a0c0b3763ac06274d8b68eb5126fb51c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafd32758fb24f5bc2267ad372f06545d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#aafd32758fb24f5bc2267ad372f06545d">dhcpv6ClientChangeState</a> (<a class="el" href="../../df/d84/dhcpv6__client_8h.html#aac4eb11915c8cf98cce890c9d0270c9b">Dhcpv6ClientContext</a> *context, <a class="el" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9">Dhcpv6State</a> newState, <a class="el" href="../../d1/dfa/compiler__port_8h.html#ae3e32a98d431a02106616da3071832dd">systime_t</a> delay)</td></tr>
<tr class="memdesc:aafd32758fb24f5bc2267ad372f06545d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update DHCPv6 FSM state.  <a href="#aafd32758fb24f5bc2267ad372f06545d">More...</a><br /></td></tr>
<tr class="separator:aafd32758fb24f5bc2267ad372f06545d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a883f4820eaaff34776c31c99c300e3ef"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#a883f4820eaaff34776c31c99c300e3ef">dhcpv6ClientDumpConfig</a> (<a class="el" href="../../df/d84/dhcpv6__client_8h.html#aac4eb11915c8cf98cce890c9d0270c9b">Dhcpv6ClientContext</a> *context)</td></tr>
<tr class="memdesc:a883f4820eaaff34776c31c99c300e3ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dump DHCPv6 configuration for debugging purpose.  <a href="#a883f4820eaaff34776c31c99c300e3ef">More...</a><br /></td></tr>
<tr class="separator:a883f4820eaaff34776c31c99c300e3ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a0ad2c17a8d547e75d579b9763ace80bb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/dfa/compiler__port_8h.html#ae3e32a98d431a02106616da3071832dd">systime_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#a0ad2c17a8d547e75d579b9763ace80bb">dhcpv6ClientTickCounter</a></td></tr>
<tr class="separator:a0ad2c17a8d547e75d579b9763ace80bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>DHCPv6 client (Dynamic Host Configuration Protocol for IPv6) </p>
<h1><a class="anchor" id="License"></a>
License</h1>
<p>SPDX-License-Identifier: GPL-2.0-or-later</p>
<p>Copyright (C) 2010-2019 Oryx Embedded SARL. All rights reserved.</p>
<p>This file is part of CycloneTCP Open.</p>
<p>This program is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation; either version 2 of the License, or (at your option) any later version.</p>
<p>This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</p>
<p>You should have received a copy of the GNU General Public License along with this program; if not, write to the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.</p>
<dl class="section author"><dt>Author</dt><dd>Oryx Embedded SARL (www.oryx-embedded.com) </dd></dl>
<dl class="section version"><dt>Version</dt><dd>1.9.6 </dd></dl>

<p class="definition">Definition in file <a class="el" href="../../df/d84/dhcpv6__client_8h_source.html">dhcpv6_client.h</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a50daf16fa24e452127eef9a801d8f576"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50daf16fa24e452127eef9a801d8f576">&#9670;&nbsp;</a></span>DHCPV6_CLIENT_ADDR_LIST_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DHCPV6_CLIENT_ADDR_LIST_SIZE&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d84/dhcpv6__client_8h_source.html#l00054">54</a> of file <a class="el" href="../../df/d84/dhcpv6__client_8h_source.html">dhcpv6_client.h</a>.</p>

</div>
</div>
<a id="a22a23d86625b9e5368c705b81bcff699"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22a23d86625b9e5368c705b81bcff699">&#9670;&nbsp;</a></span>DHCPV6_CLIENT_CNF_MAX_DELAY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DHCPV6_CLIENT_CNF_MAX_DELAY&#160;&#160;&#160;1000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d84/dhcpv6__client_8h_source.html#l00110">110</a> of file <a class="el" href="../../df/d84/dhcpv6__client_8h_source.html">dhcpv6_client.h</a>.</p>

</div>
</div>
<a id="aa3bcaa11919677bd2606891e2e620cde"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3bcaa11919677bd2606891e2e620cde">&#9670;&nbsp;</a></span>DHCPV6_CLIENT_CNF_MAX_RD</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DHCPV6_CLIENT_CNF_MAX_RD&#160;&#160;&#160;10000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d84/dhcpv6__client_8h_source.html#l00131">131</a> of file <a class="el" href="../../df/d84/dhcpv6__client_8h_source.html">dhcpv6_client.h</a>.</p>

</div>
</div>
<a id="ac576a1ddff3f7df551ff128cb556855d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac576a1ddff3f7df551ff128cb556855d">&#9670;&nbsp;</a></span>DHCPV6_CLIENT_CNF_MAX_RT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DHCPV6_CLIENT_CNF_MAX_RT&#160;&#160;&#160;4000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d84/dhcpv6__client_8h_source.html#l00124">124</a> of file <a class="el" href="../../df/d84/dhcpv6__client_8h_source.html">dhcpv6_client.h</a>.</p>

</div>
</div>
<a id="aa08595ed02f80e2c2e2a0511f2aaab47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa08595ed02f80e2c2e2a0511f2aaab47">&#9670;&nbsp;</a></span>DHCPV6_CLIENT_CNF_TIMEOUT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DHCPV6_CLIENT_CNF_TIMEOUT&#160;&#160;&#160;1000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d84/dhcpv6__client_8h_source.html#l00117">117</a> of file <a class="el" href="../../df/d84/dhcpv6__client_8h_source.html">dhcpv6_client.h</a>.</p>

</div>
</div>
<a id="aad03fb5c71f075424c37c48318c343c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad03fb5c71f075424c37c48318c343c2">&#9670;&nbsp;</a></span>DHCPV6_CLIENT_DEC_MAX_RC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DHCPV6_CLIENT_DEC_MAX_RC&#160;&#160;&#160;5</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d84/dhcpv6__client_8h_source.html#l00208">208</a> of file <a class="el" href="../../df/d84/dhcpv6__client_8h_source.html">dhcpv6_client.h</a>.</p>

</div>
</div>
<a id="a8710d99a8e41194acd5c8d086ffbbf47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8710d99a8e41194acd5c8d086ffbbf47">&#9670;&nbsp;</a></span>DHCPV6_CLIENT_DEC_TIMEOUT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DHCPV6_CLIENT_DEC_TIMEOUT&#160;&#160;&#160;1000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d84/dhcpv6__client_8h_source.html#l00201">201</a> of file <a class="el" href="../../df/d84/dhcpv6__client_8h_source.html">dhcpv6_client.h</a>.</p>

</div>
</div>
<a id="a3b19027885901baa017f50e4b8572e56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b19027885901baa017f50e4b8572e56">&#9670;&nbsp;</a></span>DHCPV6_CLIENT_INF_MAX_DELAY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DHCPV6_CLIENT_INF_MAX_DELAY&#160;&#160;&#160;1000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d84/dhcpv6__client_8h_source.html#l00166">166</a> of file <a class="el" href="../../df/d84/dhcpv6__client_8h_source.html">dhcpv6_client.h</a>.</p>

</div>
</div>
<a id="a2c75094b7382bb1dec7e37ec8cbbb10d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c75094b7382bb1dec7e37ec8cbbb10d">&#9670;&nbsp;</a></span>DHCPV6_CLIENT_INF_MAX_RT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DHCPV6_CLIENT_INF_MAX_RT&#160;&#160;&#160;120000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d84/dhcpv6__client_8h_source.html#l00180">180</a> of file <a class="el" href="../../df/d84/dhcpv6__client_8h_source.html">dhcpv6_client.h</a>.</p>

</div>
</div>
<a id="a32491f83ec9e5b0a499c272c54d0812f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32491f83ec9e5b0a499c272c54d0812f">&#9670;&nbsp;</a></span>DHCPV6_CLIENT_INF_TIMEOUT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DHCPV6_CLIENT_INF_TIMEOUT&#160;&#160;&#160;1000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d84/dhcpv6__client_8h_source.html#l00173">173</a> of file <a class="el" href="../../df/d84/dhcpv6__client_8h_source.html">dhcpv6_client.h</a>.</p>

</div>
</div>
<a id="aec663ebfadf8f576b3b5b2b68b97678e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec663ebfadf8f576b3b5b2b68b97678e">&#9670;&nbsp;</a></span>DHCPV6_CLIENT_MAX_FQDN_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DHCPV6_CLIENT_MAX_FQDN_SIZE&#160;&#160;&#160;16</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d84/dhcpv6__client_8h_source.html#l00061">61</a> of file <a class="el" href="../../df/d84/dhcpv6__client_8h_source.html">dhcpv6_client.h</a>.</p>

</div>
</div>
<a id="a50f4069177062750355dcd9b3ee258d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50f4069177062750355dcd9b3ee258d3">&#9670;&nbsp;</a></span>DHCPV6_CLIENT_REB_MAX_RT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DHCPV6_CLIENT_REB_MAX_RT&#160;&#160;&#160;600000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d84/dhcpv6__client_8h_source.html#l00159">159</a> of file <a class="el" href="../../df/d84/dhcpv6__client_8h_source.html">dhcpv6_client.h</a>.</p>

</div>
</div>
<a id="a78d5a54a62135ad6fd8c286b54d6b7ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78d5a54a62135ad6fd8c286b54d6b7ce">&#9670;&nbsp;</a></span>DHCPV6_CLIENT_REB_TIMEOUT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DHCPV6_CLIENT_REB_TIMEOUT&#160;&#160;&#160;10000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d84/dhcpv6__client_8h_source.html#l00152">152</a> of file <a class="el" href="../../df/d84/dhcpv6__client_8h_source.html">dhcpv6_client.h</a>.</p>

</div>
</div>
<a id="ac95dd43df9025d8fe55802fcc90988c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac95dd43df9025d8fe55802fcc90988c2">&#9670;&nbsp;</a></span>DHCPV6_CLIENT_REC_MAX_RC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DHCPV6_CLIENT_REC_MAX_RC&#160;&#160;&#160;8</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d84/dhcpv6__client_8h_source.html#l00222">222</a> of file <a class="el" href="../../df/d84/dhcpv6__client_8h_source.html">dhcpv6_client.h</a>.</p>

</div>
</div>
<a id="adf71a384c88d17290314e06d408244f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf71a384c88d17290314e06d408244f5">&#9670;&nbsp;</a></span>DHCPV6_CLIENT_REC_TIMEOUT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DHCPV6_CLIENT_REC_TIMEOUT&#160;&#160;&#160;2000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d84/dhcpv6__client_8h_source.html#l00215">215</a> of file <a class="el" href="../../df/d84/dhcpv6__client_8h_source.html">dhcpv6_client.h</a>.</p>

</div>
</div>
<a id="aa1b6b3d7f389412a86cdb91b4d22d701"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1b6b3d7f389412a86cdb91b4d22d701">&#9670;&nbsp;</a></span>DHCPV6_CLIENT_REL_MAX_RC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DHCPV6_CLIENT_REL_MAX_RC&#160;&#160;&#160;5</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d84/dhcpv6__client_8h_source.html#l00194">194</a> of file <a class="el" href="../../df/d84/dhcpv6__client_8h_source.html">dhcpv6_client.h</a>.</p>

</div>
</div>
<a id="a0718db79190a07fc4d88b3784da95e75"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0718db79190a07fc4d88b3784da95e75">&#9670;&nbsp;</a></span>DHCPV6_CLIENT_REL_TIMEOUT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DHCPV6_CLIENT_REL_TIMEOUT&#160;&#160;&#160;1000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d84/dhcpv6__client_8h_source.html#l00187">187</a> of file <a class="el" href="../../df/d84/dhcpv6__client_8h_source.html">dhcpv6_client.h</a>.</p>

</div>
</div>
<a id="a1061db03308a1bd7cb801539b90f5f1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1061db03308a1bd7cb801539b90f5f1a">&#9670;&nbsp;</a></span>DHCPV6_CLIENT_REN_MAX_RT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DHCPV6_CLIENT_REN_MAX_RT&#160;&#160;&#160;600000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d84/dhcpv6__client_8h_source.html#l00145">145</a> of file <a class="el" href="../../df/d84/dhcpv6__client_8h_source.html">dhcpv6_client.h</a>.</p>

</div>
</div>
<a id="a323354f8835b5e4753deb7d83697ae15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a323354f8835b5e4753deb7d83697ae15">&#9670;&nbsp;</a></span>DHCPV6_CLIENT_REN_TIMEOUT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DHCPV6_CLIENT_REN_TIMEOUT&#160;&#160;&#160;10000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d84/dhcpv6__client_8h_source.html#l00138">138</a> of file <a class="el" href="../../df/d84/dhcpv6__client_8h_source.html">dhcpv6_client.h</a>.</p>

</div>
</div>
<a id="a5ca9925a207409329227b073df86e5c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ca9925a207409329227b073df86e5c0">&#9670;&nbsp;</a></span>DHCPV6_CLIENT_REQ_MAX_RC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DHCPV6_CLIENT_REQ_MAX_RC&#160;&#160;&#160;10</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d84/dhcpv6__client_8h_source.html#l00103">103</a> of file <a class="el" href="../../df/d84/dhcpv6__client_8h_source.html">dhcpv6_client.h</a>.</p>

</div>
</div>
<a id="a4c48ce238cfd17feca1413d6d1c98f10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c48ce238cfd17feca1413d6d1c98f10">&#9670;&nbsp;</a></span>DHCPV6_CLIENT_REQ_MAX_RT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DHCPV6_CLIENT_REQ_MAX_RT&#160;&#160;&#160;30000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d84/dhcpv6__client_8h_source.html#l00096">96</a> of file <a class="el" href="../../df/d84/dhcpv6__client_8h_source.html">dhcpv6_client.h</a>.</p>

</div>
</div>
<a id="a67abc24687165b593936ede41179b085"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67abc24687165b593936ede41179b085">&#9670;&nbsp;</a></span>DHCPV6_CLIENT_REQ_TIMEOUT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DHCPV6_CLIENT_REQ_TIMEOUT&#160;&#160;&#160;1000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d84/dhcpv6__client_8h_source.html#l00089">89</a> of file <a class="el" href="../../df/d84/dhcpv6__client_8h_source.html">dhcpv6_client.h</a>.</p>

</div>
</div>
<a id="a31be3a90bd2cbf05e3a9fa5d9a7e4714"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31be3a90bd2cbf05e3a9fa5d9a7e4714">&#9670;&nbsp;</a></span>DHCPV6_CLIENT_SOL_MAX_DELAY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DHCPV6_CLIENT_SOL_MAX_DELAY&#160;&#160;&#160;1000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d84/dhcpv6__client_8h_source.html#l00068">68</a> of file <a class="el" href="../../df/d84/dhcpv6__client_8h_source.html">dhcpv6_client.h</a>.</p>

</div>
</div>
<a id="ad41aa61ee73646a89f8d4c6a0e10a1f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad41aa61ee73646a89f8d4c6a0e10a1f5">&#9670;&nbsp;</a></span>DHCPV6_CLIENT_SOL_MAX_RT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DHCPV6_CLIENT_SOL_MAX_RT&#160;&#160;&#160;120000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d84/dhcpv6__client_8h_source.html#l00082">82</a> of file <a class="el" href="../../df/d84/dhcpv6__client_8h_source.html">dhcpv6_client.h</a>.</p>

</div>
</div>
<a id="acbc33f7b6178e2c6184b860eb110c19f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbc33f7b6178e2c6184b860eb110c19f">&#9670;&nbsp;</a></span>DHCPV6_CLIENT_SOL_TIMEOUT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DHCPV6_CLIENT_SOL_TIMEOUT&#160;&#160;&#160;1000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d84/dhcpv6__client_8h_source.html#l00075">75</a> of file <a class="el" href="../../df/d84/dhcpv6__client_8h_source.html">dhcpv6_client.h</a>.</p>

</div>
</div>
<a id="a36db853440cfe25dd5c865b4a832fa59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36db853440cfe25dd5c865b4a832fa59">&#9670;&nbsp;</a></span>DHCPV6_CLIENT_SUPPORT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DHCPV6_CLIENT_SUPPORT&#160;&#160;&#160;<a class="el" href="../../da/d42/os__port_8h.html#abd5c8ab57c190a6522ccdbf0ed7577da">DISABLED</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d84/dhcpv6__client_8h_source.html#l00040">40</a> of file <a class="el" href="../../df/d84/dhcpv6__client_8h_source.html">dhcpv6_client.h</a>.</p>

</div>
</div>
<a id="a2b6879b728153909d57ffe075af6c937"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b6879b728153909d57ffe075af6c937">&#9670;&nbsp;</a></span>DHCPV6_CLIENT_TICK_INTERVAL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DHCPV6_CLIENT_TICK_INTERVAL&#160;&#160;&#160;200</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d84/dhcpv6__client_8h_source.html#l00047">47</a> of file <a class="el" href="../../df/d84/dhcpv6__client_8h_source.html">dhcpv6_client.h</a>.</p>

</div>
</div>
<a id="aac4eb11915c8cf98cce890c9d0270c9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac4eb11915c8cf98cce890c9d0270c9b">&#9670;&nbsp;</a></span>Dhcpv6ClientContext</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define Dhcpv6ClientContext&#160;&#160;&#160;struct <a class="el" href="../../d6/d22/struct__Dhcpv6ClientContext.html">_Dhcpv6ClientContext</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d84/dhcpv6__client_8h_source.html#l00229">229</a> of file <a class="el" href="../../df/d84/dhcpv6__client_8h_source.html">dhcpv6_client.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ae518d21ffd3e2e6bcd552774d398dc7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae518d21ffd3e2e6bcd552774d398dc7d">&#9670;&nbsp;</a></span>Dhcpv6LinkChangeCallback</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* Dhcpv6LinkChangeCallback) (<a class="el" href="../../df/d84/dhcpv6__client_8h.html#aac4eb11915c8cf98cce890c9d0270c9b">Dhcpv6ClientContext</a> *context, <a class="el" href="../../d7/d97/net_8h.html#a2234db8911a1148c9159979d8f5e0d6b">NetInterface</a> *interface, <a class="el" href="../../d1/dfa/compiler__port_8h.html#a812d16e5494522586b3784e55d479912">bool_t</a> linkState)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Link state change callback. </p>

<p class="definition">Definition at line <a class="el" href="../../df/d84/dhcpv6__client_8h_source.html#l00269">269</a> of file <a class="el" href="../../df/d84/dhcpv6__client_8h_source.html">dhcpv6_client.h</a>.</p>

</div>
</div>
<a id="a40ca3757aa5a1b6e7e922eb0533f3b8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40ca3757aa5a1b6e7e922eb0533f3b8b">&#9670;&nbsp;</a></span>Dhcpv6StateChangeCallback</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* Dhcpv6StateChangeCallback) (<a class="el" href="../../df/d84/dhcpv6__client_8h.html#aac4eb11915c8cf98cce890c9d0270c9b">Dhcpv6ClientContext</a> *context, <a class="el" href="../../d7/d97/net_8h.html#a2234db8911a1148c9159979d8f5e0d6b">NetInterface</a> *interface, <a class="el" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9">Dhcpv6State</a> state)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>FSM state change callback. </p>

<p class="definition">Definition at line <a class="el" href="../../df/d84/dhcpv6__client_8h_source.html#l00277">277</a> of file <a class="el" href="../../df/d84/dhcpv6__client_8h_source.html">dhcpv6_client.h</a>.</p>

</div>
</div>
<a id="afa288458e5e628c6f13cd8823bd8a559"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa288458e5e628c6f13cd8823bd8a559">&#9670;&nbsp;</a></span>Dhcpv6TimeoutCallback</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* Dhcpv6TimeoutCallback) (<a class="el" href="../../df/d84/dhcpv6__client_8h.html#aac4eb11915c8cf98cce890c9d0270c9b">Dhcpv6ClientContext</a> *context, <a class="el" href="../../d7/d97/net_8h.html#a2234db8911a1148c9159979d8f5e0d6b">NetInterface</a> *interface)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>DHCPv6 configuration timeout callback. </p>

<p class="definition">Definition at line <a class="el" href="../../df/d84/dhcpv6__client_8h_source.html#l00261">261</a> of file <a class="el" href="../../df/d84/dhcpv6__client_8h_source.html">dhcpv6_client.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a8610bfd009af9756638a193136ef93f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8610bfd009af9756638a193136ef93f9">&#9670;&nbsp;</a></span>Dhcpv6State</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9">Dhcpv6State</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>DHCPv6 client FSM states. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a8610bfd009af9756638a193136ef93f9a017951020877623ce2220289f5c93025"></a>DHCPV6_STATE_INIT&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a8610bfd009af9756638a193136ef93f9a7bc292bbd95a3839b42102e4f5a57e59"></a>DHCPV6_STATE_SOLICIT&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a8610bfd009af9756638a193136ef93f9a4a75d2c1f2fd8684d2a124721935a7d9"></a>DHCPV6_STATE_REQUEST&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a8610bfd009af9756638a193136ef93f9a73ca75f9f049c278a5f92b2def686884"></a>DHCPV6_STATE_INIT_CONFIRM&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a8610bfd009af9756638a193136ef93f9ac0f1f4819e62f2979a26a3654af7e2fc"></a>DHCPV6_STATE_CONFIRM&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a8610bfd009af9756638a193136ef93f9a3b351a49eb0882948f1af86701439abd"></a>DHCPV6_STATE_DAD&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a8610bfd009af9756638a193136ef93f9a49b5f6fffcbc5e9dadbe07ebe2d29535"></a>DHCPV6_STATE_BOUND&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a8610bfd009af9756638a193136ef93f9a28a33f3446b846dc6ed8b728b23a5b70"></a>DHCPV6_STATE_RENEW&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a8610bfd009af9756638a193136ef93f9ae19c57945990feb5d8fd89ae986481b6"></a>DHCPV6_STATE_REBIND&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a8610bfd009af9756638a193136ef93f9a5c7dfad4462eb1ae1b609e1800f1dc93"></a>DHCPV6_STATE_RELEASE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a8610bfd009af9756638a193136ef93f9a198862c17ecac221d19b82f793b5fff8"></a>DHCPV6_STATE_DECLINE&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../df/d84/dhcpv6__client_8h_source.html#l00241">241</a> of file <a class="el" href="../../df/d84/dhcpv6__client_8h_source.html">dhcpv6_client.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;{</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;   <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a017951020877623ce2220289f5c93025">DHCPV6_STATE_INIT</a>         = 0,</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;   <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a7bc292bbd95a3839b42102e4f5a57e59">DHCPV6_STATE_SOLICIT</a>      = 1,</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;   <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a4a75d2c1f2fd8684d2a124721935a7d9">DHCPV6_STATE_REQUEST</a>      = 2,</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;   <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a73ca75f9f049c278a5f92b2def686884">DHCPV6_STATE_INIT_CONFIRM</a> = 3,</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;   <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9ac0f1f4819e62f2979a26a3654af7e2fc">DHCPV6_STATE_CONFIRM</a>      = 4,</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;   <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a3b351a49eb0882948f1af86701439abd">DHCPV6_STATE_DAD</a>          = 5,</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;   <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a49b5f6fffcbc5e9dadbe07ebe2d29535">DHCPV6_STATE_BOUND</a>        = 6,</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;   <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a28a33f3446b846dc6ed8b728b23a5b70">DHCPV6_STATE_RENEW</a>        = 7,</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;   <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9ae19c57945990feb5d8fd89ae986481b6">DHCPV6_STATE_REBIND</a>       = 8,</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;   <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a5c7dfad4462eb1ae1b609e1800f1dc93">DHCPV6_STATE_RELEASE</a>      = 9,</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;   <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a198862c17ecac221d19b82f793b5fff8">DHCPV6_STATE_DECLINE</a>      = 10</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;} <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9">Dhcpv6State</a>;</div><div class="ttc" id="dhcpv6__client_8h_html_a8610bfd009af9756638a193136ef93f9a5c7dfad4462eb1ae1b609e1800f1dc93"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a5c7dfad4462eb1ae1b609e1800f1dc93">DHCPV6_STATE_RELEASE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00252">dhcpv6_client.h:252</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_a8610bfd009af9756638a193136ef93f9a7bc292bbd95a3839b42102e4f5a57e59"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a7bc292bbd95a3839b42102e4f5a57e59">DHCPV6_STATE_SOLICIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00244">dhcpv6_client.h:244</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_a8610bfd009af9756638a193136ef93f9a73ca75f9f049c278a5f92b2def686884"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a73ca75f9f049c278a5f92b2def686884">DHCPV6_STATE_INIT_CONFIRM</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00246">dhcpv6_client.h:246</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_a8610bfd009af9756638a193136ef93f9a4a75d2c1f2fd8684d2a124721935a7d9"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a4a75d2c1f2fd8684d2a124721935a7d9">DHCPV6_STATE_REQUEST</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00245">dhcpv6_client.h:245</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_a8610bfd009af9756638a193136ef93f9a49b5f6fffcbc5e9dadbe07ebe2d29535"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a49b5f6fffcbc5e9dadbe07ebe2d29535">DHCPV6_STATE_BOUND</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00249">dhcpv6_client.h:249</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_a8610bfd009af9756638a193136ef93f9a017951020877623ce2220289f5c93025"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a017951020877623ce2220289f5c93025">DHCPV6_STATE_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00243">dhcpv6_client.h:243</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_a8610bfd009af9756638a193136ef93f9"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9">Dhcpv6State</a></div><div class="ttdeci">Dhcpv6State</div><div class="ttdoc">DHCPv6 client FSM states. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00241">dhcpv6_client.h:241</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_a8610bfd009af9756638a193136ef93f9a198862c17ecac221d19b82f793b5fff8"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a198862c17ecac221d19b82f793b5fff8">DHCPV6_STATE_DECLINE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00253">dhcpv6_client.h:253</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_a8610bfd009af9756638a193136ef93f9ae19c57945990feb5d8fd89ae986481b6"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9ae19c57945990feb5d8fd89ae986481b6">DHCPV6_STATE_REBIND</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00251">dhcpv6_client.h:251</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_a8610bfd009af9756638a193136ef93f9ac0f1f4819e62f2979a26a3654af7e2fc"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9ac0f1f4819e62f2979a26a3654af7e2fc">DHCPV6_STATE_CONFIRM</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00247">dhcpv6_client.h:247</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_a8610bfd009af9756638a193136ef93f9a3b351a49eb0882948f1af86701439abd"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a3b351a49eb0882948f1af86701439abd">DHCPV6_STATE_DAD</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00248">dhcpv6_client.h:248</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_a8610bfd009af9756638a193136ef93f9a28a33f3446b846dc6ed8b728b23a5b70"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a28a33f3446b846dc6ed8b728b23a5b70">DHCPV6_STATE_RENEW</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00250">dhcpv6_client.h:250</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a38390e93bf1378cd3b58f09e58912de3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38390e93bf1378cd3b58f09e58912de3">&#9670;&nbsp;</a></span>dhcpv6ClientAddAddr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dhcpv6ClientAddAddr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#aac4eb11915c8cf98cce890c9d0270c9b">Dhcpv6ClientContext</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d3/ddd/ipv6_8h.html#aed0cbc40c61ed5b4fb681ebc55237e89">Ipv6Addr</a> *&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/dd8/stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&#160;</td>
          <td class="paramname"><em>validLifetime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/dd8/stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&#160;</td>
          <td class="paramname"><em>preferredLifetime</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add an IPv6 address to the IA. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>Pointer to the DHCPv6 client context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">addr</td><td>IPv6 address to be added </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">validLifetime</td><td>Valid lifetime, in seconds </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">preferredLifetime</td><td>Preferred lifetime, in seconds </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d6/d91/dhcpv6__client_8c_source.html#l02156">2156</a> of file <a class="el" href="../../d6/d91/dhcpv6__client_8c_source.html">dhcpv6_client.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;{</div><div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;   <a class="code" href="../../d1/dfa/compiler__port_8h.html#a12a1e9b3ce141648783a82445d02b58d">uint_t</a> i;</div><div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;   <a class="code" href="../../de/d95/structDhcpv6ClientAddrEntry.html">Dhcpv6ClientAddrEntry</a> *entry;</div><div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;   <a class="code" href="../../de/d95/structDhcpv6ClientAddrEntry.html">Dhcpv6ClientAddrEntry</a> *firstFreeEntry;</div><div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;</div><div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;   <span class="comment">//Keep track of the first free entry</span></div><div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;   firstFreeEntry = <a class="code" href="../../de/da2/group__BSPDefine.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;</div><div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;   <span class="comment">//Loop through the IPv6 addresses recorded by the DHCPv6 client</span></div><div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;   <span class="keywordflow">for</span>(i = 0; i &lt; <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a50daf16fa24e452127eef9a801d8f576">DHCPV6_CLIENT_ADDR_LIST_SIZE</a>; i++)</div><div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;   {</div><div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;      <span class="comment">//Point to the current entry</span></div><div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;      entry = &amp;context-&gt;ia.addrList[i];</div><div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;</div><div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;      <span class="comment">//Valid IPv6 address?</span></div><div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;      <span class="keywordflow">if</span>(entry-&gt;<a class="code" href="../../de/d95/structDhcpv6ClientAddrEntry.html#a975d3431d046a9dadc2e6a6594a09168">validLifetime</a> &gt; 0)</div><div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;      {</div><div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;         <span class="comment">//Check whether the current entry matches the specified address</span></div><div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;         <span class="keywordflow">if</span>(<a class="code" href="../../d3/ddd/ipv6_8h.html#ab1e93bd2152bc3f3b5642fd0216384d7">ipv6CompAddr</a>(&amp;entry-&gt;<a class="code" href="../../de/d95/structDhcpv6ClientAddrEntry.html#a3f15eb3e64b43ca99e49e090d3c0eb72">addr</a>, <a class="code" href="../../d9/d42/nbns__common_8h.html#ac597eaa9711dfbc34f49d506132e85cd">addr</a>))</div><div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;      }</div><div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;      {</div><div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;         <span class="comment">//Keep track of the first free entry</span></div><div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;         <span class="keywordflow">if</span>(firstFreeEntry == <a class="code" href="../../de/da2/group__BSPDefine.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;            firstFreeEntry = entry;</div><div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;      }</div><div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;   }</div><div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;</div><div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;   <span class="comment">//No matching entry found?</span></div><div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;   <span class="keywordflow">if</span>(i &gt;= <a class="code" href="../../d3/ddd/ipv6_8h.html#a928a90013c8822cded35706806f00171">IPV6_PREFIX_LIST_SIZE</a>)</div><div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;      entry = firstFreeEntry;</div><div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;</div><div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;   <span class="comment">//Update the entry if necessary</span></div><div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;   <span class="keywordflow">if</span>(entry != <a class="code" href="../../de/da2/group__BSPDefine.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;   {</div><div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;      <span class="comment">//Save IPv6 address</span></div><div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;      entry-&gt;<a class="code" href="../../de/d95/structDhcpv6ClientAddrEntry.html#a3f15eb3e64b43ca99e49e090d3c0eb72">addr</a> = *<a class="code" href="../../d9/d42/nbns__common_8h.html#ac597eaa9711dfbc34f49d506132e85cd">addr</a>;</div><div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;</div><div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;      <span class="comment">//Save lifetimes</span></div><div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;      entry-&gt;<a class="code" href="../../de/d95/structDhcpv6ClientAddrEntry.html#a975d3431d046a9dadc2e6a6594a09168">validLifetime</a> = <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#a6bcd95080db3b3f2265498723b93d7b2">validLifetime</a>;</div><div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;      entry-&gt;<a class="code" href="../../de/d95/structDhcpv6ClientAddrEntry.html#a24e1399fe28c7e13c134de1e2953e051">preferredLifetime</a> = <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#a40bac1e80f1005d8d5045ec837d1429b">preferredLifetime</a>;</div><div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;   }</div><div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;}</div><div class="ttc" id="dhcpv6__common_8h_html_a6bcd95080db3b3f2265498723b93d7b2"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#a6bcd95080db3b3f2265498723b93d7b2">validLifetime</a></div><div class="ttdeci">uint32_t validLifetime</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddf/dhcpv6__common_8h_source.html#l00272">dhcpv6_common.h:272</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_a50daf16fa24e452127eef9a801d8f576"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a50daf16fa24e452127eef9a801d8f576">DHCPV6_CLIENT_ADDR_LIST_SIZE</a></div><div class="ttdeci">#define DHCPV6_CLIENT_ADDR_LIST_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00054">dhcpv6_client.h:54</a></div></div>
<div class="ttc" id="structDhcpv6ClientAddrEntry_html_a24e1399fe28c7e13c134de1e2953e051"><div class="ttname"><a href="../../de/d95/structDhcpv6ClientAddrEntry.html#a24e1399fe28c7e13c134de1e2953e051">Dhcpv6ClientAddrEntry::preferredLifetime</a></div><div class="ttdeci">uint32_t preferredLifetime</div><div class="ttdoc">Preferred lifetime. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00305">dhcpv6_client.h:305</a></div></div>
<div class="ttc" id="group__BSPDefine_html_ga070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../de/da2/group__BSPDefine.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d6b/nm__bsp_8h_source.html#l00070">nm_bsp.h:70</a></div></div>
<div class="ttc" id="ipv6_8h_html_a928a90013c8822cded35706806f00171"><div class="ttname"><a href="../../d3/ddd/ipv6_8h.html#a928a90013c8822cded35706806f00171">IPV6_PREFIX_LIST_SIZE</a></div><div class="ttdeci">#define IPV6_PREFIX_LIST_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/ddd/ipv6_8h_source.html#l00080">ipv6.h:80</a></div></div>
<div class="ttc" id="structDhcpv6ClientAddrEntry_html_a3f15eb3e64b43ca99e49e090d3c0eb72"><div class="ttname"><a href="../../de/d95/structDhcpv6ClientAddrEntry.html#a3f15eb3e64b43ca99e49e090d3c0eb72">Dhcpv6ClientAddrEntry::addr</a></div><div class="ttdeci">Ipv6Addr addr</div><div class="ttdoc">IPv6 address. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00303">dhcpv6_client.h:303</a></div></div>
<div class="ttc" id="structDhcpv6ClientAddrEntry_html"><div class="ttname"><a href="../../de/d95/structDhcpv6ClientAddrEntry.html">Dhcpv6ClientAddrEntry</a></div><div class="ttdoc">IA address entry. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00301">dhcpv6_client.h:301</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_a40bac1e80f1005d8d5045ec837d1429b"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#a40bac1e80f1005d8d5045ec837d1429b">preferredLifetime</a></div><div class="ttdeci">uint32_t preferredLifetime</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddf/dhcpv6__common_8h_source.html#l00271">dhcpv6_common.h:271</a></div></div>
<div class="ttc" id="compiler__port_8h_html_a12a1e9b3ce141648783a82445d02b58d"><div class="ttname"><a href="../../d1/dfa/compiler__port_8h.html#a12a1e9b3ce141648783a82445d02b58d">uint_t</a></div><div class="ttdeci">unsigned int uint_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dfa/compiler__port_8h_source.html#l00045">compiler_port.h:45</a></div></div>
<div class="ttc" id="structDhcpv6ClientAddrEntry_html_a975d3431d046a9dadc2e6a6594a09168"><div class="ttname"><a href="../../de/d95/structDhcpv6ClientAddrEntry.html#a975d3431d046a9dadc2e6a6594a09168">Dhcpv6ClientAddrEntry::validLifetime</a></div><div class="ttdeci">uint32_t validLifetime</div><div class="ttdoc">Valid lifetime. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00304">dhcpv6_client.h:304</a></div></div>
<div class="ttc" id="ipv6_8h_html_ab1e93bd2152bc3f3b5642fd0216384d7"><div class="ttname"><a href="../../d3/ddd/ipv6_8h.html#ab1e93bd2152bc3f3b5642fd0216384d7">ipv6CompAddr</a></div><div class="ttdeci">#define ipv6CompAddr(ipAddr1, ipAddr2)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/ddd/ipv6_8h_source.html#l00121">ipv6.h:121</a></div></div>
<div class="ttc" id="nbns__common_8h_html_ac597eaa9711dfbc34f49d506132e85cd"><div class="ttname"><a href="../../d9/d42/nbns__common_8h.html#ac597eaa9711dfbc34f49d506132e85cd">addr</a></div><div class="ttdeci">Ipv4Addr addr</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d42/nbns__common_8h_source.html#l00121">nbns_common.h:121</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aafd32758fb24f5bc2267ad372f06545d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aafd32758fb24f5bc2267ad372f06545d">&#9670;&nbsp;</a></span>dhcpv6ClientChangeState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dhcpv6ClientChangeState </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#aac4eb11915c8cf98cce890c9d0270c9b">Dhcpv6ClientContext</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9">Dhcpv6State</a>&#160;</td>
          <td class="paramname"><em>newState</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/dfa/compiler__port_8h.html#ae3e32a98d431a02106616da3071832dd">systime_t</a>&#160;</td>
          <td class="paramname"><em>delay</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update DHCPv6 FSM state. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>Pointer to the DHCPv6 client context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">newState</td><td>New DHCPv6 state to switch to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">delay</td><td>Initial delay </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d6/d91/dhcpv6__client_8c_source.html#l02506">2506</a> of file <a class="el" href="../../d6/d91/dhcpv6__client_8c_source.html">dhcpv6_client.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;{</div><div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;   <a class="code" href="../../d1/dfa/compiler__port_8h.html#ae3e32a98d431a02106616da3071832dd">systime_t</a> <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#ae73654f333e4363463ad8c594eca1905">time</a>;</div><div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;</div><div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;   <span class="comment">//Get current time</span></div><div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;   time = <a class="code" href="../../dd/d0d/os__port__chibios_8c.html#ab66a11272d40a916fa69dd8e4dc443d4">osGetSystemTime</a>();</div><div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;</div><div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;<span class="preprocessor">#if (DHCPV6_TRACE_LEVEL &gt;= TRACE_LEVEL_INFO)</span></div><div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;   <span class="comment">//Sanity check</span></div><div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;   <span class="keywordflow">if</span>(newState &lt;= <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a198862c17ecac221d19b82f793b5fff8">DHCPV6_STATE_DECLINE</a>)</div><div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;   {</div><div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;      <span class="comment">//DHCPv6 FSM states</span></div><div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;      <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="../../d1/dfa/compiler__port_8h.html#a40bb5262bf908c328fbcfbe5d29d0201">char_t</a> *stateLabel[] =</div><div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;      {</div><div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;         <span class="stringliteral">&quot;INIT&quot;</span>,</div><div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;         <span class="stringliteral">&quot;SOLICIT&quot;</span>,</div><div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;         <span class="stringliteral">&quot;REQUEST&quot;</span>,</div><div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;         <span class="stringliteral">&quot;INIT-CONFIRM&quot;</span>,</div><div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;         <span class="stringliteral">&quot;CONFIRM&quot;</span>,</div><div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;         <span class="stringliteral">&quot;DAD&quot;</span>,</div><div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;         <span class="stringliteral">&quot;BOUND&quot;</span>,</div><div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;         <span class="stringliteral">&quot;RENEW&quot;</span>,</div><div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;         <span class="stringliteral">&quot;REBIND&quot;</span>,</div><div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;         <span class="stringliteral">&quot;RELEASE&quot;</span>,</div><div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;         <span class="stringliteral">&quot;DECLINE&quot;</span></div><div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;      };</div><div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;</div><div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;      <span class="comment">//Debug message</span></div><div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;      <a class="code" href="../../db/d16/debug_8h.html#a7339bfd784193a5c79efcef2eeb2d6df">TRACE_INFO</a>(<span class="stringliteral">&quot;%s: DHCPv6 client %s state\r\n&quot;</span>,</div><div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;         <a class="code" href="../../dd/d0f/date__time_8c.html#ae15b3e664208ca7e4d6983921865cd74">formatSystemTime</a>(time, <a class="code" href="../../de/da2/group__BSPDefine.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>), stateLabel[newState]);</div><div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;   }</div><div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;</div><div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;   <span class="comment">//Set time stamp</span></div><div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;   context-&gt;timestamp = <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#ae73654f333e4363463ad8c594eca1905">time</a>;</div><div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;   <span class="comment">//Set initial delay</span></div><div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;   context-&gt;timeout = delay;</div><div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;   <span class="comment">//Reset retransmission counter</span></div><div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160;   context-&gt;retransmitCount = 0;</div><div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;   <span class="comment">//Switch to the new state</span></div><div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;   context-&gt;state = newState;</div><div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;</div><div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;   <span class="comment">//Any registered callback?</span></div><div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;   <span class="keywordflow">if</span>(context-&gt;settings.stateChangeEvent != <a class="code" href="../../de/da2/group__BSPDefine.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;   {</div><div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160;      <a class="code" href="../../d7/d97/net_8h.html#a2234db8911a1148c9159979d8f5e0d6b">NetInterface</a> *interface;</div><div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160;</div><div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160;      <span class="comment">//Point to the underlying network interface</span></div><div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160;      <span class="keyword">interface </span>= context-&gt;settings.interface;</div><div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160;</div><div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;      <span class="comment">//Release exclusive access</span></div><div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;      <a class="code" href="../../dd/d0d/os__port__chibios_8c.html#a8e10e5b2c6d3877b5ba60e375ac45d79">osReleaseMutex</a>(&amp;<a class="code" href="../../d7/d5f/net_8c.html#afe31551ad26115fae8e575654346d441">netMutex</a>);</div><div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;      <span class="comment">//Invoke user callback function</span></div><div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;      context-&gt;settings.stateChangeEvent(context, interface, newState);</div><div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;      <span class="comment">//Get exclusive access</span></div><div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;      <a class="code" href="../../dd/d0d/os__port__chibios_8c.html#a58485224df4bfa522246d55b35bbd83a">osAcquireMutex</a>(&amp;<a class="code" href="../../d7/d5f/net_8c.html#afe31551ad26115fae8e575654346d441">netMutex</a>);</div><div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;   }</div><div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;}</div><div class="ttc" id="compiler__port_8h_html_ae3e32a98d431a02106616da3071832dd"><div class="ttname"><a href="../../d1/dfa/compiler__port_8h.html#ae3e32a98d431a02106616da3071832dd">systime_t</a></div><div class="ttdeci">uint32_t systime_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dfa/compiler__port_8h_source.html#l00046">compiler_port.h:46</a></div></div>
<div class="ttc" id="compiler__port_8h_html_a40bb5262bf908c328fbcfbe5d29d0201"><div class="ttname"><a href="../../d1/dfa/compiler__port_8h.html#a40bb5262bf908c328fbcfbe5d29d0201">char_t</a></div><div class="ttdeci">char char_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dfa/compiler__port_8h_source.html#l00043">compiler_port.h:43</a></div></div>
<div class="ttc" id="os__port__chibios_8c_html_ab66a11272d40a916fa69dd8e4dc443d4"><div class="ttname"><a href="../../dd/d0d/os__port__chibios_8c.html#ab66a11272d40a916fa69dd8e4dc443d4">osGetSystemTime</a></div><div class="ttdeci">systime_t osGetSystemTime(void)</div><div class="ttdoc">Retrieve system time. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d0d/os__port__chibios_8c_source.html#l00490">os_port_chibios.c:490</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_ae73654f333e4363463ad8c594eca1905"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#ae73654f333e4363463ad8c594eca1905">time</a></div><div class="ttdeci">uint32_t time</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddf/dhcpv6__common_8h_source.html#l00169">dhcpv6_common.h:169</a></div></div>
<div class="ttc" id="group__BSPDefine_html_ga070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../de/da2/group__BSPDefine.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d6b/nm__bsp_8h_source.html#l00070">nm_bsp.h:70</a></div></div>
<div class="ttc" id="date__time_8c_html_ae15b3e664208ca7e4d6983921865cd74"><div class="ttname"><a href="../../dd/d0f/date__time_8c.html#ae15b3e664208ca7e4d6983921865cd74">formatSystemTime</a></div><div class="ttdeci">const char_t * formatSystemTime(systime_t time, char_t *str)</div><div class="ttdoc">Format system time. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d0f/date__time_8c_source.html#l00077">date_time.c:77</a></div></div>
<div class="ttc" id="debug_8h_html_a7339bfd784193a5c79efcef2eeb2d6df"><div class="ttname"><a href="../../db/d16/debug_8h.html#a7339bfd784193a5c79efcef2eeb2d6df">TRACE_INFO</a></div><div class="ttdeci">#define TRACE_INFO(...)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d16/debug_8h_source.html#l00094">debug.h:94</a></div></div>
<div class="ttc" id="os__port__chibios_8c_html_a8e10e5b2c6d3877b5ba60e375ac45d79"><div class="ttname"><a href="../../dd/d0d/os__port__chibios_8c.html#a8e10e5b2c6d3877b5ba60e375ac45d79">osReleaseMutex</a></div><div class="ttdeci">void osReleaseMutex(OsMutex *mutex)</div><div class="ttdoc">Release ownership of the specified mutex object. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d0d/os__port__chibios_8c_source.html#l00474">os_port_chibios.c:474</a></div></div>
<div class="ttc" id="net_8h_html_a2234db8911a1148c9159979d8f5e0d6b"><div class="ttname"><a href="../../d7/d97/net_8h.html#a2234db8911a1148c9159979d8f5e0d6b">NetInterface</a></div><div class="ttdeci">#define NetInterface</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d97/net_8h_source.html#l00036">net.h:36</a></div></div>
<div class="ttc" id="net_8c_html_afe31551ad26115fae8e575654346d441"><div class="ttname"><a href="../../d7/d5f/net_8c.html#afe31551ad26115fae8e575654346d441">netMutex</a></div><div class="ttdeci">OsMutex netMutex</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/net_8c_source.html#l00075">net.c:75</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_a8610bfd009af9756638a193136ef93f9a198862c17ecac221d19b82f793b5fff8"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a198862c17ecac221d19b82f793b5fff8">DHCPV6_STATE_DECLINE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00253">dhcpv6_client.h:253</a></div></div>
<div class="ttc" id="os__port__chibios_8c_html_a58485224df4bfa522246d55b35bbd83a"><div class="ttname"><a href="../../dd/d0d/os__port__chibios_8c.html#a58485224df4bfa522246d55b35bbd83a">osAcquireMutex</a></div><div class="ttdeci">void osAcquireMutex(OsMutex *mutex)</div><div class="ttdoc">Acquire ownership of the specified mutex object. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d0d/os__port__chibios_8c_source.html#l00462">os_port_chibios.c:462</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad527db35497d30d495444948bfd93ca7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad527db35497d30d495444948bfd93ca7">&#9670;&nbsp;</a></span>dhcpv6ClientCheckServerId()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/dfa/compiler__port_8h.html#a812d16e5494522586b3784e55d479912">bool_t</a> dhcpv6ClientCheckServerId </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#aac4eb11915c8cf98cce890c9d0270c9b">Dhcpv6ClientContext</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/ddf/dhcpv6__common_8h.html#a89f7acb5d12dede28c2b98290018051e">Dhcpv6Option</a> *&#160;</td>
          <td class="paramname"><em>serverIdOption</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check the Server Identifier option. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>Pointer to the DHCPv6 client context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">serverIdOption</td><td>Pointer to the Server Identifier option </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE if the option matches the server’s DUID, else FALSE </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d6/d91/dhcpv6__client_8c_source.html#l02409">2409</a> of file <a class="el" href="../../d6/d91/dhcpv6__client_8c_source.html">dhcpv6_client.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;{</div><div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;   <a class="code" href="../../d1/dfa/compiler__port_8h.html#a812d16e5494522586b3784e55d479912">bool_t</a> valid = <a class="code" href="../../da/d42/os__port_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;</div><div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;   <span class="comment">//Check the length of the Server Identifier option</span></div><div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;   <span class="keywordflow">if</span>(<a class="code" href="../../df/de9/cpu__endian_8h.html#a9312c6eb72e64f748ae0d0e0dc3ec9b9">ntohs</a>(serverIdOption-&gt;length) == context-&gt;serverIdLength)</div><div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;   {</div><div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;      <span class="comment">//Check whether the Server Identifier option matches the server’s DUID</span></div><div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;      <span class="keywordflow">if</span>(!memcmp(serverIdOption-&gt;value, context-&gt;serverId, context-&gt;serverIdLength))</div><div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;         valid = <a class="code" href="../../da/d42/os__port_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;   }</div><div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;</div><div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;   <span class="comment">//Return TRUE if the option matches the server’s DUID</span></div><div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;   <span class="keywordflow">return</span> valid;</div><div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;}</div><div class="ttc" id="os__port_8h_html_aa8cecfc5c5c054d2875c03e77b7be15d"><div class="ttname"><a href="../../da/d42/os__port_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a></div><div class="ttdeci">#define TRUE</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d42/os__port_8h_source.html#l00050">os_port.h:50</a></div></div>
<div class="ttc" id="cpu__endian_8h_html_a9312c6eb72e64f748ae0d0e0dc3ec9b9"><div class="ttname"><a href="../../df/de9/cpu__endian_8h.html#a9312c6eb72e64f748ae0d0e0dc3ec9b9">ntohs</a></div><div class="ttdeci">#define ntohs(value)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de9/cpu__endian_8h_source.html#l00398">cpu_endian.h:398</a></div></div>
<div class="ttc" id="os__port_8h_html_aa93f0eb578d23995850d61f7d61c55c1"><div class="ttname"><a href="../../da/d42/os__port_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></div><div class="ttdeci">#define FALSE</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d42/os__port_8h_source.html#l00046">os_port.h:46</a></div></div>
<div class="ttc" id="compiler__port_8h_html_a812d16e5494522586b3784e55d479912"><div class="ttname"><a href="../../d1/dfa/compiler__port_8h.html#a812d16e5494522586b3784e55d479912">bool_t</a></div><div class="ttdeci">int bool_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dfa/compiler__port_8h_source.html#l00049">compiler_port.h:49</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aaa81ea43e74b44c4bb1c376ee7ddd28b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa81ea43e74b44c4bb1c376ee7ddd28b">&#9670;&nbsp;</a></span>dhcpv6ClientCheckTimeout()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dhcpv6ClientCheckTimeout </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#aac4eb11915c8cf98cce890c9d0270c9b">Dhcpv6ClientContext</a> *&#160;</td>
          <td class="paramname"><em>context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Manage DHCPv6 configuration timeout. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>Pointer to the DHCPv6 client context </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d6/d91/dhcpv6__client_8c_source.html#l02432">2432</a> of file <a class="el" href="../../d6/d91/dhcpv6__client_8c_source.html">dhcpv6_client.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;{</div><div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;   <a class="code" href="../../d1/dfa/compiler__port_8h.html#ae3e32a98d431a02106616da3071832dd">systime_t</a> <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#ae73654f333e4363463ad8c594eca1905">time</a>;</div><div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;   <a class="code" href="../../d7/d97/net_8h.html#a2234db8911a1148c9159979d8f5e0d6b">NetInterface</a> *interface;</div><div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;</div><div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;   <span class="comment">//Point to the underlying network interface</span></div><div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;   <span class="keyword">interface </span>= context-&gt;settings.interface;</div><div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;</div><div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;   <span class="comment">//Get current time</span></div><div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;   time = <a class="code" href="../../dd/d0d/os__port__chibios_8c.html#ab66a11272d40a916fa69dd8e4dc443d4">osGetSystemTime</a>();</div><div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;</div><div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;   <span class="comment">//Any registered callback?</span></div><div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;   <span class="keywordflow">if</span>(context-&gt;settings.timeoutEvent != <a class="code" href="../../de/da2/group__BSPDefine.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;   {</div><div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;      <span class="comment">//DHCPv6 configuration timeout?</span></div><div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="../../da/d42/os__port_8h.html#a25c13833ef003da02045a91b1080263a">timeCompare</a>(time, context-&gt;configStartTime + context-&gt;settings.timeout) &gt;= 0)</div><div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;      {</div><div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;         <span class="comment">//Ensure the callback function is only called once</span></div><div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;         <span class="keywordflow">if</span>(!context-&gt;timeoutEventDone)</div><div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;         {</div><div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;            <span class="comment">//Release exclusive access</span></div><div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;            <a class="code" href="../../dd/d0d/os__port__chibios_8c.html#a8e10e5b2c6d3877b5ba60e375ac45d79">osReleaseMutex</a>(&amp;<a class="code" href="../../d7/d5f/net_8c.html#afe31551ad26115fae8e575654346d441">netMutex</a>);</div><div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;            <span class="comment">//Invoke user callback function</span></div><div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;            context-&gt;settings.timeoutEvent(context, interface);</div><div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;            <span class="comment">//Get exclusive access</span></div><div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;            <a class="code" href="../../dd/d0d/os__port__chibios_8c.html#a58485224df4bfa522246d55b35bbd83a">osAcquireMutex</a>(&amp;<a class="code" href="../../d7/d5f/net_8c.html#afe31551ad26115fae8e575654346d441">netMutex</a>);</div><div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;</div><div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;            <span class="comment">//Set flag</span></div><div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;            context-&gt;timeoutEventDone = <a class="code" href="../../da/d42/os__port_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;         }</div><div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;      }</div><div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;   }</div><div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;}</div><div class="ttc" id="compiler__port_8h_html_ae3e32a98d431a02106616da3071832dd"><div class="ttname"><a href="../../d1/dfa/compiler__port_8h.html#ae3e32a98d431a02106616da3071832dd">systime_t</a></div><div class="ttdeci">uint32_t systime_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dfa/compiler__port_8h_source.html#l00046">compiler_port.h:46</a></div></div>
<div class="ttc" id="os__port_8h_html_a25c13833ef003da02045a91b1080263a"><div class="ttname"><a href="../../da/d42/os__port_8h.html#a25c13833ef003da02045a91b1080263a">timeCompare</a></div><div class="ttdeci">#define timeCompare(t1, t2)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d42/os__port_8h_source.html#l00042">os_port.h:42</a></div></div>
<div class="ttc" id="os__port__chibios_8c_html_ab66a11272d40a916fa69dd8e4dc443d4"><div class="ttname"><a href="../../dd/d0d/os__port__chibios_8c.html#ab66a11272d40a916fa69dd8e4dc443d4">osGetSystemTime</a></div><div class="ttdeci">systime_t osGetSystemTime(void)</div><div class="ttdoc">Retrieve system time. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d0d/os__port__chibios_8c_source.html#l00490">os_port_chibios.c:490</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_ae73654f333e4363463ad8c594eca1905"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#ae73654f333e4363463ad8c594eca1905">time</a></div><div class="ttdeci">uint32_t time</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddf/dhcpv6__common_8h_source.html#l00169">dhcpv6_common.h:169</a></div></div>
<div class="ttc" id="group__BSPDefine_html_ga070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../de/da2/group__BSPDefine.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d6b/nm__bsp_8h_source.html#l00070">nm_bsp.h:70</a></div></div>
<div class="ttc" id="os__port_8h_html_aa8cecfc5c5c054d2875c03e77b7be15d"><div class="ttname"><a href="../../da/d42/os__port_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a></div><div class="ttdeci">#define TRUE</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d42/os__port_8h_source.html#l00050">os_port.h:50</a></div></div>
<div class="ttc" id="os__port__chibios_8c_html_a8e10e5b2c6d3877b5ba60e375ac45d79"><div class="ttname"><a href="../../dd/d0d/os__port__chibios_8c.html#a8e10e5b2c6d3877b5ba60e375ac45d79">osReleaseMutex</a></div><div class="ttdeci">void osReleaseMutex(OsMutex *mutex)</div><div class="ttdoc">Release ownership of the specified mutex object. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d0d/os__port__chibios_8c_source.html#l00474">os_port_chibios.c:474</a></div></div>
<div class="ttc" id="net_8h_html_a2234db8911a1148c9159979d8f5e0d6b"><div class="ttname"><a href="../../d7/d97/net_8h.html#a2234db8911a1148c9159979d8f5e0d6b">NetInterface</a></div><div class="ttdeci">#define NetInterface</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d97/net_8h_source.html#l00036">net.h:36</a></div></div>
<div class="ttc" id="net_8c_html_afe31551ad26115fae8e575654346d441"><div class="ttname"><a href="../../d7/d5f/net_8c.html#afe31551ad26115fae8e575654346d441">netMutex</a></div><div class="ttdeci">OsMutex netMutex</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/net_8c_source.html#l00075">net.c:75</a></div></div>
<div class="ttc" id="os__port__chibios_8c_html_a58485224df4bfa522246d55b35bbd83a"><div class="ttname"><a href="../../dd/d0d/os__port__chibios_8c.html#a58485224df4bfa522246d55b35bbd83a">osAcquireMutex</a></div><div class="ttdeci">void osAcquireMutex(OsMutex *mutex)</div><div class="ttdoc">Acquire ownership of the specified mutex object. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d0d/os__port__chibios_8c_source.html#l00462">os_port_chibios.c:462</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0c0b3763ac06274d8b68eb5126fb51c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c0b3763ac06274d8b68eb5126fb51c8">&#9670;&nbsp;</a></span>dhcpv6ClientComputeElapsedTime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/dd8/stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> dhcpv6ClientComputeElapsedTime </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#aac4eb11915c8cf98cce890c9d0270c9b">Dhcpv6ClientContext</a> *&#160;</td>
          <td class="paramname"><em>context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compute the time elapsed since the client sent the first message. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>Pointer to the DHCPv6 client context </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The elapsed time expressed in hundredths of a second </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d6/d91/dhcpv6__client_8c_source.html#l02473">2473</a> of file <a class="el" href="../../d6/d91/dhcpv6__client_8c_source.html">dhcpv6_client.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;{</div><div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;   <a class="code" href="../../d1/dfa/compiler__port_8h.html#ae3e32a98d431a02106616da3071832dd">systime_t</a> <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#ae73654f333e4363463ad8c594eca1905">time</a>;</div><div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;</div><div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;   <span class="comment">//Check retransmission counter</span></div><div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;   <span class="keywordflow">if</span>(context-&gt;retransmitCount == 0)</div><div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;   {</div><div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;      <span class="comment">//The elapsed time must be 0 for the first message</span></div><div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;      time = 0;</div><div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;   }</div><div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;   <span class="keywordflow">else</span></div><div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;   {</div><div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;      <span class="comment">//Compute the time elapsed since the client sent the</span></div><div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;      <span class="comment">//first message (in hundredths of a second)</span></div><div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;      time = (<a class="code" href="../../dd/d0d/os__port__chibios_8c.html#ab66a11272d40a916fa69dd8e4dc443d4">osGetSystemTime</a>() - context-&gt;exchangeStartTime) / 10;</div><div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;</div><div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;      <span class="comment">//The value 0xFFFF is used to represent any elapsed time values</span></div><div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;      <span class="comment">//greater than the largest time value that can be represented</span></div><div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;      time = <a class="code" href="../../da/d42/os__port_8h.html#a3acffbd305ee72dcd4593c0d8af64a4f">MIN</a>(time, 0xFFFF);</div><div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;   }</div><div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;</div><div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;   <span class="comment">//Convert the 16-bit value to network byte order</span></div><div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../df/de9/cpu__endian_8h.html#a800cdbf435a85a9b3ad4f0edc518472a">htons</a>(time);</div><div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;}</div><div class="ttc" id="compiler__port_8h_html_ae3e32a98d431a02106616da3071832dd"><div class="ttname"><a href="../../d1/dfa/compiler__port_8h.html#ae3e32a98d431a02106616da3071832dd">systime_t</a></div><div class="ttdeci">uint32_t systime_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dfa/compiler__port_8h_source.html#l00046">compiler_port.h:46</a></div></div>
<div class="ttc" id="os__port__chibios_8c_html_ab66a11272d40a916fa69dd8e4dc443d4"><div class="ttname"><a href="../../dd/d0d/os__port__chibios_8c.html#ab66a11272d40a916fa69dd8e4dc443d4">osGetSystemTime</a></div><div class="ttdeci">systime_t osGetSystemTime(void)</div><div class="ttdoc">Retrieve system time. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d0d/os__port__chibios_8c_source.html#l00490">os_port_chibios.c:490</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_ae73654f333e4363463ad8c594eca1905"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#ae73654f333e4363463ad8c594eca1905">time</a></div><div class="ttdeci">uint32_t time</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddf/dhcpv6__common_8h_source.html#l00169">dhcpv6_common.h:169</a></div></div>
<div class="ttc" id="cpu__endian_8h_html_a800cdbf435a85a9b3ad4f0edc518472a"><div class="ttname"><a href="../../df/de9/cpu__endian_8h.html#a800cdbf435a85a9b3ad4f0edc518472a">htons</a></div><div class="ttdeci">#define htons(value)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de9/cpu__endian_8h_source.html#l00392">cpu_endian.h:392</a></div></div>
<div class="ttc" id="os__port_8h_html_a3acffbd305ee72dcd4593c0d8af64a4f"><div class="ttname"><a href="../../da/d42/os__port_8h.html#a3acffbd305ee72dcd4593c0d8af64a4f">MIN</a></div><div class="ttdeci">#define MIN(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d42/os__port_8h_source.html#l00062">os_port.h:62</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a883f4820eaaff34776c31c99c300e3ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a883f4820eaaff34776c31c99c300e3ef">&#9670;&nbsp;</a></span>dhcpv6ClientDumpConfig()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dhcpv6ClientDumpConfig </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#aac4eb11915c8cf98cce890c9d0270c9b">Dhcpv6ClientContext</a> *&#160;</td>
          <td class="paramname"><em>context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Dump DHCPv6 configuration for debugging purpose. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>Pointer to the DHCPv6 client context </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d6/d91/dhcpv6__client_8c_source.html#l02572">2572</a> of file <a class="el" href="../../d6/d91/dhcpv6__client_8c_source.html">dhcpv6_client.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;{</div><div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;<span class="preprocessor">#if (DHCPV6_TRACE_LEVEL &gt;= TRACE_LEVEL_INFO)</span></div><div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;   <a class="code" href="../../d1/dfa/compiler__port_8h.html#a12a1e9b3ce141648783a82445d02b58d">uint_t</a> i;</div><div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;   <a class="code" href="../../d7/d97/net_8h.html#a2234db8911a1148c9159979d8f5e0d6b">NetInterface</a> *interface;</div><div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160;   <a class="code" href="../../db/d4d/structIpv6Context.html">Ipv6Context</a> *ipv6Context;</div><div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160;</div><div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;   <span class="comment">//Point to the underlying network interface</span></div><div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;   <span class="keyword">interface </span>= context-&gt;settings.interface;</div><div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;   <span class="comment">//Point to the IPv6 context</span></div><div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;   ipv6Context = &amp;interface-&gt;ipv6Context;</div><div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;</div><div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;   <span class="comment">//Debug message</span></div><div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160;   <a class="code" href="../../db/d16/debug_8h.html#a7339bfd784193a5c79efcef2eeb2d6df">TRACE_INFO</a>(<span class="stringliteral">&quot;\r\n&quot;</span>);</div><div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;   <a class="code" href="../../db/d16/debug_8h.html#a7339bfd784193a5c79efcef2eeb2d6df">TRACE_INFO</a>(<span class="stringliteral">&quot;DHCPv6 configuration:\r\n&quot;</span>);</div><div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160;</div><div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;   <span class="comment">//Lease start time</span></div><div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;   <a class="code" href="../../db/d16/debug_8h.html#a7339bfd784193a5c79efcef2eeb2d6df">TRACE_INFO</a>(<span class="stringliteral">&quot;  Lease Start Time = %s\r\n&quot;</span>,</div><div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;      <a class="code" href="../../dd/d0f/date__time_8c.html#ae15b3e664208ca7e4d6983921865cd74">formatSystemTime</a>(context-&gt;leaseStartTime, <a class="code" href="../../de/da2/group__BSPDefine.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>));</div><div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;</div><div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;   <span class="comment">//T1 parameter</span></div><div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160;   <a class="code" href="../../db/d16/debug_8h.html#a7339bfd784193a5c79efcef2eeb2d6df">TRACE_INFO</a>(<span class="stringliteral">&quot;  T1 = %&quot;</span> PRIu32 <span class="stringliteral">&quot;s\r\n&quot;</span>, context-&gt;ia.t1);</div><div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160;   <span class="comment">//T2 parameter</span></div><div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;   <a class="code" href="../../db/d16/debug_8h.html#a7339bfd784193a5c79efcef2eeb2d6df">TRACE_INFO</a>(<span class="stringliteral">&quot;  T2 = %&quot;</span> PRIu32 <span class="stringliteral">&quot;s\r\n&quot;</span>, context-&gt;ia.t2);</div><div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;</div><div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;   <span class="comment">//Global addresses</span></div><div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;   <span class="keywordflow">for</span>(i = 1; i &lt; <a class="code" href="../../d3/ddd/ipv6_8h.html#aa9064306086cc3bba39cf75db3ec2881">IPV6_ADDR_LIST_SIZE</a>; i++)</div><div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;   {</div><div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;      <a class="code" href="../../db/d16/debug_8h.html#a7339bfd784193a5c79efcef2eeb2d6df">TRACE_INFO</a>(<span class="stringliteral">&quot;  Global Address %u = %s\r\n&quot;</span>, i,</div><div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160;         <a class="code" href="../../dc/dbc/ipv6_8c.html#a96e27d88ffdf1b2ca6fca448dc6b4e7e">ipv6AddrToString</a>(&amp;ipv6Context-&gt;addrList[i].addr, <a class="code" href="../../de/da2/group__BSPDefine.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>));</div><div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;   }</div><div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160;</div><div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;   <span class="comment">//DNS servers</span></div><div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;   <span class="keywordflow">for</span>(i = 0; i &lt; <a class="code" href="../../d3/ddd/ipv6_8h.html#a7ef30c7f719916efa14b509b7ef707a1">IPV6_DNS_SERVER_LIST_SIZE</a>; i++)</div><div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;   {</div><div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;      <a class="code" href="../../db/d16/debug_8h.html#a7339bfd784193a5c79efcef2eeb2d6df">TRACE_INFO</a>(<span class="stringliteral">&quot;  DNS Server %u = %s\r\n&quot;</span>, i + 1,</div><div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160;         <a class="code" href="../../dc/dbc/ipv6_8c.html#a96e27d88ffdf1b2ca6fca448dc6b4e7e">ipv6AddrToString</a>(&amp;ipv6Context-&gt;dnsServerList[i], <a class="code" href="../../de/da2/group__BSPDefine.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>));</div><div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;   }</div><div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;</div><div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;   <span class="comment">//Debug message</span></div><div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;   <a class="code" href="../../db/d16/debug_8h.html#a7339bfd784193a5c79efcef2eeb2d6df">TRACE_INFO</a>(<span class="stringliteral">&quot;\r\n&quot;</span>);</div><div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;}</div><div class="ttc" id="group__BSPDefine_html_ga070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../de/da2/group__BSPDefine.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d6b/nm__bsp_8h_source.html#l00070">nm_bsp.h:70</a></div></div>
<div class="ttc" id="structIpv6Context_html"><div class="ttname"><a href="../../db/d4d/structIpv6Context.html">Ipv6Context</a></div><div class="ttdoc">IPv6 context. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/ddd/ipv6_8h_source.html#l00462">ipv6.h:462</a></div></div>
<div class="ttc" id="date__time_8c_html_ae15b3e664208ca7e4d6983921865cd74"><div class="ttname"><a href="../../dd/d0f/date__time_8c.html#ae15b3e664208ca7e4d6983921865cd74">formatSystemTime</a></div><div class="ttdeci">const char_t * formatSystemTime(systime_t time, char_t *str)</div><div class="ttdoc">Format system time. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d0f/date__time_8c_source.html#l00077">date_time.c:77</a></div></div>
<div class="ttc" id="debug_8h_html_a7339bfd784193a5c79efcef2eeb2d6df"><div class="ttname"><a href="../../db/d16/debug_8h.html#a7339bfd784193a5c79efcef2eeb2d6df">TRACE_INFO</a></div><div class="ttdeci">#define TRACE_INFO(...)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d16/debug_8h_source.html#l00094">debug.h:94</a></div></div>
<div class="ttc" id="compiler__port_8h_html_a12a1e9b3ce141648783a82445d02b58d"><div class="ttname"><a href="../../d1/dfa/compiler__port_8h.html#a12a1e9b3ce141648783a82445d02b58d">uint_t</a></div><div class="ttdeci">unsigned int uint_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dfa/compiler__port_8h_source.html#l00045">compiler_port.h:45</a></div></div>
<div class="ttc" id="net_8h_html_a2234db8911a1148c9159979d8f5e0d6b"><div class="ttname"><a href="../../d7/d97/net_8h.html#a2234db8911a1148c9159979d8f5e0d6b">NetInterface</a></div><div class="ttdeci">#define NetInterface</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d97/net_8h_source.html#l00036">net.h:36</a></div></div>
<div class="ttc" id="ipv6_8h_html_a7ef30c7f719916efa14b509b7ef707a1"><div class="ttname"><a href="../../d3/ddd/ipv6_8h.html#a7ef30c7f719916efa14b509b7ef707a1">IPV6_DNS_SERVER_LIST_SIZE</a></div><div class="ttdeci">#define IPV6_DNS_SERVER_LIST_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/ddd/ipv6_8h_source.html#l00094">ipv6.h:94</a></div></div>
<div class="ttc" id="ipv6_8c_html_a96e27d88ffdf1b2ca6fca448dc6b4e7e"><div class="ttname"><a href="../../dc/dbc/ipv6_8c.html#a96e27d88ffdf1b2ca6fca448dc6b4e7e">ipv6AddrToString</a></div><div class="ttdeci">char_t * ipv6AddrToString(const Ipv6Addr *ipAddr, char_t *str)</div><div class="ttdoc">Convert a binary IPv6 address to a string representation. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbc/ipv6_8c_source.html#l02254">ipv6.c:2254</a></div></div>
<div class="ttc" id="ipv6_8h_html_aa9064306086cc3bba39cf75db3ec2881"><div class="ttname"><a href="../../d3/ddd/ipv6_8h.html#aa9064306086cc3bba39cf75db3ec2881">IPV6_ADDR_LIST_SIZE</a></div><div class="ttdeci">#define IPV6_ADDR_LIST_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/ddd/ipv6_8h_source.html#l00066">ipv6.h:66</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab03f421bf4324e1426814302b4ef320a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab03f421bf4324e1426814302b4ef320a">&#9670;&nbsp;</a></span>dhcpv6ClientFlushAddrList()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dhcpv6ClientFlushAddrList </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#aac4eb11915c8cf98cce890c9d0270c9b">Dhcpv6ClientContext</a> *&#160;</td>
          <td class="paramname"><em>context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flush the list of IPv6 addresses from the IA. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>Pointer to the DHCPv6 client context </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d6/d91/dhcpv6__client_8c_source.html#l02248">2248</a> of file <a class="el" href="../../d6/d91/dhcpv6__client_8c_source.html">dhcpv6_client.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;{</div><div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;   <a class="code" href="../../d1/dfa/compiler__port_8h.html#a12a1e9b3ce141648783a82445d02b58d">uint_t</a> i;</div><div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;   <a class="code" href="../../d7/d97/net_8h.html#a2234db8911a1148c9159979d8f5e0d6b">NetInterface</a> *interface;</div><div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;   <a class="code" href="../../de/d95/structDhcpv6ClientAddrEntry.html">Dhcpv6ClientAddrEntry</a> *entry;</div><div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;</div><div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;   <span class="comment">//Point to the underlying network interface</span></div><div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;   <span class="keyword">interface </span>= context-&gt;settings.interface;</div><div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;</div><div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;   <span class="comment">//Loop through the IPv6 addresses recorded by the DHCPv6 client</span></div><div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;   <span class="keywordflow">for</span>(i = 0; i &lt; <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a50daf16fa24e452127eef9a801d8f576">DHCPV6_CLIENT_ADDR_LIST_SIZE</a>; i++)</div><div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;   {</div><div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;      <span class="comment">//Point to the current entry</span></div><div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;      entry = &amp;context-&gt;ia.addrList[i];</div><div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;</div><div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;      <span class="comment">//Valid IPv6 address?</span></div><div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;      <span class="keywordflow">if</span>(entry-&gt;<a class="code" href="../../de/d95/structDhcpv6ClientAddrEntry.html#a975d3431d046a9dadc2e6a6594a09168">validLifetime</a> &gt; 0)</div><div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;      {</div><div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;         <span class="comment">//The IPv6 address is no more valid and should be removed from</span></div><div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;         <span class="comment">//the list of IPv6 addresses assigned to the interface</span></div><div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;         <a class="code" href="../../dc/d33/ipv6__misc_8c.html#aa72b374b0dba9090d90f799776797452">ipv6RemoveAddr</a>(interface, &amp;entry-&gt;<a class="code" href="../../de/d95/structDhcpv6ClientAddrEntry.html#a3f15eb3e64b43ca99e49e090d3c0eb72">addr</a>);</div><div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;</div><div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;         <span class="comment">//Remove the IPv6 address from the IA</span></div><div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;         entry-&gt;<a class="code" href="../../de/d95/structDhcpv6ClientAddrEntry.html#a975d3431d046a9dadc2e6a6594a09168">validLifetime</a> = 0;</div><div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;      }</div><div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;   }</div><div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;}</div><div class="ttc" id="dhcpv6__client_8h_html_a50daf16fa24e452127eef9a801d8f576"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a50daf16fa24e452127eef9a801d8f576">DHCPV6_CLIENT_ADDR_LIST_SIZE</a></div><div class="ttdeci">#define DHCPV6_CLIENT_ADDR_LIST_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00054">dhcpv6_client.h:54</a></div></div>
<div class="ttc" id="ipv6__misc_8c_html_aa72b374b0dba9090d90f799776797452"><div class="ttname"><a href="../../dc/d33/ipv6__misc_8c.html#aa72b374b0dba9090d90f799776797452">ipv6RemoveAddr</a></div><div class="ttdeci">void ipv6RemoveAddr(NetInterface *interface, const Ipv6Addr *addr)</div><div class="ttdoc">Remove an entry from the list of IPv6 addresses. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d33/ipv6__misc_8c_source.html#l00334">ipv6_misc.c:334</a></div></div>
<div class="ttc" id="structDhcpv6ClientAddrEntry_html_a3f15eb3e64b43ca99e49e090d3c0eb72"><div class="ttname"><a href="../../de/d95/structDhcpv6ClientAddrEntry.html#a3f15eb3e64b43ca99e49e090d3c0eb72">Dhcpv6ClientAddrEntry::addr</a></div><div class="ttdeci">Ipv6Addr addr</div><div class="ttdoc">IPv6 address. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00303">dhcpv6_client.h:303</a></div></div>
<div class="ttc" id="structDhcpv6ClientAddrEntry_html"><div class="ttname"><a href="../../de/d95/structDhcpv6ClientAddrEntry.html">Dhcpv6ClientAddrEntry</a></div><div class="ttdoc">IA address entry. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00301">dhcpv6_client.h:301</a></div></div>
<div class="ttc" id="compiler__port_8h_html_a12a1e9b3ce141648783a82445d02b58d"><div class="ttname"><a href="../../d1/dfa/compiler__port_8h.html#a12a1e9b3ce141648783a82445d02b58d">uint_t</a></div><div class="ttdeci">unsigned int uint_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dfa/compiler__port_8h_source.html#l00045">compiler_port.h:45</a></div></div>
<div class="ttc" id="net_8h_html_a2234db8911a1148c9159979d8f5e0d6b"><div class="ttname"><a href="../../d7/d97/net_8h.html#a2234db8911a1148c9159979d8f5e0d6b">NetInterface</a></div><div class="ttdeci">#define NetInterface</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d97/net_8h_source.html#l00036">net.h:36</a></div></div>
<div class="ttc" id="structDhcpv6ClientAddrEntry_html_a975d3431d046a9dadc2e6a6594a09168"><div class="ttname"><a href="../../de/d95/structDhcpv6ClientAddrEntry.html#a975d3431d046a9dadc2e6a6594a09168">Dhcpv6ClientAddrEntry::validLifetime</a></div><div class="ttdeci">uint32_t validLifetime</div><div class="ttdoc">Valid lifetime. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00304">dhcpv6_client.h:304</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aebf29ea2ff641b03c1736f386c63e268"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aebf29ea2ff641b03c1736f386c63e268">&#9670;&nbsp;</a></span>dhcpv6ClientGenerateDuid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689c">error_t</a> dhcpv6ClientGenerateDuid </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#aac4eb11915c8cf98cce890c9d0270c9b">Dhcpv6ClientContext</a> *&#160;</td>
          <td class="paramname"><em>context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generate client's DUID. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>Pointer to the DHCPv6 client context </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d6/d91/dhcpv6__client_8c_source.html#l02283">2283</a> of file <a class="el" href="../../d6/d91/dhcpv6__client_8c_source.html">dhcpv6_client.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;{</div><div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;   <a class="code" href="../../d7/d97/net_8h.html#a2234db8911a1148c9159979d8f5e0d6b">NetInterface</a> *interface;</div><div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;   <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#a1e86d9754bd194ee54193984b5fe9372">Dhcpv6DuidLl</a> *duid;</div><div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;<span class="preprocessor">#if (ETH_SUPPORT == ENABLED)</span></div><div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;   <a class="code" href="../../d7/d97/net_8h.html#a2234db8911a1148c9159979d8f5e0d6b">NetInterface</a> *logicalInterface;</div><div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;</div><div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;   <span class="comment">//Point to the underlying network interface</span></div><div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;   <span class="keyword">interface </span>= context-&gt;settings.interface;</div><div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;</div><div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;   <span class="comment">//Point to the buffer where to format the client&#39;s DUID</span></div><div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;   duid = (<a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#a1e86d9754bd194ee54193984b5fe9372">Dhcpv6DuidLl</a> *) context-&gt;clientId;</div><div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;</div><div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;#if (<a class="code" href="../../de/d79/ethernet_8h.html#a563c35fdc76f8209baf915c87669dc0c">ETH_SUPPORT</a> == <a class="code" href="../../da/d42/os__port_8h.html#a73c228f87e038e8295ee8ea8eceaa5ac">ENABLED</a>)</div><div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;   <span class="comment">//Point to the logical interface</span></div><div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;   logicalInterface = <a class="code" href="../../d8/df5/nic_8c.html#a650d776d6513c3bb88671c3aedd782f0">nicGetLogicalInterface</a>(interface);</div><div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;</div><div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;   <span class="comment">//Generate a DUID-LL from the MAC address</span></div><div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;   duid-&gt;type = <a class="code" href="../../df/de9/cpu__endian_8h.html#a15540dbaeee98b6df80805f92e2f6759">HTONS</a>(<a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#abef597acd1a5942cbc3ed9e9b7b88213a60845b706820247cf51b47ecb1b32ae2">DHCPV6_DUID_LL</a>);</div><div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;   duid-&gt;hardwareType = <a class="code" href="../../df/de9/cpu__endian_8h.html#a15540dbaeee98b6df80805f92e2f6759">HTONS</a>(<a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#a68972e2b17fef68993caa2d2d176093da4425acbe1612f0f72eed4bc27cb00063">DHCPV6_HARDWARE_TYPE_ETH</a>);</div><div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;   duid-&gt;linkLayerAddr = logicalInterface-&gt;macAddr;</div><div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;   <span class="comment">//Generate a DUID-LL from the EUI-64 identifier</span></div><div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;   duid-&gt;type = <a class="code" href="../../df/de9/cpu__endian_8h.html#a15540dbaeee98b6df80805f92e2f6759">HTONS</a>(<a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#abef597acd1a5942cbc3ed9e9b7b88213a60845b706820247cf51b47ecb1b32ae2">DHCPV6_DUID_LL</a>);</div><div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;   duid-&gt;hardwareType = <a class="code" href="../../df/de9/cpu__endian_8h.html#a15540dbaeee98b6df80805f92e2f6759">HTONS</a>(<a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#a68972e2b17fef68993caa2d2d176093dae3ee83e839a01133618aea5b338d7c5f">DHCPV6_HARDWARE_TYPE_EUI64</a>);</div><div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;   duid-&gt;linkLayerAddr = interface-&gt;eui64;</div><div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;</div><div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;   <span class="comment">//Length of the newly generated DUID</span></div><div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;   context-&gt;clientIdLength = <span class="keyword">sizeof</span>(<a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#a1e86d9754bd194ee54193984b5fe9372">Dhcpv6DuidLl</a>);</div><div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;</div><div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;   <span class="comment">//Successful processing</span></div><div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94">NO_ERROR</a>;</div><div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;}</div><div class="ttc" id="dhcpv6__common_8h_html_a1e86d9754bd194ee54193984b5fe9372"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#a1e86d9754bd194ee54193984b5fe9372">Dhcpv6DuidLl</a></div><div class="ttdeci">__start_packed struct @127 Dhcpv6DuidLl</div><div class="ttdoc">DUID-LL structure. </div></div>
<div class="ttc" id="dhcpv6__common_8h_html_abef597acd1a5942cbc3ed9e9b7b88213a60845b706820247cf51b47ecb1b32ae2"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#abef597acd1a5942cbc3ed9e9b7b88213a60845b706820247cf51b47ecb1b32ae2">DHCPV6_DUID_LL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddf/dhcpv6__common_8h_source.html#l00069">dhcpv6_common.h:69</a></div></div>
<div class="ttc" id="cpu__endian_8h_html_a15540dbaeee98b6df80805f92e2f6759"><div class="ttname"><a href="../../df/de9/cpu__endian_8h.html#a15540dbaeee98b6df80805f92e2f6759">HTONS</a></div><div class="ttdeci">#define HTONS(value)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de9/cpu__endian_8h_source.html#l00390">cpu_endian.h:390</a></div></div>
<div class="ttc" id="os__port_8h_html_a73c228f87e038e8295ee8ea8eceaa5ac"><div class="ttname"><a href="../../da/d42/os__port_8h.html#a73c228f87e038e8295ee8ea8eceaa5ac">ENABLED</a></div><div class="ttdeci">#define ENABLED</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d42/os__port_8h_source.html#l00037">os_port.h:37</a></div></div>
<div class="ttc" id="error_8h_html_ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94"><div class="ttname"><a href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94">NO_ERROR</a></div><div class="ttdoc">Success. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d41/error_8h_source.html#l00044">error.h:44</a></div></div>
<div class="ttc" id="net_8h_html_a2234db8911a1148c9159979d8f5e0d6b"><div class="ttname"><a href="../../d7/d97/net_8h.html#a2234db8911a1148c9159979d8f5e0d6b">NetInterface</a></div><div class="ttdeci">#define NetInterface</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d97/net_8h_source.html#l00036">net.h:36</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_a68972e2b17fef68993caa2d2d176093dae3ee83e839a01133618aea5b338d7c5f"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#a68972e2b17fef68993caa2d2d176093dae3ee83e839a01133618aea5b338d7c5f">DHCPV6_HARDWARE_TYPE_EUI64</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddf/dhcpv6__common_8h_source.html#l00080">dhcpv6_common.h:80</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_a68972e2b17fef68993caa2d2d176093da4425acbe1612f0f72eed4bc27cb00063"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#a68972e2b17fef68993caa2d2d176093da4425acbe1612f0f72eed4bc27cb00063">DHCPV6_HARDWARE_TYPE_ETH</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddf/dhcpv6__common_8h_source.html#l00079">dhcpv6_common.h:79</a></div></div>
<div class="ttc" id="nic_8c_html_a650d776d6513c3bb88671c3aedd782f0"><div class="ttname"><a href="../../d8/df5/nic_8c.html#a650d776d6513c3bb88671c3aedd782f0">nicGetLogicalInterface</a></div><div class="ttdeci">NetInterface * nicGetLogicalInterface(NetInterface *interface)</div><div class="ttdoc">Retrieve logical interface. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/df5/nic_8c_source.html#l00052">nic.c:52</a></div></div>
<div class="ttc" id="ethernet_8h_html_a563c35fdc76f8209baf915c87669dc0c"><div class="ttname"><a href="../../de/d79/ethernet_8h.html#a563c35fdc76f8209baf915c87669dc0c">ETH_SUPPORT</a></div><div class="ttdeci">#define ETH_SUPPORT</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d79/ethernet_8h_source.html#l00039">ethernet.h:39</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8759e1d2cf5b1556bfa3d972e70e67e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8759e1d2cf5b1556bfa3d972e70e67e1">&#9670;&nbsp;</a></span>dhcpv6ClientGenerateFqdn()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689c">error_t</a> dhcpv6ClientGenerateFqdn </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#aac4eb11915c8cf98cce890c9d0270c9b">Dhcpv6ClientContext</a> *&#160;</td>
          <td class="paramname"><em>context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generate client's fully qualified domain name. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>Pointer to the DHCPv6 client context </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d6/d91/dhcpv6__client_8c_source.html#l02326">2326</a> of file <a class="el" href="../../d6/d91/dhcpv6__client_8c_source.html">dhcpv6_client.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;{</div><div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;   <a class="code" href="../../d7/d97/net_8h.html#a2234db8911a1148c9159979d8f5e0d6b">NetInterface</a> *interface;</div><div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;   <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#a95a52f48a22c46a8c16f31ae310f29eb">Dhcpv6FqdnOption</a> *fqdnOption;</div><div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;</div><div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;   <span class="comment">//Point to the underlying network interface</span></div><div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;   <span class="keyword">interface </span>= context-&gt;settings.interface;</div><div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;</div><div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;   <span class="comment">//Point to the buffer where to format the client&#39;s FQDN</span></div><div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;   fqdnOption = (<a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#a95a52f48a22c46a8c16f31ae310f29eb">Dhcpv6FqdnOption</a> *) context-&gt;clientFqdn;</div><div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;</div><div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;   <span class="comment">//Set flags</span></div><div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;   fqdnOption-&gt;mbz = 0;</div><div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;   fqdnOption-&gt;n = <a class="code" href="../../da/d42/os__port_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;   fqdnOption-&gt;o = <a class="code" href="../../da/d42/os__port_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;   fqdnOption-&gt;s = <a class="code" href="../../da/d42/os__port_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;</div><div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;   <span class="comment">//Encode client&#39;s FQDN</span></div><div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;   context-&gt;clientFqdnLength = <a class="code" href="../../d9/dbb/dns__common_8c.html#aa375505b90ab1f2473b3084c97ace370">dnsEncodeName</a>(interface-&gt;hostname,</div><div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;      fqdnOption-&gt;domainName);</div><div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;</div><div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;   <span class="comment">//Successful processing</span></div><div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94">NO_ERROR</a>;</div><div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;}</div><div class="ttc" id="dhcpv6__common_8h_html_a95a52f48a22c46a8c16f31ae310f29eb"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#a95a52f48a22c46a8c16f31ae310f29eb">Dhcpv6FqdnOption</a></div><div class="ttdeci">__start_packed struct @145 Dhcpv6FqdnOption</div><div class="ttdoc">Fully Qualified Domain Name option. </div></div>
<div class="ttc" id="error_8h_html_ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94"><div class="ttname"><a href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94">NO_ERROR</a></div><div class="ttdoc">Success. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d41/error_8h_source.html#l00044">error.h:44</a></div></div>
<div class="ttc" id="dns__common_8c_html_aa375505b90ab1f2473b3084c97ace370"><div class="ttname"><a href="../../d9/dbb/dns__common_8c.html#aa375505b90ab1f2473b3084c97ace370">dnsEncodeName</a></div><div class="ttdeci">size_t dnsEncodeName(const char_t *src, uint8_t *dest)</div><div class="ttdoc">Encode a domain name using the DNS name notation. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dbb/dns__common_8c_source.html#l00056">dns_common.c:56</a></div></div>
<div class="ttc" id="net_8h_html_a2234db8911a1148c9159979d8f5e0d6b"><div class="ttname"><a href="../../d7/d97/net_8h.html#a2234db8911a1148c9159979d8f5e0d6b">NetInterface</a></div><div class="ttdeci">#define NetInterface</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d97/net_8h_source.html#l00036">net.h:36</a></div></div>
<div class="ttc" id="os__port_8h_html_aa93f0eb578d23995850d61f7d61c55c1"><div class="ttname"><a href="../../da/d42/os__port_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></div><div class="ttdeci">#define FALSE</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d42/os__port_8h_source.html#l00046">os_port.h:46</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0e2ede14d583dbc040aeecc01b262ec2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e2ede14d583dbc040aeecc01b262ec2">&#9670;&nbsp;</a></span>dhcpv6ClientGenerateLinkLocalAddr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689c">error_t</a> dhcpv6ClientGenerateLinkLocalAddr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#aac4eb11915c8cf98cce890c9d0270c9b">Dhcpv6ClientContext</a> *&#160;</td>
          <td class="paramname"><em>context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generate a link-local address. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>Pointer to the DHCPv6 client context </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d6/d91/dhcpv6__client_8c_source.html#l02358">2358</a> of file <a class="el" href="../../d6/d91/dhcpv6__client_8c_source.html">dhcpv6_client.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;{</div><div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;   <a class="code" href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689c">error_t</a> error;</div><div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;   <a class="code" href="../../d7/d97/net_8h.html#a2234db8911a1148c9159979d8f5e0d6b">NetInterface</a> *interface;</div><div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;   <a class="code" href="../../d3/ddd/ipv6_8h.html#aed0cbc40c61ed5b4fb681ebc55237e89">Ipv6Addr</a> <a class="code" href="../../d9/d42/nbns__common_8h.html#ac597eaa9711dfbc34f49d506132e85cd">addr</a>;</div><div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;</div><div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;   <span class="comment">//Point to the underlying network interface</span></div><div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;   <span class="keyword">interface </span>= context-&gt;settings.interface;</div><div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;</div><div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;   <span class="comment">//Check whether a link-local address has been manually assigned</span></div><div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;   <span class="keywordflow">if</span>(interface-&gt;ipv6Context.addrList[0].state != <a class="code" href="../../d3/ddd/ipv6_8h.html#acb54c5e2b7ee1652f5bf055e14cc518dabdf9e5bbd4cc04a803d6e63cc9992ebb">IPV6_ADDR_STATE_INVALID</a> &amp;&amp;</div><div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;      interface-&gt;ipv6Context.addrList[0].permanent)</div><div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;   {</div><div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;      <span class="comment">//Keep using the current link-local address</span></div><div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;      error = <a class="code" href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94">NO_ERROR</a>;</div><div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;   }</div><div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;   <span class="keywordflow">else</span></div><div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;   {</div><div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;      <span class="comment">//A link-local address is formed by combining the well-known</span></div><div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;      <span class="comment">//link-local prefix fe80::/10 with the interface identifier</span></div><div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;      <a class="code" href="../../dc/d33/ipv6__misc_8c.html#a528bfb892811943ea3910ca0e13b0ed1">ipv6GenerateLinkLocalAddr</a>(&amp;interface-&gt;eui64, &amp;addr);</div><div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;</div><div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;<span class="preprocessor">#if (NDP_SUPPORT == ENABLED)</span></div><div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;      <span class="comment">//Check whether Duplicate Address Detection should be performed</span></div><div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;      <span class="keywordflow">if</span>(interface-&gt;ndpContext.dupAddrDetectTransmits &gt; 0)</div><div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;      {</div><div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;         <span class="comment">//Use the link-local address as a tentative address</span></div><div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;         error = <a class="code" href="../../dc/d33/ipv6__misc_8c.html#a260c329b0f6deb7be88e6ee7a1003063">ipv6SetAddr</a>(interface, 0, &amp;addr, <a class="code" href="../../d3/ddd/ipv6_8h.html#acb54c5e2b7ee1652f5bf055e14cc518dacb3152ea8c90d13a425042070b987fe6">IPV6_ADDR_STATE_TENTATIVE</a>,</div><div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;            <a class="code" href="../../d3/d8d/ndp_8h.html#a96fa12d04b522371a81350239b9e2d11">NDP_INFINITE_LIFETIME</a>, <a class="code" href="../../d3/d8d/ndp_8h.html#a96fa12d04b522371a81350239b9e2d11">NDP_INFINITE_LIFETIME</a>, <a class="code" href="../../da/d42/os__port_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;      }</div><div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;      {</div><div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;         <span class="comment">//The use of the link-local address is now unrestricted</span></div><div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;         error = <a class="code" href="../../dc/d33/ipv6__misc_8c.html#a260c329b0f6deb7be88e6ee7a1003063">ipv6SetAddr</a>(interface, 0, &amp;addr, <a class="code" href="../../d3/ddd/ipv6_8h.html#acb54c5e2b7ee1652f5bf055e14cc518daaa3a0ce422a678d8eb14a36f4c642d16">IPV6_ADDR_STATE_PREFERRED</a>,</div><div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;            <a class="code" href="../../d3/d8d/ndp_8h.html#a96fa12d04b522371a81350239b9e2d11">NDP_INFINITE_LIFETIME</a>, <a class="code" href="../../d3/d8d/ndp_8h.html#a96fa12d04b522371a81350239b9e2d11">NDP_INFINITE_LIFETIME</a>, <a class="code" href="../../da/d42/os__port_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div><div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;      }</div><div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;   }</div><div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;</div><div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;   <span class="comment">//Return status code</span></div><div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;   <span class="keywordflow">return</span> error;</div><div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;}</div><div class="ttc" id="ipv6__misc_8c_html_a260c329b0f6deb7be88e6ee7a1003063"><div class="ttname"><a href="../../dc/d33/ipv6__misc_8c.html#a260c329b0f6deb7be88e6ee7a1003063">ipv6SetAddr</a></div><div class="ttdeci">error_t ipv6SetAddr(NetInterface *interface, uint_t index, const Ipv6Addr *addr, Ipv6AddrState state, systime_t validLifetime, systime_t preferredLifetime, bool_t permanent)</div><div class="ttdoc">Set IPv6 address and address state. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d33/ipv6__misc_8c_source.html#l00095">ipv6_misc.c:95</a></div></div>
<div class="ttc" id="ipv6_8h_html_acb54c5e2b7ee1652f5bf055e14cc518dabdf9e5bbd4cc04a803d6e63cc9992ebb"><div class="ttname"><a href="../../d3/ddd/ipv6_8h.html#acb54c5e2b7ee1652f5bf055e14cc518dabdf9e5bbd4cc04a803d6e63cc9992ebb">IPV6_ADDR_STATE_INVALID</a></div><div class="ttdoc">An address that is not assigned to any interface. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/ddd/ipv6_8h_source.html#l00171">ipv6.h:171</a></div></div>
<div class="ttc" id="ipv6_8h_html_acb54c5e2b7ee1652f5bf055e14cc518daaa3a0ce422a678d8eb14a36f4c642d16"><div class="ttname"><a href="../../d3/ddd/ipv6_8h.html#acb54c5e2b7ee1652f5bf055e14cc518daaa3a0ce422a678d8eb14a36f4c642d16">IPV6_ADDR_STATE_PREFERRED</a></div><div class="ttdoc">An address assigned to an interface whose use is unrestricted. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/ddd/ipv6_8h_source.html#l00173">ipv6.h:173</a></div></div>
<div class="ttc" id="error_8h_html_ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94"><div class="ttname"><a href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94">NO_ERROR</a></div><div class="ttdoc">Success. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d41/error_8h_source.html#l00044">error.h:44</a></div></div>
<div class="ttc" id="error_8h_html_ac7659d73a8cdedc08e9f566bb406689c"><div class="ttname"><a href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689c">error_t</a></div><div class="ttdeci">error_t</div><div class="ttdoc">Error codes. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d41/error_8h_source.html#l00042">error.h:42</a></div></div>
<div class="ttc" id="ipv6_8h_html_aed0cbc40c61ed5b4fb681ebc55237e89"><div class="ttname"><a href="../../d3/ddd/ipv6_8h.html#aed0cbc40c61ed5b4fb681ebc55237e89">Ipv6Addr</a></div><div class="ttdeci">__start_packed struct @169 Ipv6Addr</div><div class="ttdoc">IPv6 network address. </div></div>
<div class="ttc" id="ipv6__misc_8c_html_a528bfb892811943ea3910ca0e13b0ed1"><div class="ttname"><a href="../../dc/d33/ipv6__misc_8c.html#a528bfb892811943ea3910ca0e13b0ed1">ipv6GenerateLinkLocalAddr</a></div><div class="ttdeci">void ipv6GenerateLinkLocalAddr(const Eui64 *interfaceId, Ipv6Addr *ipAddr)</div><div class="ttdoc">Generate a IPv6 link-local address from an interface identifier. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d33/ipv6__misc_8c_source.html#l01455">ipv6_misc.c:1455</a></div></div>
<div class="ttc" id="net_8h_html_a2234db8911a1148c9159979d8f5e0d6b"><div class="ttname"><a href="../../d7/d97/net_8h.html#a2234db8911a1148c9159979d8f5e0d6b">NetInterface</a></div><div class="ttdeci">#define NetInterface</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d97/net_8h_source.html#l00036">net.h:36</a></div></div>
<div class="ttc" id="ndp_8h_html_a96fa12d04b522371a81350239b9e2d11"><div class="ttname"><a href="../../d3/d8d/ndp_8h.html#a96fa12d04b522371a81350239b9e2d11">NDP_INFINITE_LIFETIME</a></div><div class="ttdeci">#define NDP_INFINITE_LIFETIME</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d8d/ndp_8h_source.html#l00202">ndp.h:202</a></div></div>
<div class="ttc" id="ipv6_8h_html_acb54c5e2b7ee1652f5bf055e14cc518dacb3152ea8c90d13a425042070b987fe6"><div class="ttname"><a href="../../d3/ddd/ipv6_8h.html#acb54c5e2b7ee1652f5bf055e14cc518dacb3152ea8c90d13a425042070b987fe6">IPV6_ADDR_STATE_TENTATIVE</a></div><div class="ttdoc">An address whose uniqueness on a link is being verified. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/ddd/ipv6_8h_source.html#l00172">ipv6.h:172</a></div></div>
<div class="ttc" id="os__port_8h_html_aa93f0eb578d23995850d61f7d61c55c1"><div class="ttname"><a href="../../da/d42/os__port_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></div><div class="ttdeci">#define FALSE</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d42/os__port_8h_source.html#l00046">os_port.h:46</a></div></div>
<div class="ttc" id="nbns__common_8h_html_ac597eaa9711dfbc34f49d506132e85cd"><div class="ttname"><a href="../../d9/d42/nbns__common_8h.html#ac597eaa9711dfbc34f49d506132e85cd">addr</a></div><div class="ttdeci">Ipv4Addr addr</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d42/nbns__common_8h_source.html#l00121">nbns_common.h:121</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4b7c727b671107febadf4731a332bdf2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b7c727b671107febadf4731a332bdf2">&#9670;&nbsp;</a></span>dhcpv6ClientGetDefaultSettings()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dhcpv6ClientGetDefaultSettings </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/dd5/structDhcpv6ClientSettings.html">Dhcpv6ClientSettings</a> *&#160;</td>
          <td class="paramname"><em>settings</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize settings with default values. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">settings</td><td>Structure that contains DHCPv6 client settings </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d6/d91/dhcpv6__client_8c_source.html#l00075">75</a> of file <a class="el" href="../../d6/d91/dhcpv6__client_8c_source.html">dhcpv6_client.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;{</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;   <span class="comment">//Use default interface</span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;   settings-&gt;<a class="code" href="../../dc/dd5/structDhcpv6ClientSettings.html#ad74dca8474a1b0f8641dd2395ec910df">interface</a> = <a class="code" href="../../d7/d5f/net_8c.html#a991aba7eae4de79f30c6889d95cc6870">netGetDefaultInterface</a>();</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;   <span class="comment">//Support for quick configuration using rapid commit</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;   settings-&gt;<a class="code" href="../../dc/dd5/structDhcpv6ClientSettings.html#af936a8d0ccae32e933868a92b3a58768">rapidCommit</a> = <a class="code" href="../../da/d42/os__port_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;   <span class="comment">//Use the DNS servers provided by the DHCPv6 server</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;   settings-&gt;<a class="code" href="../../dc/dd5/structDhcpv6ClientSettings.html#a12c720ce782bb7124c146e8b5bf19cca">manualDnsConfig</a> = <a class="code" href="../../da/d42/os__port_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;   <span class="comment">//DHCPv6 configuration timeout</span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;   settings-&gt;<a class="code" href="../../dc/dd5/structDhcpv6ClientSettings.html#a440db6e60279995a67d8b3d522ca6f92">timeout</a> = 0;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;   <span class="comment">//DHCPv6 configuration timeout event</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;   settings-&gt;<a class="code" href="../../dc/dd5/structDhcpv6ClientSettings.html#a8ff0d3224eec61ef47ae19eccb8b0026">timeoutEvent</a> = <a class="code" href="../../de/da2/group__BSPDefine.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;   <span class="comment">//Link state change event</span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;   settings-&gt;<a class="code" href="../../dc/dd5/structDhcpv6ClientSettings.html#a89a8117f9bc78b5beeddca6fc6711ac5">linkChangeEvent</a> = <a class="code" href="../../de/da2/group__BSPDefine.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;   <span class="comment">//FSM state change event</span></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;   settings-&gt;<a class="code" href="../../dc/dd5/structDhcpv6ClientSettings.html#aff55e81ba995a9eec72e25079de19280">stateChangeEvent</a> = <a class="code" href="../../de/da2/group__BSPDefine.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;}</div><div class="ttc" id="structDhcpv6ClientSettings_html_a89a8117f9bc78b5beeddca6fc6711ac5"><div class="ttname"><a href="../../dc/dd5/structDhcpv6ClientSettings.html#a89a8117f9bc78b5beeddca6fc6711ac5">Dhcpv6ClientSettings::linkChangeEvent</a></div><div class="ttdeci">Dhcpv6LinkChangeCallback linkChangeEvent</div><div class="ttdoc">Link state change event. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00292">dhcpv6_client.h:292</a></div></div>
<div class="ttc" id="structDhcpv6ClientSettings_html_af936a8d0ccae32e933868a92b3a58768"><div class="ttname"><a href="../../dc/dd5/structDhcpv6ClientSettings.html#af936a8d0ccae32e933868a92b3a58768">Dhcpv6ClientSettings::rapidCommit</a></div><div class="ttdeci">bool_t rapidCommit</div><div class="ttdoc">Quick configuration using rapid commit. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00288">dhcpv6_client.h:288</a></div></div>
<div class="ttc" id="group__BSPDefine_html_ga070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../de/da2/group__BSPDefine.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d6b/nm__bsp_8h_source.html#l00070">nm_bsp.h:70</a></div></div>
<div class="ttc" id="net_8c_html_a991aba7eae4de79f30c6889d95cc6870"><div class="ttname"><a href="../../d7/d5f/net_8c.html#a991aba7eae4de79f30c6889d95cc6870">netGetDefaultInterface</a></div><div class="ttdeci">NetInterface * netGetDefaultInterface(void)</div><div class="ttdoc">Get default network interface. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/net_8c_source.html#l01783">net.c:1783</a></div></div>
<div class="ttc" id="structDhcpv6ClientSettings_html_ad74dca8474a1b0f8641dd2395ec910df"><div class="ttname"><a href="../../dc/dd5/structDhcpv6ClientSettings.html#ad74dca8474a1b0f8641dd2395ec910df">Dhcpv6ClientSettings::interface</a></div><div class="ttdeci">NetInterface * interface</div><div class="ttdoc">Network interface to configure. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00287">dhcpv6_client.h:287</a></div></div>
<div class="ttc" id="structDhcpv6ClientSettings_html_a8ff0d3224eec61ef47ae19eccb8b0026"><div class="ttname"><a href="../../dc/dd5/structDhcpv6ClientSettings.html#a8ff0d3224eec61ef47ae19eccb8b0026">Dhcpv6ClientSettings::timeoutEvent</a></div><div class="ttdeci">Dhcpv6TimeoutCallback timeoutEvent</div><div class="ttdoc">DHCPv6 configuration timeout event. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00291">dhcpv6_client.h:291</a></div></div>
<div class="ttc" id="structDhcpv6ClientSettings_html_a12c720ce782bb7124c146e8b5bf19cca"><div class="ttname"><a href="../../dc/dd5/structDhcpv6ClientSettings.html#a12c720ce782bb7124c146e8b5bf19cca">Dhcpv6ClientSettings::manualDnsConfig</a></div><div class="ttdeci">bool_t manualDnsConfig</div><div class="ttdoc">Force manual DNS configuration. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00289">dhcpv6_client.h:289</a></div></div>
<div class="ttc" id="structDhcpv6ClientSettings_html_aff55e81ba995a9eec72e25079de19280"><div class="ttname"><a href="../../dc/dd5/structDhcpv6ClientSettings.html#aff55e81ba995a9eec72e25079de19280">Dhcpv6ClientSettings::stateChangeEvent</a></div><div class="ttdeci">Dhcpv6StateChangeCallback stateChangeEvent</div><div class="ttdoc">FSM state change event. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00293">dhcpv6_client.h:293</a></div></div>
<div class="ttc" id="structDhcpv6ClientSettings_html_a440db6e60279995a67d8b3d522ca6f92"><div class="ttname"><a href="../../dc/dd5/structDhcpv6ClientSettings.html#a440db6e60279995a67d8b3d522ca6f92">Dhcpv6ClientSettings::timeout</a></div><div class="ttdeci">systime_t timeout</div><div class="ttdoc">DHCPv6 configuration timeout. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00290">dhcpv6_client.h:290</a></div></div>
<div class="ttc" id="os__port_8h_html_aa93f0eb578d23995850d61f7d61c55c1"><div class="ttname"><a href="../../da/d42/os__port_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></div><div class="ttdeci">#define FALSE</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d42/os__port_8h_source.html#l00046">os_port.h:46</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aaa4bae0b8198fb1a32bfb99bb9577797"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa4bae0b8198fb1a32bfb99bb9577797">&#9670;&nbsp;</a></span>dhcpv6ClientGetState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9">Dhcpv6State</a> dhcpv6ClientGetState </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#aac4eb11915c8cf98cce890c9d0270c9b">Dhcpv6ClientContext</a> *&#160;</td>
          <td class="paramname"><em>context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve current state. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>Pointer to the DHCPv6 client context </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Current DHCPv6 client state </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d6/d91/dhcpv6__client_8c_source.html#l00315">315</a> of file <a class="el" href="../../d6/d91/dhcpv6__client_8c_source.html">dhcpv6_client.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;{</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;   <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9">Dhcpv6State</a> state;</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;   <span class="comment">//Get exclusive access</span></div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;   <a class="code" href="../../dd/d0d/os__port__chibios_8c.html#a58485224df4bfa522246d55b35bbd83a">osAcquireMutex</a>(&amp;<a class="code" href="../../d7/d5f/net_8c.html#afe31551ad26115fae8e575654346d441">netMutex</a>);</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;   <span class="comment">//Get current state</span></div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;   state = context-&gt;state;</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;   <span class="comment">//Release exclusive access</span></div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;   <a class="code" href="../../dd/d0d/os__port__chibios_8c.html#a8e10e5b2c6d3877b5ba60e375ac45d79">osReleaseMutex</a>(&amp;<a class="code" href="../../d7/d5f/net_8c.html#afe31551ad26115fae8e575654346d441">netMutex</a>);</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;   <span class="comment">//Return current state</span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;   <span class="keywordflow">return</span> state;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;}</div><div class="ttc" id="os__port__chibios_8c_html_a8e10e5b2c6d3877b5ba60e375ac45d79"><div class="ttname"><a href="../../dd/d0d/os__port__chibios_8c.html#a8e10e5b2c6d3877b5ba60e375ac45d79">osReleaseMutex</a></div><div class="ttdeci">void osReleaseMutex(OsMutex *mutex)</div><div class="ttdoc">Release ownership of the specified mutex object. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d0d/os__port__chibios_8c_source.html#l00474">os_port_chibios.c:474</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_a8610bfd009af9756638a193136ef93f9"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9">Dhcpv6State</a></div><div class="ttdeci">Dhcpv6State</div><div class="ttdoc">DHCPv6 client FSM states. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00241">dhcpv6_client.h:241</a></div></div>
<div class="ttc" id="net_8c_html_afe31551ad26115fae8e575654346d441"><div class="ttname"><a href="../../d7/d5f/net_8c.html#afe31551ad26115fae8e575654346d441">netMutex</a></div><div class="ttdeci">OsMutex netMutex</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/net_8c_source.html#l00075">net.c:75</a></div></div>
<div class="ttc" id="os__port__chibios_8c_html_a58485224df4bfa522246d55b35bbd83a"><div class="ttname"><a href="../../dd/d0d/os__port__chibios_8c.html#a58485224df4bfa522246d55b35bbd83a">osAcquireMutex</a></div><div class="ttdeci">void osAcquireMutex(OsMutex *mutex)</div><div class="ttdoc">Acquire ownership of the specified mutex object. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d0d/os__port__chibios_8c_source.html#l00462">os_port_chibios.c:462</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af04f903341a262d1adddbd8e878ed0e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af04f903341a262d1adddbd8e878ed0e5">&#9670;&nbsp;</a></span>dhcpv6ClientInit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689c">error_t</a> dhcpv6ClientInit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#aac4eb11915c8cf98cce890c9d0270c9b">Dhcpv6ClientContext</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../dc/dd5/structDhcpv6ClientSettings.html">Dhcpv6ClientSettings</a> *&#160;</td>
          <td class="paramname"><em>settings</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>DHCPv6 client initialization. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>Pointer to the DHCPv6 client context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">settings</td><td>DHCPv6 client specific settings </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d6/d91/dhcpv6__client_8c_source.html#l00102">102</a> of file <a class="el" href="../../d6/d91/dhcpv6__client_8c_source.html">dhcpv6_client.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;{</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;   <a class="code" href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689c">error_t</a> error;</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;   <a class="code" href="../../d7/d97/net_8h.html#a2234db8911a1148c9159979d8f5e0d6b">NetInterface</a> *interface;</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;   <span class="comment">//Debug message</span></div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;   <a class="code" href="../../db/d16/debug_8h.html#a7339bfd784193a5c79efcef2eeb2d6df">TRACE_INFO</a>(<span class="stringliteral">&quot;Initializing DHCPv6 client...\r\n&quot;</span>);</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;   <span class="comment">//Ensure the parameters are valid</span></div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;   <span class="keywordflow">if</span>(context == <a class="code" href="../../de/da2/group__BSPDefine.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> || settings == <a class="code" href="../../de/da2/group__BSPDefine.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689caeae4b12e06d727d085f75f79a820f2e8">ERROR_INVALID_PARAMETER</a>;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;   <span class="comment">//A valid pointer to the interface being configured is required</span></div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;   <span class="keywordflow">if</span>(settings-&gt;<a class="code" href="../../dc/dd5/structDhcpv6ClientSettings.html#ad74dca8474a1b0f8641dd2395ec910df">interface</a> == <a class="code" href="../../de/da2/group__BSPDefine.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689caeae4b12e06d727d085f75f79a820f2e8">ERROR_INVALID_PARAMETER</a>;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;   <span class="comment">//Point to the underlying network interface</span></div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;   <span class="keyword">interface </span>= settings-&gt;interface;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;   <span class="comment">//Clear the DHCPv6 client context</span></div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;   memset(context, 0, <span class="keyword">sizeof</span>(<a class="code" href="../../df/d84/dhcpv6__client_8h.html#aac4eb11915c8cf98cce890c9d0270c9b">Dhcpv6ClientContext</a>));</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;   <span class="comment">//Save user settings</span></div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;   context-&gt;settings = *settings;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;   <span class="comment">//Generate client&#39;s DUID</span></div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;   error = <a class="code" href="../../d6/d91/dhcpv6__client_8c.html#aebf29ea2ff641b03c1736f386c63e268">dhcpv6ClientGenerateDuid</a>(context);</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;   <span class="comment">//any error to report?</span></div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;   <span class="keywordflow">if</span>(error)</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;      <span class="keywordflow">return</span> error;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;   <span class="comment">//Generate client&#39;s fully qualified domain name</span></div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;   error = <a class="code" href="../../d6/d91/dhcpv6__client_8c.html#a8759e1d2cf5b1556bfa3d972e70e67e1">dhcpv6ClientGenerateFqdn</a>(context);</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;   <span class="comment">//any error to report?</span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;   <span class="keywordflow">if</span>(error)</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;      <span class="keywordflow">return</span> error;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;   <span class="comment">//Callback function to be called when a DHCPv6 message is received</span></div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;   error = <a class="code" href="../../dd/dc4/udp_8c.html#a38370e246c2908c710db4773a6423cee">udpAttachRxCallback</a>(interface, <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#a6802d48c8c3b96baafb23641a82f43a0">DHCPV6_CLIENT_PORT</a>,</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;      <a class="code" href="../../d6/d91/dhcpv6__client_8c.html#acc731e16386b5bb776b7acbbe58ea2b8">dhcpv6ClientProcessMessage</a>, context);</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;   <span class="comment">//Failed to register callback function?</span></div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;   <span class="keywordflow">if</span>(error)</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;      <span class="keywordflow">return</span> error;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;   <span class="comment">//DHCPv6 client is currently suspended</span></div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;   context-&gt;running = <a class="code" href="../../da/d42/os__port_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;   <span class="comment">//Initialize state machine</span></div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;   context-&gt;state = <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a017951020877623ce2220289f5c93025">DHCPV6_STATE_INIT</a>;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;   <span class="comment">//Attach the DHCPv6 client context to the network interface</span></div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;   interface-&gt;dhcpv6ClientContext = context;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;   <span class="comment">//Successful initialization</span></div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94">NO_ERROR</a>;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;}</div><div class="ttc" id="error_8h_html_ac7659d73a8cdedc08e9f566bb406689caeae4b12e06d727d085f75f79a820f2e8"><div class="ttname"><a href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689caeae4b12e06d727d085f75f79a820f2e8">ERROR_INVALID_PARAMETER</a></div><div class="ttdoc">Invalid parameter. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d41/error_8h_source.html#l00047">error.h:47</a></div></div>
<div class="ttc" id="group__BSPDefine_html_ga070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../de/da2/group__BSPDefine.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d6b/nm__bsp_8h_source.html#l00070">nm_bsp.h:70</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_aac4eb11915c8cf98cce890c9d0270c9b"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#aac4eb11915c8cf98cce890c9d0270c9b">Dhcpv6ClientContext</a></div><div class="ttdeci">#define Dhcpv6ClientContext</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00229">dhcpv6_client.h:229</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_a6802d48c8c3b96baafb23641a82f43a0"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#a6802d48c8c3b96baafb23641a82f43a0">DHCPV6_CLIENT_PORT</a></div><div class="ttdeci">#define DHCPV6_CLIENT_PORT</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddf/dhcpv6__common_8h_source.html#l00040">dhcpv6_common.h:40</a></div></div>
<div class="ttc" id="dhcpv6__client_8c_html_a8759e1d2cf5b1556bfa3d972e70e67e1"><div class="ttname"><a href="../../d6/d91/dhcpv6__client_8c.html#a8759e1d2cf5b1556bfa3d972e70e67e1">dhcpv6ClientGenerateFqdn</a></div><div class="ttdeci">error_t dhcpv6ClientGenerateFqdn(Dhcpv6ClientContext *context)</div><div class="ttdoc">Generate client&amp;#39;s fully qualified domain name. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d91/dhcpv6__client_8c_source.html#l02326">dhcpv6_client.c:2326</a></div></div>
<div class="ttc" id="dhcpv6__client_8c_html_aebf29ea2ff641b03c1736f386c63e268"><div class="ttname"><a href="../../d6/d91/dhcpv6__client_8c.html#aebf29ea2ff641b03c1736f386c63e268">dhcpv6ClientGenerateDuid</a></div><div class="ttdeci">error_t dhcpv6ClientGenerateDuid(Dhcpv6ClientContext *context)</div><div class="ttdoc">Generate client&amp;#39;s DUID. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d91/dhcpv6__client_8c_source.html#l02283">dhcpv6_client.c:2283</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_a8610bfd009af9756638a193136ef93f9a017951020877623ce2220289f5c93025"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a017951020877623ce2220289f5c93025">DHCPV6_STATE_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00243">dhcpv6_client.h:243</a></div></div>
<div class="ttc" id="udp_8c_html_a38370e246c2908c710db4773a6423cee"><div class="ttname"><a href="../../dd/dc4/udp_8c.html#a38370e246c2908c710db4773a6423cee">udpAttachRxCallback</a></div><div class="ttdeci">error_t udpAttachRxCallback(NetInterface *interface, uint16_t port, UdpRxCallback callback, void *param)</div><div class="ttdoc">Register user callback. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dc4/udp_8c_source.html#l00764">udp.c:764</a></div></div>
<div class="ttc" id="structDhcpv6ClientSettings_html_ad74dca8474a1b0f8641dd2395ec910df"><div class="ttname"><a href="../../dc/dd5/structDhcpv6ClientSettings.html#ad74dca8474a1b0f8641dd2395ec910df">Dhcpv6ClientSettings::interface</a></div><div class="ttdeci">NetInterface * interface</div><div class="ttdoc">Network interface to configure. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00287">dhcpv6_client.h:287</a></div></div>
<div class="ttc" id="debug_8h_html_a7339bfd784193a5c79efcef2eeb2d6df"><div class="ttname"><a href="../../db/d16/debug_8h.html#a7339bfd784193a5c79efcef2eeb2d6df">TRACE_INFO</a></div><div class="ttdeci">#define TRACE_INFO(...)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d16/debug_8h_source.html#l00094">debug.h:94</a></div></div>
<div class="ttc" id="error_8h_html_ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94"><div class="ttname"><a href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94">NO_ERROR</a></div><div class="ttdoc">Success. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d41/error_8h_source.html#l00044">error.h:44</a></div></div>
<div class="ttc" id="error_8h_html_ac7659d73a8cdedc08e9f566bb406689c"><div class="ttname"><a href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689c">error_t</a></div><div class="ttdeci">error_t</div><div class="ttdoc">Error codes. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d41/error_8h_source.html#l00042">error.h:42</a></div></div>
<div class="ttc" id="net_8h_html_a2234db8911a1148c9159979d8f5e0d6b"><div class="ttname"><a href="../../d7/d97/net_8h.html#a2234db8911a1148c9159979d8f5e0d6b">NetInterface</a></div><div class="ttdeci">#define NetInterface</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d97/net_8h_source.html#l00036">net.h:36</a></div></div>
<div class="ttc" id="dhcpv6__client_8c_html_acc731e16386b5bb776b7acbbe58ea2b8"><div class="ttname"><a href="../../d6/d91/dhcpv6__client_8c.html#acc731e16386b5bb776b7acbbe58ea2b8">dhcpv6ClientProcessMessage</a></div><div class="ttdeci">void dhcpv6ClientProcessMessage(NetInterface *interface, const IpPseudoHeader *pseudoHeader, const UdpHeader *udpHeader, const NetBuffer *buffer, size_t offset, void *param)</div><div class="ttdoc">Process incoming DHCPv6 message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d91/dhcpv6__client_8c_source.html#l01441">dhcpv6_client.c:1441</a></div></div>
<div class="ttc" id="os__port_8h_html_aa93f0eb578d23995850d61f7d61c55c1"><div class="ttname"><a href="../../da/d42/os__port_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></div><div class="ttdeci">#define FALSE</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d42/os__port_8h_source.html#l00046">os_port.h:46</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9061e440105f4e3ec613078afe8c7fd8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9061e440105f4e3ec613078afe8c7fd8">&#9670;&nbsp;</a></span>dhcpv6ClientLinkChangeEvent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dhcpv6ClientLinkChangeEvent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#aac4eb11915c8cf98cce890c9d0270c9b">Dhcpv6ClientContext</a> *&#160;</td>
          <td class="paramname"><em>context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback function for link change event. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>Pointer to the DHCPv6 client context </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d6/d91/dhcpv6__client_8c_source.html#l00436">436</a> of file <a class="el" href="../../d6/d91/dhcpv6__client_8c_source.html">dhcpv6_client.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;{</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;   <a class="code" href="../../d7/d97/net_8h.html#a2234db8911a1148c9159979d8f5e0d6b">NetInterface</a> *interface;</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;   <span class="comment">//Make sure the DHCPv6 client has been properly instantiated</span></div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;   <span class="keywordflow">if</span>(context == <a class="code" href="../../de/da2/group__BSPDefine.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;   <span class="comment">//Point to the underlying network interface</span></div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;   <span class="keyword">interface </span>= context-&gt;settings.interface;</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;   <span class="comment">//Check whether the DHCPv6 client is running</span></div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;   <span class="keywordflow">if</span>(context-&gt;running)</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;   {</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;      <span class="comment">//Automatic DNS server configuration?</span></div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;      <span class="keywordflow">if</span>(!context-&gt;settings.manualDnsConfig)</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;      {</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;         <span class="comment">//Clear the list of DNS servers</span></div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;         <a class="code" href="../../dc/d33/ipv6__misc_8c.html#a4b3ce94edd9cad3fb3269e805a104b97">ipv6FlushDnsServerList</a>(interface);</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;      }</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;      <span class="comment">//Link-up event?</span></div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;      <span class="keywordflow">if</span>(interface-&gt;linkState)</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;      {</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;         <span class="comment">//A link-local address is formed by combining the well-known</span></div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;         <span class="comment">//link-local prefix fe80::/10 with the interface identifier</span></div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;         <a class="code" href="../../d6/d91/dhcpv6__client_8c.html#a0e2ede14d583dbc040aeecc01b262ec2">dhcpv6ClientGenerateLinkLocalAddr</a>(context);</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;      }</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;   }</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;   <span class="comment">//Check the state of the DHCPv6 client</span></div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;   <span class="keywordflow">switch</span>(context-&gt;state)</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;   {</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a73ca75f9f049c278a5f92b2def686884">DHCPV6_STATE_INIT_CONFIRM</a>:</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9ac0f1f4819e62f2979a26a3654af7e2fc">DHCPV6_STATE_CONFIRM</a>:</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a3b351a49eb0882948f1af86701439abd">DHCPV6_STATE_DAD</a>:</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a49b5f6fffcbc5e9dadbe07ebe2d29535">DHCPV6_STATE_BOUND</a>:</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a28a33f3446b846dc6ed8b728b23a5b70">DHCPV6_STATE_RENEW</a>:</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9ae19c57945990feb5d8fd89ae986481b6">DHCPV6_STATE_REBIND</a>:</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;      <span class="comment">//The client already has a valid lease</span></div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;      context-&gt;state = <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a73ca75f9f049c278a5f92b2def686884">DHCPV6_STATE_INIT_CONFIRM</a>;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a5c7dfad4462eb1ae1b609e1800f1dc93">DHCPV6_STATE_RELEASE</a>:</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;      <span class="comment">//Stop DHCPv6 client</span></div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;      context-&gt;running = <a class="code" href="../../da/d42/os__port_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;      <span class="comment">//Reinitialize state machine</span></div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;      context-&gt;state = <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a017951020877623ce2220289f5c93025">DHCPV6_STATE_INIT</a>;</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;   <span class="keywordflow">default</span>:</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;      <span class="comment">//Switch to the INIT state</span></div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;      context-&gt;state = <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a017951020877623ce2220289f5c93025">DHCPV6_STATE_INIT</a>;</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;   }</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;   <span class="comment">//Any registered callback?</span></div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;   <span class="keywordflow">if</span>(context-&gt;settings.linkChangeEvent != <a class="code" href="../../de/da2/group__BSPDefine.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;   {</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;      <span class="comment">//Release exclusive access</span></div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;      <a class="code" href="../../dd/d0d/os__port__chibios_8c.html#a8e10e5b2c6d3877b5ba60e375ac45d79">osReleaseMutex</a>(&amp;<a class="code" href="../../d7/d5f/net_8c.html#afe31551ad26115fae8e575654346d441">netMutex</a>);</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;      <span class="comment">//Invoke user callback function</span></div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;      context-&gt;settings.linkChangeEvent(context, interface, interface-&gt;linkState);</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;      <span class="comment">//Get exclusive access</span></div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;      <a class="code" href="../../dd/d0d/os__port__chibios_8c.html#a58485224df4bfa522246d55b35bbd83a">osAcquireMutex</a>(&amp;<a class="code" href="../../d7/d5f/net_8c.html#afe31551ad26115fae8e575654346d441">netMutex</a>);</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;   }</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;}</div><div class="ttc" id="dhcpv6__client_8h_html_a8610bfd009af9756638a193136ef93f9a5c7dfad4462eb1ae1b609e1800f1dc93"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a5c7dfad4462eb1ae1b609e1800f1dc93">DHCPV6_STATE_RELEASE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00252">dhcpv6_client.h:252</a></div></div>
<div class="ttc" id="ipv6__misc_8c_html_a4b3ce94edd9cad3fb3269e805a104b97"><div class="ttname"><a href="../../dc/d33/ipv6__misc_8c.html#a4b3ce94edd9cad3fb3269e805a104b97">ipv6FlushDnsServerList</a></div><div class="ttdeci">void ipv6FlushDnsServerList(NetInterface *interface)</div><div class="ttdoc">Flush the list of DNS servers. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d33/ipv6__misc_8c_source.html#l00739">ipv6_misc.c:739</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_a8610bfd009af9756638a193136ef93f9a73ca75f9f049c278a5f92b2def686884"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a73ca75f9f049c278a5f92b2def686884">DHCPV6_STATE_INIT_CONFIRM</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00246">dhcpv6_client.h:246</a></div></div>
<div class="ttc" id="group__BSPDefine_html_ga070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../de/da2/group__BSPDefine.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d6b/nm__bsp_8h_source.html#l00070">nm_bsp.h:70</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_a8610bfd009af9756638a193136ef93f9a49b5f6fffcbc5e9dadbe07ebe2d29535"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a49b5f6fffcbc5e9dadbe07ebe2d29535">DHCPV6_STATE_BOUND</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00249">dhcpv6_client.h:249</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_a8610bfd009af9756638a193136ef93f9a017951020877623ce2220289f5c93025"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a017951020877623ce2220289f5c93025">DHCPV6_STATE_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00243">dhcpv6_client.h:243</a></div></div>
<div class="ttc" id="dhcpv6__client_8c_html_a0e2ede14d583dbc040aeecc01b262ec2"><div class="ttname"><a href="../../d6/d91/dhcpv6__client_8c.html#a0e2ede14d583dbc040aeecc01b262ec2">dhcpv6ClientGenerateLinkLocalAddr</a></div><div class="ttdeci">error_t dhcpv6ClientGenerateLinkLocalAddr(Dhcpv6ClientContext *context)</div><div class="ttdoc">Generate a link-local address. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d91/dhcpv6__client_8c_source.html#l02358">dhcpv6_client.c:2358</a></div></div>
<div class="ttc" id="os__port__chibios_8c_html_a8e10e5b2c6d3877b5ba60e375ac45d79"><div class="ttname"><a href="../../dd/d0d/os__port__chibios_8c.html#a8e10e5b2c6d3877b5ba60e375ac45d79">osReleaseMutex</a></div><div class="ttdeci">void osReleaseMutex(OsMutex *mutex)</div><div class="ttdoc">Release ownership of the specified mutex object. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d0d/os__port__chibios_8c_source.html#l00474">os_port_chibios.c:474</a></div></div>
<div class="ttc" id="net_8h_html_a2234db8911a1148c9159979d8f5e0d6b"><div class="ttname"><a href="../../d7/d97/net_8h.html#a2234db8911a1148c9159979d8f5e0d6b">NetInterface</a></div><div class="ttdeci">#define NetInterface</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d97/net_8h_source.html#l00036">net.h:36</a></div></div>
<div class="ttc" id="net_8c_html_afe31551ad26115fae8e575654346d441"><div class="ttname"><a href="../../d7/d5f/net_8c.html#afe31551ad26115fae8e575654346d441">netMutex</a></div><div class="ttdeci">OsMutex netMutex</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/net_8c_source.html#l00075">net.c:75</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_a8610bfd009af9756638a193136ef93f9ae19c57945990feb5d8fd89ae986481b6"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9ae19c57945990feb5d8fd89ae986481b6">DHCPV6_STATE_REBIND</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00251">dhcpv6_client.h:251</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_a8610bfd009af9756638a193136ef93f9ac0f1f4819e62f2979a26a3654af7e2fc"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9ac0f1f4819e62f2979a26a3654af7e2fc">DHCPV6_STATE_CONFIRM</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00247">dhcpv6_client.h:247</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_a8610bfd009af9756638a193136ef93f9a3b351a49eb0882948f1af86701439abd"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a3b351a49eb0882948f1af86701439abd">DHCPV6_STATE_DAD</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00248">dhcpv6_client.h:248</a></div></div>
<div class="ttc" id="os__port_8h_html_aa93f0eb578d23995850d61f7d61c55c1"><div class="ttname"><a href="../../da/d42/os__port_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></div><div class="ttdeci">#define FALSE</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d42/os__port_8h_source.html#l00046">os_port.h:46</a></div></div>
<div class="ttc" id="os__port__chibios_8c_html_a58485224df4bfa522246d55b35bbd83a"><div class="ttname"><a href="../../dd/d0d/os__port__chibios_8c.html#a58485224df4bfa522246d55b35bbd83a">osAcquireMutex</a></div><div class="ttdeci">void osAcquireMutex(OsMutex *mutex)</div><div class="ttdoc">Acquire ownership of the specified mutex object. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d0d/os__port__chibios_8c_source.html#l00462">os_port_chibios.c:462</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_a8610bfd009af9756638a193136ef93f9a28a33f3446b846dc6ed8b728b23a5b70"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a28a33f3446b846dc6ed8b728b23a5b70">DHCPV6_STATE_RENEW</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00250">dhcpv6_client.h:250</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac0a83fe8f0c247ae596f245e727c56cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0a83fe8f0c247ae596f245e727c56cd">&#9670;&nbsp;</a></span>dhcpv6ClientParseAdvertise()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dhcpv6ClientParseAdvertise </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#aac4eb11915c8cf98cce890c9d0270c9b">Dhcpv6ClientContext</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d1/ddf/dhcpv6__common_8h.html#a32f2f44ec9a8d2ee5e2977a7fcddaf85">Dhcpv6Message</a> *&#160;</td>
          <td class="paramname"><em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse Advertise message. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>Pointer to the DHCPv6 client context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">message</td><td>Pointer to the incoming message to parse </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">length</td><td>Length of the incoming message </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d6/d91/dhcpv6__client_8c_source.html#l01497">1497</a> of file <a class="el" href="../../d6/d91/dhcpv6__client_8c_source.html">dhcpv6_client.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;{</div><div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;   <a class="code" href="../../d1/dfa/compiler__port_8h.html#a12a1e9b3ce141648783a82445d02b58d">uint_t</a> i;</div><div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;   <a class="code" href="../../d1/dfa/compiler__port_8h.html#a022c65af7f6c8d3947e8a37d64db6ad6">int_t</a> serverPreference;</div><div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;   <a class="code" href="../../d7/d97/net_8h.html#a2234db8911a1148c9159979d8f5e0d6b">NetInterface</a> *interface;</div><div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;   <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#ae3d249bb8993edf1fb41f1ac349078f1">Dhcpv6StatusCode</a> status;</div><div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;   <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#a89f7acb5d12dede28c2b98290018051e">Dhcpv6Option</a> *option;</div><div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;   <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#a89f7acb5d12dede28c2b98290018051e">Dhcpv6Option</a> *serverIdOption;</div><div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;   <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#a283df3c541c6799826d644800f32079a">Dhcpv6IaNaOption</a> *iaNaOption;</div><div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;</div><div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;   <span class="comment">//Point to the underlying network interface</span></div><div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;   <span class="keyword">interface </span>= context-&gt;settings.interface;</div><div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;</div><div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;   <span class="comment">//Make sure that the Advertise message is received in response to</span></div><div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;   <span class="comment">//a Solicit message</span></div><div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;   <span class="keywordflow">if</span>(context-&gt;state != <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a7bc292bbd95a3839b42102e4f5a57e59">DHCPV6_STATE_SOLICIT</a>)</div><div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;</div><div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;   <span class="comment">//Discard any received packet that does not match the transaction ID</span></div><div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;   <span class="keywordflow">if</span>(<a class="code" href="../../df/de9/cpu__endian_8h.html#ae0950d84d4cadc7bef52fc340c49c720">LOAD24BE</a>(<a class="code" href="../../d5/dbb/chap_8h.html#a52f19d36a71e9b8ddea38fe00c291181">message</a>-&gt;transactionId) != context-&gt;transactionId)</div><div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;</div><div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;   <span class="comment">//Get the length of the Options field</span></div><div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;   <a class="code" href="../../d3/d25/dtls__misc_8h.html#ab43ca82dd7fa2a0e56f941032ef324c4">length</a> -= <span class="keyword">sizeof</span>(<a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#a32f2f44ec9a8d2ee5e2977a7fcddaf85">Dhcpv6Message</a>);</div><div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;</div><div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;   <span class="comment">//Search for the Client Identifier option</span></div><div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;   option = <a class="code" href="../../dc/ded/dhcpv6__common_8c.html#a6678e0579ff5fe27d71f2ca45f35b54b">dhcpv6GetOption</a>(<a class="code" href="../../d5/dbb/chap_8h.html#a52f19d36a71e9b8ddea38fe00c291181">message</a>-&gt;options, <a class="code" href="../../d3/d25/dtls__misc_8h.html#ab43ca82dd7fa2a0e56f941032ef324c4">length</a>, <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#ace3d7da87df06edf56819a49ebf00574a514e3d36a6eed2796997f995b847c4ff">DHCPV6_OPTION_CLIENTID</a>);</div><div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;</div><div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;   <span class="comment">//Discard any received packet that does not include a Client Identifier option</span></div><div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;   <span class="keywordflow">if</span>(option == <a class="code" href="../../de/da2/group__BSPDefine.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;   <span class="comment">//Check the length of the option</span></div><div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;   <span class="keywordflow">if</span>(<a class="code" href="../../df/de9/cpu__endian_8h.html#a9312c6eb72e64f748ae0d0e0dc3ec9b9">ntohs</a>(option-&gt;length) != context-&gt;clientIdLength)</div><div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;   <span class="comment">//Check whether the Client Identifier matches our identifier</span></div><div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;   <span class="keywordflow">if</span>(memcmp(option-&gt;value, context-&gt;clientId, context-&gt;clientIdLength))</div><div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;</div><div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;   <span class="comment">//Search for the Server Identifier option</span></div><div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;   serverIdOption = <a class="code" href="../../dc/ded/dhcpv6__common_8c.html#a6678e0579ff5fe27d71f2ca45f35b54b">dhcpv6GetOption</a>(<a class="code" href="../../d5/dbb/chap_8h.html#a52f19d36a71e9b8ddea38fe00c291181">message</a>-&gt;options, <a class="code" href="../../d3/d25/dtls__misc_8h.html#ab43ca82dd7fa2a0e56f941032ef324c4">length</a>, <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#ace3d7da87df06edf56819a49ebf00574ae48652f6f207faa0fecc5ba909757672">DHCPV6_OPTION_SERVERID</a>);</div><div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;</div><div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;   <span class="comment">//Discard any received packet that does not include a Server Identifier option</span></div><div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;   <span class="keywordflow">if</span>(serverIdOption == <a class="code" href="../../de/da2/group__BSPDefine.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;   <span class="comment">//Check the length of the server DUID</span></div><div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;   <span class="keywordflow">if</span>(<a class="code" href="../../df/de9/cpu__endian_8h.html#a9312c6eb72e64f748ae0d0e0dc3ec9b9">ntohs</a>(serverIdOption-&gt;length) == 0)</div><div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;   <span class="keywordflow">if</span>(<a class="code" href="../../df/de9/cpu__endian_8h.html#a9312c6eb72e64f748ae0d0e0dc3ec9b9">ntohs</a>(serverIdOption-&gt;length) &gt; <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#aa05ad3ad9a83e2486fbb7f86838fffb9">DHCPV6_MAX_DUID_SIZE</a>)</div><div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;</div><div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;   <span class="comment">//Get the status code returned by the server</span></div><div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;   status = <a class="code" href="../../dc/ded/dhcpv6__common_8c.html#a5eafbb8cf026dbdf9df9dd882d4c1713">dhcpv6GetStatusCode</a>(<a class="code" href="../../d5/dbb/chap_8h.html#a52f19d36a71e9b8ddea38fe00c291181">message</a>-&gt;options, <a class="code" href="../../d3/d25/dtls__misc_8h.html#ab43ca82dd7fa2a0e56f941032ef324c4">length</a>);</div><div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;</div><div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;   <span class="comment">//If the message contains a Status Code option indicating a failure,</span></div><div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;   <span class="comment">//then the Advertise message is discarded by the client</span></div><div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;   <span class="keywordflow">if</span>(status != <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#ae3d249bb8993edf1fb41f1ac349078f1ae42228ed0a2112512e652d5b51af56fe">DHCPV6_STATUS_SUCCESS</a>)</div><div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;</div><div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;   <span class="comment">//Search for the Preference option</span></div><div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;   option = <a class="code" href="../../dc/ded/dhcpv6__common_8c.html#a6678e0579ff5fe27d71f2ca45f35b54b">dhcpv6GetOption</a>(<a class="code" href="../../d5/dbb/chap_8h.html#a52f19d36a71e9b8ddea38fe00c291181">message</a>-&gt;options, <a class="code" href="../../d3/d25/dtls__misc_8h.html#ab43ca82dd7fa2a0e56f941032ef324c4">length</a>, <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#ace3d7da87df06edf56819a49ebf00574a910da2d64590a3f4b7294336b6c2a5c2">DHCPV6_OPTION_PREFERENCE</a>);</div><div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;</div><div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;   <span class="comment">//Check whether the option has been found</span></div><div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;   <span class="keywordflow">if</span>(option != <a class="code" href="../../de/da2/group__BSPDefine.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> &amp;&amp; <a class="code" href="../../df/de9/cpu__endian_8h.html#a9312c6eb72e64f748ae0d0e0dc3ec9b9">ntohs</a>(option-&gt;length) == <span class="keyword">sizeof</span>(<a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#a07cb201db39cd61e5142b2da5a3bad80">Dhcpv6PreferenceOption</a>))</div><div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;   {</div><div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;      <span class="comment">//Server server preference value</span></div><div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;      serverPreference = option-&gt;value[0];</div><div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;   }</div><div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;   <span class="keywordflow">else</span></div><div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;   {</div><div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;      <span class="comment">//Any Advertise that does not include a Preference option</span></div><div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;      <span class="comment">//is considered to have a preference value of 0</span></div><div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;      serverPreference = 0;</div><div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;   }</div><div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;</div><div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;   <span class="comment">//Select the Advertise message that offers the highest server preference value</span></div><div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;   <span class="keywordflow">if</span>(serverPreference &gt; context-&gt;serverPreference)</div><div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;   {</div><div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;      <span class="comment">//Save the length of the DUID</span></div><div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;      context-&gt;serverIdLength = <a class="code" href="../../df/de9/cpu__endian_8h.html#a9312c6eb72e64f748ae0d0e0dc3ec9b9">ntohs</a>(serverIdOption-&gt;length);</div><div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;      <span class="comment">//Record the server DUID</span></div><div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;      memcpy(context-&gt;serverId, serverIdOption-&gt;value, context-&gt;serverIdLength);</div><div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;</div><div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;      <span class="comment">//Flush the list of IPv6 addresses from the client&#39;s IA</span></div><div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;      <a class="code" href="../../d6/d91/dhcpv6__client_8c.html#ab03f421bf4324e1426814302b4ef320a">dhcpv6ClientFlushAddrList</a>(context);</div><div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;   }</div><div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;</div><div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;   <span class="comment">//Point to the first option</span></div><div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;   i = 0;</div><div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;</div><div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;   <span class="comment">//Loop through DHCPv6 options</span></div><div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;   <span class="keywordflow">while</span>(i &lt; <a class="code" href="../../d3/d25/dtls__misc_8h.html#ab43ca82dd7fa2a0e56f941032ef324c4">length</a>)</div><div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;   {</div><div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;      <span class="comment">//Search for an IA_NA option</span></div><div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;      option = <a class="code" href="../../dc/ded/dhcpv6__common_8c.html#a6678e0579ff5fe27d71f2ca45f35b54b">dhcpv6GetOption</a>(<a class="code" href="../../d5/dbb/chap_8h.html#a52f19d36a71e9b8ddea38fe00c291181">message</a>-&gt;options + i, <a class="code" href="../../d3/d25/dtls__misc_8h.html#ab43ca82dd7fa2a0e56f941032ef324c4">length</a> - i, <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#ace3d7da87df06edf56819a49ebf00574a03bdde9e8ae8a85d4936efb2f9fbb956">DHCPV6_OPTION_IA_NA</a>);</div><div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;</div><div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;      <span class="comment">//Unable to find the specified option?</span></div><div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;      <span class="keywordflow">if</span>(option == <a class="code" href="../../de/da2/group__BSPDefine.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;</div><div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;      <span class="comment">//Make sure the IA_NA option is valid</span></div><div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="../../df/de9/cpu__endian_8h.html#a9312c6eb72e64f748ae0d0e0dc3ec9b9">ntohs</a>(option-&gt;length) &gt;= <span class="keyword">sizeof</span>(<a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#a283df3c541c6799826d644800f32079a">Dhcpv6IaNaOption</a>))</div><div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;      {</div><div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;         <span class="comment">//Get the parameters associated with the IA_NA</span></div><div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;         iaNaOption = (<a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#a283df3c541c6799826d644800f32079a">Dhcpv6IaNaOption</a> *) option-&gt;value;</div><div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;</div><div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;         <span class="comment">//Check the IA identifier</span></div><div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;         <span class="keywordflow">if</span>(<a class="code" href="../../df/de9/cpu__endian_8h.html#a22f92ea3318059b7d88dfbd98d0cbc3e">ntohl</a>(iaNaOption-&gt;iaId) == interface-&gt;id)</div><div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;         {</div><div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;            <span class="comment">//The client examines the status code in each IA individually</span></div><div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;            status = <a class="code" href="../../dc/ded/dhcpv6__common_8c.html#a5eafbb8cf026dbdf9df9dd882d4c1713">dhcpv6GetStatusCode</a>(iaNaOption-&gt;options,</div><div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;               <a class="code" href="../../df/de9/cpu__endian_8h.html#a9312c6eb72e64f748ae0d0e0dc3ec9b9">ntohs</a>(option-&gt;length) - <span class="keyword">sizeof</span>(<a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#a283df3c541c6799826d644800f32079a">Dhcpv6IaNaOption</a>));</div><div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;</div><div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;            <span class="comment">//The client must ignore any Advertise message that includes a Status</span></div><div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;            <span class="comment">//Code option containing the value NoAddrsAvail</span></div><div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;            <span class="keywordflow">if</span>(status == <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#ae3d249bb8993edf1fb41f1ac349078f1afa3a49bf50a5777dcad48e8a7f84b576">DHCPV6_STATUS_NO_ADDRS_AVAILABLE</a>)</div><div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;               <span class="keywordflow">return</span>;</div><div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;         }</div><div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;</div><div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;         <span class="comment">//Check the server preference value</span></div><div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;         <span class="keywordflow">if</span>(serverPreference &gt; context-&gt;serverPreference)</div><div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;         {</div><div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;            <span class="comment">//Parse the contents of the IA_NA option</span></div><div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;            <a class="code" href="../../d6/d91/dhcpv6__client_8c.html#ad68a947419af81c6e478eaa92ae7680e">dhcpv6ClientParseIaNaOption</a>(context, option);</div><div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;         }</div><div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;      }</div><div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;</div><div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;      <span class="comment">//Jump to the next option</span></div><div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;      i += <span class="keyword">sizeof</span>(<a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#a89f7acb5d12dede28c2b98290018051e">Dhcpv6Option</a>) + <a class="code" href="../../df/de9/cpu__endian_8h.html#a9312c6eb72e64f748ae0d0e0dc3ec9b9">ntohs</a>(option-&gt;length);</div><div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;   }</div><div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;</div><div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;   <span class="comment">//Record the highest server preference value</span></div><div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;   <span class="keywordflow">if</span>(serverPreference &gt; context-&gt;serverPreference)</div><div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;      context-&gt;serverPreference = serverPreference;</div><div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;</div><div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;   <span class="comment">//If the client receives an Advertise message that includes a</span></div><div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;   <span class="comment">//Preference option with a preference value of 255, the client</span></div><div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;   <span class="comment">//immediately completes the message exchange</span></div><div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;   <span class="keywordflow">if</span>(serverPreference == <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#af355c5bc4f57ed0a72c0bf1d74182b7a">DHCPV6_MAX_SERVER_PREFERENCE</a>)</div><div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;   {</div><div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;      <span class="comment">//Continue configuration procedure</span></div><div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;      <a class="code" href="../../d6/d91/dhcpv6__client_8c.html#aafd32758fb24f5bc2267ad372f06545d">dhcpv6ClientChangeState</a>(context, <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a4a75d2c1f2fd8684d2a124721935a7d9">DHCPV6_STATE_REQUEST</a>, 0);</div><div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;   }</div><div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;   <span class="comment">//The message exchange is not terminated before the first RT has elapsed</span></div><div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;   <span class="keywordflow">else</span> <span class="keywordflow">if</span>(context-&gt;retransmitCount &gt; 1)</div><div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;   {</div><div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;      <span class="comment">//Continue configuration procedure</span></div><div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;      <a class="code" href="../../d6/d91/dhcpv6__client_8c.html#aafd32758fb24f5bc2267ad372f06545d">dhcpv6ClientChangeState</a>(context, <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a4a75d2c1f2fd8684d2a124721935a7d9">DHCPV6_STATE_REQUEST</a>, 0);</div><div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;   }</div><div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;}</div><div class="ttc" id="dhcpv6__common_8h_html_ace3d7da87df06edf56819a49ebf00574ae48652f6f207faa0fecc5ba909757672"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#ace3d7da87df06edf56819a49ebf00574ae48652f6f207faa0fecc5ba909757672">DHCPV6_OPTION_SERVERID</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddf/dhcpv6__common_8h_source.html#l00113">dhcpv6_common.h:113</a></div></div>
<div class="ttc" id="dhcpv6__common_8c_html_a6678e0579ff5fe27d71f2ca45f35b54b"><div class="ttname"><a href="../../dc/ded/dhcpv6__common_8c.html#a6678e0579ff5fe27d71f2ca45f35b54b">dhcpv6GetOption</a></div><div class="ttdeci">Dhcpv6Option * dhcpv6GetOption(const uint8_t *options, size_t optionsLength, uint16_t optionCode)</div><div class="ttdoc">Find the specified option in a DHCPv6 message. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/ded/dhcpv6__common_8c_source.html#l00206">dhcpv6_common.c:206</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_ae3d249bb8993edf1fb41f1ac349078f1ae42228ed0a2112512e652d5b51af56fe"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#ae3d249bb8993edf1fb41f1ac349078f1ae42228ed0a2112512e652d5b51af56fe">DHCPV6_STATUS_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddf/dhcpv6__common_8h_source.html#l00146">dhcpv6_common.h:146</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_a8610bfd009af9756638a193136ef93f9a7bc292bbd95a3839b42102e4f5a57e59"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a7bc292bbd95a3839b42102e4f5a57e59">DHCPV6_STATE_SOLICIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00244">dhcpv6_client.h:244</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_ae3d249bb8993edf1fb41f1ac349078f1"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#ae3d249bb8993edf1fb41f1ac349078f1">Dhcpv6StatusCode</a></div><div class="ttdeci">Dhcpv6StatusCode</div><div class="ttdoc">Status code. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddf/dhcpv6__common_8h_source.html#l00144">dhcpv6_common.h:144</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_a283df3c541c6799826d644800f32079a"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#a283df3c541c6799826d644800f32079a">Dhcpv6IaNaOption</a></div><div class="ttdeci">__start_packed struct @131 Dhcpv6IaNaOption</div><div class="ttdoc">Identity Association for Non-temporary Addresses option. </div></div>
<div class="ttc" id="chap_8h_html_a52f19d36a71e9b8ddea38fe00c291181"><div class="ttname"><a href="../../d5/dbb/chap_8h.html#a52f19d36a71e9b8ddea38fe00c291181">message</a></div><div class="ttdeci">uint8_t message[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dbb/chap_8h_source.html#l00152">chap.h:152</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_aa05ad3ad9a83e2486fbb7f86838fffb9"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#aa05ad3ad9a83e2486fbb7f86838fffb9">DHCPV6_MAX_DUID_SIZE</a></div><div class="ttdeci">#define DHCPV6_MAX_DUID_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddf/dhcpv6__common_8h_source.html#l00046">dhcpv6_common.h:46</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_ace3d7da87df06edf56819a49ebf00574a03bdde9e8ae8a85d4936efb2f9fbb956"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#ace3d7da87df06edf56819a49ebf00574a03bdde9e8ae8a85d4936efb2f9fbb956">DHCPV6_OPTION_IA_NA</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddf/dhcpv6__common_8h_source.html#l00114">dhcpv6_common.h:114</a></div></div>
<div class="ttc" id="group__BSPDefine_html_ga070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../de/da2/group__BSPDefine.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d6b/nm__bsp_8h_source.html#l00070">nm_bsp.h:70</a></div></div>
<div class="ttc" id="dhcpv6__client_8c_html_aafd32758fb24f5bc2267ad372f06545d"><div class="ttname"><a href="../../d6/d91/dhcpv6__client_8c.html#aafd32758fb24f5bc2267ad372f06545d">dhcpv6ClientChangeState</a></div><div class="ttdeci">void dhcpv6ClientChangeState(Dhcpv6ClientContext *context, Dhcpv6State newState, systime_t delay)</div><div class="ttdoc">Update DHCPv6 FSM state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d91/dhcpv6__client_8c_source.html#l02506">dhcpv6_client.c:2506</a></div></div>
<div class="ttc" id="cpu__endian_8h_html_a22f92ea3318059b7d88dfbd98d0cbc3e"><div class="ttname"><a href="../../df/de9/cpu__endian_8h.html#a22f92ea3318059b7d88dfbd98d0cbc3e">ntohl</a></div><div class="ttdeci">#define ntohl(value)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de9/cpu__endian_8h_source.html#l00399">cpu_endian.h:399</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_ace3d7da87df06edf56819a49ebf00574a514e3d36a6eed2796997f995b847c4ff"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#ace3d7da87df06edf56819a49ebf00574a514e3d36a6eed2796997f995b847c4ff">DHCPV6_OPTION_CLIENTID</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddf/dhcpv6__common_8h_source.html#l00112">dhcpv6_common.h:112</a></div></div>
<div class="ttc" id="cpu__endian_8h_html_a9312c6eb72e64f748ae0d0e0dc3ec9b9"><div class="ttname"><a href="../../df/de9/cpu__endian_8h.html#a9312c6eb72e64f748ae0d0e0dc3ec9b9">ntohs</a></div><div class="ttdeci">#define ntohs(value)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de9/cpu__endian_8h_source.html#l00398">cpu_endian.h:398</a></div></div>
<div class="ttc" id="compiler__port_8h_html_a022c65af7f6c8d3947e8a37d64db6ad6"><div class="ttname"><a href="../../d1/dfa/compiler__port_8h.html#a022c65af7f6c8d3947e8a37d64db6ad6">int_t</a></div><div class="ttdeci">signed int int_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dfa/compiler__port_8h_source.html#l00044">compiler_port.h:44</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_a8610bfd009af9756638a193136ef93f9a4a75d2c1f2fd8684d2a124721935a7d9"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a4a75d2c1f2fd8684d2a124721935a7d9">DHCPV6_STATE_REQUEST</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00245">dhcpv6_client.h:245</a></div></div>
<div class="ttc" id="dhcpv6__client_8c_html_ab03f421bf4324e1426814302b4ef320a"><div class="ttname"><a href="../../d6/d91/dhcpv6__client_8c.html#ab03f421bf4324e1426814302b4ef320a">dhcpv6ClientFlushAddrList</a></div><div class="ttdeci">void dhcpv6ClientFlushAddrList(Dhcpv6ClientContext *context)</div><div class="ttdoc">Flush the list of IPv6 addresses from the IA. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d91/dhcpv6__client_8c_source.html#l02248">dhcpv6_client.c:2248</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_ace3d7da87df06edf56819a49ebf00574a910da2d64590a3f4b7294336b6c2a5c2"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#ace3d7da87df06edf56819a49ebf00574a910da2d64590a3f4b7294336b6c2a5c2">DHCPV6_OPTION_PREFERENCE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddf/dhcpv6__common_8h_source.html#l00118">dhcpv6_common.h:118</a></div></div>
<div class="ttc" id="cpu__endian_8h_html_ae0950d84d4cadc7bef52fc340c49c720"><div class="ttname"><a href="../../df/de9/cpu__endian_8h.html#ae0950d84d4cadc7bef52fc340c49c720">LOAD24BE</a></div><div class="ttdeci">#define LOAD24BE(p)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de9/cpu__endian_8h_source.html#l00181">cpu_endian.h:181</a></div></div>
<div class="ttc" id="dhcpv6__common_8c_html_a5eafbb8cf026dbdf9df9dd882d4c1713"><div class="ttname"><a href="../../dc/ded/dhcpv6__common_8c.html#a5eafbb8cf026dbdf9df9dd882d4c1713">dhcpv6GetStatusCode</a></div><div class="ttdeci">Dhcpv6StatusCode dhcpv6GetStatusCode(const uint8_t *options, size_t length)</div><div class="ttdoc">Retrieve status code. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/ded/dhcpv6__common_8c_source.html#l00070">dhcpv6_common.c:70</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_ae3d249bb8993edf1fb41f1ac349078f1afa3a49bf50a5777dcad48e8a7f84b576"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#ae3d249bb8993edf1fb41f1ac349078f1afa3a49bf50a5777dcad48e8a7f84b576">DHCPV6_STATUS_NO_ADDRS_AVAILABLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddf/dhcpv6__common_8h_source.html#l00148">dhcpv6_common.h:148</a></div></div>
<div class="ttc" id="compiler__port_8h_html_a12a1e9b3ce141648783a82445d02b58d"><div class="ttname"><a href="../../d1/dfa/compiler__port_8h.html#a12a1e9b3ce141648783a82445d02b58d">uint_t</a></div><div class="ttdeci">unsigned int uint_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dfa/compiler__port_8h_source.html#l00045">compiler_port.h:45</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_af355c5bc4f57ed0a72c0bf1d74182b7a"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#af355c5bc4f57ed0a72c0bf1d74182b7a">DHCPV6_MAX_SERVER_PREFERENCE</a></div><div class="ttdeci">#define DHCPV6_MAX_SERVER_PREFERENCE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddf/dhcpv6__common_8h_source.html#l00051">dhcpv6_common.h:51</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_a07cb201db39cd61e5142b2da5a3bad80"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#a07cb201db39cd61e5142b2da5a3bad80">Dhcpv6PreferenceOption</a></div><div class="ttdeci">__start_packed struct @135 Dhcpv6PreferenceOption</div><div class="ttdoc">Preference option. </div></div>
<div class="ttc" id="net_8h_html_a2234db8911a1148c9159979d8f5e0d6b"><div class="ttname"><a href="../../d7/d97/net_8h.html#a2234db8911a1148c9159979d8f5e0d6b">NetInterface</a></div><div class="ttdeci">#define NetInterface</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d97/net_8h_source.html#l00036">net.h:36</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_a89f7acb5d12dede28c2b98290018051e"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#a89f7acb5d12dede28c2b98290018051e">Dhcpv6Option</a></div><div class="ttdeci">__start_packed struct @130 Dhcpv6Option</div><div class="ttdoc">DHCPv6 option. </div></div>
<div class="ttc" id="dtls__misc_8h_html_ab43ca82dd7fa2a0e56f941032ef324c4"><div class="ttname"><a href="../../d3/d25/dtls__misc_8h.html#ab43ca82dd7fa2a0e56f941032ef324c4">length</a></div><div class="ttdeci">uint8_t length</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d25/dtls__misc_8h_source.html#l00149">dtls_misc.h:149</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_a32f2f44ec9a8d2ee5e2977a7fcddaf85"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#a32f2f44ec9a8d2ee5e2977a7fcddaf85">Dhcpv6Message</a></div><div class="ttdeci">__start_packed struct @128 Dhcpv6Message</div><div class="ttdoc">DHCPv6 message. </div></div>
<div class="ttc" id="dhcpv6__client_8c_html_ad68a947419af81c6e478eaa92ae7680e"><div class="ttname"><a href="../../d6/d91/dhcpv6__client_8c.html#ad68a947419af81c6e478eaa92ae7680e">dhcpv6ClientParseIaNaOption</a></div><div class="ttdeci">error_t dhcpv6ClientParseIaNaOption(Dhcpv6ClientContext *context, const Dhcpv6Option *option)</div><div class="ttdoc">Parse IA_NA option. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d91/dhcpv6__client_8c_source.html#l01981">dhcpv6_client.c:1981</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac9bbd88ba30bd504ed516714177e2b1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9bbd88ba30bd504ed516714177e2b1d">&#9670;&nbsp;</a></span>dhcpv6ClientParseIaAddrOption()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689c">error_t</a> dhcpv6ClientParseIaAddrOption </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#aac4eb11915c8cf98cce890c9d0270c9b">Dhcpv6ClientContext</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d1/ddf/dhcpv6__common_8h.html#a89f7acb5d12dede28c2b98290018051e">Dhcpv6Option</a> *&#160;</td>
          <td class="paramname"><em>option</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse IA Address option. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>Pointer to the DHCPv6 client context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">option</td><td>Pointer to the IA Address option to parse </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d6/d91/dhcpv6__client_8c_source.html#l02094">2094</a> of file <a class="el" href="../../d6/d91/dhcpv6__client_8c_source.html">dhcpv6_client.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;{</div><div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;   <span class="keywordtype">size_t</span> <a class="code" href="../../d3/d25/dtls__misc_8h.html#ab43ca82dd7fa2a0e56f941032ef324c4">length</a>;</div><div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;   <a class="code" href="../../df/dd8/stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#a6bcd95080db3b3f2265498723b93d7b2">validLifetime</a>;</div><div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;   <a class="code" href="../../df/dd8/stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#a40bac1e80f1005d8d5045ec837d1429b">preferredLifetime</a>;</div><div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;   <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#ae3d249bb8993edf1fb41f1ac349078f1">Dhcpv6StatusCode</a> status;</div><div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;   <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#a36456b5aa40da69f977e9153d2557714">Dhcpv6IaAddrOption</a> *iaAddrOption;</div><div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;</div><div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;   <span class="comment">//Make sure the IA Address option is valid</span></div><div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;   <span class="keywordflow">if</span>(<a class="code" href="../../df/de9/cpu__endian_8h.html#a9312c6eb72e64f748ae0d0e0dc3ec9b9">ntohs</a>(option-&gt;length) &lt; <span class="keyword">sizeof</span>(<a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#a36456b5aa40da69f977e9153d2557714">Dhcpv6IaAddrOption</a>))</div><div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689cae5c014519c3ac2540447887ddca1bd28">ERROR_INVALID_LENGTH</a>;</div><div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;</div><div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;   <span class="comment">//Point to the contents of the IA Address option</span></div><div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;   iaAddrOption = (<a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#a36456b5aa40da69f977e9153d2557714">Dhcpv6IaAddrOption</a> *) option-&gt;value;</div><div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;   <span class="comment">//Compute the length of IA Address Options field</span></div><div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;   length = <a class="code" href="../../df/de9/cpu__endian_8h.html#a9312c6eb72e64f748ae0d0e0dc3ec9b9">ntohs</a>(option-&gt;length) - <span class="keyword">sizeof</span>(<a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#a36456b5aa40da69f977e9153d2557714">Dhcpv6IaAddrOption</a>);</div><div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;</div><div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;   <span class="comment">//Convert lifetimes to host byte order</span></div><div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;   validLifetime = <a class="code" href="../../df/de9/cpu__endian_8h.html#a22f92ea3318059b7d88dfbd98d0cbc3e">ntohl</a>(iaAddrOption-&gt;validLifetime);</div><div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;   preferredLifetime = <a class="code" href="../../df/de9/cpu__endian_8h.html#a22f92ea3318059b7d88dfbd98d0cbc3e">ntohl</a>(iaAddrOption-&gt;preferredLifetime);</div><div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;</div><div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;   <span class="comment">//A client discards any addresses for which the preferred lifetime</span></div><div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;   <span class="comment">//is greater than the valid lifetime</span></div><div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;   <span class="keywordflow">if</span>(preferredLifetime &gt; validLifetime)</div><div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689caeae4b12e06d727d085f75f79a820f2e8">ERROR_INVALID_PARAMETER</a>;</div><div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;</div><div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;   <span class="comment">//The client examines the status code in each IA Address</span></div><div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;   status = <a class="code" href="../../dc/ded/dhcpv6__common_8c.html#a5eafbb8cf026dbdf9df9dd882d4c1713">dhcpv6GetStatusCode</a>(iaAddrOption-&gt;options, length);</div><div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;</div><div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;   <span class="comment">//Any error to report?</span></div><div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;   <span class="keywordflow">if</span>(status != <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#ae3d249bb8993edf1fb41f1ac349078f1ae42228ed0a2112512e652d5b51af56fe">DHCPV6_STATUS_SUCCESS</a>)</div><div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689cae9be6449970fca5714ab9957b16562a5">ERROR_FAILURE</a>;</div><div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;</div><div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;   <span class="comment">//Check the value of the Valid Lifetime</span></div><div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;   <span class="keywordflow">if</span>(iaAddrOption-&gt;validLifetime &gt; 0)</div><div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;   {</div><div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;      <span class="comment">//Add any new addresses in the IA option to the IA as recorded</span></div><div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;      <span class="comment">//by the client</span></div><div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;      <a class="code" href="../../d6/d91/dhcpv6__client_8c.html#a38390e93bf1378cd3b58f09e58912de3">dhcpv6ClientAddAddr</a>(context, &amp;iaAddrOption-&gt;address,</div><div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;         validLifetime, preferredLifetime);</div><div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;   }</div><div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;   <span class="keywordflow">else</span></div><div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;   {</div><div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;      <span class="comment">//Discard any addresses from the IA, as recorded by the client,</span></div><div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;      <span class="comment">//that have a valid lifetime of 0 in the IA Address option</span></div><div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;      <a class="code" href="../../d6/d91/dhcpv6__client_8c.html#a960a1cdb90a7bd9abbf9d2a5bd70fa8d">dhcpv6ClientRemoveAddr</a>(context, &amp;iaAddrOption-&gt;address);</div><div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;   }</div><div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;</div><div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;   <span class="comment">//Successful processing</span></div><div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94">NO_ERROR</a>;</div><div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;}</div><div class="ttc" id="dhcpv6__common_8h_html_ae3d249bb8993edf1fb41f1ac349078f1ae42228ed0a2112512e652d5b51af56fe"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#ae3d249bb8993edf1fb41f1ac349078f1ae42228ed0a2112512e652d5b51af56fe">DHCPV6_STATUS_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddf/dhcpv6__common_8h_source.html#l00146">dhcpv6_common.h:146</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_a6bcd95080db3b3f2265498723b93d7b2"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#a6bcd95080db3b3f2265498723b93d7b2">validLifetime</a></div><div class="ttdeci">uint32_t validLifetime</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddf/dhcpv6__common_8h_source.html#l00272">dhcpv6_common.h:272</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_ae3d249bb8993edf1fb41f1ac349078f1"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#ae3d249bb8993edf1fb41f1ac349078f1">Dhcpv6StatusCode</a></div><div class="ttdeci">Dhcpv6StatusCode</div><div class="ttdoc">Status code. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddf/dhcpv6__common_8h_source.html#l00144">dhcpv6_common.h:144</a></div></div>
<div class="ttc" id="error_8h_html_ac7659d73a8cdedc08e9f566bb406689cae9be6449970fca5714ab9957b16562a5"><div class="ttname"><a href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689cae9be6449970fca5714ab9957b16562a5">ERROR_FAILURE</a></div><div class="ttdoc">Generic error code. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d41/error_8h_source.html#l00045">error.h:45</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_a36456b5aa40da69f977e9153d2557714"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#a36456b5aa40da69f977e9153d2557714">Dhcpv6IaAddrOption</a></div><div class="ttdeci">__start_packed struct @133 Dhcpv6IaAddrOption</div><div class="ttdoc">IA Address option. </div></div>
<div class="ttc" id="error_8h_html_ac7659d73a8cdedc08e9f566bb406689caeae4b12e06d727d085f75f79a820f2e8"><div class="ttname"><a href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689caeae4b12e06d727d085f75f79a820f2e8">ERROR_INVALID_PARAMETER</a></div><div class="ttdoc">Invalid parameter. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d41/error_8h_source.html#l00047">error.h:47</a></div></div>
<div class="ttc" id="dhcpv6__client_8c_html_a38390e93bf1378cd3b58f09e58912de3"><div class="ttname"><a href="../../d6/d91/dhcpv6__client_8c.html#a38390e93bf1378cd3b58f09e58912de3">dhcpv6ClientAddAddr</a></div><div class="ttdeci">void dhcpv6ClientAddAddr(Dhcpv6ClientContext *context, const Ipv6Addr *addr, uint32_t validLifetime, uint32_t preferredLifetime)</div><div class="ttdoc">Add an IPv6 address to the IA. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d91/dhcpv6__client_8c_source.html#l02156">dhcpv6_client.c:2156</a></div></div>
<div class="ttc" id="cpu__endian_8h_html_a22f92ea3318059b7d88dfbd98d0cbc3e"><div class="ttname"><a href="../../df/de9/cpu__endian_8h.html#a22f92ea3318059b7d88dfbd98d0cbc3e">ntohl</a></div><div class="ttdeci">#define ntohl(value)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de9/cpu__endian_8h_source.html#l00399">cpu_endian.h:399</a></div></div>
<div class="ttc" id="cpu__endian_8h_html_a9312c6eb72e64f748ae0d0e0dc3ec9b9"><div class="ttname"><a href="../../df/de9/cpu__endian_8h.html#a9312c6eb72e64f748ae0d0e0dc3ec9b9">ntohs</a></div><div class="ttdeci">#define ntohs(value)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de9/cpu__endian_8h_source.html#l00398">cpu_endian.h:398</a></div></div>
<div class="ttc" id="stdint_8h_html_a435d1572bf3f880d55459d9805097f62"><div class="ttname"><a href="../../df/dd8/stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a></div><div class="ttdeci">unsigned int uint32_t</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dd8/stdint_8h_source.html#l00080">stdint.h:80</a></div></div>
<div class="ttc" id="dhcpv6__common_8c_html_a5eafbb8cf026dbdf9df9dd882d4c1713"><div class="ttname"><a href="../../dc/ded/dhcpv6__common_8c.html#a5eafbb8cf026dbdf9df9dd882d4c1713">dhcpv6GetStatusCode</a></div><div class="ttdeci">Dhcpv6StatusCode dhcpv6GetStatusCode(const uint8_t *options, size_t length)</div><div class="ttdoc">Retrieve status code. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/ded/dhcpv6__common_8c_source.html#l00070">dhcpv6_common.c:70</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_a40bac1e80f1005d8d5045ec837d1429b"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#a40bac1e80f1005d8d5045ec837d1429b">preferredLifetime</a></div><div class="ttdeci">uint32_t preferredLifetime</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddf/dhcpv6__common_8h_source.html#l00271">dhcpv6_common.h:271</a></div></div>
<div class="ttc" id="error_8h_html_ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94"><div class="ttname"><a href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94">NO_ERROR</a></div><div class="ttdoc">Success. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d41/error_8h_source.html#l00044">error.h:44</a></div></div>
<div class="ttc" id="dhcpv6__client_8c_html_a960a1cdb90a7bd9abbf9d2a5bd70fa8d"><div class="ttname"><a href="../../d6/d91/dhcpv6__client_8c.html#a960a1cdb90a7bd9abbf9d2a5bd70fa8d">dhcpv6ClientRemoveAddr</a></div><div class="ttdeci">void dhcpv6ClientRemoveAddr(Dhcpv6ClientContext *context, const Ipv6Addr *addr)</div><div class="ttdoc">Remove an IPv6 address from the IA. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d91/dhcpv6__client_8c_source.html#l02210">dhcpv6_client.c:2210</a></div></div>
<div class="ttc" id="error_8h_html_ac7659d73a8cdedc08e9f566bb406689cae5c014519c3ac2540447887ddca1bd28"><div class="ttname"><a href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689cae5c014519c3ac2540447887ddca1bd28">ERROR_INVALID_LENGTH</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d41/error_8h_source.html#l00109">error.h:109</a></div></div>
<div class="ttc" id="dtls__misc_8h_html_ab43ca82dd7fa2a0e56f941032ef324c4"><div class="ttname"><a href="../../d3/d25/dtls__misc_8h.html#ab43ca82dd7fa2a0e56f941032ef324c4">length</a></div><div class="ttdeci">uint8_t length</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d25/dtls__misc_8h_source.html#l00149">dtls_misc.h:149</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad68a947419af81c6e478eaa92ae7680e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad68a947419af81c6e478eaa92ae7680e">&#9670;&nbsp;</a></span>dhcpv6ClientParseIaNaOption()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689c">error_t</a> dhcpv6ClientParseIaNaOption </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#aac4eb11915c8cf98cce890c9d0270c9b">Dhcpv6ClientContext</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d1/ddf/dhcpv6__common_8h.html#a89f7acb5d12dede28c2b98290018051e">Dhcpv6Option</a> *&#160;</td>
          <td class="paramname"><em>option</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse IA_NA option. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>Pointer to the DHCPv6 client context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">option</td><td>Pointer to the IA_NA option to parse </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d6/d91/dhcpv6__client_8c_source.html#l01981">1981</a> of file <a class="el" href="../../d6/d91/dhcpv6__client_8c_source.html">dhcpv6_client.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;{</div><div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;   <a class="code" href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689c">error_t</a> error;</div><div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;   <a class="code" href="../../d1/dfa/compiler__port_8h.html#a12a1e9b3ce141648783a82445d02b58d">uint_t</a> <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#a5a648f5ec00c526b0dfa2df7a272c6c0">n</a>;</div><div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;   <span class="keywordtype">size_t</span> i;</div><div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;   <span class="keywordtype">size_t</span> <a class="code" href="../../d3/d25/dtls__misc_8h.html#ab43ca82dd7fa2a0e56f941032ef324c4">length</a>;</div><div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;   <a class="code" href="../../d7/d97/net_8h.html#a2234db8911a1148c9159979d8f5e0d6b">NetInterface</a> *interface;</div><div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;   <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#ae3d249bb8993edf1fb41f1ac349078f1">Dhcpv6StatusCode</a> status;</div><div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;   <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#a283df3c541c6799826d644800f32079a">Dhcpv6IaNaOption</a> *iaNaOption;</div><div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;</div><div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;   <span class="comment">//Point to the underlying network interface</span></div><div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;   <span class="keyword">interface </span>= context-&gt;settings.interface;</div><div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;</div><div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;   <span class="comment">//Number of addresses found in the IA_NA option</span></div><div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;   n = 0;</div><div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;</div><div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;   <span class="comment">//Make sure the IA_NA option is valid</span></div><div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;   <span class="keywordflow">if</span>(<a class="code" href="../../df/de9/cpu__endian_8h.html#a9312c6eb72e64f748ae0d0e0dc3ec9b9">ntohs</a>(option-&gt;length) &lt; <span class="keyword">sizeof</span>(<a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#a283df3c541c6799826d644800f32079a">Dhcpv6IaNaOption</a>))</div><div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689cae5c014519c3ac2540447887ddca1bd28">ERROR_INVALID_LENGTH</a>;</div><div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;</div><div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;   <span class="comment">//Get the parameters associated with the IA_NA</span></div><div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;   iaNaOption = (<a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#a283df3c541c6799826d644800f32079a">Dhcpv6IaNaOption</a> *) option-&gt;value;</div><div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;   <span class="comment">//Compute the length of IA_NA Options field</span></div><div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;   length = <a class="code" href="../../df/de9/cpu__endian_8h.html#a9312c6eb72e64f748ae0d0e0dc3ec9b9">ntohs</a>(option-&gt;length) - <span class="keyword">sizeof</span>(<a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#a283df3c541c6799826d644800f32079a">Dhcpv6IaNaOption</a>);</div><div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;</div><div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;   <span class="comment">//Check the IA identifier</span></div><div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;   <span class="keywordflow">if</span>(<a class="code" href="../../df/de9/cpu__endian_8h.html#a22f92ea3318059b7d88dfbd98d0cbc3e">ntohl</a>(iaNaOption-&gt;iaId) != interface-&gt;id)</div><div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689ca2bc2298123e24e3d82592b5c68c20612">ERROR_WRONG_IDENTIFIER</a>;</div><div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;</div><div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;   <span class="comment">//If a client receives an IA_NA with T1 greater than T2, and both T1</span></div><div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;   <span class="comment">//and T2 are greater than 0, the client discards the IA_NA option and</span></div><div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;   <span class="comment">//processes the remainder of the message as though the server had not</span></div><div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;   <span class="comment">//included the invalid IA_NA option</span></div><div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;   <span class="keywordflow">if</span>(<a class="code" href="../../df/de9/cpu__endian_8h.html#a22f92ea3318059b7d88dfbd98d0cbc3e">ntohl</a>(iaNaOption-&gt;t1) &gt; <a class="code" href="../../df/de9/cpu__endian_8h.html#a22f92ea3318059b7d88dfbd98d0cbc3e">ntohl</a>(iaNaOption-&gt;t2) &amp;&amp; <a class="code" href="../../df/de9/cpu__endian_8h.html#a22f92ea3318059b7d88dfbd98d0cbc3e">ntohl</a>(iaNaOption-&gt;t2) &gt; 0)</div><div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689caeae4b12e06d727d085f75f79a820f2e8">ERROR_INVALID_PARAMETER</a>;</div><div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;</div><div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;   <span class="comment">//The client examines the status code in each IA individually</span></div><div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;   status = <a class="code" href="../../dc/ded/dhcpv6__common_8c.html#a5eafbb8cf026dbdf9df9dd882d4c1713">dhcpv6GetStatusCode</a>(iaNaOption-&gt;options, length);</div><div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;</div><div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;   <span class="comment">//Check error code</span></div><div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;   <span class="keywordflow">if</span>(status == <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#ae3d249bb8993edf1fb41f1ac349078f1afa3a49bf50a5777dcad48e8a7f84b576">DHCPV6_STATUS_NO_ADDRS_AVAILABLE</a>)</div><div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;   {</div><div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;      <span class="comment">//The client has received no usable address in the IA</span></div><div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689cab341b466f058a1fcda38ae5afe2d23c2">ERROR_NO_ADDRESS</a>;</div><div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;   }</div><div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;   <span class="keywordflow">else</span> <span class="keywordflow">if</span>(status == <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#ae3d249bb8993edf1fb41f1ac349078f1a063c73de39e3f9e416ba4436f0b8ed86">DHCPV6_STATUS_NO_BINDING</a>)</div><div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;   {</div><div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;      <span class="comment">//Client record (binding) unavailable</span></div><div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689ca6242320f68a052402e19292c494c4355">ERROR_NO_BINDING</a>;</div><div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;   }</div><div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;   <span class="keywordflow">else</span> <span class="keywordflow">if</span>(status == <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#ae3d249bb8993edf1fb41f1ac349078f1a1da269e6ebd8b959114717b0b1ea2b9c">DHCPV6_STATUS_NOT_ON_LINK</a>)</div><div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;   {</div><div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;      <span class="comment">//The prefix for the address is not appropriate for the link to which the</span></div><div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;      <span class="comment">//client is attached</span></div><div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689ca82e6179d1843086162e4b3171821f0fb">ERROR_NOT_ON_LINK</a>;</div><div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;   }</div><div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;   <span class="keywordflow">else</span> <span class="keywordflow">if</span>(status != <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#ae3d249bb8993edf1fb41f1ac349078f1ae42228ed0a2112512e652d5b51af56fe">DHCPV6_STATUS_SUCCESS</a>)</div><div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;   {</div><div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;      <span class="comment">//Failure, reason unspecified</span></div><div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689cae9be6449970fca5714ab9957b16562a5">ERROR_FAILURE</a>;</div><div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;   }</div><div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;</div><div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;   <span class="comment">//Record T1 and T2 times</span></div><div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;   context-&gt;ia.t1 = <a class="code" href="../../df/de9/cpu__endian_8h.html#a22f92ea3318059b7d88dfbd98d0cbc3e">ntohl</a>(iaNaOption-&gt;t1);</div><div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;   context-&gt;ia.t2 = <a class="code" href="../../df/de9/cpu__endian_8h.html#a22f92ea3318059b7d88dfbd98d0cbc3e">ntohl</a>(iaNaOption-&gt;t2);</div><div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;</div><div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;   <span class="comment">//Point to the first option</span></div><div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;   i = 0;</div><div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;</div><div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;   <span class="comment">//Loop through IA_NA options</span></div><div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;   <span class="keywordflow">while</span>(i &lt; length)</div><div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;   {</div><div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;      <span class="comment">//Search for an IA Address option</span></div><div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;      option = <a class="code" href="../../dc/ded/dhcpv6__common_8c.html#a6678e0579ff5fe27d71f2ca45f35b54b">dhcpv6GetOption</a>(iaNaOption-&gt;options + i, length - i, <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#ace3d7da87df06edf56819a49ebf00574af02fe93475cf23de1d0dcaf371c15af2">DHCPV6_OPTION_IAADDR</a>);</div><div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;</div><div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;      <span class="comment">//Unable to find the specified option?</span></div><div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;      <span class="keywordflow">if</span>(option == <a class="code" href="../../de/da2/group__BSPDefine.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;</div><div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;      <span class="comment">//Parse the contents of the IA Address option</span></div><div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;      error = <a class="code" href="../../d6/d91/dhcpv6__client_8c.html#ac9bbd88ba30bd504ed516714177e2b1d">dhcpv6ClientParseIaAddrOption</a>(context, option);</div><div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;</div><div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;      <span class="comment">//Check status code</span></div><div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;      <span class="keywordflow">if</span>(!error)</div><div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;      {</div><div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;         <span class="comment">//Increment the number of addresses found in the IA_NA option</span></div><div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;         n++;</div><div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;      }</div><div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;</div><div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;      <span class="comment">//Jump to the next option</span></div><div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;      i += <span class="keyword">sizeof</span>(<a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#a89f7acb5d12dede28c2b98290018051e">Dhcpv6Option</a>) + <a class="code" href="../../df/de9/cpu__endian_8h.html#a9312c6eb72e64f748ae0d0e0dc3ec9b9">ntohs</a>(option-&gt;length);</div><div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;   }</div><div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;</div><div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;   <span class="comment">//No usable addresses in the IA_NA option?</span></div><div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;   <span class="keywordflow">if</span>(n == 0)</div><div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;   {</div><div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;      <span class="comment">//Report an error</span></div><div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689cab341b466f058a1fcda38ae5afe2d23c2">ERROR_NO_ADDRESS</a>;</div><div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;   }</div><div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;</div><div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;   <span class="comment">//Successful processing</span></div><div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94">NO_ERROR</a>;</div><div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;}</div><div class="ttc" id="dhcpv6__common_8c_html_a6678e0579ff5fe27d71f2ca45f35b54b"><div class="ttname"><a href="../../dc/ded/dhcpv6__common_8c.html#a6678e0579ff5fe27d71f2ca45f35b54b">dhcpv6GetOption</a></div><div class="ttdeci">Dhcpv6Option * dhcpv6GetOption(const uint8_t *options, size_t optionsLength, uint16_t optionCode)</div><div class="ttdoc">Find the specified option in a DHCPv6 message. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/ded/dhcpv6__common_8c_source.html#l00206">dhcpv6_common.c:206</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_ae3d249bb8993edf1fb41f1ac349078f1ae42228ed0a2112512e652d5b51af56fe"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#ae3d249bb8993edf1fb41f1ac349078f1ae42228ed0a2112512e652d5b51af56fe">DHCPV6_STATUS_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddf/dhcpv6__common_8h_source.html#l00146">dhcpv6_common.h:146</a></div></div>
<div class="ttc" id="error_8h_html_ac7659d73a8cdedc08e9f566bb406689ca6242320f68a052402e19292c494c4355"><div class="ttname"><a href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689ca6242320f68a052402e19292c494c4355">ERROR_NO_BINDING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d41/error_8h_source.html#l00198">error.h:198</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_ae3d249bb8993edf1fb41f1ac349078f1"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#ae3d249bb8993edf1fb41f1ac349078f1">Dhcpv6StatusCode</a></div><div class="ttdeci">Dhcpv6StatusCode</div><div class="ttdoc">Status code. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddf/dhcpv6__common_8h_source.html#l00144">dhcpv6_common.h:144</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_ae3d249bb8993edf1fb41f1ac349078f1a1da269e6ebd8b959114717b0b1ea2b9c"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#ae3d249bb8993edf1fb41f1ac349078f1a1da269e6ebd8b959114717b0b1ea2b9c">DHCPV6_STATUS_NOT_ON_LINK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddf/dhcpv6__common_8h_source.html#l00150">dhcpv6_common.h:150</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_a283df3c541c6799826d644800f32079a"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#a283df3c541c6799826d644800f32079a">Dhcpv6IaNaOption</a></div><div class="ttdeci">__start_packed struct @131 Dhcpv6IaNaOption</div><div class="ttdoc">Identity Association for Non-temporary Addresses option. </div></div>
<div class="ttc" id="error_8h_html_ac7659d73a8cdedc08e9f566bb406689cae9be6449970fca5714ab9957b16562a5"><div class="ttname"><a href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689cae9be6449970fca5714ab9957b16562a5">ERROR_FAILURE</a></div><div class="ttdoc">Generic error code. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d41/error_8h_source.html#l00045">error.h:45</a></div></div>
<div class="ttc" id="error_8h_html_ac7659d73a8cdedc08e9f566bb406689cab341b466f058a1fcda38ae5afe2d23c2"><div class="ttname"><a href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689cab341b466f058a1fcda38ae5afe2d23c2">ERROR_NO_ADDRESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d41/error_8h_source.html#l00197">error.h:197</a></div></div>
<div class="ttc" id="error_8h_html_ac7659d73a8cdedc08e9f566bb406689caeae4b12e06d727d085f75f79a820f2e8"><div class="ttname"><a href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689caeae4b12e06d727d085f75f79a820f2e8">ERROR_INVALID_PARAMETER</a></div><div class="ttdoc">Invalid parameter. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d41/error_8h_source.html#l00047">error.h:47</a></div></div>
<div class="ttc" id="group__BSPDefine_html_ga070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../de/da2/group__BSPDefine.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d6b/nm__bsp_8h_source.html#l00070">nm_bsp.h:70</a></div></div>
<div class="ttc" id="dhcpv6__client_8c_html_ac9bbd88ba30bd504ed516714177e2b1d"><div class="ttname"><a href="../../d6/d91/dhcpv6__client_8c.html#ac9bbd88ba30bd504ed516714177e2b1d">dhcpv6ClientParseIaAddrOption</a></div><div class="ttdeci">error_t dhcpv6ClientParseIaAddrOption(Dhcpv6ClientContext *context, const Dhcpv6Option *option)</div><div class="ttdoc">Parse IA Address option. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d91/dhcpv6__client_8c_source.html#l02094">dhcpv6_client.c:2094</a></div></div>
<div class="ttc" id="cpu__endian_8h_html_a22f92ea3318059b7d88dfbd98d0cbc3e"><div class="ttname"><a href="../../df/de9/cpu__endian_8h.html#a22f92ea3318059b7d88dfbd98d0cbc3e">ntohl</a></div><div class="ttdeci">#define ntohl(value)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de9/cpu__endian_8h_source.html#l00399">cpu_endian.h:399</a></div></div>
<div class="ttc" id="cpu__endian_8h_html_a9312c6eb72e64f748ae0d0e0dc3ec9b9"><div class="ttname"><a href="../../df/de9/cpu__endian_8h.html#a9312c6eb72e64f748ae0d0e0dc3ec9b9">ntohs</a></div><div class="ttdeci">#define ntohs(value)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de9/cpu__endian_8h_source.html#l00398">cpu_endian.h:398</a></div></div>
<div class="ttc" id="error_8h_html_ac7659d73a8cdedc08e9f566bb406689ca82e6179d1843086162e4b3171821f0fb"><div class="ttname"><a href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689ca82e6179d1843086162e4b3171821f0fb">ERROR_NOT_ON_LINK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d41/error_8h_source.html#l00199">error.h:199</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_ace3d7da87df06edf56819a49ebf00574af02fe93475cf23de1d0dcaf371c15af2"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#ace3d7da87df06edf56819a49ebf00574af02fe93475cf23de1d0dcaf371c15af2">DHCPV6_OPTION_IAADDR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddf/dhcpv6__common_8h_source.html#l00116">dhcpv6_common.h:116</a></div></div>
<div class="ttc" id="dhcpv6__common_8c_html_a5eafbb8cf026dbdf9df9dd882d4c1713"><div class="ttname"><a href="../../dc/ded/dhcpv6__common_8c.html#a5eafbb8cf026dbdf9df9dd882d4c1713">dhcpv6GetStatusCode</a></div><div class="ttdeci">Dhcpv6StatusCode dhcpv6GetStatusCode(const uint8_t *options, size_t length)</div><div class="ttdoc">Retrieve status code. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/ded/dhcpv6__common_8c_source.html#l00070">dhcpv6_common.c:70</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_ae3d249bb8993edf1fb41f1ac349078f1a063c73de39e3f9e416ba4436f0b8ed86"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#ae3d249bb8993edf1fb41f1ac349078f1a063c73de39e3f9e416ba4436f0b8ed86">DHCPV6_STATUS_NO_BINDING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddf/dhcpv6__common_8h_source.html#l00149">dhcpv6_common.h:149</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_ae3d249bb8993edf1fb41f1ac349078f1afa3a49bf50a5777dcad48e8a7f84b576"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#ae3d249bb8993edf1fb41f1ac349078f1afa3a49bf50a5777dcad48e8a7f84b576">DHCPV6_STATUS_NO_ADDRS_AVAILABLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddf/dhcpv6__common_8h_source.html#l00148">dhcpv6_common.h:148</a></div></div>
<div class="ttc" id="error_8h_html_ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94"><div class="ttname"><a href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94">NO_ERROR</a></div><div class="ttdoc">Success. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d41/error_8h_source.html#l00044">error.h:44</a></div></div>
<div class="ttc" id="error_8h_html_ac7659d73a8cdedc08e9f566bb406689c"><div class="ttname"><a href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689c">error_t</a></div><div class="ttdeci">error_t</div><div class="ttdoc">Error codes. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d41/error_8h_source.html#l00042">error.h:42</a></div></div>
<div class="ttc" id="compiler__port_8h_html_a12a1e9b3ce141648783a82445d02b58d"><div class="ttname"><a href="../../d1/dfa/compiler__port_8h.html#a12a1e9b3ce141648783a82445d02b58d">uint_t</a></div><div class="ttdeci">unsigned int uint_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dfa/compiler__port_8h_source.html#l00045">compiler_port.h:45</a></div></div>
<div class="ttc" id="error_8h_html_ac7659d73a8cdedc08e9f566bb406689ca2bc2298123e24e3d82592b5c68c20612"><div class="ttname"><a href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689ca2bc2298123e24e3d82592b5c68c20612">ERROR_WRONG_IDENTIFIER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d41/error_8h_source.html#l00088">error.h:88</a></div></div>
<div class="ttc" id="net_8h_html_a2234db8911a1148c9159979d8f5e0d6b"><div class="ttname"><a href="../../d7/d97/net_8h.html#a2234db8911a1148c9159979d8f5e0d6b">NetInterface</a></div><div class="ttdeci">#define NetInterface</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d97/net_8h_source.html#l00036">net.h:36</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_a89f7acb5d12dede28c2b98290018051e"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#a89f7acb5d12dede28c2b98290018051e">Dhcpv6Option</a></div><div class="ttdeci">__start_packed struct @130 Dhcpv6Option</div><div class="ttdoc">DHCPv6 option. </div></div>
<div class="ttc" id="error_8h_html_ac7659d73a8cdedc08e9f566bb406689cae5c014519c3ac2540447887ddca1bd28"><div class="ttname"><a href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689cae5c014519c3ac2540447887ddca1bd28">ERROR_INVALID_LENGTH</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d41/error_8h_source.html#l00109">error.h:109</a></div></div>
<div class="ttc" id="dtls__misc_8h_html_ab43ca82dd7fa2a0e56f941032ef324c4"><div class="ttname"><a href="../../d3/d25/dtls__misc_8h.html#ab43ca82dd7fa2a0e56f941032ef324c4">length</a></div><div class="ttdeci">uint8_t length</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d25/dtls__misc_8h_source.html#l00149">dtls_misc.h:149</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_a5a648f5ec00c526b0dfa2df7a272c6c0"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#a5a648f5ec00c526b0dfa2df7a272c6c0">n</a></div><div class="ttdeci">uint8_t n</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddf/dhcpv6__common_8h_source.html#l00413">dhcpv6_common.h:413</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae47455838efddde0bce836e13249c2d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae47455838efddde0bce836e13249c2d0">&#9670;&nbsp;</a></span>dhcpv6ClientParseReply()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dhcpv6ClientParseReply </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#aac4eb11915c8cf98cce890c9d0270c9b">Dhcpv6ClientContext</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d1/ddf/dhcpv6__common_8h.html#a32f2f44ec9a8d2ee5e2977a7fcddaf85">Dhcpv6Message</a> *&#160;</td>
          <td class="paramname"><em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse Reply message. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>Pointer to the DHCPv6 client context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">message</td><td>Pointer to the incoming message to parse </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">length</td><td>Length of the incoming message </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d6/d91/dhcpv6__client_8c_source.html#l01656">1656</a> of file <a class="el" href="../../d6/d91/dhcpv6__client_8c_source.html">dhcpv6_client.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;{</div><div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;   <a class="code" href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689c">error_t</a> error;</div><div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;   <a class="code" href="../../d1/dfa/compiler__port_8h.html#a12a1e9b3ce141648783a82445d02b58d">uint_t</a> i;</div><div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;   <a class="code" href="../../d1/dfa/compiler__port_8h.html#a12a1e9b3ce141648783a82445d02b58d">uint_t</a> <a class="code" href="../../d7/d6c/md5_8c.html#af11ea3cdbca7345eb6a4a8ac5ce0434d">k</a>;</div><div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;   <a class="code" href="../../d1/dfa/compiler__port_8h.html#a12a1e9b3ce141648783a82445d02b58d">uint_t</a> <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#a5a648f5ec00c526b0dfa2df7a272c6c0">n</a>;</div><div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;   <a class="code" href="../../d1/dfa/compiler__port_8h.html#a812d16e5494522586b3784e55d479912">bool_t</a> iaNaOptionFound;</div><div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;   <a class="code" href="../../d1/dfa/compiler__port_8h.html#ae3e32a98d431a02106616da3071832dd">systime_t</a> minPreferredLifetime;</div><div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;   <a class="code" href="../../d7/d97/net_8h.html#a2234db8911a1148c9159979d8f5e0d6b">NetInterface</a> *interface;</div><div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;   <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#ae3d249bb8993edf1fb41f1ac349078f1">Dhcpv6StatusCode</a> status;</div><div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;   <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#a89f7acb5d12dede28c2b98290018051e">Dhcpv6Option</a> *option;</div><div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;   <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#a89f7acb5d12dede28c2b98290018051e">Dhcpv6Option</a> *serverIdOption;</div><div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;   <a class="code" href="../../de/d95/structDhcpv6ClientAddrEntry.html">Dhcpv6ClientAddrEntry</a> *entry;</div><div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;</div><div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;   <span class="comment">//Point to the underlying network interface</span></div><div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;   <span class="keyword">interface </span>= context-&gt;settings.interface;</div><div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;</div><div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;   <span class="comment">//Discard any received packet that does not match the transaction ID</span></div><div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;   <span class="keywordflow">if</span>(<a class="code" href="../../df/de9/cpu__endian_8h.html#ae0950d84d4cadc7bef52fc340c49c720">LOAD24BE</a>(<a class="code" href="../../d5/dbb/chap_8h.html#a52f19d36a71e9b8ddea38fe00c291181">message</a>-&gt;transactionId) != context-&gt;transactionId)</div><div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;</div><div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;   <span class="comment">//Get the length of the Options field</span></div><div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;   <a class="code" href="../../d3/d25/dtls__misc_8h.html#ab43ca82dd7fa2a0e56f941032ef324c4">length</a> -= <span class="keyword">sizeof</span>(<a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#a32f2f44ec9a8d2ee5e2977a7fcddaf85">Dhcpv6Message</a>);</div><div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;</div><div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;   <span class="comment">//Search for the Client Identifier option</span></div><div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;   option = <a class="code" href="../../dc/ded/dhcpv6__common_8c.html#a6678e0579ff5fe27d71f2ca45f35b54b">dhcpv6GetOption</a>(<a class="code" href="../../d5/dbb/chap_8h.html#a52f19d36a71e9b8ddea38fe00c291181">message</a>-&gt;options, <a class="code" href="../../d3/d25/dtls__misc_8h.html#ab43ca82dd7fa2a0e56f941032ef324c4">length</a>, <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#ace3d7da87df06edf56819a49ebf00574a514e3d36a6eed2796997f995b847c4ff">DHCPV6_OPTION_CLIENTID</a>);</div><div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;</div><div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;   <span class="comment">//Discard any received packet that does not include a Client Identifier option</span></div><div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;   <span class="keywordflow">if</span>(option == <a class="code" href="../../de/da2/group__BSPDefine.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;   <span class="comment">//Check the length of the option</span></div><div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;   <span class="keywordflow">if</span>(<a class="code" href="../../df/de9/cpu__endian_8h.html#a9312c6eb72e64f748ae0d0e0dc3ec9b9">ntohs</a>(option-&gt;length) != context-&gt;clientIdLength)</div><div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;   <span class="comment">//Check whether the Client Identifier matches our identifier</span></div><div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;   <span class="keywordflow">if</span>(memcmp(option-&gt;value, context-&gt;clientId, context-&gt;clientIdLength))</div><div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;</div><div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;   <span class="comment">//Search for the Server Identifier option</span></div><div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;   serverIdOption = <a class="code" href="../../dc/ded/dhcpv6__common_8c.html#a6678e0579ff5fe27d71f2ca45f35b54b">dhcpv6GetOption</a>(<a class="code" href="../../d5/dbb/chap_8h.html#a52f19d36a71e9b8ddea38fe00c291181">message</a>-&gt;options, <a class="code" href="../../d3/d25/dtls__misc_8h.html#ab43ca82dd7fa2a0e56f941032ef324c4">length</a>, <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#ace3d7da87df06edf56819a49ebf00574ae48652f6f207faa0fecc5ba909757672">DHCPV6_OPTION_SERVERID</a>);</div><div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;</div><div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;   <span class="comment">//Discard any received packet that does not include a Server Identifier option</span></div><div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;   <span class="keywordflow">if</span>(serverIdOption == <a class="code" href="../../de/da2/group__BSPDefine.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;   <span class="comment">//Check the length of the server DUID</span></div><div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;   <span class="keywordflow">if</span>(<a class="code" href="../../df/de9/cpu__endian_8h.html#a9312c6eb72e64f748ae0d0e0dc3ec9b9">ntohs</a>(serverIdOption-&gt;length) == 0)</div><div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;   <span class="keywordflow">if</span>(<a class="code" href="../../df/de9/cpu__endian_8h.html#a9312c6eb72e64f748ae0d0e0dc3ec9b9">ntohs</a>(serverIdOption-&gt;length) &gt; <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#aa05ad3ad9a83e2486fbb7f86838fffb9">DHCPV6_MAX_DUID_SIZE</a>)</div><div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;</div><div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;   <span class="comment">//Get the status code returned by the server</span></div><div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;   status = <a class="code" href="../../dc/ded/dhcpv6__common_8c.html#a5eafbb8cf026dbdf9df9dd882d4c1713">dhcpv6GetStatusCode</a>(<a class="code" href="../../d5/dbb/chap_8h.html#a52f19d36a71e9b8ddea38fe00c291181">message</a>-&gt;options, <a class="code" href="../../d3/d25/dtls__misc_8h.html#ab43ca82dd7fa2a0e56f941032ef324c4">length</a>);</div><div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;</div><div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;   <span class="comment">//Check current state</span></div><div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;   <span class="keywordflow">if</span>(context-&gt;state == <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a7bc292bbd95a3839b42102e4f5a57e59">DHCPV6_STATE_SOLICIT</a>)</div><div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;   {</div><div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;      <span class="comment">//A Reply message is not acceptable when rapid commit is disallowed</span></div><div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;      <span class="keywordflow">if</span>(!context-&gt;settings.rapidCommit)</div><div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;         <span class="keywordflow">return</span>;</div><div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;</div><div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;      <span class="comment">//Search for the Rapid Commit option</span></div><div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;      option = <a class="code" href="../../dc/ded/dhcpv6__common_8c.html#a6678e0579ff5fe27d71f2ca45f35b54b">dhcpv6GetOption</a>(<a class="code" href="../../d5/dbb/chap_8h.html#a52f19d36a71e9b8ddea38fe00c291181">message</a>-&gt;options, <a class="code" href="../../d3/d25/dtls__misc_8h.html#ab43ca82dd7fa2a0e56f941032ef324c4">length</a>, <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#ace3d7da87df06edf56819a49ebf00574a8ce7598c8440ec545924bc13b5619944">DHCPV6_OPTION_RAPID_COMMIT</a>);</div><div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;</div><div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;      <span class="comment">//The client discards any message that does not include a Rapid Commit option</span></div><div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;      <span class="keywordflow">if</span>(option == <a class="code" href="../../de/da2/group__BSPDefine.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> || <a class="code" href="../../df/de9/cpu__endian_8h.html#a9312c6eb72e64f748ae0d0e0dc3ec9b9">ntohs</a>(option-&gt;length) != 0)</div><div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;         <span class="keywordflow">return</span>;</div><div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;   }</div><div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;   <span class="keywordflow">else</span> <span class="keywordflow">if</span>(context-&gt;state == <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a4a75d2c1f2fd8684d2a124721935a7d9">DHCPV6_STATE_REQUEST</a>)</div><div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;   {</div><div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;      <span class="comment">//The client must discard the Reply message if the contents of the</span></div><div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;      <span class="comment">//Server Identifier option do not match the server’s DUID</span></div><div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;      <span class="keywordflow">if</span>(!<a class="code" href="../../d6/d91/dhcpv6__client_8c.html#ad527db35497d30d495444948bfd93ca7">dhcpv6ClientCheckServerId</a>(context, serverIdOption))</div><div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;         <span class="keywordflow">return</span>;</div><div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;   }</div><div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;   <span class="keywordflow">else</span> <span class="keywordflow">if</span>(context-&gt;state == <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9ac0f1f4819e62f2979a26a3654af7e2fc">DHCPV6_STATE_CONFIRM</a>)</div><div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;   {</div><div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;      <span class="comment">//When the client receives a NotOnLink status from the server in response</span></div><div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;      <span class="comment">//to a Confirm message, the client performs DHCP server solicitation</span></div><div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;      <span class="keywordflow">if</span>(status == <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#ae3d249bb8993edf1fb41f1ac349078f1a1da269e6ebd8b959114717b0b1ea2b9c">DHCPV6_STATUS_NOT_ON_LINK</a>)</div><div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;      {</div><div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;         <span class="comment">//Restart the DHCP server discovery process</span></div><div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;         <a class="code" href="../../d6/d91/dhcpv6__client_8c.html#aafd32758fb24f5bc2267ad372f06545d">dhcpv6ClientChangeState</a>(context, <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a017951020877623ce2220289f5c93025">DHCPV6_STATE_INIT</a>, 0);</div><div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;</div><div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;         <span class="comment">//Exit immediately</span></div><div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;         <span class="keywordflow">return</span>;</div><div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;      }</div><div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;   }</div><div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;   <span class="keywordflow">else</span> <span class="keywordflow">if</span>(context-&gt;state == <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a28a33f3446b846dc6ed8b728b23a5b70">DHCPV6_STATE_RENEW</a>)</div><div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;   {</div><div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;      <span class="comment">//The client must discard the Reply message if the contents of the</span></div><div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;      <span class="comment">//Server Identifier option do not match the server’s DUID</span></div><div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;      <span class="keywordflow">if</span>(!<a class="code" href="../../d6/d91/dhcpv6__client_8c.html#ad527db35497d30d495444948bfd93ca7">dhcpv6ClientCheckServerId</a>(context, serverIdOption))</div><div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;         <span class="keywordflow">return</span>;</div><div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;   }</div><div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;   <span class="keywordflow">else</span> <span class="keywordflow">if</span>(context-&gt;state == <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9ae19c57945990feb5d8fd89ae986481b6">DHCPV6_STATE_REBIND</a>)</div><div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;   {</div><div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;      <span class="comment">//Do not check the server&#39;s DUID when the Reply message is</span></div><div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;      <span class="comment">//received in response to a Rebind message</span></div><div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;   }</div><div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;   <span class="keywordflow">else</span> <span class="keywordflow">if</span>(context-&gt;state == <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a5c7dfad4462eb1ae1b609e1800f1dc93">DHCPV6_STATE_RELEASE</a>)</div><div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;   {</div><div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;      <span class="comment">//The client must discard the Reply message if the contents of the</span></div><div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;      <span class="comment">//Server Identifier option do not match the server’s DUID</span></div><div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;      <span class="keywordflow">if</span>(!<a class="code" href="../../d6/d91/dhcpv6__client_8c.html#ad527db35497d30d495444948bfd93ca7">dhcpv6ClientCheckServerId</a>(context, serverIdOption))</div><div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;         <span class="keywordflow">return</span>;</div><div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;</div><div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;      <span class="comment">//When the client receives a valid Reply message in response to a</span></div><div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;      <span class="comment">//Release message, the client considers the Release event completed,</span></div><div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;      <span class="comment">//regardless of the Status Code option(s) returned by the server</span></div><div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;      context-&gt;running = <a class="code" href="../../da/d42/os__port_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;</div><div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;      <span class="comment">//Reinitialize state machine</span></div><div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;      <a class="code" href="../../d6/d91/dhcpv6__client_8c.html#aafd32758fb24f5bc2267ad372f06545d">dhcpv6ClientChangeState</a>(context, <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a017951020877623ce2220289f5c93025">DHCPV6_STATE_INIT</a>, 0);</div><div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;</div><div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;      <span class="comment">//Exit immediately</span></div><div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;   }</div><div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;   <span class="keywordflow">else</span> <span class="keywordflow">if</span>(context-&gt;state == <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a198862c17ecac221d19b82f793b5fff8">DHCPV6_STATE_DECLINE</a>)</div><div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;   {</div><div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;      <span class="comment">//The client must discard the Reply message if the contents of the</span></div><div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;      <span class="comment">//Server Identifier option do not match the server’s DUID</span></div><div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;      <span class="keywordflow">if</span>(!<a class="code" href="../../d6/d91/dhcpv6__client_8c.html#ad527db35497d30d495444948bfd93ca7">dhcpv6ClientCheckServerId</a>(context, serverIdOption))</div><div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;         <span class="keywordflow">return</span>;</div><div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;</div><div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;      <span class="comment">//When the client receives a valid Reply message in response to a</span></div><div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;      <span class="comment">//Decline message, the client considers the Decline event completed,</span></div><div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;      <span class="comment">//regardless of the Status Code option returned by the server</span></div><div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;      <a class="code" href="../../d6/d91/dhcpv6__client_8c.html#aafd32758fb24f5bc2267ad372f06545d">dhcpv6ClientChangeState</a>(context, <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a017951020877623ce2220289f5c93025">DHCPV6_STATE_INIT</a>, 0);</div><div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;</div><div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;      <span class="comment">//Exit immediately</span></div><div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;   }</div><div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;   <span class="keywordflow">else</span></div><div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;   {</div><div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;      <span class="comment">//Silently discard the Reply message</span></div><div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;   }</div><div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;</div><div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;   <span class="comment">//Check status code</span></div><div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;   <span class="keywordflow">if</span>(status == <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#ae3d249bb8993edf1fb41f1ac349078f1ae0874bd22dd4b258942c333ed5a28361">DHCPV6_STATUS_USE_MULTICAST</a>)</div><div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;   {</div><div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;      <span class="comment">//When the client receives a Reply message with a Status Code option</span></div><div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;      <span class="comment">//with the value UseMulticast, the client records the receipt of the</span></div><div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;      <span class="comment">//message and sends subsequent messages to the server through the</span></div><div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;      <span class="comment">//interface on which the message was received using multicast</span></div><div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;   }</div><div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;   <span class="keywordflow">else</span> <span class="keywordflow">if</span>(status == <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#ae3d249bb8993edf1fb41f1ac349078f1a92ef79492ddf1f5f2f56eb0360bd6baf">DHCPV6_STATUS_UNSPEC_FAILURE</a>)</div><div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;   {</div><div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;      <span class="comment">//If the client receives a Reply message with a Status Code containing</span></div><div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;      <span class="comment">//UnspecFail, the server is indicating that it was unable to process</span></div><div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;      <span class="comment">//the message due to an unspecified failure condition</span></div><div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;   }</div><div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;</div><div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;   <span class="comment">//This flag will be set if a valid IA_NA option is found</span></div><div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;   iaNaOptionFound = <a class="code" href="../../da/d42/os__port_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;   <span class="comment">//Point to the first option</span></div><div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;   i = 0;</div><div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;</div><div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;   <span class="comment">//Loop through DHCPv6 options</span></div><div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;   <span class="keywordflow">while</span>(i &lt; <a class="code" href="../../d3/d25/dtls__misc_8h.html#ab43ca82dd7fa2a0e56f941032ef324c4">length</a>)</div><div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;   {</div><div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;      <span class="comment">//Search for an IA_NA option</span></div><div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;      option = <a class="code" href="../../dc/ded/dhcpv6__common_8c.html#a6678e0579ff5fe27d71f2ca45f35b54b">dhcpv6GetOption</a>(<a class="code" href="../../d5/dbb/chap_8h.html#a52f19d36a71e9b8ddea38fe00c291181">message</a>-&gt;options + i, <a class="code" href="../../d3/d25/dtls__misc_8h.html#ab43ca82dd7fa2a0e56f941032ef324c4">length</a> - i, <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#ace3d7da87df06edf56819a49ebf00574a03bdde9e8ae8a85d4936efb2f9fbb956">DHCPV6_OPTION_IA_NA</a>);</div><div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;</div><div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;      <span class="comment">//Unable to find the specified option?</span></div><div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;      <span class="keywordflow">if</span>(option == <a class="code" href="../../de/da2/group__BSPDefine.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;</div><div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;      <span class="comment">//Parse the contents of the IA_NA option</span></div><div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;      error = <a class="code" href="../../d6/d91/dhcpv6__client_8c.html#ad68a947419af81c6e478eaa92ae7680e">dhcpv6ClientParseIaNaOption</a>(context, option);</div><div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;</div><div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;      <span class="comment">//Check error code</span></div><div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;      <span class="keywordflow">if</span>(error == <a class="code" href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94">NO_ERROR</a>)</div><div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;      {</div><div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;         <span class="comment">//A valid IA_NA option has been found</span></div><div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;         iaNaOptionFound = <a class="code" href="../../da/d42/os__port_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;      }</div><div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span>(error == <a class="code" href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689ca82e6179d1843086162e4b3171821f0fb">ERROR_NOT_ON_LINK</a>)</div><div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;      {</div><div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;         <span class="comment">//When the client receives a NotOnLink status from the server</span></div><div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;         <span class="comment">//in response to a Request, the client can either re-issue the</span></div><div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;         <span class="comment">//Request without specifying any addresses or restart the DHCP</span></div><div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;         <span class="comment">//server discovery process</span></div><div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;         <a class="code" href="../../d6/d91/dhcpv6__client_8c.html#aafd32758fb24f5bc2267ad372f06545d">dhcpv6ClientChangeState</a>(context, <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a017951020877623ce2220289f5c93025">DHCPV6_STATE_INIT</a>, 0);</div><div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;</div><div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;         <span class="comment">//Exit immediately</span></div><div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;         <span class="keywordflow">return</span>;</div><div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;      }</div><div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span>(error == <a class="code" href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689ca6242320f68a052402e19292c494c4355">ERROR_NO_BINDING</a>)</div><div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;      {</div><div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;         <span class="comment">//When the client receives a Reply message in response to a Renew</span></div><div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;         <span class="comment">//or Rebind message, the client sends a Request message if any of</span></div><div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;         <span class="comment">//the IAs in the Reply message contains the NoBinding status code</span></div><div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;         <a class="code" href="../../d6/d91/dhcpv6__client_8c.html#aafd32758fb24f5bc2267ad372f06545d">dhcpv6ClientChangeState</a>(context, <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a4a75d2c1f2fd8684d2a124721935a7d9">DHCPV6_STATE_REQUEST</a>, 0);</div><div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;</div><div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;         <span class="comment">//Exit immediately</span></div><div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;         <span class="keywordflow">return</span>;</div><div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;      }</div><div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;      {</div><div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;         <span class="comment">//If an invalid option is received, the client discards</span></div><div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;         <span class="comment">//the option and process the rest of the message...</span></div><div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;      }</div><div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;</div><div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;      <span class="comment">//Jump to the next option</span></div><div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;      i += <span class="keyword">sizeof</span>(<a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#a89f7acb5d12dede28c2b98290018051e">Dhcpv6Option</a>) + <a class="code" href="../../df/de9/cpu__endian_8h.html#a9312c6eb72e64f748ae0d0e0dc3ec9b9">ntohs</a>(option-&gt;length);</div><div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;   }</div><div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;</div><div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;   <span class="comment">//No usable addresses in any of the IAs?</span></div><div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;   <span class="keywordflow">if</span>(!iaNaOptionFound)</div><div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;   {</div><div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;      <span class="comment">//Check whether the client receives a Reply message in response</span></div><div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;      <span class="comment">//to a Renew or Rebind message</span></div><div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;      <span class="keywordflow">if</span>(context-&gt;state == <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a28a33f3446b846dc6ed8b728b23a5b70">DHCPV6_STATE_RENEW</a> ||</div><div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;         context-&gt;state == <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9ae19c57945990feb5d8fd89ae986481b6">DHCPV6_STATE_REBIND</a>)</div><div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;      {</div><div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;         <span class="comment">//The client sends a Renew/Rebind if the IA is not in the Reply message</span></div><div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;      }</div><div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;      {</div><div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;         <span class="comment">//If the client finds no usable addresses in any of the IAs, it may try</span></div><div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;         <span class="comment">//another server (perhaps restarting the DHCP server discovery process)</span></div><div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;         <a class="code" href="../../d6/d91/dhcpv6__client_8c.html#aafd32758fb24f5bc2267ad372f06545d">dhcpv6ClientChangeState</a>(context, <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a017951020877623ce2220289f5c93025">DHCPV6_STATE_INIT</a>, 0);</div><div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;      }</div><div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;</div><div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;      <span class="comment">//Exit immediately</span></div><div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;   }</div><div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;</div><div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;   <span class="comment">//Total number of valid IPv6 in the IA</span></div><div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;   n = 0;</div><div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;   <span class="comment">//Number of new IPv6 addresses in the IA</span></div><div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;   k = 0;</div><div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;   <span class="comment">//Minimum preferred lifetime observed in the IA</span></div><div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;   minPreferredLifetime = 0;</div><div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;</div><div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;   <span class="comment">//Loop through the IPv6 addresses recorded by the DHCPv6 client</span></div><div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;   <span class="keywordflow">for</span>(i = 0; i &lt; <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a50daf16fa24e452127eef9a801d8f576">DHCPV6_CLIENT_ADDR_LIST_SIZE</a>; i++)</div><div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;   {</div><div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;      <span class="comment">//Point to the current entry</span></div><div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;      entry = &amp;context-&gt;ia.addrList[i];</div><div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;</div><div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;      <span class="comment">//Valid IPv6 address?</span></div><div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;      <span class="keywordflow">if</span>(entry-&gt;<a class="code" href="../../de/d95/structDhcpv6ClientAddrEntry.html#a975d3431d046a9dadc2e6a6594a09168">validLifetime</a> &gt; 0)</div><div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;      {</div><div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;         <span class="comment">//Total number of valid IPv6 in the IA</span></div><div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;         n++;</div><div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;</div><div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;         <span class="comment">//Save the minimum preferred lifetime that has been observed so far</span></div><div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;         <span class="keywordflow">if</span>(minPreferredLifetime &lt; entry-&gt;<a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#a40bac1e80f1005d8d5045ec837d1429b">preferredLifetime</a>)</div><div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;            minPreferredLifetime = entry-&gt;<a class="code" href="../../de/d95/structDhcpv6ClientAddrEntry.html#a24e1399fe28c7e13c134de1e2953e051">preferredLifetime</a>;</div><div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;</div><div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;         <span class="comment">//Update lifetimes of the current IPv6 address</span></div><div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;         <a class="code" href="../../dc/d33/ipv6__misc_8c.html#a09293900ef392400821733fd3ef1a66b">ipv6AddAddr</a>(interface, &amp;entry-&gt;<a class="code" href="../../de/d95/structDhcpv6ClientAddrEntry.html#a3f15eb3e64b43ca99e49e090d3c0eb72">addr</a>, entry-&gt;<a class="code" href="../../de/d95/structDhcpv6ClientAddrEntry.html#a975d3431d046a9dadc2e6a6594a09168">validLifetime</a>,</div><div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;            entry-&gt;<a class="code" href="../../de/d95/structDhcpv6ClientAddrEntry.html#a24e1399fe28c7e13c134de1e2953e051">preferredLifetime</a>);</div><div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;</div><div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;         <span class="comment">//New IPv6 address added?</span></div><div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;         <span class="keywordflow">if</span>(<a class="code" href="../../dc/d33/ipv6__misc_8c.html#ac635994871aa4238959d1c9488c5c486">ipv6GetAddrState</a>(interface, &amp;entry-&gt;<a class="code" href="../../de/d95/structDhcpv6ClientAddrEntry.html#a3f15eb3e64b43ca99e49e090d3c0eb72">addr</a>) == <a class="code" href="../../d3/ddd/ipv6_8h.html#acb54c5e2b7ee1652f5bf055e14cc518dacb3152ea8c90d13a425042070b987fe6">IPV6_ADDR_STATE_TENTATIVE</a>)</div><div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;            k++;</div><div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;      }</div><div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;   }</div><div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;</div><div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;   <span class="comment">//Make sure that the IA contains at least one IPv6 address</span></div><div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;   <span class="keywordflow">if</span>(n &gt; 0)</div><div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;   {</div><div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;      <span class="comment">//Save the length of the DUID</span></div><div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;      context-&gt;serverIdLength = <a class="code" href="../../df/de9/cpu__endian_8h.html#a9312c6eb72e64f748ae0d0e0dc3ec9b9">ntohs</a>(serverIdOption-&gt;length);</div><div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;      <span class="comment">//Record the server DUID</span></div><div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;      memcpy(context-&gt;serverId, serverIdOption-&gt;value, context-&gt;serverIdLength);</div><div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;</div><div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;      <span class="comment">//Save the time a which the lease was obtained</span></div><div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;      context-&gt;leaseStartTime = <a class="code" href="../../dd/d0d/os__port__chibios_8c.html#ab66a11272d40a916fa69dd8e4dc443d4">osGetSystemTime</a>();</div><div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;</div><div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;      <span class="comment">//Check the value of T1</span></div><div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;      <span class="keywordflow">if</span>(context-&gt;ia.t1 == 0)</div><div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;      {</div><div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;         <span class="comment">//If T1 is set to 0 by the server, the client may send</span></div><div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;         <span class="comment">//a Renew message at the client&#39;s discretion</span></div><div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;         <span class="keywordflow">if</span>(minPreferredLifetime == <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#ab9aee2bf751d949dbfa5fb9f58cb84fb">DHCPV6_INFINITE_TIME</a>)</div><div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;            context-&gt;ia.t1 = <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#ab9aee2bf751d949dbfa5fb9f58cb84fb">DHCPV6_INFINITE_TIME</a>;</div><div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;         <span class="keywordflow">else</span></div><div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;            context-&gt;ia.t1 = minPreferredLifetime / 2;</div><div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;      }</div><div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;</div><div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;      <span class="comment">//Check the value of T2</span></div><div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;      <span class="keywordflow">if</span>(context-&gt;ia.t2 == 0)</div><div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;      {</div><div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;         <span class="comment">//If T2 is set to 0 by the server, the client may send</span></div><div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;         <span class="comment">//a Rebind message at the client&#39;s discretion</span></div><div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;         <span class="keywordflow">if</span>(context-&gt;ia.t1 == <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#ab9aee2bf751d949dbfa5fb9f58cb84fb">DHCPV6_INFINITE_TIME</a>)</div><div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;            context-&gt;ia.t2 = <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#ab9aee2bf751d949dbfa5fb9f58cb84fb">DHCPV6_INFINITE_TIME</a>;</div><div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;         <span class="keywordflow">else</span></div><div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;            context-&gt;ia.t2 = context-&gt;ia.t1 + context-&gt;ia.t1 / 2;</div><div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;      }</div><div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;</div><div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;      <span class="comment">//Any addresses added in the IA?</span></div><div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;      <span class="keywordflow">if</span>(k &gt; 0)</div><div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;      {</div><div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;         <span class="comment">//Perform Duplicate Address Detection for the new IPv6 addresses</span></div><div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;         <a class="code" href="../../d6/d91/dhcpv6__client_8c.html#aafd32758fb24f5bc2267ad372f06545d">dhcpv6ClientChangeState</a>(context, <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a3b351a49eb0882948f1af86701439abd">DHCPV6_STATE_DAD</a>, 0);</div><div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;      }</div><div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;      {</div><div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;         <span class="comment">//Switch to the BOUND state</span></div><div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;         <a class="code" href="../../d6/d91/dhcpv6__client_8c.html#aafd32758fb24f5bc2267ad372f06545d">dhcpv6ClientChangeState</a>(context, <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a49b5f6fffcbc5e9dadbe07ebe2d29535">DHCPV6_STATE_BOUND</a>, 0);</div><div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;      }</div><div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;   }</div><div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;   <span class="keywordflow">else</span></div><div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;   {</div><div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;      <span class="comment">//If the client finds no usable addresses in any of the IAs, it may try</span></div><div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;      <span class="comment">//another server (perhaps restarting the DHCP server discovery process)</span></div><div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;      <a class="code" href="../../d6/d91/dhcpv6__client_8c.html#aafd32758fb24f5bc2267ad372f06545d">dhcpv6ClientChangeState</a>(context, <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a017951020877623ce2220289f5c93025">DHCPV6_STATE_INIT</a>, 0);</div><div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;   }</div><div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;}</div><div class="ttc" id="ipv6__misc_8c_html_ac635994871aa4238959d1c9488c5c486"><div class="ttname"><a href="../../dc/d33/ipv6__misc_8c.html#ac635994871aa4238959d1c9488c5c486">ipv6GetAddrState</a></div><div class="ttdeci">Ipv6AddrState ipv6GetAddrState(NetInterface *interface, const Ipv6Addr *addr)</div><div class="ttdoc">Get the state of the specified IPv6 address. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d33/ipv6__misc_8c_source.html#l00055">ipv6_misc.c:55</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_a8610bfd009af9756638a193136ef93f9a5c7dfad4462eb1ae1b609e1800f1dc93"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a5c7dfad4462eb1ae1b609e1800f1dc93">DHCPV6_STATE_RELEASE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00252">dhcpv6_client.h:252</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_ace3d7da87df06edf56819a49ebf00574ae48652f6f207faa0fecc5ba909757672"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#ace3d7da87df06edf56819a49ebf00574ae48652f6f207faa0fecc5ba909757672">DHCPV6_OPTION_SERVERID</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddf/dhcpv6__common_8h_source.html#l00113">dhcpv6_common.h:113</a></div></div>
<div class="ttc" id="dhcpv6__common_8c_html_a6678e0579ff5fe27d71f2ca45f35b54b"><div class="ttname"><a href="../../dc/ded/dhcpv6__common_8c.html#a6678e0579ff5fe27d71f2ca45f35b54b">dhcpv6GetOption</a></div><div class="ttdeci">Dhcpv6Option * dhcpv6GetOption(const uint8_t *options, size_t optionsLength, uint16_t optionCode)</div><div class="ttdoc">Find the specified option in a DHCPv6 message. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/ded/dhcpv6__common_8c_source.html#l00206">dhcpv6_common.c:206</a></div></div>
<div class="ttc" id="compiler__port_8h_html_ae3e32a98d431a02106616da3071832dd"><div class="ttname"><a href="../../d1/dfa/compiler__port_8h.html#ae3e32a98d431a02106616da3071832dd">systime_t</a></div><div class="ttdeci">uint32_t systime_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dfa/compiler__port_8h_source.html#l00046">compiler_port.h:46</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_a50daf16fa24e452127eef9a801d8f576"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a50daf16fa24e452127eef9a801d8f576">DHCPV6_CLIENT_ADDR_LIST_SIZE</a></div><div class="ttdeci">#define DHCPV6_CLIENT_ADDR_LIST_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00054">dhcpv6_client.h:54</a></div></div>
<div class="ttc" id="os__port__chibios_8c_html_ab66a11272d40a916fa69dd8e4dc443d4"><div class="ttname"><a href="../../dd/d0d/os__port__chibios_8c.html#ab66a11272d40a916fa69dd8e4dc443d4">osGetSystemTime</a></div><div class="ttdeci">systime_t osGetSystemTime(void)</div><div class="ttdoc">Retrieve system time. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d0d/os__port__chibios_8c_source.html#l00490">os_port_chibios.c:490</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_a8610bfd009af9756638a193136ef93f9a7bc292bbd95a3839b42102e4f5a57e59"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a7bc292bbd95a3839b42102e4f5a57e59">DHCPV6_STATE_SOLICIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00244">dhcpv6_client.h:244</a></div></div>
<div class="ttc" id="error_8h_html_ac7659d73a8cdedc08e9f566bb406689ca6242320f68a052402e19292c494c4355"><div class="ttname"><a href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689ca6242320f68a052402e19292c494c4355">ERROR_NO_BINDING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d41/error_8h_source.html#l00198">error.h:198</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_ae3d249bb8993edf1fb41f1ac349078f1"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#ae3d249bb8993edf1fb41f1ac349078f1">Dhcpv6StatusCode</a></div><div class="ttdeci">Dhcpv6StatusCode</div><div class="ttdoc">Status code. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddf/dhcpv6__common_8h_source.html#l00144">dhcpv6_common.h:144</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_ae3d249bb8993edf1fb41f1ac349078f1a1da269e6ebd8b959114717b0b1ea2b9c"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#ae3d249bb8993edf1fb41f1ac349078f1a1da269e6ebd8b959114717b0b1ea2b9c">DHCPV6_STATUS_NOT_ON_LINK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddf/dhcpv6__common_8h_source.html#l00150">dhcpv6_common.h:150</a></div></div>
<div class="ttc" id="chap_8h_html_a52f19d36a71e9b8ddea38fe00c291181"><div class="ttname"><a href="../../d5/dbb/chap_8h.html#a52f19d36a71e9b8ddea38fe00c291181">message</a></div><div class="ttdeci">uint8_t message[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dbb/chap_8h_source.html#l00152">chap.h:152</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_aa05ad3ad9a83e2486fbb7f86838fffb9"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#aa05ad3ad9a83e2486fbb7f86838fffb9">DHCPV6_MAX_DUID_SIZE</a></div><div class="ttdeci">#define DHCPV6_MAX_DUID_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddf/dhcpv6__common_8h_source.html#l00046">dhcpv6_common.h:46</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_ae3d249bb8993edf1fb41f1ac349078f1ae0874bd22dd4b258942c333ed5a28361"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#ae3d249bb8993edf1fb41f1ac349078f1ae0874bd22dd4b258942c333ed5a28361">DHCPV6_STATUS_USE_MULTICAST</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddf/dhcpv6__common_8h_source.html#l00151">dhcpv6_common.h:151</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_ace3d7da87df06edf56819a49ebf00574a03bdde9e8ae8a85d4936efb2f9fbb956"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#ace3d7da87df06edf56819a49ebf00574a03bdde9e8ae8a85d4936efb2f9fbb956">DHCPV6_OPTION_IA_NA</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddf/dhcpv6__common_8h_source.html#l00114">dhcpv6_common.h:114</a></div></div>
<div class="ttc" id="structDhcpv6ClientAddrEntry_html_a24e1399fe28c7e13c134de1e2953e051"><div class="ttname"><a href="../../de/d95/structDhcpv6ClientAddrEntry.html#a24e1399fe28c7e13c134de1e2953e051">Dhcpv6ClientAddrEntry::preferredLifetime</a></div><div class="ttdeci">uint32_t preferredLifetime</div><div class="ttdoc">Preferred lifetime. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00305">dhcpv6_client.h:305</a></div></div>
<div class="ttc" id="group__BSPDefine_html_ga070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../de/da2/group__BSPDefine.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d6b/nm__bsp_8h_source.html#l00070">nm_bsp.h:70</a></div></div>
<div class="ttc" id="os__port_8h_html_aa8cecfc5c5c054d2875c03e77b7be15d"><div class="ttname"><a href="../../da/d42/os__port_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a></div><div class="ttdeci">#define TRUE</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d42/os__port_8h_source.html#l00050">os_port.h:50</a></div></div>
<div class="ttc" id="dhcpv6__client_8c_html_aafd32758fb24f5bc2267ad372f06545d"><div class="ttname"><a href="../../d6/d91/dhcpv6__client_8c.html#aafd32758fb24f5bc2267ad372f06545d">dhcpv6ClientChangeState</a></div><div class="ttdeci">void dhcpv6ClientChangeState(Dhcpv6ClientContext *context, Dhcpv6State newState, systime_t delay)</div><div class="ttdoc">Update DHCPv6 FSM state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d91/dhcpv6__client_8c_source.html#l02506">dhcpv6_client.c:2506</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_ace3d7da87df06edf56819a49ebf00574a514e3d36a6eed2796997f995b847c4ff"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#ace3d7da87df06edf56819a49ebf00574a514e3d36a6eed2796997f995b847c4ff">DHCPV6_OPTION_CLIENTID</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddf/dhcpv6__common_8h_source.html#l00112">dhcpv6_common.h:112</a></div></div>
<div class="ttc" id="structDhcpv6ClientAddrEntry_html_a3f15eb3e64b43ca99e49e090d3c0eb72"><div class="ttname"><a href="../../de/d95/structDhcpv6ClientAddrEntry.html#a3f15eb3e64b43ca99e49e090d3c0eb72">Dhcpv6ClientAddrEntry::addr</a></div><div class="ttdeci">Ipv6Addr addr</div><div class="ttdoc">IPv6 address. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00303">dhcpv6_client.h:303</a></div></div>
<div class="ttc" id="cpu__endian_8h_html_a9312c6eb72e64f748ae0d0e0dc3ec9b9"><div class="ttname"><a href="../../df/de9/cpu__endian_8h.html#a9312c6eb72e64f748ae0d0e0dc3ec9b9">ntohs</a></div><div class="ttdeci">#define ntohs(value)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de9/cpu__endian_8h_source.html#l00398">cpu_endian.h:398</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_a8610bfd009af9756638a193136ef93f9a4a75d2c1f2fd8684d2a124721935a7d9"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a4a75d2c1f2fd8684d2a124721935a7d9">DHCPV6_STATE_REQUEST</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00245">dhcpv6_client.h:245</a></div></div>
<div class="ttc" id="error_8h_html_ac7659d73a8cdedc08e9f566bb406689ca82e6179d1843086162e4b3171821f0fb"><div class="ttname"><a href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689ca82e6179d1843086162e4b3171821f0fb">ERROR_NOT_ON_LINK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d41/error_8h_source.html#l00199">error.h:199</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_ace3d7da87df06edf56819a49ebf00574a8ce7598c8440ec545924bc13b5619944"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#ace3d7da87df06edf56819a49ebf00574a8ce7598c8440ec545924bc13b5619944">DHCPV6_OPTION_RAPID_COMMIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddf/dhcpv6__common_8h_source.html#l00124">dhcpv6_common.h:124</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_a8610bfd009af9756638a193136ef93f9a49b5f6fffcbc5e9dadbe07ebe2d29535"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a49b5f6fffcbc5e9dadbe07ebe2d29535">DHCPV6_STATE_BOUND</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00249">dhcpv6_client.h:249</a></div></div>
<div class="ttc" id="cpu__endian_8h_html_ae0950d84d4cadc7bef52fc340c49c720"><div class="ttname"><a href="../../df/de9/cpu__endian_8h.html#ae0950d84d4cadc7bef52fc340c49c720">LOAD24BE</a></div><div class="ttdeci">#define LOAD24BE(p)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de9/cpu__endian_8h_source.html#l00181">cpu_endian.h:181</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_a8610bfd009af9756638a193136ef93f9a017951020877623ce2220289f5c93025"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a017951020877623ce2220289f5c93025">DHCPV6_STATE_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00243">dhcpv6_client.h:243</a></div></div>
<div class="ttc" id="structDhcpv6ClientAddrEntry_html"><div class="ttname"><a href="../../de/d95/structDhcpv6ClientAddrEntry.html">Dhcpv6ClientAddrEntry</a></div><div class="ttdoc">IA address entry. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00301">dhcpv6_client.h:301</a></div></div>
<div class="ttc" id="dhcpv6__common_8c_html_a5eafbb8cf026dbdf9df9dd882d4c1713"><div class="ttname"><a href="../../dc/ded/dhcpv6__common_8c.html#a5eafbb8cf026dbdf9df9dd882d4c1713">dhcpv6GetStatusCode</a></div><div class="ttdeci">Dhcpv6StatusCode dhcpv6GetStatusCode(const uint8_t *options, size_t length)</div><div class="ttdoc">Retrieve status code. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/ded/dhcpv6__common_8c_source.html#l00070">dhcpv6_common.c:70</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_a40bac1e80f1005d8d5045ec837d1429b"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#a40bac1e80f1005d8d5045ec837d1429b">preferredLifetime</a></div><div class="ttdeci">uint32_t preferredLifetime</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddf/dhcpv6__common_8h_source.html#l00271">dhcpv6_common.h:271</a></div></div>
<div class="ttc" id="ipv6__misc_8c_html_a09293900ef392400821733fd3ef1a66b"><div class="ttname"><a href="../../dc/d33/ipv6__misc_8c.html#a09293900ef392400821733fd3ef1a66b">ipv6AddAddr</a></div><div class="ttdeci">void ipv6AddAddr(NetInterface *interface, const Ipv6Addr *addr, uint32_t validLifetime, uint32_t preferredLifetime)</div><div class="ttdoc">Add a new entry to the list of IPv6 addresses. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d33/ipv6__misc_8c_source.html#l00224">ipv6_misc.c:224</a></div></div>
<div class="ttc" id="md5_8c_html_af11ea3cdbca7345eb6a4a8ac5ce0434d"><div class="ttname"><a href="../../d7/d6c/md5_8c.html#af11ea3cdbca7345eb6a4a8ac5ce0434d">k</a></div><div class="ttdeci">static const uint32_t k[64]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d6c/md5_8c_source.html#l00067">md5.c:67</a></div></div>
<div class="ttc" id="error_8h_html_ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94"><div class="ttname"><a href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94">NO_ERROR</a></div><div class="ttdoc">Success. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d41/error_8h_source.html#l00044">error.h:44</a></div></div>
<div class="ttc" id="error_8h_html_ac7659d73a8cdedc08e9f566bb406689c"><div class="ttname"><a href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689c">error_t</a></div><div class="ttdeci">error_t</div><div class="ttdoc">Error codes. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d41/error_8h_source.html#l00042">error.h:42</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_ab9aee2bf751d949dbfa5fb9f58cb84fb"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#ab9aee2bf751d949dbfa5fb9f58cb84fb">DHCPV6_INFINITE_TIME</a></div><div class="ttdeci">#define DHCPV6_INFINITE_TIME</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddf/dhcpv6__common_8h_source.html#l00053">dhcpv6_common.h:53</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_ae3d249bb8993edf1fb41f1ac349078f1a92ef79492ddf1f5f2f56eb0360bd6baf"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#ae3d249bb8993edf1fb41f1ac349078f1a92ef79492ddf1f5f2f56eb0360bd6baf">DHCPV6_STATUS_UNSPEC_FAILURE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddf/dhcpv6__common_8h_source.html#l00147">dhcpv6_common.h:147</a></div></div>
<div class="ttc" id="dhcpv6__client_8c_html_ad527db35497d30d495444948bfd93ca7"><div class="ttname"><a href="../../d6/d91/dhcpv6__client_8c.html#ad527db35497d30d495444948bfd93ca7">dhcpv6ClientCheckServerId</a></div><div class="ttdeci">bool_t dhcpv6ClientCheckServerId(Dhcpv6ClientContext *context, Dhcpv6Option *serverIdOption)</div><div class="ttdoc">Check the Server Identifier option. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d91/dhcpv6__client_8c_source.html#l02409">dhcpv6_client.c:2409</a></div></div>
<div class="ttc" id="compiler__port_8h_html_a12a1e9b3ce141648783a82445d02b58d"><div class="ttname"><a href="../../d1/dfa/compiler__port_8h.html#a12a1e9b3ce141648783a82445d02b58d">uint_t</a></div><div class="ttdeci">unsigned int uint_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dfa/compiler__port_8h_source.html#l00045">compiler_port.h:45</a></div></div>
<div class="ttc" id="net_8h_html_a2234db8911a1148c9159979d8f5e0d6b"><div class="ttname"><a href="../../d7/d97/net_8h.html#a2234db8911a1148c9159979d8f5e0d6b">NetInterface</a></div><div class="ttdeci">#define NetInterface</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d97/net_8h_source.html#l00036">net.h:36</a></div></div>
<div class="ttc" id="structDhcpv6ClientAddrEntry_html_a975d3431d046a9dadc2e6a6594a09168"><div class="ttname"><a href="../../de/d95/structDhcpv6ClientAddrEntry.html#a975d3431d046a9dadc2e6a6594a09168">Dhcpv6ClientAddrEntry::validLifetime</a></div><div class="ttdeci">uint32_t validLifetime</div><div class="ttdoc">Valid lifetime. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00304">dhcpv6_client.h:304</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_a89f7acb5d12dede28c2b98290018051e"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#a89f7acb5d12dede28c2b98290018051e">Dhcpv6Option</a></div><div class="ttdeci">__start_packed struct @130 Dhcpv6Option</div><div class="ttdoc">DHCPv6 option. </div></div>
<div class="ttc" id="ipv6_8h_html_acb54c5e2b7ee1652f5bf055e14cc518dacb3152ea8c90d13a425042070b987fe6"><div class="ttname"><a href="../../d3/ddd/ipv6_8h.html#acb54c5e2b7ee1652f5bf055e14cc518dacb3152ea8c90d13a425042070b987fe6">IPV6_ADDR_STATE_TENTATIVE</a></div><div class="ttdoc">An address whose uniqueness on a link is being verified. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/ddd/ipv6_8h_source.html#l00172">ipv6.h:172</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_a8610bfd009af9756638a193136ef93f9a198862c17ecac221d19b82f793b5fff8"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a198862c17ecac221d19b82f793b5fff8">DHCPV6_STATE_DECLINE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00253">dhcpv6_client.h:253</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_a8610bfd009af9756638a193136ef93f9ae19c57945990feb5d8fd89ae986481b6"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9ae19c57945990feb5d8fd89ae986481b6">DHCPV6_STATE_REBIND</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00251">dhcpv6_client.h:251</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_a8610bfd009af9756638a193136ef93f9ac0f1f4819e62f2979a26a3654af7e2fc"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9ac0f1f4819e62f2979a26a3654af7e2fc">DHCPV6_STATE_CONFIRM</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00247">dhcpv6_client.h:247</a></div></div>
<div class="ttc" id="dtls__misc_8h_html_ab43ca82dd7fa2a0e56f941032ef324c4"><div class="ttname"><a href="../../d3/d25/dtls__misc_8h.html#ab43ca82dd7fa2a0e56f941032ef324c4">length</a></div><div class="ttdeci">uint8_t length</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d25/dtls__misc_8h_source.html#l00149">dtls_misc.h:149</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_a5a648f5ec00c526b0dfa2df7a272c6c0"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#a5a648f5ec00c526b0dfa2df7a272c6c0">n</a></div><div class="ttdeci">uint8_t n</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddf/dhcpv6__common_8h_source.html#l00413">dhcpv6_common.h:413</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_a8610bfd009af9756638a193136ef93f9a3b351a49eb0882948f1af86701439abd"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a3b351a49eb0882948f1af86701439abd">DHCPV6_STATE_DAD</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00248">dhcpv6_client.h:248</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_a32f2f44ec9a8d2ee5e2977a7fcddaf85"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#a32f2f44ec9a8d2ee5e2977a7fcddaf85">Dhcpv6Message</a></div><div class="ttdeci">__start_packed struct @128 Dhcpv6Message</div><div class="ttdoc">DHCPv6 message. </div></div>
<div class="ttc" id="os__port_8h_html_aa93f0eb578d23995850d61f7d61c55c1"><div class="ttname"><a href="../../da/d42/os__port_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></div><div class="ttdeci">#define FALSE</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d42/os__port_8h_source.html#l00046">os_port.h:46</a></div></div>
<div class="ttc" id="compiler__port_8h_html_a812d16e5494522586b3784e55d479912"><div class="ttname"><a href="../../d1/dfa/compiler__port_8h.html#a812d16e5494522586b3784e55d479912">bool_t</a></div><div class="ttdeci">int bool_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dfa/compiler__port_8h_source.html#l00049">compiler_port.h:49</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_a8610bfd009af9756638a193136ef93f9a28a33f3446b846dc6ed8b728b23a5b70"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a28a33f3446b846dc6ed8b728b23a5b70">DHCPV6_STATE_RENEW</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00250">dhcpv6_client.h:250</a></div></div>
<div class="ttc" id="dhcpv6__client_8c_html_ad68a947419af81c6e478eaa92ae7680e"><div class="ttname"><a href="../../d6/d91/dhcpv6__client_8c.html#ad68a947419af81c6e478eaa92ae7680e">dhcpv6ClientParseIaNaOption</a></div><div class="ttdeci">error_t dhcpv6ClientParseIaNaOption(Dhcpv6ClientContext *context, const Dhcpv6Option *option)</div><div class="ttdoc">Parse IA_NA option. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d91/dhcpv6__client_8c_source.html#l01981">dhcpv6_client.c:1981</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="acc731e16386b5bb776b7acbbe58ea2b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc731e16386b5bb776b7acbbe58ea2b8">&#9670;&nbsp;</a></span>dhcpv6ClientProcessMessage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dhcpv6ClientProcessMessage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/d97/net_8h.html#a2234db8911a1148c9159979d8f5e0d6b">NetInterface</a> *&#160;</td>
          <td class="paramname"><em>interface</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../dd/d39/structIpPseudoHeader.html">IpPseudoHeader</a> *&#160;</td>
          <td class="paramname"><em>pseudoHeader</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d2/da7/udp_8h.html#a6877bae1da8326482f5e311875e52bce">UdpHeader</a> *&#160;</td>
          <td class="paramname"><em>udpHeader</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d3/dca/structNetBuffer.html">NetBuffer</a> *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>param</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Process incoming DHCPv6 message. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">interface</td><td>Underlying network interface </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pseudoHeader</td><td>UDP pseudo header </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">udpHeader</td><td>UDP header </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buffer</td><td>Multi-part buffer containing the incoming DHCPv6 message </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">offset</td><td>Offset to the first byte of the DHCPv6 message </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">param</td><td>Pointer to the DHCPv6 client context </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d6/d91/dhcpv6__client_8c_source.html#l01441">1441</a> of file <a class="el" href="../../d6/d91/dhcpv6__client_8c_source.html">dhcpv6_client.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;{</div><div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;   <span class="keywordtype">size_t</span> <a class="code" href="../../d3/d25/dtls__misc_8h.html#ab43ca82dd7fa2a0e56f941032ef324c4">length</a>;</div><div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;   <a class="code" href="../../df/d84/dhcpv6__client_8h.html#aac4eb11915c8cf98cce890c9d0270c9b">Dhcpv6ClientContext</a> *context;</div><div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;   <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#a32f2f44ec9a8d2ee5e2977a7fcddaf85">Dhcpv6Message</a> *<a class="code" href="../../d5/dbb/chap_8h.html#a52f19d36a71e9b8ddea38fe00c291181">message</a>;</div><div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;</div><div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;   <span class="comment">//Point to the DHCPv6 client context</span></div><div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;   context = (<a class="code" href="../../df/d84/dhcpv6__client_8h.html#aac4eb11915c8cf98cce890c9d0270c9b">Dhcpv6ClientContext</a> *) param;</div><div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;</div><div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;   <span class="comment">//Retrieve the length of the DHCPv6 message</span></div><div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;   length = <a class="code" href="../../d3/d7e/net__mem_8c.html#ac9dbcd9e28e61d8f4f6d2e9af2607b68">netBufferGetLength</a>(buffer) - <a class="code" href="../../d9/ddb/pic32mz_2isr__support_8h.html#a12a5aed8a193ebbf9a641104a310610d">offset</a>;</div><div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;</div><div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;   <span class="comment">//Make sure the DHCPv6 message is valid</span></div><div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;   <span class="keywordflow">if</span>(length &lt; <span class="keyword">sizeof</span>(<a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#a32f2f44ec9a8d2ee5e2977a7fcddaf85">Dhcpv6Message</a>))</div><div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;</div><div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;   <span class="comment">//Point to the beginning of the DHCPv6 message</span></div><div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;   message = <a class="code" href="../../d3/d7e/net__mem_8c.html#a20d30c9db547b3b2743368b589cf482b">netBufferAt</a>(buffer, <a class="code" href="../../d9/ddb/pic32mz_2isr__support_8h.html#a12a5aed8a193ebbf9a641104a310610d">offset</a>);</div><div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;   <span class="comment">//Sanity check</span></div><div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;   <span class="keywordflow">if</span>(message == <a class="code" href="../../de/da2/group__BSPDefine.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;</div><div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;   <span class="comment">//Debug message</span></div><div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;   <a class="code" href="../../db/d16/debug_8h.html#a67a8f9bc74358aa21745a76e23768dae">TRACE_DEBUG</a>(<span class="stringliteral">&quot;\r\n%s: DHCPv6 message received (%&quot;</span> <a class="code" href="../../d1/dfa/compiler__port_8h.html#a2b7b0557dc6cd786df02dafbb51f5292">PRIuSIZE</a> <span class="stringliteral">&quot; bytes)...\r\n&quot;</span>,</div><div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;      <a class="code" href="../../dd/d0f/date__time_8c.html#ae15b3e664208ca7e4d6983921865cd74">formatSystemTime</a>(<a class="code" href="../../dd/d0d/os__port__chibios_8c.html#ab66a11272d40a916fa69dd8e4dc443d4">osGetSystemTime</a>(), <a class="code" href="../../de/da2/group__BSPDefine.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>), length);</div><div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;</div><div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;   <span class="comment">//Dump the contents of the message for debugging purpose</span></div><div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;   <a class="code" href="../../de/dd9/dhcpv6__debug_8c.html#a36ce435509b18e157c961e1e82ae0e88">dhcpv6DumpMessage</a>(message, length);</div><div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;</div><div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;   <span class="comment">//Check message type</span></div><div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;   <span class="keywordflow">switch</span>(message-&gt;msgType)</div><div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;   {</div><div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#aeca9d54a4001e239844ff0245aaedf6caf7ed9c8857600d18f63bec24e3df6395">DHCPV6_MSG_TYPE_ADVERTISE</a>:</div><div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;      <span class="comment">//Parse Advertise message</span></div><div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;      <a class="code" href="../../d6/d91/dhcpv6__client_8c.html#ac0a83fe8f0c247ae596f245e727c56cd">dhcpv6ClientParseAdvertise</a>(context, message, length);</div><div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#aeca9d54a4001e239844ff0245aaedf6cae62b0f8ac95422e019179722183709b4">DHCPV6_MSG_TYPE_REPLY</a>:</div><div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;      <span class="comment">//Parse Reply message</span></div><div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;      <a class="code" href="../../d6/d91/dhcpv6__client_8c.html#ae47455838efddde0bce836e13249c2d0">dhcpv6ClientParseReply</a>(context, message, length);</div><div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;   <span class="keywordflow">default</span>:</div><div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;      <span class="comment">//Silently drop incoming message</span></div><div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;   }</div><div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;}</div><div class="ttc" id="os__port__chibios_8c_html_ab66a11272d40a916fa69dd8e4dc443d4"><div class="ttname"><a href="../../dd/d0d/os__port__chibios_8c.html#ab66a11272d40a916fa69dd8e4dc443d4">osGetSystemTime</a></div><div class="ttdeci">systime_t osGetSystemTime(void)</div><div class="ttdoc">Retrieve system time. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d0d/os__port__chibios_8c_source.html#l00490">os_port_chibios.c:490</a></div></div>
<div class="ttc" id="net__mem_8c_html_ac9dbcd9e28e61d8f4f6d2e9af2607b68"><div class="ttname"><a href="../../d3/d7e/net__mem_8c.html#ac9dbcd9e28e61d8f4f6d2e9af2607b68">netBufferGetLength</a></div><div class="ttdeci">size_t netBufferGetLength(const NetBuffer *buffer)</div><div class="ttdoc">Get the actual length of a multi-part buffer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d7e/net__mem_8c_source.html#l00297">net_mem.c:297</a></div></div>
<div class="ttc" id="chap_8h_html_a52f19d36a71e9b8ddea38fe00c291181"><div class="ttname"><a href="../../d5/dbb/chap_8h.html#a52f19d36a71e9b8ddea38fe00c291181">message</a></div><div class="ttdeci">uint8_t message[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dbb/chap_8h_source.html#l00152">chap.h:152</a></div></div>
<div class="ttc" id="group__BSPDefine_html_ga070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../de/da2/group__BSPDefine.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d6b/nm__bsp_8h_source.html#l00070">nm_bsp.h:70</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_aac4eb11915c8cf98cce890c9d0270c9b"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#aac4eb11915c8cf98cce890c9d0270c9b">Dhcpv6ClientContext</a></div><div class="ttdeci">#define Dhcpv6ClientContext</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00229">dhcpv6_client.h:229</a></div></div>
<div class="ttc" id="dhcpv6__client_8c_html_ae47455838efddde0bce836e13249c2d0"><div class="ttname"><a href="../../d6/d91/dhcpv6__client_8c.html#ae47455838efddde0bce836e13249c2d0">dhcpv6ClientParseReply</a></div><div class="ttdeci">void dhcpv6ClientParseReply(Dhcpv6ClientContext *context, const Dhcpv6Message *message, size_t length)</div><div class="ttdoc">Parse Reply message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d91/dhcpv6__client_8c_source.html#l01656">dhcpv6_client.c:1656</a></div></div>
<div class="ttc" id="date__time_8c_html_ae15b3e664208ca7e4d6983921865cd74"><div class="ttname"><a href="../../dd/d0f/date__time_8c.html#ae15b3e664208ca7e4d6983921865cd74">formatSystemTime</a></div><div class="ttdeci">const char_t * formatSystemTime(systime_t time, char_t *str)</div><div class="ttdoc">Format system time. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d0f/date__time_8c_source.html#l00077">date_time.c:77</a></div></div>
<div class="ttc" id="net__mem_8c_html_a20d30c9db547b3b2743368b589cf482b"><div class="ttname"><a href="../../d3/d7e/net__mem_8c.html#a20d30c9db547b3b2743368b589cf482b">netBufferAt</a></div><div class="ttdeci">void * netBufferAt(const NetBuffer *buffer, size_t offset)</div><div class="ttdoc">Returns a pointer to the data at the specified position. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d7e/net__mem_8c_source.html#l00413">net_mem.c:413</a></div></div>
<div class="ttc" id="pic32mz_2isr__support_8h_html_a12a5aed8a193ebbf9a641104a310610d"><div class="ttname"><a href="../../d9/ddb/pic32mz_2isr__support_8h.html#a12a5aed8a193ebbf9a641104a310610d">offset</a></div><div class="ttdeci">macro portSAVE_FPU_REGS offset</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/ddb/pic32mz_2isr__support_8h_source.html#l00038">isr_support.h:38</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_aeca9d54a4001e239844ff0245aaedf6caf7ed9c8857600d18f63bec24e3df6395"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#aeca9d54a4001e239844ff0245aaedf6caf7ed9c8857600d18f63bec24e3df6395">DHCPV6_MSG_TYPE_ADVERTISE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddf/dhcpv6__common_8h_source.html#l00091">dhcpv6_common.h:91</a></div></div>
<div class="ttc" id="compiler__port_8h_html_a2b7b0557dc6cd786df02dafbb51f5292"><div class="ttname"><a href="../../d1/dfa/compiler__port_8h.html#a2b7b0557dc6cd786df02dafbb51f5292">PRIuSIZE</a></div><div class="ttdeci">#define PRIuSIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dfa/compiler__port_8h_source.html#l00078">compiler_port.h:78</a></div></div>
<div class="ttc" id="dhcpv6__debug_8c_html_a36ce435509b18e157c961e1e82ae0e88"><div class="ttname"><a href="../../de/dd9/dhcpv6__debug_8c.html#a36ce435509b18e157c961e1e82ae0e88">dhcpv6DumpMessage</a></div><div class="ttdeci">error_t dhcpv6DumpMessage(const void *message, size_t length)</div><div class="ttdoc">Dump DHCPv6 message for debugging purpose. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dd9/dhcpv6__debug_8c_source.html#l00123">dhcpv6_debug.c:123</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_aeca9d54a4001e239844ff0245aaedf6cae62b0f8ac95422e019179722183709b4"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#aeca9d54a4001e239844ff0245aaedf6cae62b0f8ac95422e019179722183709b4">DHCPV6_MSG_TYPE_REPLY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddf/dhcpv6__common_8h_source.html#l00096">dhcpv6_common.h:96</a></div></div>
<div class="ttc" id="dhcpv6__client_8c_html_ac0a83fe8f0c247ae596f245e727c56cd"><div class="ttname"><a href="../../d6/d91/dhcpv6__client_8c.html#ac0a83fe8f0c247ae596f245e727c56cd">dhcpv6ClientParseAdvertise</a></div><div class="ttdeci">void dhcpv6ClientParseAdvertise(Dhcpv6ClientContext *context, const Dhcpv6Message *message, size_t length)</div><div class="ttdoc">Parse Advertise message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d91/dhcpv6__client_8c_source.html#l01497">dhcpv6_client.c:1497</a></div></div>
<div class="ttc" id="dtls__misc_8h_html_ab43ca82dd7fa2a0e56f941032ef324c4"><div class="ttname"><a href="../../d3/d25/dtls__misc_8h.html#ab43ca82dd7fa2a0e56f941032ef324c4">length</a></div><div class="ttdeci">uint8_t length</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d25/dtls__misc_8h_source.html#l00149">dtls_misc.h:149</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_a32f2f44ec9a8d2ee5e2977a7fcddaf85"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#a32f2f44ec9a8d2ee5e2977a7fcddaf85">Dhcpv6Message</a></div><div class="ttdeci">__start_packed struct @128 Dhcpv6Message</div><div class="ttdoc">DHCPv6 message. </div></div>
<div class="ttc" id="debug_8h_html_a67a8f9bc74358aa21745a76e23768dae"><div class="ttname"><a href="../../db/d16/debug_8h.html#a67a8f9bc74358aa21745a76e23768dae">TRACE_DEBUG</a></div><div class="ttdeci">#define TRACE_DEBUG(...)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d16/debug_8h_source.html#l00106">debug.h:106</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0d922f9224e11d928ee215334f7f8a99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d922f9224e11d928ee215334f7f8a99">&#9670;&nbsp;</a></span>dhcpv6ClientRelease()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689c">error_t</a> dhcpv6ClientRelease </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#aac4eb11915c8cf98cce890c9d0270c9b">Dhcpv6ClientContext</a> *&#160;</td>
          <td class="paramname"><em>context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Release DHCPv6 lease. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>Pointer to the DHCPv6 client context </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d6/d91/dhcpv6__client_8c_source.html#l00249">249</a> of file <a class="el" href="../../d6/d91/dhcpv6__client_8c_source.html">dhcpv6_client.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;{</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;   <a class="code" href="../../d1/dfa/compiler__port_8h.html#a12a1e9b3ce141648783a82445d02b58d">uint_t</a> i;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;   <a class="code" href="../../d7/d97/net_8h.html#a2234db8911a1148c9159979d8f5e0d6b">NetInterface</a> *interface;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;   <a class="code" href="../../de/d95/structDhcpv6ClientAddrEntry.html">Dhcpv6ClientAddrEntry</a> *entry;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;   <span class="comment">//Check parameter</span></div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;   <span class="keywordflow">if</span>(context == <a class="code" href="../../de/da2/group__BSPDefine.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689caeae4b12e06d727d085f75f79a820f2e8">ERROR_INVALID_PARAMETER</a>;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;   <span class="comment">//Debug message</span></div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;   <a class="code" href="../../db/d16/debug_8h.html#a7339bfd784193a5c79efcef2eeb2d6df">TRACE_INFO</a>(<span class="stringliteral">&quot;Releasing DHCPv6 lease...\r\n&quot;</span>);</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;   <span class="comment">//Get exclusive access</span></div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;   <a class="code" href="../../dd/d0d/os__port__chibios_8c.html#a58485224df4bfa522246d55b35bbd83a">osAcquireMutex</a>(&amp;<a class="code" href="../../d7/d5f/net_8c.html#afe31551ad26115fae8e575654346d441">netMutex</a>);</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;   <span class="comment">//Point to the underlying network interface</span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;   <span class="keyword">interface </span>= context-&gt;settings.interface;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;   <span class="comment">//Check whether the DHCPv6 client is running</span></div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;   <span class="keywordflow">if</span>(context-&gt;running)</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;   {</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;      <span class="comment">//BOUND state?</span></div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;      <span class="keywordflow">if</span>(context-&gt;state == <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a49b5f6fffcbc5e9dadbe07ebe2d29535">DHCPV6_STATE_BOUND</a>)</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;      {</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;         <span class="comment">//Loop through the IPv6 addresses recorded by the DHCPv6 client</span></div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;         <span class="keywordflow">for</span>(i = 0; i &lt; <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a50daf16fa24e452127eef9a801d8f576">DHCPV6_CLIENT_ADDR_LIST_SIZE</a>; i++)</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;         {</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;            <span class="comment">//Point to the current entry</span></div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;            entry = &amp;context-&gt;ia.addrList[i];</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;            <span class="comment">//Valid IPv6 address?</span></div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;            <span class="keywordflow">if</span>(entry-&gt;<a class="code" href="../../de/d95/structDhcpv6ClientAddrEntry.html#a975d3431d046a9dadc2e6a6594a09168">validLifetime</a> &gt; 0)</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;            {</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;               <span class="comment">//The client must stop using the addresses being released as soon</span></div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;               <span class="comment">//as the client begins the Release message exchange process</span></div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;               <a class="code" href="../../dc/d33/ipv6__misc_8c.html#aa72b374b0dba9090d90f799776797452">ipv6RemoveAddr</a>(interface, &amp;entry-&gt;<a class="code" href="../../de/d95/structDhcpv6ClientAddrEntry.html#a3f15eb3e64b43ca99e49e090d3c0eb72">addr</a>);</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;            }</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;         }</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;         <span class="comment">//Switch to the RELEASE state</span></div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;         <a class="code" href="../../d6/d91/dhcpv6__client_8c.html#aafd32758fb24f5bc2267ad372f06545d">dhcpv6ClientChangeState</a>(context, <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a5c7dfad4462eb1ae1b609e1800f1dc93">DHCPV6_STATE_RELEASE</a>, 0);</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;      }</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;      {</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;         <span class="comment">//Stop DHCPv6 client</span></div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;         context-&gt;running = <a class="code" href="../../da/d42/os__port_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;         <span class="comment">//Reinitialize state machine</span></div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;         context-&gt;state = <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a017951020877623ce2220289f5c93025">DHCPV6_STATE_INIT</a>;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;      }</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;   }</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;   <span class="comment">//Release exclusive access</span></div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;   <a class="code" href="../../dd/d0d/os__port__chibios_8c.html#a8e10e5b2c6d3877b5ba60e375ac45d79">osReleaseMutex</a>(&amp;<a class="code" href="../../d7/d5f/net_8c.html#afe31551ad26115fae8e575654346d441">netMutex</a>);</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;   <span class="comment">//Successful processing</span></div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94">NO_ERROR</a>;</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;}</div><div class="ttc" id="dhcpv6__client_8h_html_a8610bfd009af9756638a193136ef93f9a5c7dfad4462eb1ae1b609e1800f1dc93"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a5c7dfad4462eb1ae1b609e1800f1dc93">DHCPV6_STATE_RELEASE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00252">dhcpv6_client.h:252</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_a50daf16fa24e452127eef9a801d8f576"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a50daf16fa24e452127eef9a801d8f576">DHCPV6_CLIENT_ADDR_LIST_SIZE</a></div><div class="ttdeci">#define DHCPV6_CLIENT_ADDR_LIST_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00054">dhcpv6_client.h:54</a></div></div>
<div class="ttc" id="error_8h_html_ac7659d73a8cdedc08e9f566bb406689caeae4b12e06d727d085f75f79a820f2e8"><div class="ttname"><a href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689caeae4b12e06d727d085f75f79a820f2e8">ERROR_INVALID_PARAMETER</a></div><div class="ttdoc">Invalid parameter. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d41/error_8h_source.html#l00047">error.h:47</a></div></div>
<div class="ttc" id="group__BSPDefine_html_ga070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../de/da2/group__BSPDefine.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d6b/nm__bsp_8h_source.html#l00070">nm_bsp.h:70</a></div></div>
<div class="ttc" id="dhcpv6__client_8c_html_aafd32758fb24f5bc2267ad372f06545d"><div class="ttname"><a href="../../d6/d91/dhcpv6__client_8c.html#aafd32758fb24f5bc2267ad372f06545d">dhcpv6ClientChangeState</a></div><div class="ttdeci">void dhcpv6ClientChangeState(Dhcpv6ClientContext *context, Dhcpv6State newState, systime_t delay)</div><div class="ttdoc">Update DHCPv6 FSM state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d91/dhcpv6__client_8c_source.html#l02506">dhcpv6_client.c:2506</a></div></div>
<div class="ttc" id="ipv6__misc_8c_html_aa72b374b0dba9090d90f799776797452"><div class="ttname"><a href="../../dc/d33/ipv6__misc_8c.html#aa72b374b0dba9090d90f799776797452">ipv6RemoveAddr</a></div><div class="ttdeci">void ipv6RemoveAddr(NetInterface *interface, const Ipv6Addr *addr)</div><div class="ttdoc">Remove an entry from the list of IPv6 addresses. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d33/ipv6__misc_8c_source.html#l00334">ipv6_misc.c:334</a></div></div>
<div class="ttc" id="structDhcpv6ClientAddrEntry_html_a3f15eb3e64b43ca99e49e090d3c0eb72"><div class="ttname"><a href="../../de/d95/structDhcpv6ClientAddrEntry.html#a3f15eb3e64b43ca99e49e090d3c0eb72">Dhcpv6ClientAddrEntry::addr</a></div><div class="ttdeci">Ipv6Addr addr</div><div class="ttdoc">IPv6 address. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00303">dhcpv6_client.h:303</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_a8610bfd009af9756638a193136ef93f9a49b5f6fffcbc5e9dadbe07ebe2d29535"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a49b5f6fffcbc5e9dadbe07ebe2d29535">DHCPV6_STATE_BOUND</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00249">dhcpv6_client.h:249</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_a8610bfd009af9756638a193136ef93f9a017951020877623ce2220289f5c93025"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a017951020877623ce2220289f5c93025">DHCPV6_STATE_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00243">dhcpv6_client.h:243</a></div></div>
<div class="ttc" id="structDhcpv6ClientAddrEntry_html"><div class="ttname"><a href="../../de/d95/structDhcpv6ClientAddrEntry.html">Dhcpv6ClientAddrEntry</a></div><div class="ttdoc">IA address entry. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00301">dhcpv6_client.h:301</a></div></div>
<div class="ttc" id="debug_8h_html_a7339bfd784193a5c79efcef2eeb2d6df"><div class="ttname"><a href="../../db/d16/debug_8h.html#a7339bfd784193a5c79efcef2eeb2d6df">TRACE_INFO</a></div><div class="ttdeci">#define TRACE_INFO(...)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d16/debug_8h_source.html#l00094">debug.h:94</a></div></div>
<div class="ttc" id="error_8h_html_ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94"><div class="ttname"><a href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94">NO_ERROR</a></div><div class="ttdoc">Success. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d41/error_8h_source.html#l00044">error.h:44</a></div></div>
<div class="ttc" id="compiler__port_8h_html_a12a1e9b3ce141648783a82445d02b58d"><div class="ttname"><a href="../../d1/dfa/compiler__port_8h.html#a12a1e9b3ce141648783a82445d02b58d">uint_t</a></div><div class="ttdeci">unsigned int uint_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dfa/compiler__port_8h_source.html#l00045">compiler_port.h:45</a></div></div>
<div class="ttc" id="os__port__chibios_8c_html_a8e10e5b2c6d3877b5ba60e375ac45d79"><div class="ttname"><a href="../../dd/d0d/os__port__chibios_8c.html#a8e10e5b2c6d3877b5ba60e375ac45d79">osReleaseMutex</a></div><div class="ttdeci">void osReleaseMutex(OsMutex *mutex)</div><div class="ttdoc">Release ownership of the specified mutex object. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d0d/os__port__chibios_8c_source.html#l00474">os_port_chibios.c:474</a></div></div>
<div class="ttc" id="net_8h_html_a2234db8911a1148c9159979d8f5e0d6b"><div class="ttname"><a href="../../d7/d97/net_8h.html#a2234db8911a1148c9159979d8f5e0d6b">NetInterface</a></div><div class="ttdeci">#define NetInterface</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d97/net_8h_source.html#l00036">net.h:36</a></div></div>
<div class="ttc" id="structDhcpv6ClientAddrEntry_html_a975d3431d046a9dadc2e6a6594a09168"><div class="ttname"><a href="../../de/d95/structDhcpv6ClientAddrEntry.html#a975d3431d046a9dadc2e6a6594a09168">Dhcpv6ClientAddrEntry::validLifetime</a></div><div class="ttdeci">uint32_t validLifetime</div><div class="ttdoc">Valid lifetime. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00304">dhcpv6_client.h:304</a></div></div>
<div class="ttc" id="net_8c_html_afe31551ad26115fae8e575654346d441"><div class="ttname"><a href="../../d7/d5f/net_8c.html#afe31551ad26115fae8e575654346d441">netMutex</a></div><div class="ttdeci">OsMutex netMutex</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/net_8c_source.html#l00075">net.c:75</a></div></div>
<div class="ttc" id="os__port_8h_html_aa93f0eb578d23995850d61f7d61c55c1"><div class="ttname"><a href="../../da/d42/os__port_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></div><div class="ttdeci">#define FALSE</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d42/os__port_8h_source.html#l00046">os_port.h:46</a></div></div>
<div class="ttc" id="os__port__chibios_8c_html_a58485224df4bfa522246d55b35bbd83a"><div class="ttname"><a href="../../dd/d0d/os__port__chibios_8c.html#a58485224df4bfa522246d55b35bbd83a">osAcquireMutex</a></div><div class="ttdeci">void osAcquireMutex(OsMutex *mutex)</div><div class="ttdoc">Acquire ownership of the specified mutex object. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d0d/os__port__chibios_8c_source.html#l00462">os_port_chibios.c:462</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a960a1cdb90a7bd9abbf9d2a5bd70fa8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a960a1cdb90a7bd9abbf9d2a5bd70fa8d">&#9670;&nbsp;</a></span>dhcpv6ClientRemoveAddr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dhcpv6ClientRemoveAddr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#aac4eb11915c8cf98cce890c9d0270c9b">Dhcpv6ClientContext</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d3/ddd/ipv6_8h.html#aed0cbc40c61ed5b4fb681ebc55237e89">Ipv6Addr</a> *&#160;</td>
          <td class="paramname"><em>addr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove an IPv6 address from the IA. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>Pointer to the DHCPv6 client context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">addr</td><td>IPv6 address to be removed </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d6/d91/dhcpv6__client_8c_source.html#l02210">2210</a> of file <a class="el" href="../../d6/d91/dhcpv6__client_8c_source.html">dhcpv6_client.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;{</div><div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;   <a class="code" href="../../d1/dfa/compiler__port_8h.html#a12a1e9b3ce141648783a82445d02b58d">uint_t</a> i;</div><div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;   <a class="code" href="../../d7/d97/net_8h.html#a2234db8911a1148c9159979d8f5e0d6b">NetInterface</a> *interface;</div><div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;   <a class="code" href="../../de/d95/structDhcpv6ClientAddrEntry.html">Dhcpv6ClientAddrEntry</a> *entry;</div><div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;</div><div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;   <span class="comment">//Point to the underlying network interface</span></div><div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;   <span class="keyword">interface </span>= context-&gt;settings.interface;</div><div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;</div><div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;   <span class="comment">//Loop through the IPv6 addresses recorded by the DHCPv6 client</span></div><div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;   <span class="keywordflow">for</span>(i = 0; i &lt; <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a50daf16fa24e452127eef9a801d8f576">DHCPV6_CLIENT_ADDR_LIST_SIZE</a>; i++)</div><div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;   {</div><div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;      <span class="comment">//Point to the current entry</span></div><div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;      entry = &amp;context-&gt;ia.addrList[i];</div><div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;</div><div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;      <span class="comment">//Valid IPv6 address?</span></div><div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;      <span class="keywordflow">if</span>(entry-&gt;<a class="code" href="../../de/d95/structDhcpv6ClientAddrEntry.html#a975d3431d046a9dadc2e6a6594a09168">validLifetime</a> &gt; 0)</div><div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;      {</div><div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;         <span class="comment">//Check whether the current entry matches the specified address</span></div><div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;         <span class="keywordflow">if</span>(<a class="code" href="../../d3/ddd/ipv6_8h.html#ab1e93bd2152bc3f3b5642fd0216384d7">ipv6CompAddr</a>(&amp;entry-&gt;<a class="code" href="../../de/d95/structDhcpv6ClientAddrEntry.html#a3f15eb3e64b43ca99e49e090d3c0eb72">addr</a>, <a class="code" href="../../d9/d42/nbns__common_8h.html#ac597eaa9711dfbc34f49d506132e85cd">addr</a>))</div><div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;         {</div><div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;            <span class="comment">//The IPv6 address is no more valid and should be removed from</span></div><div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;            <span class="comment">//the list of IPv6 addresses assigned to the interface</span></div><div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;            <a class="code" href="../../dc/d33/ipv6__misc_8c.html#aa72b374b0dba9090d90f799776797452">ipv6RemoveAddr</a>(interface, <a class="code" href="../../d9/d42/nbns__common_8h.html#ac597eaa9711dfbc34f49d506132e85cd">addr</a>);</div><div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;</div><div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;            <span class="comment">//Remove the IPv6 address from the IA</span></div><div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;            entry-&gt;<a class="code" href="../../de/d95/structDhcpv6ClientAddrEntry.html#a975d3431d046a9dadc2e6a6594a09168">validLifetime</a> = 0;</div><div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;         }</div><div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;      }</div><div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;   }</div><div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;}</div><div class="ttc" id="dhcpv6__client_8h_html_a50daf16fa24e452127eef9a801d8f576"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a50daf16fa24e452127eef9a801d8f576">DHCPV6_CLIENT_ADDR_LIST_SIZE</a></div><div class="ttdeci">#define DHCPV6_CLIENT_ADDR_LIST_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00054">dhcpv6_client.h:54</a></div></div>
<div class="ttc" id="ipv6__misc_8c_html_aa72b374b0dba9090d90f799776797452"><div class="ttname"><a href="../../dc/d33/ipv6__misc_8c.html#aa72b374b0dba9090d90f799776797452">ipv6RemoveAddr</a></div><div class="ttdeci">void ipv6RemoveAddr(NetInterface *interface, const Ipv6Addr *addr)</div><div class="ttdoc">Remove an entry from the list of IPv6 addresses. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d33/ipv6__misc_8c_source.html#l00334">ipv6_misc.c:334</a></div></div>
<div class="ttc" id="structDhcpv6ClientAddrEntry_html_a3f15eb3e64b43ca99e49e090d3c0eb72"><div class="ttname"><a href="../../de/d95/structDhcpv6ClientAddrEntry.html#a3f15eb3e64b43ca99e49e090d3c0eb72">Dhcpv6ClientAddrEntry::addr</a></div><div class="ttdeci">Ipv6Addr addr</div><div class="ttdoc">IPv6 address. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00303">dhcpv6_client.h:303</a></div></div>
<div class="ttc" id="structDhcpv6ClientAddrEntry_html"><div class="ttname"><a href="../../de/d95/structDhcpv6ClientAddrEntry.html">Dhcpv6ClientAddrEntry</a></div><div class="ttdoc">IA address entry. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00301">dhcpv6_client.h:301</a></div></div>
<div class="ttc" id="compiler__port_8h_html_a12a1e9b3ce141648783a82445d02b58d"><div class="ttname"><a href="../../d1/dfa/compiler__port_8h.html#a12a1e9b3ce141648783a82445d02b58d">uint_t</a></div><div class="ttdeci">unsigned int uint_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dfa/compiler__port_8h_source.html#l00045">compiler_port.h:45</a></div></div>
<div class="ttc" id="net_8h_html_a2234db8911a1148c9159979d8f5e0d6b"><div class="ttname"><a href="../../d7/d97/net_8h.html#a2234db8911a1148c9159979d8f5e0d6b">NetInterface</a></div><div class="ttdeci">#define NetInterface</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d97/net_8h_source.html#l00036">net.h:36</a></div></div>
<div class="ttc" id="structDhcpv6ClientAddrEntry_html_a975d3431d046a9dadc2e6a6594a09168"><div class="ttname"><a href="../../de/d95/structDhcpv6ClientAddrEntry.html#a975d3431d046a9dadc2e6a6594a09168">Dhcpv6ClientAddrEntry::validLifetime</a></div><div class="ttdeci">uint32_t validLifetime</div><div class="ttdoc">Valid lifetime. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00304">dhcpv6_client.h:304</a></div></div>
<div class="ttc" id="ipv6_8h_html_ab1e93bd2152bc3f3b5642fd0216384d7"><div class="ttname"><a href="../../d3/ddd/ipv6_8h.html#ab1e93bd2152bc3f3b5642fd0216384d7">ipv6CompAddr</a></div><div class="ttdeci">#define ipv6CompAddr(ipAddr1, ipAddr2)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/ddd/ipv6_8h_source.html#l00121">ipv6.h:121</a></div></div>
<div class="ttc" id="nbns__common_8h_html_ac597eaa9711dfbc34f49d506132e85cd"><div class="ttname"><a href="../../d9/d42/nbns__common_8h.html#ac597eaa9711dfbc34f49d506132e85cd">addr</a></div><div class="ttdeci">Ipv4Addr addr</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d42/nbns__common_8h_source.html#l00121">nbns_common.h:121</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac17d0545676651d297bedbd242ab2289"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac17d0545676651d297bedbd242ab2289">&#9670;&nbsp;</a></span>dhcpv6ClientSendMessage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689c">error_t</a> dhcpv6ClientSendMessage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#aac4eb11915c8cf98cce890c9d0270c9b">Dhcpv6ClientContext</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/ddf/dhcpv6__common_8h.html#aeca9d54a4001e239844ff0245aaedf6c">Dhcpv6MessageType</a>&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send Solicit message. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>Pointer to the DHCPv6 client context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">type</td><td>DHCPv6 message type </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d6/d91/dhcpv6__client_8c_source.html#l01244">1244</a> of file <a class="el" href="../../d6/d91/dhcpv6__client_8c_source.html">dhcpv6_client.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;{</div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;   <a class="code" href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689c">error_t</a> error;</div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;   <a class="code" href="../../d1/dfa/compiler__port_8h.html#a12a1e9b3ce141648783a82445d02b58d">uint_t</a> i;</div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;   <span class="keywordtype">size_t</span> <a class="code" href="../../d3/d25/dtls__misc_8h.html#ab43ca82dd7fa2a0e56f941032ef324c4">length</a>;</div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;   <span class="keywordtype">size_t</span> <a class="code" href="../../d9/ddb/pic32mz_2isr__support_8h.html#a12a5aed8a193ebbf9a641104a310610d">offset</a>;</div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;   <a class="code" href="../../d3/dca/structNetBuffer.html">NetBuffer</a> *buffer;</div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;   <a class="code" href="../../d7/d97/net_8h.html#a2234db8911a1148c9159979d8f5e0d6b">NetInterface</a> *interface;</div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;   <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#a32f2f44ec9a8d2ee5e2977a7fcddaf85">Dhcpv6Message</a> *<a class="code" href="../../d5/dbb/chap_8h.html#a52f19d36a71e9b8ddea38fe00c291181">message</a>;</div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;   <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#a89f7acb5d12dede28c2b98290018051e">Dhcpv6Option</a> *option;</div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;   <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#a283df3c541c6799826d644800f32079a">Dhcpv6IaNaOption</a> iaNaOption;</div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;   <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#a36456b5aa40da69f977e9153d2557714">Dhcpv6IaAddrOption</a> iaAddrOption;</div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;   <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#a95a52f48a22c46a8c16f31ae310f29eb">Dhcpv6FqdnOption</a> *fqdnOption;</div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;   <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#a26afd029729fa68e5bd82ad8a36d90d1">Dhcpv6ElapsedTimeOption</a> elapsedTimeOption;</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;   <a class="code" href="../../de/d95/structDhcpv6ClientAddrEntry.html">Dhcpv6ClientAddrEntry</a> *entry;</div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;   <a class="code" href="../../d3/df3/structIpAddr.html">IpAddr</a> <a class="code" href="../../d6/d67/ipcp_8h.html#a752e1719cf65f78dfec6274352cb56df">destIpAddr</a>;</div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;</div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;   <span class="comment">//Point to the underlying network interface</span></div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;   <span class="keyword">interface </span>= context-&gt;settings.interface;</div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;</div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;   <span class="comment">//Allocate a memory buffer to hold the DHCPv6 message</span></div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;   buffer = <a class="code" href="../../dd/dc4/udp_8c.html#a2c65cad7c5665fe03f94364e7e52b2be">udpAllocBuffer</a>(<a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#a4b2fa99ee47d1cc91da2b57fa69b324f">DHCPV6_MAX_MSG_SIZE</a>, &amp;offset);</div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;   <span class="comment">//Failed to allocate buffer?</span></div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;   <span class="keywordflow">if</span>(buffer == <a class="code" href="../../de/da2/group__BSPDefine.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689cac0a554045048d2fb61387cf735676f69">ERROR_OUT_OF_MEMORY</a>;</div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;</div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;   <span class="comment">//Point to the beginning of the DHCPv6 message</span></div><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;   message = <a class="code" href="../../d3/d7e/net__mem_8c.html#a20d30c9db547b3b2743368b589cf482b">netBufferAt</a>(buffer, offset);</div><div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;</div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;   <span class="comment">//Set DHCPv6 message type</span></div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;   message-&gt;msgType = <a class="code" href="../../da/d4d/resource__manager_8h.html#a12e46a33bfe90638e58ef067c6fd4a6e">type</a>;</div><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;</div><div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;   <span class="comment">//The transaction ID is chosen by the client</span></div><div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;   <a class="code" href="../../df/de9/cpu__endian_8h.html#acba352ed22d98efff17d0374c0790885">STORE24BE</a>(context-&gt;transactionId, message-&gt;transactionId);</div><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;</div><div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;   <span class="comment">//Size of the DHCPv6 message</span></div><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;   length = <span class="keyword">sizeof</span>(<a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#a32f2f44ec9a8d2ee5e2977a7fcddaf85">Dhcpv6Message</a>);</div><div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;</div><div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;   <span class="comment">//The client must include a Client Identifier option</span></div><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;   <span class="comment">//to identify itself to the server</span></div><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;   <a class="code" href="../../dc/ded/dhcpv6__common_8c.html#ac0a7db4b0542d3f4b7270bfb239ce6f0">dhcpv6AddOption</a>(message, &amp;length, <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#ace3d7da87df06edf56819a49ebf00574a514e3d36a6eed2796997f995b847c4ff">DHCPV6_OPTION_CLIENTID</a>,</div><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;      context-&gt;clientId, context-&gt;clientIdLength);</div><div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;</div><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;   <span class="comment">//Request, Renew, Release or Decline message?</span></div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;   <span class="keywordflow">if</span>(<a class="code" href="../../da/d4d/resource__manager_8h.html#a12e46a33bfe90638e58ef067c6fd4a6e">type</a> == <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#aeca9d54a4001e239844ff0245aaedf6cac1ee9533dff4ae432ec3f5213eac19a8">DHCPV6_MSG_TYPE_REQUEST</a> ||</div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;      <a class="code" href="../../da/d4d/resource__manager_8h.html#a12e46a33bfe90638e58ef067c6fd4a6e">type</a> == <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#aeca9d54a4001e239844ff0245aaedf6caf3daa29a1a24a5350cefcfe02eeb6c75">DHCPV6_MSG_TYPE_RENEW</a> ||</div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;      <a class="code" href="../../da/d4d/resource__manager_8h.html#a12e46a33bfe90638e58ef067c6fd4a6e">type</a> == <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#aeca9d54a4001e239844ff0245aaedf6cae849f87ed116032b918ad1bbe1f0f069">DHCPV6_MSG_TYPE_RELEASE</a> ||</div><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;      <a class="code" href="../../da/d4d/resource__manager_8h.html#a12e46a33bfe90638e58ef067c6fd4a6e">type</a> == <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#aeca9d54a4001e239844ff0245aaedf6ca831bfe9d5e4626e44a7c3e3a432f2ffc">DHCPV6_MSG_TYPE_DECLINE</a>)</div><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;   {</div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;      <span class="comment">//The client places the identifier of the destination</span></div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;      <span class="comment">//server in a Server Identifier option</span></div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;      <a class="code" href="../../dc/ded/dhcpv6__common_8c.html#ac0a7db4b0542d3f4b7270bfb239ce6f0">dhcpv6AddOption</a>(message, &amp;length, <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#ace3d7da87df06edf56819a49ebf00574ae48652f6f207faa0fecc5ba909757672">DHCPV6_OPTION_SERVERID</a>,</div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;         context-&gt;serverId, context-&gt;serverIdLength);</div><div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;   }</div><div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;</div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;   <span class="comment">//Solicit message?</span></div><div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;   <span class="keywordflow">if</span>(<a class="code" href="../../da/d4d/resource__manager_8h.html#a12e46a33bfe90638e58ef067c6fd4a6e">type</a> == <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#aeca9d54a4001e239844ff0245aaedf6cafdc89c929b9b3330a914465fa2032331">DHCPV6_MSG_TYPE_SOLICIT</a>)</div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;   {</div><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;      <span class="comment">//Check whether rapid commit is enabled</span></div><div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;      <span class="keywordflow">if</span>(context-&gt;settings.rapidCommit)</div><div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;      {</div><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;         <span class="comment">//Include the Rapid Commit option if the client is prepared</span></div><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;         <span class="comment">//to perform the Solicit/Reply message exchange</span></div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;         <a class="code" href="../../dc/ded/dhcpv6__common_8c.html#ac0a7db4b0542d3f4b7270bfb239ce6f0">dhcpv6AddOption</a>(message, &amp;length, <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#ace3d7da87df06edf56819a49ebf00574a8ce7598c8440ec545924bc13b5619944">DHCPV6_OPTION_RAPID_COMMIT</a>, <a class="code" href="../../de/da2/group__BSPDefine.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0);</div><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;      }</div><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;   }</div><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;</div><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;   <span class="comment">//Solicit, Request, Confirm, Renew or Rebind message?</span></div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;   <span class="keywordflow">if</span>(<a class="code" href="../../da/d4d/resource__manager_8h.html#a12e46a33bfe90638e58ef067c6fd4a6e">type</a> == <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#aeca9d54a4001e239844ff0245aaedf6cafdc89c929b9b3330a914465fa2032331">DHCPV6_MSG_TYPE_SOLICIT</a> ||</div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;      <a class="code" href="../../da/d4d/resource__manager_8h.html#a12e46a33bfe90638e58ef067c6fd4a6e">type</a> == <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#aeca9d54a4001e239844ff0245aaedf6cac1ee9533dff4ae432ec3f5213eac19a8">DHCPV6_MSG_TYPE_REQUEST</a> ||</div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;      <a class="code" href="../../da/d4d/resource__manager_8h.html#a12e46a33bfe90638e58ef067c6fd4a6e">type</a> == <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#aeca9d54a4001e239844ff0245aaedf6ca91b403f91b6637d1f732b4b5f451fa70">DHCPV6_MSG_TYPE_CONFIRM</a> ||</div><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;      <a class="code" href="../../da/d4d/resource__manager_8h.html#a12e46a33bfe90638e58ef067c6fd4a6e">type</a> == <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#aeca9d54a4001e239844ff0245aaedf6caf3daa29a1a24a5350cefcfe02eeb6c75">DHCPV6_MSG_TYPE_RENEW</a> ||</div><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;      <a class="code" href="../../da/d4d/resource__manager_8h.html#a12e46a33bfe90638e58ef067c6fd4a6e">type</a> == <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#aeca9d54a4001e239844ff0245aaedf6ca97164d83c790095e8d84307ef58c2cf3">DHCPV6_MSG_TYPE_REBIND</a>)</div><div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;   {</div><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;      <span class="comment">//Point to the client&#39;s fully qualified domain name</span></div><div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;      fqdnOption = (<a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#a95a52f48a22c46a8c16f31ae310f29eb">Dhcpv6FqdnOption</a> *) context-&gt;clientFqdn;</div><div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;</div><div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;      <span class="comment">//The FQDN option can be used by the client to convey its</span></div><div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;      <span class="comment">//fully qualified domain name to the server</span></div><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;      <a class="code" href="../../dc/ded/dhcpv6__common_8c.html#ac0a7db4b0542d3f4b7270bfb239ce6f0">dhcpv6AddOption</a>(message, &amp;length, <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#ace3d7da87df06edf56819a49ebf00574a8f2c1623a021faec656eb2bcaeb5d367">DHCPV6_OPTION_FQDN</a>,</div><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;         fqdnOption, <span class="keyword">sizeof</span>(<a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#a95a52f48a22c46a8c16f31ae310f29eb">Dhcpv6FqdnOption</a>) + context-&gt;clientFqdnLength);</div><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;</div><div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;      <span class="comment">//The client should include an Option Request option to indicate</span></div><div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;      <span class="comment">//the options the client is interested in receiving</span></div><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;      <a class="code" href="../../dc/ded/dhcpv6__common_8c.html#ac0a7db4b0542d3f4b7270bfb239ce6f0">dhcpv6AddOption</a>(message, &amp;length, <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#ace3d7da87df06edf56819a49ebf00574a99150024ead0539700a41eda4792879f">DHCPV6_OPTION_ORO</a>,</div><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;         &amp;<a class="code" href="../../d6/d91/dhcpv6__client_8c.html#aab426d22a7b9001f61aab099517cee28">dhcpv6OptionList</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d6/d91/dhcpv6__client_8c.html#aab426d22a7b9001f61aab099517cee28">dhcpv6OptionList</a>));</div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;   }</div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;</div><div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;   <span class="comment">//Prepare an IA_NA option for a the current interface</span></div><div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;   iaNaOption.iaId = <a class="code" href="../../df/de9/cpu__endian_8h.html#a63baf217625b15caa7246af75b027380">htonl</a>(interface-&gt;id);</div><div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;</div><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;   <span class="comment">//Solicit, Request or Confirm message?</span></div><div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;   <span class="keywordflow">if</span>(<a class="code" href="../../da/d4d/resource__manager_8h.html#a12e46a33bfe90638e58ef067c6fd4a6e">type</a> == <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#aeca9d54a4001e239844ff0245aaedf6cafdc89c929b9b3330a914465fa2032331">DHCPV6_MSG_TYPE_SOLICIT</a> ||</div><div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;      <a class="code" href="../../da/d4d/resource__manager_8h.html#a12e46a33bfe90638e58ef067c6fd4a6e">type</a> == <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#aeca9d54a4001e239844ff0245aaedf6cac1ee9533dff4ae432ec3f5213eac19a8">DHCPV6_MSG_TYPE_REQUEST</a> ||</div><div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;      <a class="code" href="../../da/d4d/resource__manager_8h.html#a12e46a33bfe90638e58ef067c6fd4a6e">type</a> == <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#aeca9d54a4001e239844ff0245aaedf6ca91b403f91b6637d1f732b4b5f451fa70">DHCPV6_MSG_TYPE_CONFIRM</a>)</div><div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;   {</div><div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;      <span class="comment">//The client should set the T1 and T2 fields in any IA_NA options to 0</span></div><div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;      iaNaOption.t1 = 0;</div><div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;      iaNaOption.t2 = 0;</div><div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;   }</div><div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;   <span class="keywordflow">else</span></div><div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;   {</div><div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;      <span class="comment">//T1 and T2 are provided as a hint</span></div><div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;      iaNaOption.t1 = <a class="code" href="../../df/de9/cpu__endian_8h.html#a63baf217625b15caa7246af75b027380">htonl</a>(context-&gt;ia.t1);</div><div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;      iaNaOption.t2 = <a class="code" href="../../df/de9/cpu__endian_8h.html#a63baf217625b15caa7246af75b027380">htonl</a>(context-&gt;ia.t2);</div><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;   }</div><div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;</div><div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;   <span class="comment">//The client includes IA options for any IAs to which</span></div><div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;   <span class="comment">//it wants the server to assign addresses</span></div><div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;   option = <a class="code" href="../../dc/ded/dhcpv6__common_8c.html#ac0a7db4b0542d3f4b7270bfb239ce6f0">dhcpv6AddOption</a>(message, &amp;length, <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#ace3d7da87df06edf56819a49ebf00574a03bdde9e8ae8a85d4936efb2f9fbb956">DHCPV6_OPTION_IA_NA</a>,</div><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;      &amp;iaNaOption, <span class="keyword">sizeof</span>(<a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#a283df3c541c6799826d644800f32079a">Dhcpv6IaNaOption</a>));</div><div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;</div><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;   <span class="comment">//Request, Confirm, Renew, Rebind, Release or Decline message?</span></div><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;   <span class="keywordflow">if</span>(<a class="code" href="../../da/d4d/resource__manager_8h.html#a12e46a33bfe90638e58ef067c6fd4a6e">type</a> == <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#aeca9d54a4001e239844ff0245aaedf6cac1ee9533dff4ae432ec3f5213eac19a8">DHCPV6_MSG_TYPE_REQUEST</a> ||</div><div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;      <a class="code" href="../../da/d4d/resource__manager_8h.html#a12e46a33bfe90638e58ef067c6fd4a6e">type</a> == <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#aeca9d54a4001e239844ff0245aaedf6ca91b403f91b6637d1f732b4b5f451fa70">DHCPV6_MSG_TYPE_CONFIRM</a> ||</div><div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;      <a class="code" href="../../da/d4d/resource__manager_8h.html#a12e46a33bfe90638e58ef067c6fd4a6e">type</a> == <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#aeca9d54a4001e239844ff0245aaedf6caf3daa29a1a24a5350cefcfe02eeb6c75">DHCPV6_MSG_TYPE_RENEW</a> ||</div><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;      <a class="code" href="../../da/d4d/resource__manager_8h.html#a12e46a33bfe90638e58ef067c6fd4a6e">type</a> == <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#aeca9d54a4001e239844ff0245aaedf6ca97164d83c790095e8d84307ef58c2cf3">DHCPV6_MSG_TYPE_REBIND</a> ||</div><div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;      <a class="code" href="../../da/d4d/resource__manager_8h.html#a12e46a33bfe90638e58ef067c6fd4a6e">type</a> == <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#aeca9d54a4001e239844ff0245aaedf6cae849f87ed116032b918ad1bbe1f0f069">DHCPV6_MSG_TYPE_RELEASE</a> ||</div><div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;      <a class="code" href="../../da/d4d/resource__manager_8h.html#a12e46a33bfe90638e58ef067c6fd4a6e">type</a> == <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#aeca9d54a4001e239844ff0245aaedf6ca831bfe9d5e4626e44a7c3e3a432f2ffc">DHCPV6_MSG_TYPE_DECLINE</a>)</div><div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;   {</div><div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;      <span class="comment">//Loop through the IPv6 addresses recorded by the client</span></div><div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;      <span class="keywordflow">for</span>(i = 0; i &lt; <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a50daf16fa24e452127eef9a801d8f576">DHCPV6_CLIENT_ADDR_LIST_SIZE</a>; i++)</div><div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;      {</div><div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;         <span class="comment">//Point to the current entry</span></div><div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;         entry = &amp;context-&gt;ia.addrList[i];</div><div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;</div><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;         <span class="comment">//Valid IPv6 address?</span></div><div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;         <span class="keywordflow">if</span>(entry-&gt;<a class="code" href="../../de/d95/structDhcpv6ClientAddrEntry.html#a975d3431d046a9dadc2e6a6594a09168">validLifetime</a> &gt; 0)</div><div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;         {</div><div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;            <span class="comment">//Prepare an IA Address option</span></div><div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;            iaAddrOption.address = entry-&gt;<a class="code" href="../../de/d95/structDhcpv6ClientAddrEntry.html#a3f15eb3e64b43ca99e49e090d3c0eb72">addr</a>;</div><div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;</div><div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;            <span class="comment">//Confirm message?</span></div><div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;            <span class="keywordflow">if</span>(<a class="code" href="../../da/d4d/resource__manager_8h.html#a12e46a33bfe90638e58ef067c6fd4a6e">type</a> == <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#aeca9d54a4001e239844ff0245aaedf6ca91b403f91b6637d1f732b4b5f451fa70">DHCPV6_MSG_TYPE_CONFIRM</a>)</div><div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;            {</div><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;               <span class="comment">//The client should set the preferred and valid lifetimes to 0</span></div><div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;               iaAddrOption.preferredLifetime = 0;</div><div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;               iaAddrOption.validLifetime = 0;</div><div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;            }</div><div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;            {</div><div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;               <span class="comment">//Preferred and valid lifetimes are provided as a hint</span></div><div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;               iaAddrOption.preferredLifetime = <a class="code" href="../../df/de9/cpu__endian_8h.html#a63baf217625b15caa7246af75b027380">htonl</a>(entry-&gt;<a class="code" href="../../de/d95/structDhcpv6ClientAddrEntry.html#a24e1399fe28c7e13c134de1e2953e051">preferredLifetime</a>);</div><div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;               iaAddrOption.validLifetime = <a class="code" href="../../df/de9/cpu__endian_8h.html#a63baf217625b15caa7246af75b027380">htonl</a>(entry-&gt;<a class="code" href="../../de/d95/structDhcpv6ClientAddrEntry.html#a975d3431d046a9dadc2e6a6594a09168">validLifetime</a>);</div><div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;            }</div><div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;</div><div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;            <span class="comment">//Add the IA Address option</span></div><div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;            <a class="code" href="../../dc/ded/dhcpv6__common_8c.html#a2eb2dd75bbf989d4353b310527465fdc">dhcpv6AddSubOption</a>(option, &amp;length, <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#ace3d7da87df06edf56819a49ebf00574af02fe93475cf23de1d0dcaf371c15af2">DHCPV6_OPTION_IAADDR</a>,</div><div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;               &amp;iaAddrOption, <span class="keyword">sizeof</span>(iaAddrOption));</div><div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;         }</div><div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;      }</div><div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;   }</div><div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;</div><div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;   <span class="comment">//Compute the time elapsed since the client sent the first message</span></div><div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;   elapsedTimeOption.value = <a class="code" href="../../d6/d91/dhcpv6__client_8c.html#a0c0b3763ac06274d8b68eb5126fb51c8">dhcpv6ClientComputeElapsedTime</a>(context);</div><div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;</div><div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;   <span class="comment">//The client must include an Elapsed Time option in messages to indicate</span></div><div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;   <span class="comment">//how long the client has been trying to complete a DHCP message exchange</span></div><div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;   <a class="code" href="../../dc/ded/dhcpv6__common_8c.html#ac0a7db4b0542d3f4b7270bfb239ce6f0">dhcpv6AddOption</a>(message, &amp;length, <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#ace3d7da87df06edf56819a49ebf00574af9efb5295b5f1d709ba8d92957915ba1">DHCPV6_OPTION_ELAPSED_TIME</a>,</div><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;      &amp;elapsedTimeOption, <span class="keyword">sizeof</span>(<a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#a26afd029729fa68e5bd82ad8a36d90d1">Dhcpv6ElapsedTimeOption</a>));</div><div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;</div><div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;   <span class="comment">//Adjust the length of the multi-part buffer</span></div><div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;   <a class="code" href="../../d3/d7e/net__mem_8c.html#ac0a46f396754e069dd1ee65cdc559b28">netBufferSetLength</a>(buffer, offset + length);</div><div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;</div><div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;   <span class="comment">//Destination address</span></div><div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;   destIpAddr.<a class="code" href="../../d3/df3/structIpAddr.html#ae61478bd1e79361fca7dd04a21aeb2f8">length</a> = <span class="keyword">sizeof</span>(<a class="code" href="../../d3/ddd/ipv6_8h.html#aed0cbc40c61ed5b4fb681ebc55237e89">Ipv6Addr</a>);</div><div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;   destIpAddr.<a class="code" href="../../d3/df3/structIpAddr.html#a9bc2340a9c0bc5a0b8aa9695b74e2ee6">ipv6Addr</a> = <a class="code" href="../../dc/ded/dhcpv6__common_8c.html#afd1207a3dea473503c7fc4aee69c6213">DHCPV6_ALL_RELAY_AGENTS_AND_SERVERS_ADDR</a>;</div><div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;</div><div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;   <span class="comment">//Debug message</span></div><div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;   <a class="code" href="../../db/d16/debug_8h.html#a67a8f9bc74358aa21745a76e23768dae">TRACE_DEBUG</a>(<span class="stringliteral">&quot;\r\n%s: Sending DHCPv6 message (%&quot;</span> <a class="code" href="../../d1/dfa/compiler__port_8h.html#a2b7b0557dc6cd786df02dafbb51f5292">PRIuSIZE</a> <span class="stringliteral">&quot; bytes)...\r\n&quot;</span>,</div><div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;      <a class="code" href="../../dd/d0f/date__time_8c.html#ae15b3e664208ca7e4d6983921865cd74">formatSystemTime</a>(<a class="code" href="../../dd/d0d/os__port__chibios_8c.html#ab66a11272d40a916fa69dd8e4dc443d4">osGetSystemTime</a>(), <a class="code" href="../../de/da2/group__BSPDefine.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>), length);</div><div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;</div><div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;   <span class="comment">//Dump the contents of the message for debugging purpose</span></div><div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;   <a class="code" href="../../de/dd9/dhcpv6__debug_8c.html#a36ce435509b18e157c961e1e82ae0e88">dhcpv6DumpMessage</a>(message, length);</div><div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;</div><div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;   <span class="comment">//Send DHCPv6 message</span></div><div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;   error = <a class="code" href="../../dd/dc4/udp_8c.html#a72a529f723ed1b75bfe98d0708f28eb1">udpSendDatagramEx</a>(interface, <a class="code" href="../../de/da2/group__BSPDefine.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#a6802d48c8c3b96baafb23641a82f43a0">DHCPV6_CLIENT_PORT</a>,</div><div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;      &amp;destIpAddr, <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#ab2fd1889bb669d854b61d4a5fee3e3ec">DHCPV6_SERVER_PORT</a>, buffer, offset, 0);</div><div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;</div><div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;   <span class="comment">//Free previously allocated memory</span></div><div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;   <a class="code" href="../../d3/d7e/net__mem_8c.html#aa33fc4dd2a71649194052f297c707d08">netBufferFree</a>(buffer);</div><div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;   <span class="comment">//Return status code</span></div><div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;   <span class="keywordflow">return</span> error;</div><div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;}</div><div class="ttc" id="dhcpv6__common_8h_html_ace3d7da87df06edf56819a49ebf00574ae48652f6f207faa0fecc5ba909757672"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#ace3d7da87df06edf56819a49ebf00574ae48652f6f207faa0fecc5ba909757672">DHCPV6_OPTION_SERVERID</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddf/dhcpv6__common_8h_source.html#l00113">dhcpv6_common.h:113</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_aeca9d54a4001e239844ff0245aaedf6caf3daa29a1a24a5350cefcfe02eeb6c75"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#aeca9d54a4001e239844ff0245aaedf6caf3daa29a1a24a5350cefcfe02eeb6c75">DHCPV6_MSG_TYPE_RENEW</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddf/dhcpv6__common_8h_source.html#l00094">dhcpv6_common.h:94</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_a50daf16fa24e452127eef9a801d8f576"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a50daf16fa24e452127eef9a801d8f576">DHCPV6_CLIENT_ADDR_LIST_SIZE</a></div><div class="ttdeci">#define DHCPV6_CLIENT_ADDR_LIST_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00054">dhcpv6_client.h:54</a></div></div>
<div class="ttc" id="os__port__chibios_8c_html_ab66a11272d40a916fa69dd8e4dc443d4"><div class="ttname"><a href="../../dd/d0d/os__port__chibios_8c.html#ab66a11272d40a916fa69dd8e4dc443d4">osGetSystemTime</a></div><div class="ttdeci">systime_t osGetSystemTime(void)</div><div class="ttdoc">Retrieve system time. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d0d/os__port__chibios_8c_source.html#l00490">os_port_chibios.c:490</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_aeca9d54a4001e239844ff0245aaedf6ca831bfe9d5e4626e44a7c3e3a432f2ffc"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#aeca9d54a4001e239844ff0245aaedf6ca831bfe9d5e4626e44a7c3e3a432f2ffc">DHCPV6_MSG_TYPE_DECLINE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddf/dhcpv6__common_8h_source.html#l00098">dhcpv6_common.h:98</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_a95a52f48a22c46a8c16f31ae310f29eb"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#a95a52f48a22c46a8c16f31ae310f29eb">Dhcpv6FqdnOption</a></div><div class="ttdeci">__start_packed struct @145 Dhcpv6FqdnOption</div><div class="ttdoc">Fully Qualified Domain Name option. </div></div>
<div class="ttc" id="net__mem_8c_html_aa33fc4dd2a71649194052f297c707d08"><div class="ttname"><a href="../../d3/d7e/net__mem_8c.html#aa33fc4dd2a71649194052f297c707d08">netBufferFree</a></div><div class="ttdeci">void netBufferFree(NetBuffer *buffer)</div><div class="ttdoc">Dispose a multi-part buffer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d7e/net__mem_8c_source.html#l00282">net_mem.c:282</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_a283df3c541c6799826d644800f32079a"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#a283df3c541c6799826d644800f32079a">Dhcpv6IaNaOption</a></div><div class="ttdeci">__start_packed struct @131 Dhcpv6IaNaOption</div><div class="ttdoc">Identity Association for Non-temporary Addresses option. </div></div>
<div class="ttc" id="chap_8h_html_a52f19d36a71e9b8ddea38fe00c291181"><div class="ttname"><a href="../../d5/dbb/chap_8h.html#a52f19d36a71e9b8ddea38fe00c291181">message</a></div><div class="ttdeci">uint8_t message[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dbb/chap_8h_source.html#l00152">chap.h:152</a></div></div>
<div class="ttc" id="net__mem_8c_html_ac0a46f396754e069dd1ee65cdc559b28"><div class="ttname"><a href="../../d3/d7e/net__mem_8c.html#ac0a46f396754e069dd1ee65cdc559b28">netBufferSetLength</a></div><div class="ttdeci">error_t netBufferSetLength(NetBuffer *buffer, size_t length)</div><div class="ttdoc">Adjust the length of a multi-part buffer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d7e/net__mem_8c_source.html#l00320">net_mem.c:320</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_a36456b5aa40da69f977e9153d2557714"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#a36456b5aa40da69f977e9153d2557714">Dhcpv6IaAddrOption</a></div><div class="ttdeci">__start_packed struct @133 Dhcpv6IaAddrOption</div><div class="ttdoc">IA Address option. </div></div>
<div class="ttc" id="dhcpv6__common_8h_html_ace3d7da87df06edf56819a49ebf00574a8f2c1623a021faec656eb2bcaeb5d367"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#ace3d7da87df06edf56819a49ebf00574a8f2c1623a021faec656eb2bcaeb5d367">DHCPV6_OPTION_FQDN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddf/dhcpv6__common_8h_source.html#l00135">dhcpv6_common.h:135</a></div></div>
<div class="ttc" id="structIpAddr_html_ae61478bd1e79361fca7dd04a21aeb2f8"><div class="ttname"><a href="../../d3/df3/structIpAddr.html#ae61478bd1e79361fca7dd04a21aeb2f8">IpAddr::length</a></div><div class="ttdeci">size_t length</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d2f/ip_8h_source.html#l00073">ip.h:73</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_ab2fd1889bb669d854b61d4a5fee3e3ec"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#ab2fd1889bb669d854b61d4a5fee3e3ec">DHCPV6_SERVER_PORT</a></div><div class="ttdeci">#define DHCPV6_SERVER_PORT</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddf/dhcpv6__common_8h_source.html#l00041">dhcpv6_common.h:41</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_ace3d7da87df06edf56819a49ebf00574a03bdde9e8ae8a85d4936efb2f9fbb956"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#ace3d7da87df06edf56819a49ebf00574a03bdde9e8ae8a85d4936efb2f9fbb956">DHCPV6_OPTION_IA_NA</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddf/dhcpv6__common_8h_source.html#l00114">dhcpv6_common.h:114</a></div></div>
<div class="ttc" id="resource__manager_8h_html_a12e46a33bfe90638e58ef067c6fd4a6e"><div class="ttname"><a href="../../da/d4d/resource__manager_8h.html#a12e46a33bfe90638e58ef067c6fd4a6e">type</a></div><div class="ttdeci">char_t type</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4d/resource__manager_8h_source.html#l00065">resource_manager.h:65</a></div></div>
<div class="ttc" id="structDhcpv6ClientAddrEntry_html_a24e1399fe28c7e13c134de1e2953e051"><div class="ttname"><a href="../../de/d95/structDhcpv6ClientAddrEntry.html#a24e1399fe28c7e13c134de1e2953e051">Dhcpv6ClientAddrEntry::preferredLifetime</a></div><div class="ttdeci">uint32_t preferredLifetime</div><div class="ttdoc">Preferred lifetime. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00305">dhcpv6_client.h:305</a></div></div>
<div class="ttc" id="group__BSPDefine_html_ga070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../de/da2/group__BSPDefine.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d6b/nm__bsp_8h_source.html#l00070">nm_bsp.h:70</a></div></div>
<div class="ttc" id="structIpAddr_html_a9bc2340a9c0bc5a0b8aa9695b74e2ee6"><div class="ttname"><a href="../../d3/df3/structIpAddr.html#a9bc2340a9c0bc5a0b8aa9695b74e2ee6">IpAddr::ipv6Addr</a></div><div class="ttdeci">Ipv6Addr ipv6Addr</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d2f/ip_8h_source.html#l00080">ip.h:80</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_a6802d48c8c3b96baafb23641a82f43a0"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#a6802d48c8c3b96baafb23641a82f43a0">DHCPV6_CLIENT_PORT</a></div><div class="ttdeci">#define DHCPV6_CLIENT_PORT</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddf/dhcpv6__common_8h_source.html#l00040">dhcpv6_common.h:40</a></div></div>
<div class="ttc" id="dhcpv6__client_8c_html_aab426d22a7b9001f61aab099517cee28"><div class="ttname"><a href="../../d6/d91/dhcpv6__client_8c.html#aab426d22a7b9001f61aab099517cee28">dhcpv6OptionList</a></div><div class="ttdeci">static const uint16_t dhcpv6OptionList[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d91/dhcpv6__client_8c_source.html#l00062">dhcpv6_client.c:62</a></div></div>
<div class="ttc" id="udp_8c_html_a72a529f723ed1b75bfe98d0708f28eb1"><div class="ttname"><a href="../../dd/dc4/udp_8c.html#a72a529f723ed1b75bfe98d0708f28eb1">udpSendDatagramEx</a></div><div class="ttdeci">error_t udpSendDatagramEx(NetInterface *interface, const IpAddr *srcIpAddr, uint16_t srcPort, const IpAddr *destIpAddr, uint16_t destPort, NetBuffer *buffer, size_t offset, uint_t flags)</div><div class="ttdoc">Send a UDP datagram (raw interface) </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dc4/udp_8c_source.html#l00463">udp.c:463</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_ace3d7da87df06edf56819a49ebf00574a99150024ead0539700a41eda4792879f"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#ace3d7da87df06edf56819a49ebf00574a99150024ead0539700a41eda4792879f">DHCPV6_OPTION_ORO</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddf/dhcpv6__common_8h_source.html#l00117">dhcpv6_common.h:117</a></div></div>
<div class="ttc" id="dhcpv6__common_8c_html_afd1207a3dea473503c7fc4aee69c6213"><div class="ttname"><a href="../../dc/ded/dhcpv6__common_8c.html#afd1207a3dea473503c7fc4aee69c6213">DHCPV6_ALL_RELAY_AGENTS_AND_SERVERS_ADDR</a></div><div class="ttdeci">const Ipv6Addr DHCPV6_ALL_RELAY_AGENTS_AND_SERVERS_ADDR</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/ded/dhcpv6__common_8c_source.html#l00051">dhcpv6_common.c:51</a></div></div>
<div class="ttc" id="dhcpv6__common_8c_html_a2eb2dd75bbf989d4353b310527465fdc"><div class="ttname"><a href="../../dc/ded/dhcpv6__common_8c.html#a2eb2dd75bbf989d4353b310527465fdc">dhcpv6AddSubOption</a></div><div class="ttdeci">Dhcpv6Option * dhcpv6AddSubOption(Dhcpv6Option *baseOption, size_t *messageLen, uint16_t optionCode, const void *optionValue, size_t optionLen)</div><div class="ttdoc">Add a suboption under an existing base option. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/ded/dhcpv6__common_8c_source.html#l00153">dhcpv6_common.c:153</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_ace3d7da87df06edf56819a49ebf00574a514e3d36a6eed2796997f995b847c4ff"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#ace3d7da87df06edf56819a49ebf00574a514e3d36a6eed2796997f995b847c4ff">DHCPV6_OPTION_CLIENTID</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddf/dhcpv6__common_8h_source.html#l00112">dhcpv6_common.h:112</a></div></div>
<div class="ttc" id="date__time_8c_html_ae15b3e664208ca7e4d6983921865cd74"><div class="ttname"><a href="../../dd/d0f/date__time_8c.html#ae15b3e664208ca7e4d6983921865cd74">formatSystemTime</a></div><div class="ttdeci">const char_t * formatSystemTime(systime_t time, char_t *str)</div><div class="ttdoc">Format system time. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d0f/date__time_8c_source.html#l00077">date_time.c:77</a></div></div>
<div class="ttc" id="structDhcpv6ClientAddrEntry_html_a3f15eb3e64b43ca99e49e090d3c0eb72"><div class="ttname"><a href="../../de/d95/structDhcpv6ClientAddrEntry.html#a3f15eb3e64b43ca99e49e090d3c0eb72">Dhcpv6ClientAddrEntry::addr</a></div><div class="ttdeci">Ipv6Addr addr</div><div class="ttdoc">IPv6 address. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00303">dhcpv6_client.h:303</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_ace3d7da87df06edf56819a49ebf00574a8ce7598c8440ec545924bc13b5619944"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#ace3d7da87df06edf56819a49ebf00574a8ce7598c8440ec545924bc13b5619944">DHCPV6_OPTION_RAPID_COMMIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddf/dhcpv6__common_8h_source.html#l00124">dhcpv6_common.h:124</a></div></div>
<div class="ttc" id="cpu__endian_8h_html_a63baf217625b15caa7246af75b027380"><div class="ttname"><a href="../../df/de9/cpu__endian_8h.html#a63baf217625b15caa7246af75b027380">htonl</a></div><div class="ttdeci">#define htonl(value)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de9/cpu__endian_8h_source.html#l00393">cpu_endian.h:393</a></div></div>
<div class="ttc" id="net__mem_8c_html_a20d30c9db547b3b2743368b589cf482b"><div class="ttname"><a href="../../d3/d7e/net__mem_8c.html#a20d30c9db547b3b2743368b589cf482b">netBufferAt</a></div><div class="ttdeci">void * netBufferAt(const NetBuffer *buffer, size_t offset)</div><div class="ttdoc">Returns a pointer to the data at the specified position. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d7e/net__mem_8c_source.html#l00413">net_mem.c:413</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_a26afd029729fa68e5bd82ad8a36d90d1"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#a26afd029729fa68e5bd82ad8a36d90d1">Dhcpv6ElapsedTimeOption</a></div><div class="ttdeci">__start_packed struct @136 Dhcpv6ElapsedTimeOption</div><div class="ttdoc">Elapsed Time option. </div></div>
<div class="ttc" id="dhcpv6__common_8h_html_aeca9d54a4001e239844ff0245aaedf6cac1ee9533dff4ae432ec3f5213eac19a8"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#aeca9d54a4001e239844ff0245aaedf6cac1ee9533dff4ae432ec3f5213eac19a8">DHCPV6_MSG_TYPE_REQUEST</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddf/dhcpv6__common_8h_source.html#l00092">dhcpv6_common.h:92</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_ace3d7da87df06edf56819a49ebf00574af02fe93475cf23de1d0dcaf371c15af2"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#ace3d7da87df06edf56819a49ebf00574af02fe93475cf23de1d0dcaf371c15af2">DHCPV6_OPTION_IAADDR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddf/dhcpv6__common_8h_source.html#l00116">dhcpv6_common.h:116</a></div></div>
<div class="ttc" id="cpu__endian_8h_html_acba352ed22d98efff17d0374c0790885"><div class="ttname"><a href="../../df/de9/cpu__endian_8h.html#acba352ed22d98efff17d0374c0790885">STORE24BE</a></div><div class="ttdeci">#define STORE24BE(a, p)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de9/cpu__endian_8h_source.html#l00257">cpu_endian.h:257</a></div></div>
<div class="ttc" id="pic32mz_2isr__support_8h_html_a12a5aed8a193ebbf9a641104a310610d"><div class="ttname"><a href="../../d9/ddb/pic32mz_2isr__support_8h.html#a12a5aed8a193ebbf9a641104a310610d">offset</a></div><div class="ttdeci">macro portSAVE_FPU_REGS offset</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/ddb/pic32mz_2isr__support_8h_source.html#l00038">isr_support.h:38</a></div></div>
<div class="ttc" id="structDhcpv6ClientAddrEntry_html"><div class="ttname"><a href="../../de/d95/structDhcpv6ClientAddrEntry.html">Dhcpv6ClientAddrEntry</a></div><div class="ttdoc">IA address entry. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00301">dhcpv6_client.h:301</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_aeca9d54a4001e239844ff0245aaedf6cafdc89c929b9b3330a914465fa2032331"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#aeca9d54a4001e239844ff0245aaedf6cafdc89c929b9b3330a914465fa2032331">DHCPV6_MSG_TYPE_SOLICIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddf/dhcpv6__common_8h_source.html#l00090">dhcpv6_common.h:90</a></div></div>
<div class="ttc" id="udp_8c_html_a2c65cad7c5665fe03f94364e7e52b2be"><div class="ttname"><a href="../../dd/dc4/udp_8c.html#a2c65cad7c5665fe03f94364e7e52b2be">udpAllocBuffer</a></div><div class="ttdeci">NetBuffer * udpAllocBuffer(size_t length, size_t *offset)</div><div class="ttdoc">Allocate a buffer to hold a UDP packet. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dc4/udp_8c_source.html#l00697">udp.c:697</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_ace3d7da87df06edf56819a49ebf00574af9efb5295b5f1d709ba8d92957915ba1"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#ace3d7da87df06edf56819a49ebf00574af9efb5295b5f1d709ba8d92957915ba1">DHCPV6_OPTION_ELAPSED_TIME</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddf/dhcpv6__common_8h_source.html#l00119">dhcpv6_common.h:119</a></div></div>
<div class="ttc" id="structIpAddr_html"><div class="ttname"><a href="../../d3/df3/structIpAddr.html">IpAddr</a></div><div class="ttdoc">IP network address. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d2f/ip_8h_source.html#l00071">ip.h:71</a></div></div>
<div class="ttc" id="dhcpv6__client_8c_html_a0c0b3763ac06274d8b68eb5126fb51c8"><div class="ttname"><a href="../../d6/d91/dhcpv6__client_8c.html#a0c0b3763ac06274d8b68eb5126fb51c8">dhcpv6ClientComputeElapsedTime</a></div><div class="ttdeci">uint16_t dhcpv6ClientComputeElapsedTime(Dhcpv6ClientContext *context)</div><div class="ttdoc">Compute the time elapsed since the client sent the first message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d91/dhcpv6__client_8c_source.html#l02473">dhcpv6_client.c:2473</a></div></div>
<div class="ttc" id="structNetBuffer_html"><div class="ttname"><a href="../../d3/dca/structNetBuffer.html">NetBuffer</a></div><div class="ttdoc">Structure describing a buffer that spans multiple chunks. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d0b/net__mem_8h_source.html#l00088">net_mem.h:88</a></div></div>
<div class="ttc" id="error_8h_html_ac7659d73a8cdedc08e9f566bb406689c"><div class="ttname"><a href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689c">error_t</a></div><div class="ttdeci">error_t</div><div class="ttdoc">Error codes. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d41/error_8h_source.html#l00042">error.h:42</a></div></div>
<div class="ttc" id="ipv6_8h_html_aed0cbc40c61ed5b4fb681ebc55237e89"><div class="ttname"><a href="../../d3/ddd/ipv6_8h.html#aed0cbc40c61ed5b4fb681ebc55237e89">Ipv6Addr</a></div><div class="ttdeci">__start_packed struct @169 Ipv6Addr</div><div class="ttdoc">IPv6 network address. </div></div>
<div class="ttc" id="ipcp_8h_html_a752e1719cf65f78dfec6274352cb56df"><div class="ttname"><a href="../../d6/d67/ipcp_8h.html#a752e1719cf65f78dfec6274352cb56df">destIpAddr</a></div><div class="ttdeci">Ipv4Addr destIpAddr</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d67/ipcp_8h_source.html#l00078">ipcp.h:78</a></div></div>
<div class="ttc" id="compiler__port_8h_html_a12a1e9b3ce141648783a82445d02b58d"><div class="ttname"><a href="../../d1/dfa/compiler__port_8h.html#a12a1e9b3ce141648783a82445d02b58d">uint_t</a></div><div class="ttdeci">unsigned int uint_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dfa/compiler__port_8h_source.html#l00045">compiler_port.h:45</a></div></div>
<div class="ttc" id="compiler__port_8h_html_a2b7b0557dc6cd786df02dafbb51f5292"><div class="ttname"><a href="../../d1/dfa/compiler__port_8h.html#a2b7b0557dc6cd786df02dafbb51f5292">PRIuSIZE</a></div><div class="ttdeci">#define PRIuSIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dfa/compiler__port_8h_source.html#l00078">compiler_port.h:78</a></div></div>
<div class="ttc" id="net_8h_html_a2234db8911a1148c9159979d8f5e0d6b"><div class="ttname"><a href="../../d7/d97/net_8h.html#a2234db8911a1148c9159979d8f5e0d6b">NetInterface</a></div><div class="ttdeci">#define NetInterface</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d97/net_8h_source.html#l00036">net.h:36</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_aeca9d54a4001e239844ff0245aaedf6cae849f87ed116032b918ad1bbe1f0f069"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#aeca9d54a4001e239844ff0245aaedf6cae849f87ed116032b918ad1bbe1f0f069">DHCPV6_MSG_TYPE_RELEASE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddf/dhcpv6__common_8h_source.html#l00097">dhcpv6_common.h:97</a></div></div>
<div class="ttc" id="dhcpv6__debug_8c_html_a36ce435509b18e157c961e1e82ae0e88"><div class="ttname"><a href="../../de/dd9/dhcpv6__debug_8c.html#a36ce435509b18e157c961e1e82ae0e88">dhcpv6DumpMessage</a></div><div class="ttdeci">error_t dhcpv6DumpMessage(const void *message, size_t length)</div><div class="ttdoc">Dump DHCPv6 message for debugging purpose. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dd9/dhcpv6__debug_8c_source.html#l00123">dhcpv6_debug.c:123</a></div></div>
<div class="ttc" id="structDhcpv6ClientAddrEntry_html_a975d3431d046a9dadc2e6a6594a09168"><div class="ttname"><a href="../../de/d95/structDhcpv6ClientAddrEntry.html#a975d3431d046a9dadc2e6a6594a09168">Dhcpv6ClientAddrEntry::validLifetime</a></div><div class="ttdeci">uint32_t validLifetime</div><div class="ttdoc">Valid lifetime. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00304">dhcpv6_client.h:304</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_a89f7acb5d12dede28c2b98290018051e"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#a89f7acb5d12dede28c2b98290018051e">Dhcpv6Option</a></div><div class="ttdeci">__start_packed struct @130 Dhcpv6Option</div><div class="ttdoc">DHCPv6 option. </div></div>
<div class="ttc" id="dhcpv6__common_8h_html_a4b2fa99ee47d1cc91da2b57fa69b324f"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#a4b2fa99ee47d1cc91da2b57fa69b324f">DHCPV6_MAX_MSG_SIZE</a></div><div class="ttdeci">#define DHCPV6_MAX_MSG_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddf/dhcpv6__common_8h_source.html#l00044">dhcpv6_common.h:44</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_aeca9d54a4001e239844ff0245aaedf6ca97164d83c790095e8d84307ef58c2cf3"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#aeca9d54a4001e239844ff0245aaedf6ca97164d83c790095e8d84307ef58c2cf3">DHCPV6_MSG_TYPE_REBIND</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddf/dhcpv6__common_8h_source.html#l00095">dhcpv6_common.h:95</a></div></div>
<div class="ttc" id="dtls__misc_8h_html_ab43ca82dd7fa2a0e56f941032ef324c4"><div class="ttname"><a href="../../d3/d25/dtls__misc_8h.html#ab43ca82dd7fa2a0e56f941032ef324c4">length</a></div><div class="ttdeci">uint8_t length</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d25/dtls__misc_8h_source.html#l00149">dtls_misc.h:149</a></div></div>
<div class="ttc" id="dhcpv6__common_8c_html_ac0a7db4b0542d3f4b7270bfb239ce6f0"><div class="ttname"><a href="../../dc/ded/dhcpv6__common_8c.html#ac0a7db4b0542d3f4b7270bfb239ce6f0">dhcpv6AddOption</a></div><div class="ttdeci">Dhcpv6Option * dhcpv6AddOption(void *message, size_t *messageLen, uint16_t optionCode, const void *optionValue, size_t optionLen)</div><div class="ttdoc">Add an option to a DHCPv6 message. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/ded/dhcpv6__common_8c_source.html#l00111">dhcpv6_common.c:111</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_a32f2f44ec9a8d2ee5e2977a7fcddaf85"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#a32f2f44ec9a8d2ee5e2977a7fcddaf85">Dhcpv6Message</a></div><div class="ttdeci">__start_packed struct @128 Dhcpv6Message</div><div class="ttdoc">DHCPv6 message. </div></div>
<div class="ttc" id="dhcpv6__common_8h_html_aeca9d54a4001e239844ff0245aaedf6ca91b403f91b6637d1f732b4b5f451fa70"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#aeca9d54a4001e239844ff0245aaedf6ca91b403f91b6637d1f732b4b5f451fa70">DHCPV6_MSG_TYPE_CONFIRM</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddf/dhcpv6__common_8h_source.html#l00093">dhcpv6_common.h:93</a></div></div>
<div class="ttc" id="error_8h_html_ac7659d73a8cdedc08e9f566bb406689cac0a554045048d2fb61387cf735676f69"><div class="ttname"><a href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689cac0a554045048d2fb61387cf735676f69">ERROR_OUT_OF_MEMORY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d41/error_8h_source.html#l00063">error.h:63</a></div></div>
<div class="ttc" id="debug_8h_html_a67a8f9bc74358aa21745a76e23768dae"><div class="ttname"><a href="../../db/d16/debug_8h.html#a67a8f9bc74358aa21745a76e23768dae">TRACE_DEBUG</a></div><div class="ttdeci">#define TRACE_DEBUG(...)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d16/debug_8h_source.html#l00106">debug.h:106</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="acb9e48f60c43f6fb4c800c16a3efde2b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb9e48f60c43f6fb4c800c16a3efde2b">&#9670;&nbsp;</a></span>dhcpv6ClientStart()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689c">error_t</a> dhcpv6ClientStart </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#aac4eb11915c8cf98cce890c9d0270c9b">Dhcpv6ClientContext</a> *&#160;</td>
          <td class="paramname"><em>context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start DHCPv6 client. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>Pointer to the DHCPv6 client context </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d6/d91/dhcpv6__client_8c_source.html#l00164">164</a> of file <a class="el" href="../../d6/d91/dhcpv6__client_8c_source.html">dhcpv6_client.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;{</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;   <a class="code" href="../../d7/d97/net_8h.html#a2234db8911a1148c9159979d8f5e0d6b">NetInterface</a> *interface;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;   <span class="comment">//Check parameter</span></div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;   <span class="keywordflow">if</span>(context == <a class="code" href="../../de/da2/group__BSPDefine.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689caeae4b12e06d727d085f75f79a820f2e8">ERROR_INVALID_PARAMETER</a>;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;   <span class="comment">//Debug message</span></div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;   <a class="code" href="../../db/d16/debug_8h.html#a7339bfd784193a5c79efcef2eeb2d6df">TRACE_INFO</a>(<span class="stringliteral">&quot;Starting DHCPv6 client...\r\n&quot;</span>);</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;   <span class="comment">//Get exclusive access</span></div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;   <a class="code" href="../../dd/d0d/os__port__chibios_8c.html#a58485224df4bfa522246d55b35bbd83a">osAcquireMutex</a>(&amp;<a class="code" href="../../d7/d5f/net_8c.html#afe31551ad26115fae8e575654346d441">netMutex</a>);</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;   <span class="comment">//Point to the underlying network interface</span></div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;   <span class="keyword">interface </span>= context-&gt;settings.interface;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;   <span class="comment">//Flush the list of IPv6 addresses from the client&#39;s IA</span></div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;   <a class="code" href="../../d6/d91/dhcpv6__client_8c.html#ab03f421bf4324e1426814302b4ef320a">dhcpv6ClientFlushAddrList</a>(context);</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;   <span class="comment">//Automatic DNS server configuration?</span></div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;   <span class="keywordflow">if</span>(!context-&gt;settings.manualDnsConfig)</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;   {</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;      <span class="comment">//Clear the list of DNS servers</span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;      <a class="code" href="../../dc/d33/ipv6__misc_8c.html#a4b3ce94edd9cad3fb3269e805a104b97">ipv6FlushDnsServerList</a>(interface);</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;   }</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;   <span class="comment">//Check if the link is up?</span></div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;   <span class="keywordflow">if</span>(interface-&gt;linkState)</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;   {</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;      <span class="comment">//A link-local address is formed by combining the well-known</span></div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;      <span class="comment">//link-local prefix fe80::/10 with the interface identifier</span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;      <a class="code" href="../../d6/d91/dhcpv6__client_8c.html#a0e2ede14d583dbc040aeecc01b262ec2">dhcpv6ClientGenerateLinkLocalAddr</a>(context);</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;   }</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;   <span class="comment">//Start DHCPv6 client</span></div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;   context-&gt;running = <a class="code" href="../../da/d42/os__port_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;   <span class="comment">//Initialize state machine</span></div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;   context-&gt;state = <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a017951020877623ce2220289f5c93025">DHCPV6_STATE_INIT</a>;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;   <span class="comment">//Release exclusive access</span></div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;   <a class="code" href="../../dd/d0d/os__port__chibios_8c.html#a8e10e5b2c6d3877b5ba60e375ac45d79">osReleaseMutex</a>(&amp;<a class="code" href="../../d7/d5f/net_8c.html#afe31551ad26115fae8e575654346d441">netMutex</a>);</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;   <span class="comment">//Successful processing</span></div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94">NO_ERROR</a>;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;}</div><div class="ttc" id="ipv6__misc_8c_html_a4b3ce94edd9cad3fb3269e805a104b97"><div class="ttname"><a href="../../dc/d33/ipv6__misc_8c.html#a4b3ce94edd9cad3fb3269e805a104b97">ipv6FlushDnsServerList</a></div><div class="ttdeci">void ipv6FlushDnsServerList(NetInterface *interface)</div><div class="ttdoc">Flush the list of DNS servers. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d33/ipv6__misc_8c_source.html#l00739">ipv6_misc.c:739</a></div></div>
<div class="ttc" id="error_8h_html_ac7659d73a8cdedc08e9f566bb406689caeae4b12e06d727d085f75f79a820f2e8"><div class="ttname"><a href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689caeae4b12e06d727d085f75f79a820f2e8">ERROR_INVALID_PARAMETER</a></div><div class="ttdoc">Invalid parameter. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d41/error_8h_source.html#l00047">error.h:47</a></div></div>
<div class="ttc" id="group__BSPDefine_html_ga070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../de/da2/group__BSPDefine.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d6b/nm__bsp_8h_source.html#l00070">nm_bsp.h:70</a></div></div>
<div class="ttc" id="os__port_8h_html_aa8cecfc5c5c054d2875c03e77b7be15d"><div class="ttname"><a href="../../da/d42/os__port_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a></div><div class="ttdeci">#define TRUE</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d42/os__port_8h_source.html#l00050">os_port.h:50</a></div></div>
<div class="ttc" id="dhcpv6__client_8c_html_ab03f421bf4324e1426814302b4ef320a"><div class="ttname"><a href="../../d6/d91/dhcpv6__client_8c.html#ab03f421bf4324e1426814302b4ef320a">dhcpv6ClientFlushAddrList</a></div><div class="ttdeci">void dhcpv6ClientFlushAddrList(Dhcpv6ClientContext *context)</div><div class="ttdoc">Flush the list of IPv6 addresses from the IA. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d91/dhcpv6__client_8c_source.html#l02248">dhcpv6_client.c:2248</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_a8610bfd009af9756638a193136ef93f9a017951020877623ce2220289f5c93025"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a017951020877623ce2220289f5c93025">DHCPV6_STATE_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00243">dhcpv6_client.h:243</a></div></div>
<div class="ttc" id="dhcpv6__client_8c_html_a0e2ede14d583dbc040aeecc01b262ec2"><div class="ttname"><a href="../../d6/d91/dhcpv6__client_8c.html#a0e2ede14d583dbc040aeecc01b262ec2">dhcpv6ClientGenerateLinkLocalAddr</a></div><div class="ttdeci">error_t dhcpv6ClientGenerateLinkLocalAddr(Dhcpv6ClientContext *context)</div><div class="ttdoc">Generate a link-local address. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d91/dhcpv6__client_8c_source.html#l02358">dhcpv6_client.c:2358</a></div></div>
<div class="ttc" id="debug_8h_html_a7339bfd784193a5c79efcef2eeb2d6df"><div class="ttname"><a href="../../db/d16/debug_8h.html#a7339bfd784193a5c79efcef2eeb2d6df">TRACE_INFO</a></div><div class="ttdeci">#define TRACE_INFO(...)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d16/debug_8h_source.html#l00094">debug.h:94</a></div></div>
<div class="ttc" id="error_8h_html_ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94"><div class="ttname"><a href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94">NO_ERROR</a></div><div class="ttdoc">Success. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d41/error_8h_source.html#l00044">error.h:44</a></div></div>
<div class="ttc" id="os__port__chibios_8c_html_a8e10e5b2c6d3877b5ba60e375ac45d79"><div class="ttname"><a href="../../dd/d0d/os__port__chibios_8c.html#a8e10e5b2c6d3877b5ba60e375ac45d79">osReleaseMutex</a></div><div class="ttdeci">void osReleaseMutex(OsMutex *mutex)</div><div class="ttdoc">Release ownership of the specified mutex object. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d0d/os__port__chibios_8c_source.html#l00474">os_port_chibios.c:474</a></div></div>
<div class="ttc" id="net_8h_html_a2234db8911a1148c9159979d8f5e0d6b"><div class="ttname"><a href="../../d7/d97/net_8h.html#a2234db8911a1148c9159979d8f5e0d6b">NetInterface</a></div><div class="ttdeci">#define NetInterface</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d97/net_8h_source.html#l00036">net.h:36</a></div></div>
<div class="ttc" id="net_8c_html_afe31551ad26115fae8e575654346d441"><div class="ttname"><a href="../../d7/d5f/net_8c.html#afe31551ad26115fae8e575654346d441">netMutex</a></div><div class="ttdeci">OsMutex netMutex</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/net_8c_source.html#l00075">net.c:75</a></div></div>
<div class="ttc" id="os__port__chibios_8c_html_a58485224df4bfa522246d55b35bbd83a"><div class="ttname"><a href="../../dd/d0d/os__port__chibios_8c.html#a58485224df4bfa522246d55b35bbd83a">osAcquireMutex</a></div><div class="ttdeci">void osAcquireMutex(OsMutex *mutex)</div><div class="ttdoc">Acquire ownership of the specified mutex object. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d0d/os__port__chibios_8c_source.html#l00462">os_port_chibios.c:462</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5b7bf9e3e3893c66b1d11f9b1cd8173b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b7bf9e3e3893c66b1d11f9b1cd8173b">&#9670;&nbsp;</a></span>dhcpv6ClientStateBound()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dhcpv6ClientStateBound </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#aac4eb11915c8cf98cce890c9d0270c9b">Dhcpv6ClientContext</a> *&#160;</td>
          <td class="paramname"><em>context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>BOUND state. </p>
<p>Client has a valid lease and is in its normal operating state</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>Pointer to the DHCPv6 client context </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d6/d91/dhcpv6__client_8c_source.html#l00900">900</a> of file <a class="el" href="../../d6/d91/dhcpv6__client_8c_source.html">dhcpv6_client.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;{</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;   <a class="code" href="../../d1/dfa/compiler__port_8h.html#ae3e32a98d431a02106616da3071832dd">systime_t</a> <a class="code" href="../../d4/d3f/tiger_8c.html#a5017152cac85e29a2dc5d8d74de9e07c">t1</a>;</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;   <a class="code" href="../../d1/dfa/compiler__port_8h.html#ae3e32a98d431a02106616da3071832dd">systime_t</a> <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#ae73654f333e4363463ad8c594eca1905">time</a>;</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;   <span class="comment">//Get current time</span></div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;   time = <a class="code" href="../../dd/d0d/os__port__chibios_8c.html#ab66a11272d40a916fa69dd8e4dc443d4">osGetSystemTime</a>();</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;   <span class="comment">//A client will never attempt to extend the lifetime of any</span></div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;   <span class="comment">//address in an IA with T1 set to 0xffffffff</span></div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;   <span class="keywordflow">if</span>(context-&gt;ia.t1 != <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#ab9aee2bf751d949dbfa5fb9f58cb84fb">DHCPV6_INFINITE_TIME</a>)</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;   {</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;      <span class="comment">//Convert T1 to milliseconds</span></div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;      <span class="keywordflow">if</span>(context-&gt;ia.t1 &lt; (<a class="code" href="../../da/d42/os__port_8h.html#a16027d8acc5301e440cefa086eb9db2a">MAX_DELAY</a> / 1000))</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;         t1 = context-&gt;ia.t1 * 1000;</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;         t1 = <a class="code" href="../../da/d42/os__port_8h.html#a16027d8acc5301e440cefa086eb9db2a">MAX_DELAY</a>;</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;      <span class="comment">//Check the time elapsed since the lease was obtained</span></div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="../../da/d42/os__port_8h.html#a25c13833ef003da02045a91b1080263a">timeCompare</a>(time, context-&gt;leaseStartTime + t1) &gt;= 0)</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;      {</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;         <span class="comment">//Record the time at which the client started the address renewal process</span></div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;         context-&gt;configStartTime = <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#ae73654f333e4363463ad8c594eca1905">time</a>;</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;         <span class="comment">//Enter the RENEW state</span></div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;         <a class="code" href="../../d6/d91/dhcpv6__client_8c.html#aafd32758fb24f5bc2267ad372f06545d">dhcpv6ClientChangeState</a>(context, <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a28a33f3446b846dc6ed8b728b23a5b70">DHCPV6_STATE_RENEW</a>, 0);</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;      }</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;   }</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;}</div><div class="ttc" id="compiler__port_8h_html_ae3e32a98d431a02106616da3071832dd"><div class="ttname"><a href="../../d1/dfa/compiler__port_8h.html#ae3e32a98d431a02106616da3071832dd">systime_t</a></div><div class="ttdeci">uint32_t systime_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dfa/compiler__port_8h_source.html#l00046">compiler_port.h:46</a></div></div>
<div class="ttc" id="os__port_8h_html_a25c13833ef003da02045a91b1080263a"><div class="ttname"><a href="../../da/d42/os__port_8h.html#a25c13833ef003da02045a91b1080263a">timeCompare</a></div><div class="ttdeci">#define timeCompare(t1, t2)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d42/os__port_8h_source.html#l00042">os_port.h:42</a></div></div>
<div class="ttc" id="os__port__chibios_8c_html_ab66a11272d40a916fa69dd8e4dc443d4"><div class="ttname"><a href="../../dd/d0d/os__port__chibios_8c.html#ab66a11272d40a916fa69dd8e4dc443d4">osGetSystemTime</a></div><div class="ttdeci">systime_t osGetSystemTime(void)</div><div class="ttdoc">Retrieve system time. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d0d/os__port__chibios_8c_source.html#l00490">os_port_chibios.c:490</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_ae73654f333e4363463ad8c594eca1905"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#ae73654f333e4363463ad8c594eca1905">time</a></div><div class="ttdeci">uint32_t time</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddf/dhcpv6__common_8h_source.html#l00169">dhcpv6_common.h:169</a></div></div>
<div class="ttc" id="dhcpv6__client_8c_html_aafd32758fb24f5bc2267ad372f06545d"><div class="ttname"><a href="../../d6/d91/dhcpv6__client_8c.html#aafd32758fb24f5bc2267ad372f06545d">dhcpv6ClientChangeState</a></div><div class="ttdeci">void dhcpv6ClientChangeState(Dhcpv6ClientContext *context, Dhcpv6State newState, systime_t delay)</div><div class="ttdoc">Update DHCPv6 FSM state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d91/dhcpv6__client_8c_source.html#l02506">dhcpv6_client.c:2506</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_ab9aee2bf751d949dbfa5fb9f58cb84fb"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#ab9aee2bf751d949dbfa5fb9f58cb84fb">DHCPV6_INFINITE_TIME</a></div><div class="ttdeci">#define DHCPV6_INFINITE_TIME</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddf/dhcpv6__common_8h_source.html#l00053">dhcpv6_common.h:53</a></div></div>
<div class="ttc" id="os__port_8h_html_a16027d8acc5301e440cefa086eb9db2a"><div class="ttname"><a href="../../da/d42/os__port_8h.html#a16027d8acc5301e440cefa086eb9db2a">MAX_DELAY</a></div><div class="ttdeci">#define MAX_DELAY</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d42/os__port_8h_source.html#l00076">os_port.h:76</a></div></div>
<div class="ttc" id="tiger_8c_html_a5017152cac85e29a2dc5d8d74de9e07c"><div class="ttname"><a href="../../d4/d3f/tiger_8c.html#a5017152cac85e29a2dc5d8d74de9e07c">t1</a></div><div class="ttdeci">static const uint64_t t1[256]</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d3f/tiger_8c_source.html#l00081">tiger.c:81</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_a8610bfd009af9756638a193136ef93f9a28a33f3446b846dc6ed8b728b23a5b70"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a28a33f3446b846dc6ed8b728b23a5b70">DHCPV6_STATE_RENEW</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00250">dhcpv6_client.h:250</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a003a5c770aeaf0c5df2bb69afb28e36f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a003a5c770aeaf0c5df2bb69afb28e36f">&#9670;&nbsp;</a></span>dhcpv6ClientStateConfirm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dhcpv6ClientStateConfirm </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#aac4eb11915c8cf98cce890c9d0270c9b">Dhcpv6ClientContext</a> *&#160;</td>
          <td class="paramname"><em>context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>CONFIRM state. </p>
<p>Whenever a client may have moved to a new link, the prefixes from the addresses assigned to the interfaces on that link may no longer be appropriate for the link to which the client is attached. In such the client must initiate a Confirm/Reply message exchange</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>Pointer to the DHCPv6 client context </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d6/d91/dhcpv6__client_8c_source.html#l00761">761</a> of file <a class="el" href="../../d6/d91/dhcpv6__client_8c_source.html">dhcpv6_client.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;{</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;   <a class="code" href="../../d1/dfa/compiler__port_8h.html#ae3e32a98d431a02106616da3071832dd">systime_t</a> <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#ae73654f333e4363463ad8c594eca1905">time</a>;</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;   <span class="comment">//Get current time</span></div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;   time = <a class="code" href="../../dd/d0d/os__port__chibios_8c.html#ab66a11272d40a916fa69dd8e4dc443d4">osGetSystemTime</a>();</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;   <span class="comment">//Check current time</span></div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;   <span class="keywordflow">if</span>(<a class="code" href="../../da/d42/os__port_8h.html#a25c13833ef003da02045a91b1080263a">timeCompare</a>(time, context-&gt;timestamp + context-&gt;timeout) &gt;= 0)</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;   {</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;      <span class="comment">//Check retransmission counter</span></div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;      <span class="keywordflow">if</span>(context-&gt;retransmitCount == 0)</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;      {</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;         <span class="comment">//Generate a 24-bit transaction ID</span></div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;         context-&gt;transactionId = <a class="code" href="../../d7/d5f/net_8c.html#a7bb00b31d641749ac8ce742261eb1f6d">netGetRand</a>() &amp; 0x00FFFFFF;</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;         <span class="comment">//Send a Confirm message</span></div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;         <a class="code" href="../../d6/d91/dhcpv6__client_8c.html#ac17d0545676651d297bedbd242ab2289">dhcpv6ClientSendMessage</a>(context, <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#aeca9d54a4001e239844ff0245aaedf6ca91b403f91b6637d1f732b4b5f451fa70">DHCPV6_MSG_TYPE_CONFIRM</a>);</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;         <span class="comment">//Save the time at which the client sent the first message</span></div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;         context-&gt;exchangeStartTime = <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#ae73654f333e4363463ad8c594eca1905">time</a>;</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;         context-&gt;timestamp = <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#ae73654f333e4363463ad8c594eca1905">time</a>;</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;         <span class="comment">//Initial retransmission timeout</span></div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;         context-&gt;timeout = <a class="code" href="../../df/d84/dhcpv6__client_8h.html#aa08595ed02f80e2c2e2a0511f2aaab47">DHCPV6_CLIENT_CNF_TIMEOUT</a> +</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;            <a class="code" href="../../dc/ded/dhcpv6__common_8c.html#ae04cea0e44f0c28da17198d59517ac10">dhcpv6Rand</a>(<a class="code" href="../../df/d84/dhcpv6__client_8h.html#aa08595ed02f80e2c2e2a0511f2aaab47">DHCPV6_CLIENT_CNF_TIMEOUT</a>);</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;         <span class="comment">//Increment retransmission counter</span></div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;         context-&gt;retransmitCount++;</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;      }</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;      {</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;         <span class="comment">//Send a Confirm message</span></div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;         <a class="code" href="../../d6/d91/dhcpv6__client_8c.html#ac17d0545676651d297bedbd242ab2289">dhcpv6ClientSendMessage</a>(context, <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#aeca9d54a4001e239844ff0245aaedf6ca91b403f91b6637d1f732b4b5f451fa70">DHCPV6_MSG_TYPE_CONFIRM</a>);</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;         <span class="comment">//Save the time at which the message was sent</span></div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;         context-&gt;timestamp = <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#ae73654f333e4363463ad8c594eca1905">time</a>;</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;         <span class="comment">//The RT is doubled for each subsequent retransmission</span></div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;         context-&gt;timeout = context-&gt;timeout * 2 + <a class="code" href="../../dc/ded/dhcpv6__common_8c.html#ae04cea0e44f0c28da17198d59517ac10">dhcpv6Rand</a>(context-&gt;timeout);</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;         <span class="comment">//MRT specifies an upper bound on the value of RT</span></div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;         <span class="keywordflow">if</span>(context-&gt;timeout &gt; <a class="code" href="../../df/d84/dhcpv6__client_8h.html#ac576a1ddff3f7df551ff128cb556855d">DHCPV6_CLIENT_CNF_MAX_RT</a>)</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;         {</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;            <span class="comment">//Compute retransmission timeout</span></div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;            context-&gt;timeout = <a class="code" href="../../df/d84/dhcpv6__client_8h.html#ac576a1ddff3f7df551ff128cb556855d">DHCPV6_CLIENT_CNF_MAX_RT</a> +</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;               <a class="code" href="../../dc/ded/dhcpv6__common_8c.html#ae04cea0e44f0c28da17198d59517ac10">dhcpv6Rand</a>(<a class="code" href="../../df/d84/dhcpv6__client_8h.html#ac576a1ddff3f7df551ff128cb556855d">DHCPV6_CLIENT_CNF_MAX_RT</a>);</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;         }</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;         <span class="comment">//Increment retransmission counter</span></div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;         context-&gt;retransmitCount++;</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;      }</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;   }</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;   <span class="keywordflow">else</span></div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;   {</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;      <span class="comment">//Check retransmission counter</span></div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;      <span class="keywordflow">if</span>(context-&gt;retransmitCount &gt; 0)</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;      {</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;         <span class="comment">//The message exchange fails once MRD seconds have elapsed since</span></div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;         <span class="comment">//the client first transmitted the message</span></div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;         <span class="keywordflow">if</span>(<a class="code" href="../../da/d42/os__port_8h.html#a25c13833ef003da02045a91b1080263a">timeCompare</a>(time, context-&gt;exchangeStartTime + <a class="code" href="../../df/d84/dhcpv6__client_8h.html#aa3bcaa11919677bd2606891e2e620cde">DHCPV6_CLIENT_CNF_MAX_RD</a>) &gt;= 0)</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;         {</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;            <span class="comment">//If the client receives no responses before the message transmission</span></div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;            <span class="comment">//process terminates, the client should continue to use any IP</span></div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;            <span class="comment">//addresses using the last known lifetimes for those addresses</span></div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;            <a class="code" href="../../d6/d91/dhcpv6__client_8c.html#aafd32758fb24f5bc2267ad372f06545d">dhcpv6ClientChangeState</a>(context, <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a017951020877623ce2220289f5c93025">DHCPV6_STATE_INIT</a>, 0);</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;         }</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;      }</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;   }</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;   <span class="comment">//Manage DHCPv6 configuration timeout</span></div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;   <a class="code" href="../../d6/d91/dhcpv6__client_8c.html#aaa81ea43e74b44c4bb1c376ee7ddd28b">dhcpv6ClientCheckTimeout</a>(context);</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;}</div><div class="ttc" id="dhcpv6__client_8c_html_ac17d0545676651d297bedbd242ab2289"><div class="ttname"><a href="../../d6/d91/dhcpv6__client_8c.html#ac17d0545676651d297bedbd242ab2289">dhcpv6ClientSendMessage</a></div><div class="ttdeci">error_t dhcpv6ClientSendMessage(Dhcpv6ClientContext *context, Dhcpv6MessageType type)</div><div class="ttdoc">Send Solicit message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d91/dhcpv6__client_8c_source.html#l01244">dhcpv6_client.c:1244</a></div></div>
<div class="ttc" id="compiler__port_8h_html_ae3e32a98d431a02106616da3071832dd"><div class="ttname"><a href="../../d1/dfa/compiler__port_8h.html#ae3e32a98d431a02106616da3071832dd">systime_t</a></div><div class="ttdeci">uint32_t systime_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dfa/compiler__port_8h_source.html#l00046">compiler_port.h:46</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_ac576a1ddff3f7df551ff128cb556855d"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#ac576a1ddff3f7df551ff128cb556855d">DHCPV6_CLIENT_CNF_MAX_RT</a></div><div class="ttdeci">#define DHCPV6_CLIENT_CNF_MAX_RT</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00124">dhcpv6_client.h:124</a></div></div>
<div class="ttc" id="os__port_8h_html_a25c13833ef003da02045a91b1080263a"><div class="ttname"><a href="../../da/d42/os__port_8h.html#a25c13833ef003da02045a91b1080263a">timeCompare</a></div><div class="ttdeci">#define timeCompare(t1, t2)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d42/os__port_8h_source.html#l00042">os_port.h:42</a></div></div>
<div class="ttc" id="os__port__chibios_8c_html_ab66a11272d40a916fa69dd8e4dc443d4"><div class="ttname"><a href="../../dd/d0d/os__port__chibios_8c.html#ab66a11272d40a916fa69dd8e4dc443d4">osGetSystemTime</a></div><div class="ttdeci">systime_t osGetSystemTime(void)</div><div class="ttdoc">Retrieve system time. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d0d/os__port__chibios_8c_source.html#l00490">os_port_chibios.c:490</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_ae73654f333e4363463ad8c594eca1905"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#ae73654f333e4363463ad8c594eca1905">time</a></div><div class="ttdeci">uint32_t time</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddf/dhcpv6__common_8h_source.html#l00169">dhcpv6_common.h:169</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_aa3bcaa11919677bd2606891e2e620cde"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#aa3bcaa11919677bd2606891e2e620cde">DHCPV6_CLIENT_CNF_MAX_RD</a></div><div class="ttdeci">#define DHCPV6_CLIENT_CNF_MAX_RD</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00131">dhcpv6_client.h:131</a></div></div>
<div class="ttc" id="dhcpv6__client_8c_html_aaa81ea43e74b44c4bb1c376ee7ddd28b"><div class="ttname"><a href="../../d6/d91/dhcpv6__client_8c.html#aaa81ea43e74b44c4bb1c376ee7ddd28b">dhcpv6ClientCheckTimeout</a></div><div class="ttdeci">void dhcpv6ClientCheckTimeout(Dhcpv6ClientContext *context)</div><div class="ttdoc">Manage DHCPv6 configuration timeout. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d91/dhcpv6__client_8c_source.html#l02432">dhcpv6_client.c:2432</a></div></div>
<div class="ttc" id="dhcpv6__common_8c_html_ae04cea0e44f0c28da17198d59517ac10"><div class="ttname"><a href="../../dc/ded/dhcpv6__common_8c.html#ae04cea0e44f0c28da17198d59517ac10">dhcpv6Rand</a></div><div class="ttdeci">int32_t dhcpv6Rand(int32_t value)</div><div class="ttdoc">Multiplication by a randomization factor. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/ded/dhcpv6__common_8c_source.html#l00250">dhcpv6_common.c:250</a></div></div>
<div class="ttc" id="dhcpv6__client_8c_html_aafd32758fb24f5bc2267ad372f06545d"><div class="ttname"><a href="../../d6/d91/dhcpv6__client_8c.html#aafd32758fb24f5bc2267ad372f06545d">dhcpv6ClientChangeState</a></div><div class="ttdeci">void dhcpv6ClientChangeState(Dhcpv6ClientContext *context, Dhcpv6State newState, systime_t delay)</div><div class="ttdoc">Update DHCPv6 FSM state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d91/dhcpv6__client_8c_source.html#l02506">dhcpv6_client.c:2506</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_aa08595ed02f80e2c2e2a0511f2aaab47"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#aa08595ed02f80e2c2e2a0511f2aaab47">DHCPV6_CLIENT_CNF_TIMEOUT</a></div><div class="ttdeci">#define DHCPV6_CLIENT_CNF_TIMEOUT</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00117">dhcpv6_client.h:117</a></div></div>
<div class="ttc" id="net_8c_html_a7bb00b31d641749ac8ce742261eb1f6d"><div class="ttname"><a href="../../d7/d5f/net_8c.html#a7bb00b31d641749ac8ce742261eb1f6d">netGetRand</a></div><div class="ttdeci">uint32_t netGetRand(void)</div><div class="ttdoc">Get a random value. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/net_8c_source.html#l01811">net.c:1811</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_a8610bfd009af9756638a193136ef93f9a017951020877623ce2220289f5c93025"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a017951020877623ce2220289f5c93025">DHCPV6_STATE_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00243">dhcpv6_client.h:243</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_aeca9d54a4001e239844ff0245aaedf6ca91b403f91b6637d1f732b4b5f451fa70"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#aeca9d54a4001e239844ff0245aaedf6ca91b403f91b6637d1f732b4b5f451fa70">DHCPV6_MSG_TYPE_CONFIRM</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddf/dhcpv6__common_8h_source.html#l00093">dhcpv6_common.h:93</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac0a432f4acd640a42a731407c81fc6c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0a432f4acd640a42a731407c81fc6c5">&#9670;&nbsp;</a></span>dhcpv6ClientStateDad()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dhcpv6ClientStateDad </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#aac4eb11915c8cf98cce890c9d0270c9b">Dhcpv6ClientContext</a> *&#160;</td>
          <td class="paramname"><em>context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>DAD state. </p>
<p>The client perform duplicate address detection on each of the addresses in any IAs it receives in the Reply message before using that address for traffic</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>Pointer to the DHCPv6 client context </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d6/d91/dhcpv6__client_8c_source.html#l00846">846</a> of file <a class="el" href="../../d6/d91/dhcpv6__client_8c_source.html">dhcpv6_client.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;{</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;   <a class="code" href="../../d1/dfa/compiler__port_8h.html#a12a1e9b3ce141648783a82445d02b58d">uint_t</a> i;</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;   <a class="code" href="../../d7/d97/net_8h.html#a2234db8911a1148c9159979d8f5e0d6b">NetInterface</a> *interface;</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;   <a class="code" href="../../d3/ddd/ipv6_8h.html#acb54c5e2b7ee1652f5bf055e14cc518d">Ipv6AddrState</a> state;</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;   <a class="code" href="../../de/d95/structDhcpv6ClientAddrEntry.html">Dhcpv6ClientAddrEntry</a> *entry;</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;   <span class="comment">//Point to the underlying network interface</span></div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;   <span class="keyword">interface </span>= context-&gt;settings.interface;</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;   <span class="comment">//Loop through the IPv6 addresses recorded by the DHCPv6 client</span></div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;   <span class="keywordflow">for</span>(i = 0; i &lt; <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a50daf16fa24e452127eef9a801d8f576">DHCPV6_CLIENT_ADDR_LIST_SIZE</a>; i++)</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;   {</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;      <span class="comment">//Point to the current entry</span></div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;      entry = &amp;context-&gt;ia.addrList[i];</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;      <span class="comment">//Check the IPv6 address is a tentative address?</span></div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;      <span class="keywordflow">if</span>(entry-&gt;<a class="code" href="../../de/d95/structDhcpv6ClientAddrEntry.html#a975d3431d046a9dadc2e6a6594a09168">validLifetime</a> &gt; 0)</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;      {</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;         <span class="comment">//Get the state of the current IPv6 address</span></div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;         state = <a class="code" href="../../dc/d33/ipv6__misc_8c.html#ac635994871aa4238959d1c9488c5c486">ipv6GetAddrState</a>(interface, &amp;entry-&gt;<a class="code" href="../../de/d95/structDhcpv6ClientAddrEntry.html#a3f15eb3e64b43ca99e49e090d3c0eb72">addr</a>);</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;         <span class="comment">//Duplicate Address Detection in progress?</span></div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;         <span class="keywordflow">if</span>(state == <a class="code" href="../../d3/ddd/ipv6_8h.html#acb54c5e2b7ee1652f5bf055e14cc518dacb3152ea8c90d13a425042070b987fe6">IPV6_ADDR_STATE_TENTATIVE</a>)</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;         {</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;            <span class="comment">//Exit immediately</span></div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;         }</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;         <span class="comment">//Duplicate Address Detection failed?</span></div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;         <span class="keywordflow">else</span> <span class="keywordflow">if</span>(state == <a class="code" href="../../d3/ddd/ipv6_8h.html#acb54c5e2b7ee1652f5bf055e14cc518dabdf9e5bbd4cc04a803d6e63cc9992ebb">IPV6_ADDR_STATE_INVALID</a>)</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;         {</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;            <span class="comment">//Switch to the DECLINE state</span></div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;            <a class="code" href="../../d6/d91/dhcpv6__client_8c.html#aafd32758fb24f5bc2267ad372f06545d">dhcpv6ClientChangeState</a>(context, <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a198862c17ecac221d19b82f793b5fff8">DHCPV6_STATE_DECLINE</a>, 0);</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;            <span class="comment">//Exit immediately</span></div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;         }</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;      }</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;   }</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;   <span class="comment">//Dump current DHCPv6 configuration for debugging purpose</span></div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;   <a class="code" href="../../d6/d91/dhcpv6__client_8c.html#a883f4820eaaff34776c31c99c300e3ef">dhcpv6ClientDumpConfig</a>(context);</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;   <span class="comment">//Switch to the BOUND state</span></div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;   <a class="code" href="../../d6/d91/dhcpv6__client_8c.html#aafd32758fb24f5bc2267ad372f06545d">dhcpv6ClientChangeState</a>(context, <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a49b5f6fffcbc5e9dadbe07ebe2d29535">DHCPV6_STATE_BOUND</a>, 0);</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;}</div><div class="ttc" id="ipv6__misc_8c_html_ac635994871aa4238959d1c9488c5c486"><div class="ttname"><a href="../../dc/d33/ipv6__misc_8c.html#ac635994871aa4238959d1c9488c5c486">ipv6GetAddrState</a></div><div class="ttdeci">Ipv6AddrState ipv6GetAddrState(NetInterface *interface, const Ipv6Addr *addr)</div><div class="ttdoc">Get the state of the specified IPv6 address. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d33/ipv6__misc_8c_source.html#l00055">ipv6_misc.c:55</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_a50daf16fa24e452127eef9a801d8f576"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a50daf16fa24e452127eef9a801d8f576">DHCPV6_CLIENT_ADDR_LIST_SIZE</a></div><div class="ttdeci">#define DHCPV6_CLIENT_ADDR_LIST_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00054">dhcpv6_client.h:54</a></div></div>
<div class="ttc" id="dhcpv6__client_8c_html_a883f4820eaaff34776c31c99c300e3ef"><div class="ttname"><a href="../../d6/d91/dhcpv6__client_8c.html#a883f4820eaaff34776c31c99c300e3ef">dhcpv6ClientDumpConfig</a></div><div class="ttdeci">void dhcpv6ClientDumpConfig(Dhcpv6ClientContext *context)</div><div class="ttdoc">Dump DHCPv6 configuration for debugging purpose. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d91/dhcpv6__client_8c_source.html#l02572">dhcpv6_client.c:2572</a></div></div>
<div class="ttc" id="dhcpv6__client_8c_html_aafd32758fb24f5bc2267ad372f06545d"><div class="ttname"><a href="../../d6/d91/dhcpv6__client_8c.html#aafd32758fb24f5bc2267ad372f06545d">dhcpv6ClientChangeState</a></div><div class="ttdeci">void dhcpv6ClientChangeState(Dhcpv6ClientContext *context, Dhcpv6State newState, systime_t delay)</div><div class="ttdoc">Update DHCPv6 FSM state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d91/dhcpv6__client_8c_source.html#l02506">dhcpv6_client.c:2506</a></div></div>
<div class="ttc" id="structDhcpv6ClientAddrEntry_html_a3f15eb3e64b43ca99e49e090d3c0eb72"><div class="ttname"><a href="../../de/d95/structDhcpv6ClientAddrEntry.html#a3f15eb3e64b43ca99e49e090d3c0eb72">Dhcpv6ClientAddrEntry::addr</a></div><div class="ttdeci">Ipv6Addr addr</div><div class="ttdoc">IPv6 address. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00303">dhcpv6_client.h:303</a></div></div>
<div class="ttc" id="ipv6_8h_html_acb54c5e2b7ee1652f5bf055e14cc518dabdf9e5bbd4cc04a803d6e63cc9992ebb"><div class="ttname"><a href="../../d3/ddd/ipv6_8h.html#acb54c5e2b7ee1652f5bf055e14cc518dabdf9e5bbd4cc04a803d6e63cc9992ebb">IPV6_ADDR_STATE_INVALID</a></div><div class="ttdoc">An address that is not assigned to any interface. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/ddd/ipv6_8h_source.html#l00171">ipv6.h:171</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_a8610bfd009af9756638a193136ef93f9a49b5f6fffcbc5e9dadbe07ebe2d29535"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a49b5f6fffcbc5e9dadbe07ebe2d29535">DHCPV6_STATE_BOUND</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00249">dhcpv6_client.h:249</a></div></div>
<div class="ttc" id="ipv6_8h_html_acb54c5e2b7ee1652f5bf055e14cc518d"><div class="ttname"><a href="../../d3/ddd/ipv6_8h.html#acb54c5e2b7ee1652f5bf055e14cc518d">Ipv6AddrState</a></div><div class="ttdeci">Ipv6AddrState</div><div class="ttdoc">IPv6 address state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/ddd/ipv6_8h_source.html#l00169">ipv6.h:169</a></div></div>
<div class="ttc" id="structDhcpv6ClientAddrEntry_html"><div class="ttname"><a href="../../de/d95/structDhcpv6ClientAddrEntry.html">Dhcpv6ClientAddrEntry</a></div><div class="ttdoc">IA address entry. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00301">dhcpv6_client.h:301</a></div></div>
<div class="ttc" id="compiler__port_8h_html_a12a1e9b3ce141648783a82445d02b58d"><div class="ttname"><a href="../../d1/dfa/compiler__port_8h.html#a12a1e9b3ce141648783a82445d02b58d">uint_t</a></div><div class="ttdeci">unsigned int uint_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dfa/compiler__port_8h_source.html#l00045">compiler_port.h:45</a></div></div>
<div class="ttc" id="net_8h_html_a2234db8911a1148c9159979d8f5e0d6b"><div class="ttname"><a href="../../d7/d97/net_8h.html#a2234db8911a1148c9159979d8f5e0d6b">NetInterface</a></div><div class="ttdeci">#define NetInterface</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d97/net_8h_source.html#l00036">net.h:36</a></div></div>
<div class="ttc" id="structDhcpv6ClientAddrEntry_html_a975d3431d046a9dadc2e6a6594a09168"><div class="ttname"><a href="../../de/d95/structDhcpv6ClientAddrEntry.html#a975d3431d046a9dadc2e6a6594a09168">Dhcpv6ClientAddrEntry::validLifetime</a></div><div class="ttdeci">uint32_t validLifetime</div><div class="ttdoc">Valid lifetime. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00304">dhcpv6_client.h:304</a></div></div>
<div class="ttc" id="ipv6_8h_html_acb54c5e2b7ee1652f5bf055e14cc518dacb3152ea8c90d13a425042070b987fe6"><div class="ttname"><a href="../../d3/ddd/ipv6_8h.html#acb54c5e2b7ee1652f5bf055e14cc518dacb3152ea8c90d13a425042070b987fe6">IPV6_ADDR_STATE_TENTATIVE</a></div><div class="ttdoc">An address whose uniqueness on a link is being verified. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/ddd/ipv6_8h_source.html#l00172">ipv6.h:172</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_a8610bfd009af9756638a193136ef93f9a198862c17ecac221d19b82f793b5fff8"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a198862c17ecac221d19b82f793b5fff8">DHCPV6_STATE_DECLINE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00253">dhcpv6_client.h:253</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a270893a7e759dc1cbbdbf29e4fabd653"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a270893a7e759dc1cbbdbf29e4fabd653">&#9670;&nbsp;</a></span>dhcpv6ClientStateDecline()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dhcpv6ClientStateDecline </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#aac4eb11915c8cf98cce890c9d0270c9b">Dhcpv6ClientContext</a> *&#160;</td>
          <td class="paramname"><em>context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>DECLINE state. </p>
<p>If a client detects that one or more addresses assigned to it by a server are already in use by another node, the client sends a Decline message to the server to inform it that the address is suspect</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>Pointer to the DHCPv6 client context </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d6/d91/dhcpv6__client_8c_source.html#l01183">1183</a> of file <a class="el" href="../../d6/d91/dhcpv6__client_8c_source.html">dhcpv6_client.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;{</div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;   <a class="code" href="../../d1/dfa/compiler__port_8h.html#ae3e32a98d431a02106616da3071832dd">systime_t</a> <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#ae73654f333e4363463ad8c594eca1905">time</a>;</div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;</div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;   <span class="comment">//Get current time</span></div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;   time = <a class="code" href="../../dd/d0d/os__port__chibios_8c.html#ab66a11272d40a916fa69dd8e4dc443d4">osGetSystemTime</a>();</div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;</div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;   <span class="comment">//Check current time</span></div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;   <span class="keywordflow">if</span>(<a class="code" href="../../da/d42/os__port_8h.html#a25c13833ef003da02045a91b1080263a">timeCompare</a>(time, context-&gt;timestamp + context-&gt;timeout) &gt;= 0)</div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;   {</div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;      <span class="comment">//Check retransmission counter</span></div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;      <span class="keywordflow">if</span>(context-&gt;retransmitCount == 0)</div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;      {</div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;         <span class="comment">//Generate a 24-bit transaction ID</span></div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;         context-&gt;transactionId = <a class="code" href="../../d7/d5f/net_8c.html#a7bb00b31d641749ac8ce742261eb1f6d">netGetRand</a>() &amp; 0x00FFFFFF;</div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;</div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;         <span class="comment">//Send a Decline message</span></div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;         <a class="code" href="../../d6/d91/dhcpv6__client_8c.html#ac17d0545676651d297bedbd242ab2289">dhcpv6ClientSendMessage</a>(context, <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#aeca9d54a4001e239844ff0245aaedf6ca831bfe9d5e4626e44a7c3e3a432f2ffc">DHCPV6_MSG_TYPE_DECLINE</a>);</div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;</div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;         <span class="comment">//Save the time at which the message was sent</span></div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;         context-&gt;exchangeStartTime = <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#ae73654f333e4363463ad8c594eca1905">time</a>;</div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;         context-&gt;timestamp = <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#ae73654f333e4363463ad8c594eca1905">time</a>;</div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;</div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;         <span class="comment">//Initial retransmission timeout</span></div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;         context-&gt;timeout = <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a8710d99a8e41194acd5c8d086ffbbf47">DHCPV6_CLIENT_DEC_TIMEOUT</a> +</div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;            <a class="code" href="../../dc/ded/dhcpv6__common_8c.html#ae04cea0e44f0c28da17198d59517ac10">dhcpv6Rand</a>(<a class="code" href="../../df/d84/dhcpv6__client_8h.html#a8710d99a8e41194acd5c8d086ffbbf47">DHCPV6_CLIENT_DEC_TIMEOUT</a>);</div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;</div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;         <span class="comment">//Increment retransmission counter</span></div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;         context-&gt;retransmitCount++;</div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;      }</div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span>(context-&gt;retransmitCount &lt; <a class="code" href="../../df/d84/dhcpv6__client_8h.html#aad03fb5c71f075424c37c48318c343c2">DHCPV6_CLIENT_DEC_MAX_RC</a>)</div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;      {</div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;         <span class="comment">//Send a Decline message</span></div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;         <a class="code" href="../../d6/d91/dhcpv6__client_8c.html#ac17d0545676651d297bedbd242ab2289">dhcpv6ClientSendMessage</a>(context, <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#aeca9d54a4001e239844ff0245aaedf6ca831bfe9d5e4626e44a7c3e3a432f2ffc">DHCPV6_MSG_TYPE_DECLINE</a>);</div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;</div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;         <span class="comment">//Save the time at which the message was sent</span></div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;         context-&gt;timestamp = <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#ae73654f333e4363463ad8c594eca1905">time</a>;</div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;</div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;         <span class="comment">//The RT is doubled for each subsequent retransmission</span></div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;         context-&gt;timeout = context-&gt;timeout * 2 + <a class="code" href="../../dc/ded/dhcpv6__common_8c.html#ae04cea0e44f0c28da17198d59517ac10">dhcpv6Rand</a>(context-&gt;timeout);</div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;</div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;         <span class="comment">//Increment retransmission counter</span></div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;         context-&gt;retransmitCount++;</div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;      }</div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;      {</div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;         <span class="comment">//If the client does not receive a response within a reasonable</span></div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;         <span class="comment">//period of time, then it restarts the initialization procedure</span></div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;         <a class="code" href="../../d6/d91/dhcpv6__client_8c.html#aafd32758fb24f5bc2267ad372f06545d">dhcpv6ClientChangeState</a>(context, <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a017951020877623ce2220289f5c93025">DHCPV6_STATE_INIT</a>, 0);</div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;      }</div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;   }</div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;}</div><div class="ttc" id="dhcpv6__client_8c_html_ac17d0545676651d297bedbd242ab2289"><div class="ttname"><a href="../../d6/d91/dhcpv6__client_8c.html#ac17d0545676651d297bedbd242ab2289">dhcpv6ClientSendMessage</a></div><div class="ttdeci">error_t dhcpv6ClientSendMessage(Dhcpv6ClientContext *context, Dhcpv6MessageType type)</div><div class="ttdoc">Send Solicit message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d91/dhcpv6__client_8c_source.html#l01244">dhcpv6_client.c:1244</a></div></div>
<div class="ttc" id="compiler__port_8h_html_ae3e32a98d431a02106616da3071832dd"><div class="ttname"><a href="../../d1/dfa/compiler__port_8h.html#ae3e32a98d431a02106616da3071832dd">systime_t</a></div><div class="ttdeci">uint32_t systime_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dfa/compiler__port_8h_source.html#l00046">compiler_port.h:46</a></div></div>
<div class="ttc" id="os__port_8h_html_a25c13833ef003da02045a91b1080263a"><div class="ttname"><a href="../../da/d42/os__port_8h.html#a25c13833ef003da02045a91b1080263a">timeCompare</a></div><div class="ttdeci">#define timeCompare(t1, t2)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d42/os__port_8h_source.html#l00042">os_port.h:42</a></div></div>
<div class="ttc" id="os__port__chibios_8c_html_ab66a11272d40a916fa69dd8e4dc443d4"><div class="ttname"><a href="../../dd/d0d/os__port__chibios_8c.html#ab66a11272d40a916fa69dd8e4dc443d4">osGetSystemTime</a></div><div class="ttdeci">systime_t osGetSystemTime(void)</div><div class="ttdoc">Retrieve system time. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d0d/os__port__chibios_8c_source.html#l00490">os_port_chibios.c:490</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_ae73654f333e4363463ad8c594eca1905"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#ae73654f333e4363463ad8c594eca1905">time</a></div><div class="ttdeci">uint32_t time</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddf/dhcpv6__common_8h_source.html#l00169">dhcpv6_common.h:169</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_aeca9d54a4001e239844ff0245aaedf6ca831bfe9d5e4626e44a7c3e3a432f2ffc"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#aeca9d54a4001e239844ff0245aaedf6ca831bfe9d5e4626e44a7c3e3a432f2ffc">DHCPV6_MSG_TYPE_DECLINE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddf/dhcpv6__common_8h_source.html#l00098">dhcpv6_common.h:98</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_a8710d99a8e41194acd5c8d086ffbbf47"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a8710d99a8e41194acd5c8d086ffbbf47">DHCPV6_CLIENT_DEC_TIMEOUT</a></div><div class="ttdeci">#define DHCPV6_CLIENT_DEC_TIMEOUT</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00201">dhcpv6_client.h:201</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_aad03fb5c71f075424c37c48318c343c2"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#aad03fb5c71f075424c37c48318c343c2">DHCPV6_CLIENT_DEC_MAX_RC</a></div><div class="ttdeci">#define DHCPV6_CLIENT_DEC_MAX_RC</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00208">dhcpv6_client.h:208</a></div></div>
<div class="ttc" id="dhcpv6__common_8c_html_ae04cea0e44f0c28da17198d59517ac10"><div class="ttname"><a href="../../dc/ded/dhcpv6__common_8c.html#ae04cea0e44f0c28da17198d59517ac10">dhcpv6Rand</a></div><div class="ttdeci">int32_t dhcpv6Rand(int32_t value)</div><div class="ttdoc">Multiplication by a randomization factor. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/ded/dhcpv6__common_8c_source.html#l00250">dhcpv6_common.c:250</a></div></div>
<div class="ttc" id="dhcpv6__client_8c_html_aafd32758fb24f5bc2267ad372f06545d"><div class="ttname"><a href="../../d6/d91/dhcpv6__client_8c.html#aafd32758fb24f5bc2267ad372f06545d">dhcpv6ClientChangeState</a></div><div class="ttdeci">void dhcpv6ClientChangeState(Dhcpv6ClientContext *context, Dhcpv6State newState, systime_t delay)</div><div class="ttdoc">Update DHCPv6 FSM state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d91/dhcpv6__client_8c_source.html#l02506">dhcpv6_client.c:2506</a></div></div>
<div class="ttc" id="net_8c_html_a7bb00b31d641749ac8ce742261eb1f6d"><div class="ttname"><a href="../../d7/d5f/net_8c.html#a7bb00b31d641749ac8ce742261eb1f6d">netGetRand</a></div><div class="ttdeci">uint32_t netGetRand(void)</div><div class="ttdoc">Get a random value. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/net_8c_source.html#l01811">net.c:1811</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_a8610bfd009af9756638a193136ef93f9a017951020877623ce2220289f5c93025"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a017951020877623ce2220289f5c93025">DHCPV6_STATE_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00243">dhcpv6_client.h:243</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3a68a2c66db4634e60cf22402db2d1c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a68a2c66db4634e60cf22402db2d1c8">&#9670;&nbsp;</a></span>dhcpv6ClientStateInit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dhcpv6ClientStateInit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#aac4eb11915c8cf98cce890c9d0270c9b">Dhcpv6ClientContext</a> *&#160;</td>
          <td class="paramname"><em>context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>INIT state. </p>
<p>This is the initialization state, where a client begins the process of acquiring a lease. It also returns here when a lease ends, or when a lease negotiation fails</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>Pointer to the DHCPv6 client context </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d6/d91/dhcpv6__client_8c_source.html#l00513">513</a> of file <a class="el" href="../../d6/d91/dhcpv6__client_8c_source.html">dhcpv6_client.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;{</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;   <a class="code" href="../../d1/dfa/compiler__port_8h.html#ae3e32a98d431a02106616da3071832dd">systime_t</a> delay;</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;   <a class="code" href="../../d7/d97/net_8h.html#a2234db8911a1148c9159979d8f5e0d6b">NetInterface</a> *interface;</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;   <span class="comment">//Point to the underlying network interface</span></div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;   <span class="keyword">interface </span>= context-&gt;settings.interface;</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;   <span class="comment">//Check whether the DHCPv6 client is running</span></div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;   <span class="keywordflow">if</span>(context-&gt;running)</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;   {</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;      <span class="comment">//Wait for the link to be up before starting DHCPv6 configuration</span></div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;      <span class="keywordflow">if</span>(interface-&gt;linkState)</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;      {</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;         <span class="comment">//Make sure that a valid link-local address has been assigned to the interface</span></div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;         <span class="keywordflow">if</span>(<a class="code" href="../../d3/ddd/ipv6_8h.html#a0650f6186ad38b49662420902ae208ea">ipv6GetLinkLocalAddrState</a>(interface) == <a class="code" href="../../d3/ddd/ipv6_8h.html#acb54c5e2b7ee1652f5bf055e14cc518daaa3a0ce422a678d8eb14a36f4c642d16">IPV6_ADDR_STATE_PREFERRED</a>)</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;         {</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;            <span class="comment">//Flush the list of IPv6 addresses from the client&#39;s IA</span></div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;            <a class="code" href="../../d6/d91/dhcpv6__client_8c.html#ab03f421bf4324e1426814302b4ef320a">dhcpv6ClientFlushAddrList</a>(context);</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;            <span class="comment">//The first Solicit message from the client on the interface must be</span></div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;            <span class="comment">//delayed by a random amount of time between 0 and SOL_MAX_DELAY</span></div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;            delay = <a class="code" href="../../dc/ded/dhcpv6__common_8c.html#ac3da027b4816200bf97e015db9e2f512">dhcpv6RandRange</a>(0, <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a31be3a90bd2cbf05e3a9fa5d9a7e4714">DHCPV6_CLIENT_SOL_MAX_DELAY</a>);</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;            <span class="comment">//Record the time at which the client started</span></div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;            <span class="comment">//the address acquisition process</span></div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;            context-&gt;configStartTime = <a class="code" href="../../dd/d0d/os__port__chibios_8c.html#ab66a11272d40a916fa69dd8e4dc443d4">osGetSystemTime</a>();</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;            <span class="comment">//Clear flag</span></div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;            context-&gt;timeoutEventDone = <a class="code" href="../../da/d42/os__port_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;            <span class="comment">//Switch to the SOLICIT state</span></div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;            <a class="code" href="../../d6/d91/dhcpv6__client_8c.html#aafd32758fb24f5bc2267ad372f06545d">dhcpv6ClientChangeState</a>(context, <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a7bc292bbd95a3839b42102e4f5a57e59">DHCPV6_STATE_SOLICIT</a>, delay);</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;         }</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;      }</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;   }</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;}</div><div class="ttc" id="compiler__port_8h_html_ae3e32a98d431a02106616da3071832dd"><div class="ttname"><a href="../../d1/dfa/compiler__port_8h.html#ae3e32a98d431a02106616da3071832dd">systime_t</a></div><div class="ttdeci">uint32_t systime_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dfa/compiler__port_8h_source.html#l00046">compiler_port.h:46</a></div></div>
<div class="ttc" id="ipv6_8h_html_a0650f6186ad38b49662420902ae208ea"><div class="ttname"><a href="../../d3/ddd/ipv6_8h.html#a0650f6186ad38b49662420902ae208ea">ipv6GetLinkLocalAddrState</a></div><div class="ttdeci">#define ipv6GetLinkLocalAddrState(interface)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/ddd/ipv6_8h_source.html#l00141">ipv6.h:141</a></div></div>
<div class="ttc" id="os__port__chibios_8c_html_ab66a11272d40a916fa69dd8e4dc443d4"><div class="ttname"><a href="../../dd/d0d/os__port__chibios_8c.html#ab66a11272d40a916fa69dd8e4dc443d4">osGetSystemTime</a></div><div class="ttdeci">systime_t osGetSystemTime(void)</div><div class="ttdoc">Retrieve system time. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d0d/os__port__chibios_8c_source.html#l00490">os_port_chibios.c:490</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_a8610bfd009af9756638a193136ef93f9a7bc292bbd95a3839b42102e4f5a57e59"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a7bc292bbd95a3839b42102e4f5a57e59">DHCPV6_STATE_SOLICIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00244">dhcpv6_client.h:244</a></div></div>
<div class="ttc" id="dhcpv6__common_8c_html_ac3da027b4816200bf97e015db9e2f512"><div class="ttname"><a href="../../dc/ded/dhcpv6__common_8c.html#ac3da027b4816200bf97e015db9e2f512">dhcpv6RandRange</a></div><div class="ttdeci">int32_t dhcpv6RandRange(int32_t min, int32_t max)</div><div class="ttdoc">Get a random value in the specified range. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/ded/dhcpv6__common_8c_source.html#l00265">dhcpv6_common.c:265</a></div></div>
<div class="ttc" id="dhcpv6__client_8c_html_aafd32758fb24f5bc2267ad372f06545d"><div class="ttname"><a href="../../d6/d91/dhcpv6__client_8c.html#aafd32758fb24f5bc2267ad372f06545d">dhcpv6ClientChangeState</a></div><div class="ttdeci">void dhcpv6ClientChangeState(Dhcpv6ClientContext *context, Dhcpv6State newState, systime_t delay)</div><div class="ttdoc">Update DHCPv6 FSM state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d91/dhcpv6__client_8c_source.html#l02506">dhcpv6_client.c:2506</a></div></div>
<div class="ttc" id="dhcpv6__client_8c_html_ab03f421bf4324e1426814302b4ef320a"><div class="ttname"><a href="../../d6/d91/dhcpv6__client_8c.html#ab03f421bf4324e1426814302b4ef320a">dhcpv6ClientFlushAddrList</a></div><div class="ttdeci">void dhcpv6ClientFlushAddrList(Dhcpv6ClientContext *context)</div><div class="ttdoc">Flush the list of IPv6 addresses from the IA. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d91/dhcpv6__client_8c_source.html#l02248">dhcpv6_client.c:2248</a></div></div>
<div class="ttc" id="ipv6_8h_html_acb54c5e2b7ee1652f5bf055e14cc518daaa3a0ce422a678d8eb14a36f4c642d16"><div class="ttname"><a href="../../d3/ddd/ipv6_8h.html#acb54c5e2b7ee1652f5bf055e14cc518daaa3a0ce422a678d8eb14a36f4c642d16">IPV6_ADDR_STATE_PREFERRED</a></div><div class="ttdoc">An address assigned to an interface whose use is unrestricted. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/ddd/ipv6_8h_source.html#l00173">ipv6.h:173</a></div></div>
<div class="ttc" id="net_8h_html_a2234db8911a1148c9159979d8f5e0d6b"><div class="ttname"><a href="../../d7/d97/net_8h.html#a2234db8911a1148c9159979d8f5e0d6b">NetInterface</a></div><div class="ttdeci">#define NetInterface</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d97/net_8h_source.html#l00036">net.h:36</a></div></div>
<div class="ttc" id="os__port_8h_html_aa93f0eb578d23995850d61f7d61c55c1"><div class="ttname"><a href="../../da/d42/os__port_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></div><div class="ttdeci">#define FALSE</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d42/os__port_8h_source.html#l00046">os_port.h:46</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_a31be3a90bd2cbf05e3a9fa5d9a7e4714"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a31be3a90bd2cbf05e3a9fa5d9a7e4714">DHCPV6_CLIENT_SOL_MAX_DELAY</a></div><div class="ttdeci">#define DHCPV6_CLIENT_SOL_MAX_DELAY</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00068">dhcpv6_client.h:68</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="acc0bcc17a308c4015f93d1413efe6cdc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc0bcc17a308c4015f93d1413efe6cdc">&#9670;&nbsp;</a></span>dhcpv6ClientStateInitConfirm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dhcpv6ClientStateInitConfirm </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#aac4eb11915c8cf98cce890c9d0270c9b">Dhcpv6ClientContext</a> *&#160;</td>
          <td class="paramname"><em>context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>INIT-CONFIRM state. </p>
<p>When a client that already has a valid lease starts up after a power-down or reboot, it starts here instead of the INIT state</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>Pointer to the DHCPv6 client context </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d6/d91/dhcpv6__client_8c_source.html#l00715">715</a> of file <a class="el" href="../../d6/d91/dhcpv6__client_8c_source.html">dhcpv6_client.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;{</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;   <a class="code" href="../../d1/dfa/compiler__port_8h.html#ae3e32a98d431a02106616da3071832dd">systime_t</a> delay;</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;   <a class="code" href="../../d7/d97/net_8h.html#a2234db8911a1148c9159979d8f5e0d6b">NetInterface</a> *interface;</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;   <span class="comment">//Point to the underlying network interface</span></div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;   <span class="keyword">interface </span>= context-&gt;settings.interface;</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;   <span class="comment">//Check whether the DHCPv6 client is running</span></div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;   <span class="keywordflow">if</span>(context-&gt;running)</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;   {</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;      <span class="comment">//Wait for the link to be up before starting DHCPv6 configuration</span></div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;      <span class="keywordflow">if</span>(interface-&gt;linkState)</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;      {</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;         <span class="comment">//Make sure that a valid link-local address has been assigned to the interface</span></div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;         <span class="keywordflow">if</span>(<a class="code" href="../../d3/ddd/ipv6_8h.html#a0650f6186ad38b49662420902ae208ea">ipv6GetLinkLocalAddrState</a>(interface) == <a class="code" href="../../d3/ddd/ipv6_8h.html#acb54c5e2b7ee1652f5bf055e14cc518daaa3a0ce422a678d8eb14a36f4c642d16">IPV6_ADDR_STATE_PREFERRED</a>)</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;         {</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;            <span class="comment">//The first Confirm message from the client on the interface must be</span></div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;            <span class="comment">//delayed by a random amount of time between 0 and CNF_MAX_DELAY</span></div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;            delay = <a class="code" href="../../dc/ded/dhcpv6__common_8c.html#ac3da027b4816200bf97e015db9e2f512">dhcpv6RandRange</a>(0, <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a22a23d86625b9e5368c705b81bcff699">DHCPV6_CLIENT_CNF_MAX_DELAY</a>);</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;            <span class="comment">//Record the time at which the client started</span></div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;            <span class="comment">//the address acquisition process</span></div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;            context-&gt;configStartTime = <a class="code" href="../../dd/d0d/os__port__chibios_8c.html#ab66a11272d40a916fa69dd8e4dc443d4">osGetSystemTime</a>();</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;            <span class="comment">//Clear flag</span></div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;            context-&gt;timeoutEventDone = <a class="code" href="../../da/d42/os__port_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;            <span class="comment">//Switch to the CONFIRM state</span></div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;            <a class="code" href="../../d6/d91/dhcpv6__client_8c.html#aafd32758fb24f5bc2267ad372f06545d">dhcpv6ClientChangeState</a>(context, <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9ac0f1f4819e62f2979a26a3654af7e2fc">DHCPV6_STATE_CONFIRM</a>, delay);</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;         }</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;      }</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;   }</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;}</div><div class="ttc" id="compiler__port_8h_html_ae3e32a98d431a02106616da3071832dd"><div class="ttname"><a href="../../d1/dfa/compiler__port_8h.html#ae3e32a98d431a02106616da3071832dd">systime_t</a></div><div class="ttdeci">uint32_t systime_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dfa/compiler__port_8h_source.html#l00046">compiler_port.h:46</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_a22a23d86625b9e5368c705b81bcff699"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a22a23d86625b9e5368c705b81bcff699">DHCPV6_CLIENT_CNF_MAX_DELAY</a></div><div class="ttdeci">#define DHCPV6_CLIENT_CNF_MAX_DELAY</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00110">dhcpv6_client.h:110</a></div></div>
<div class="ttc" id="ipv6_8h_html_a0650f6186ad38b49662420902ae208ea"><div class="ttname"><a href="../../d3/ddd/ipv6_8h.html#a0650f6186ad38b49662420902ae208ea">ipv6GetLinkLocalAddrState</a></div><div class="ttdeci">#define ipv6GetLinkLocalAddrState(interface)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/ddd/ipv6_8h_source.html#l00141">ipv6.h:141</a></div></div>
<div class="ttc" id="os__port__chibios_8c_html_ab66a11272d40a916fa69dd8e4dc443d4"><div class="ttname"><a href="../../dd/d0d/os__port__chibios_8c.html#ab66a11272d40a916fa69dd8e4dc443d4">osGetSystemTime</a></div><div class="ttdeci">systime_t osGetSystemTime(void)</div><div class="ttdoc">Retrieve system time. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d0d/os__port__chibios_8c_source.html#l00490">os_port_chibios.c:490</a></div></div>
<div class="ttc" id="dhcpv6__common_8c_html_ac3da027b4816200bf97e015db9e2f512"><div class="ttname"><a href="../../dc/ded/dhcpv6__common_8c.html#ac3da027b4816200bf97e015db9e2f512">dhcpv6RandRange</a></div><div class="ttdeci">int32_t dhcpv6RandRange(int32_t min, int32_t max)</div><div class="ttdoc">Get a random value in the specified range. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/ded/dhcpv6__common_8c_source.html#l00265">dhcpv6_common.c:265</a></div></div>
<div class="ttc" id="dhcpv6__client_8c_html_aafd32758fb24f5bc2267ad372f06545d"><div class="ttname"><a href="../../d6/d91/dhcpv6__client_8c.html#aafd32758fb24f5bc2267ad372f06545d">dhcpv6ClientChangeState</a></div><div class="ttdeci">void dhcpv6ClientChangeState(Dhcpv6ClientContext *context, Dhcpv6State newState, systime_t delay)</div><div class="ttdoc">Update DHCPv6 FSM state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d91/dhcpv6__client_8c_source.html#l02506">dhcpv6_client.c:2506</a></div></div>
<div class="ttc" id="ipv6_8h_html_acb54c5e2b7ee1652f5bf055e14cc518daaa3a0ce422a678d8eb14a36f4c642d16"><div class="ttname"><a href="../../d3/ddd/ipv6_8h.html#acb54c5e2b7ee1652f5bf055e14cc518daaa3a0ce422a678d8eb14a36f4c642d16">IPV6_ADDR_STATE_PREFERRED</a></div><div class="ttdoc">An address assigned to an interface whose use is unrestricted. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/ddd/ipv6_8h_source.html#l00173">ipv6.h:173</a></div></div>
<div class="ttc" id="net_8h_html_a2234db8911a1148c9159979d8f5e0d6b"><div class="ttname"><a href="../../d7/d97/net_8h.html#a2234db8911a1148c9159979d8f5e0d6b">NetInterface</a></div><div class="ttdeci">#define NetInterface</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d97/net_8h_source.html#l00036">net.h:36</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_a8610bfd009af9756638a193136ef93f9ac0f1f4819e62f2979a26a3654af7e2fc"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9ac0f1f4819e62f2979a26a3654af7e2fc">DHCPV6_STATE_CONFIRM</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00247">dhcpv6_client.h:247</a></div></div>
<div class="ttc" id="os__port_8h_html_aa93f0eb578d23995850d61f7d61c55c1"><div class="ttname"><a href="../../da/d42/os__port_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></div><div class="ttdeci">#define FALSE</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d42/os__port_8h_source.html#l00046">os_port.h:46</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a09565760718a3fd8534b6213870106c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09565760718a3fd8534b6213870106c5">&#9670;&nbsp;</a></span>dhcpv6ClientStateRebind()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dhcpv6ClientStateRebind </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#aac4eb11915c8cf98cce890c9d0270c9b">Dhcpv6ClientContext</a> *&#160;</td>
          <td class="paramname"><em>context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>REBIND state. </p>
<p>The client sends a Rebind message to any available server to extend the lifetimes on the addresses assigned to the client and to update other configuration parameters. This message is sent after a client receives no response to a Renew message</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>Pointer to the DHCPv6 client context </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d6/d91/dhcpv6__client_8c_source.html#l01028">1028</a> of file <a class="el" href="../../d6/d91/dhcpv6__client_8c_source.html">dhcpv6_client.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;{</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;   <a class="code" href="../../d1/dfa/compiler__port_8h.html#a12a1e9b3ce141648783a82445d02b58d">uint_t</a> i;</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;   <a class="code" href="../../d1/dfa/compiler__port_8h.html#ae3e32a98d431a02106616da3071832dd">systime_t</a> <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#ae73654f333e4363463ad8c594eca1905">time</a>;</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;   <a class="code" href="../../d7/d97/net_8h.html#a2234db8911a1148c9159979d8f5e0d6b">NetInterface</a> *interface;</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;   <a class="code" href="../../de/d95/structDhcpv6ClientAddrEntry.html">Dhcpv6ClientAddrEntry</a> *entry;</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;   <span class="comment">//Point to the underlying network interface</span></div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;   <span class="keyword">interface </span>= context-&gt;settings.interface;</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;   <span class="comment">//Get current time</span></div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;   time = <a class="code" href="../../dd/d0d/os__port__chibios_8c.html#ab66a11272d40a916fa69dd8e4dc443d4">osGetSystemTime</a>();</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;   <span class="comment">//Check current time</span></div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;   <span class="keywordflow">if</span>(<a class="code" href="../../da/d42/os__port_8h.html#a25c13833ef003da02045a91b1080263a">timeCompare</a>(time, context-&gt;timestamp + context-&gt;timeout) &gt;= 0)</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;   {</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;      <span class="comment">//Check retransmission counter</span></div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;      <span class="keywordflow">if</span>(context-&gt;retransmitCount == 0)</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;      {</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;         <span class="comment">//Generate a 24-bit transaction ID</span></div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;         context-&gt;transactionId = <a class="code" href="../../d7/d5f/net_8c.html#a7bb00b31d641749ac8ce742261eb1f6d">netGetRand</a>() &amp; 0x00FFFFFF;</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;         <span class="comment">//Send a Rebind message</span></div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;         <a class="code" href="../../d6/d91/dhcpv6__client_8c.html#ac17d0545676651d297bedbd242ab2289">dhcpv6ClientSendMessage</a>(context, <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#aeca9d54a4001e239844ff0245aaedf6ca97164d83c790095e8d84307ef58c2cf3">DHCPV6_MSG_TYPE_REBIND</a>);</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;         <span class="comment">//Save the time at which the message was sent</span></div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;         context-&gt;exchangeStartTime = <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#ae73654f333e4363463ad8c594eca1905">time</a>;</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;         context-&gt;timestamp = <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#ae73654f333e4363463ad8c594eca1905">time</a>;</div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;         <span class="comment">//Initial retransmission timeout</span></div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;         context-&gt;timeout = <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a78d5a54a62135ad6fd8c286b54d6b7ce">DHCPV6_CLIENT_REB_TIMEOUT</a> +</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;            <a class="code" href="../../dc/ded/dhcpv6__common_8c.html#ae04cea0e44f0c28da17198d59517ac10">dhcpv6Rand</a>(<a class="code" href="../../df/d84/dhcpv6__client_8h.html#a78d5a54a62135ad6fd8c286b54d6b7ce">DHCPV6_CLIENT_REB_TIMEOUT</a>);</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;      }</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;      {</div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;         <span class="comment">//Send a Rebind message</span></div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;         <a class="code" href="../../d6/d91/dhcpv6__client_8c.html#ac17d0545676651d297bedbd242ab2289">dhcpv6ClientSendMessage</a>(context, <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#aeca9d54a4001e239844ff0245aaedf6ca97164d83c790095e8d84307ef58c2cf3">DHCPV6_MSG_TYPE_REBIND</a>);</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;         <span class="comment">//Save the time at which the message was sent</span></div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;         context-&gt;timestamp = <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#ae73654f333e4363463ad8c594eca1905">time</a>;</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;         <span class="comment">//The RT is doubled for each subsequent retransmission</span></div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;         context-&gt;timeout = context-&gt;timeout * 2 + <a class="code" href="../../dc/ded/dhcpv6__common_8c.html#ae04cea0e44f0c28da17198d59517ac10">dhcpv6Rand</a>(context-&gt;timeout);</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;         <span class="comment">//MRT specifies an upper bound on the value of RT</span></div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;         <span class="keywordflow">if</span>(context-&gt;timeout &gt; <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a50f4069177062750355dcd9b3ee258d3">DHCPV6_CLIENT_REB_MAX_RT</a>)</div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;         {</div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;            <span class="comment">//Compute retransmission timeout</span></div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;            context-&gt;timeout = <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a50f4069177062750355dcd9b3ee258d3">DHCPV6_CLIENT_REB_MAX_RT</a> +</div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;               <a class="code" href="../../dc/ded/dhcpv6__common_8c.html#ae04cea0e44f0c28da17198d59517ac10">dhcpv6Rand</a>(<a class="code" href="../../df/d84/dhcpv6__client_8h.html#a50f4069177062750355dcd9b3ee258d3">DHCPV6_CLIENT_REB_MAX_RT</a>);</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;         }</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;      }</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;</div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;      <span class="comment">//Increment retransmission counter</span></div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;      context-&gt;retransmitCount++;</div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;   }</div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;   <span class="keywordflow">else</span></div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;   {</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;      <span class="comment">//Loop through the IPv6 addresses recorded by the DHCPv6 client</span></div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;      <span class="keywordflow">for</span>(i = 0; i &lt; <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a50daf16fa24e452127eef9a801d8f576">DHCPV6_CLIENT_ADDR_LIST_SIZE</a>; i++)</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;      {</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;         <span class="comment">//Point to the current entry</span></div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;         entry = &amp;context-&gt;ia.addrList[i];</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;         <span class="comment">//Valid IPv6 address?</span></div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;         <span class="keywordflow">if</span>(entry-&gt;<a class="code" href="../../de/d95/structDhcpv6ClientAddrEntry.html#a975d3431d046a9dadc2e6a6594a09168">validLifetime</a> &gt; 0)</div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;         {</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;            <span class="comment">//Check whether the valid lifetime has expired</span></div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;            <span class="keywordflow">if</span>(<a class="code" href="../../dc/d33/ipv6__misc_8c.html#ac635994871aa4238959d1c9488c5c486">ipv6GetAddrState</a>(interface, &amp;entry-&gt;<a class="code" href="../../de/d95/structDhcpv6ClientAddrEntry.html#a3f15eb3e64b43ca99e49e090d3c0eb72">addr</a>) == <a class="code" href="../../d3/ddd/ipv6_8h.html#acb54c5e2b7ee1652f5bf055e14cc518dabdf9e5bbd4cc04a803d6e63cc9992ebb">IPV6_ADDR_STATE_INVALID</a>)</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;            {</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;               <span class="comment">//Restart DHCPv6 configuration</span></div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;               <a class="code" href="../../d6/d91/dhcpv6__client_8c.html#aafd32758fb24f5bc2267ad372f06545d">dhcpv6ClientChangeState</a>(context, <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a017951020877623ce2220289f5c93025">DHCPV6_STATE_INIT</a>, 0);</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;            }</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;         }</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;      }</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;   }</div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;}</div><div class="ttc" id="dhcpv6__client_8c_html_ac17d0545676651d297bedbd242ab2289"><div class="ttname"><a href="../../d6/d91/dhcpv6__client_8c.html#ac17d0545676651d297bedbd242ab2289">dhcpv6ClientSendMessage</a></div><div class="ttdeci">error_t dhcpv6ClientSendMessage(Dhcpv6ClientContext *context, Dhcpv6MessageType type)</div><div class="ttdoc">Send Solicit message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d91/dhcpv6__client_8c_source.html#l01244">dhcpv6_client.c:1244</a></div></div>
<div class="ttc" id="ipv6__misc_8c_html_ac635994871aa4238959d1c9488c5c486"><div class="ttname"><a href="../../dc/d33/ipv6__misc_8c.html#ac635994871aa4238959d1c9488c5c486">ipv6GetAddrState</a></div><div class="ttdeci">Ipv6AddrState ipv6GetAddrState(NetInterface *interface, const Ipv6Addr *addr)</div><div class="ttdoc">Get the state of the specified IPv6 address. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d33/ipv6__misc_8c_source.html#l00055">ipv6_misc.c:55</a></div></div>
<div class="ttc" id="compiler__port_8h_html_ae3e32a98d431a02106616da3071832dd"><div class="ttname"><a href="../../d1/dfa/compiler__port_8h.html#ae3e32a98d431a02106616da3071832dd">systime_t</a></div><div class="ttdeci">uint32_t systime_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dfa/compiler__port_8h_source.html#l00046">compiler_port.h:46</a></div></div>
<div class="ttc" id="os__port_8h_html_a25c13833ef003da02045a91b1080263a"><div class="ttname"><a href="../../da/d42/os__port_8h.html#a25c13833ef003da02045a91b1080263a">timeCompare</a></div><div class="ttdeci">#define timeCompare(t1, t2)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d42/os__port_8h_source.html#l00042">os_port.h:42</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_a50daf16fa24e452127eef9a801d8f576"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a50daf16fa24e452127eef9a801d8f576">DHCPV6_CLIENT_ADDR_LIST_SIZE</a></div><div class="ttdeci">#define DHCPV6_CLIENT_ADDR_LIST_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00054">dhcpv6_client.h:54</a></div></div>
<div class="ttc" id="os__port__chibios_8c_html_ab66a11272d40a916fa69dd8e4dc443d4"><div class="ttname"><a href="../../dd/d0d/os__port__chibios_8c.html#ab66a11272d40a916fa69dd8e4dc443d4">osGetSystemTime</a></div><div class="ttdeci">systime_t osGetSystemTime(void)</div><div class="ttdoc">Retrieve system time. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d0d/os__port__chibios_8c_source.html#l00490">os_port_chibios.c:490</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_ae73654f333e4363463ad8c594eca1905"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#ae73654f333e4363463ad8c594eca1905">time</a></div><div class="ttdeci">uint32_t time</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddf/dhcpv6__common_8h_source.html#l00169">dhcpv6_common.h:169</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_a50f4069177062750355dcd9b3ee258d3"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a50f4069177062750355dcd9b3ee258d3">DHCPV6_CLIENT_REB_MAX_RT</a></div><div class="ttdeci">#define DHCPV6_CLIENT_REB_MAX_RT</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00159">dhcpv6_client.h:159</a></div></div>
<div class="ttc" id="dhcpv6__common_8c_html_ae04cea0e44f0c28da17198d59517ac10"><div class="ttname"><a href="../../dc/ded/dhcpv6__common_8c.html#ae04cea0e44f0c28da17198d59517ac10">dhcpv6Rand</a></div><div class="ttdeci">int32_t dhcpv6Rand(int32_t value)</div><div class="ttdoc">Multiplication by a randomization factor. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/ded/dhcpv6__common_8c_source.html#l00250">dhcpv6_common.c:250</a></div></div>
<div class="ttc" id="dhcpv6__client_8c_html_aafd32758fb24f5bc2267ad372f06545d"><div class="ttname"><a href="../../d6/d91/dhcpv6__client_8c.html#aafd32758fb24f5bc2267ad372f06545d">dhcpv6ClientChangeState</a></div><div class="ttdeci">void dhcpv6ClientChangeState(Dhcpv6ClientContext *context, Dhcpv6State newState, systime_t delay)</div><div class="ttdoc">Update DHCPv6 FSM state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d91/dhcpv6__client_8c_source.html#l02506">dhcpv6_client.c:2506</a></div></div>
<div class="ttc" id="structDhcpv6ClientAddrEntry_html_a3f15eb3e64b43ca99e49e090d3c0eb72"><div class="ttname"><a href="../../de/d95/structDhcpv6ClientAddrEntry.html#a3f15eb3e64b43ca99e49e090d3c0eb72">Dhcpv6ClientAddrEntry::addr</a></div><div class="ttdeci">Ipv6Addr addr</div><div class="ttdoc">IPv6 address. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00303">dhcpv6_client.h:303</a></div></div>
<div class="ttc" id="ipv6_8h_html_acb54c5e2b7ee1652f5bf055e14cc518dabdf9e5bbd4cc04a803d6e63cc9992ebb"><div class="ttname"><a href="../../d3/ddd/ipv6_8h.html#acb54c5e2b7ee1652f5bf055e14cc518dabdf9e5bbd4cc04a803d6e63cc9992ebb">IPV6_ADDR_STATE_INVALID</a></div><div class="ttdoc">An address that is not assigned to any interface. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/ddd/ipv6_8h_source.html#l00171">ipv6.h:171</a></div></div>
<div class="ttc" id="net_8c_html_a7bb00b31d641749ac8ce742261eb1f6d"><div class="ttname"><a href="../../d7/d5f/net_8c.html#a7bb00b31d641749ac8ce742261eb1f6d">netGetRand</a></div><div class="ttdeci">uint32_t netGetRand(void)</div><div class="ttdoc">Get a random value. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/net_8c_source.html#l01811">net.c:1811</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_a8610bfd009af9756638a193136ef93f9a017951020877623ce2220289f5c93025"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a017951020877623ce2220289f5c93025">DHCPV6_STATE_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00243">dhcpv6_client.h:243</a></div></div>
<div class="ttc" id="structDhcpv6ClientAddrEntry_html"><div class="ttname"><a href="../../de/d95/structDhcpv6ClientAddrEntry.html">Dhcpv6ClientAddrEntry</a></div><div class="ttdoc">IA address entry. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00301">dhcpv6_client.h:301</a></div></div>
<div class="ttc" id="compiler__port_8h_html_a12a1e9b3ce141648783a82445d02b58d"><div class="ttname"><a href="../../d1/dfa/compiler__port_8h.html#a12a1e9b3ce141648783a82445d02b58d">uint_t</a></div><div class="ttdeci">unsigned int uint_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dfa/compiler__port_8h_source.html#l00045">compiler_port.h:45</a></div></div>
<div class="ttc" id="net_8h_html_a2234db8911a1148c9159979d8f5e0d6b"><div class="ttname"><a href="../../d7/d97/net_8h.html#a2234db8911a1148c9159979d8f5e0d6b">NetInterface</a></div><div class="ttdeci">#define NetInterface</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d97/net_8h_source.html#l00036">net.h:36</a></div></div>
<div class="ttc" id="structDhcpv6ClientAddrEntry_html_a975d3431d046a9dadc2e6a6594a09168"><div class="ttname"><a href="../../de/d95/structDhcpv6ClientAddrEntry.html#a975d3431d046a9dadc2e6a6594a09168">Dhcpv6ClientAddrEntry::validLifetime</a></div><div class="ttdeci">uint32_t validLifetime</div><div class="ttdoc">Valid lifetime. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00304">dhcpv6_client.h:304</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_aeca9d54a4001e239844ff0245aaedf6ca97164d83c790095e8d84307ef58c2cf3"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#aeca9d54a4001e239844ff0245aaedf6ca97164d83c790095e8d84307ef58c2cf3">DHCPV6_MSG_TYPE_REBIND</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddf/dhcpv6__common_8h_source.html#l00095">dhcpv6_common.h:95</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_a78d5a54a62135ad6fd8c286b54d6b7ce"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a78d5a54a62135ad6fd8c286b54d6b7ce">DHCPV6_CLIENT_REB_TIMEOUT</a></div><div class="ttdeci">#define DHCPV6_CLIENT_REB_TIMEOUT</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00152">dhcpv6_client.h:152</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a471ff743a2f7f0ba114d24e21b094207"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a471ff743a2f7f0ba114d24e21b094207">&#9670;&nbsp;</a></span>dhcpv6ClientStateRelease()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dhcpv6ClientStateRelease </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#aac4eb11915c8cf98cce890c9d0270c9b">Dhcpv6ClientContext</a> *&#160;</td>
          <td class="paramname"><em>context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>RELEASE state. </p>
<p>To release one or more addresses, a client sends a Release message to the server</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>Pointer to the DHCPv6 client context </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d6/d91/dhcpv6__client_8c_source.html#l01116">1116</a> of file <a class="el" href="../../d6/d91/dhcpv6__client_8c_source.html">dhcpv6_client.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;{</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;   <a class="code" href="../../d1/dfa/compiler__port_8h.html#ae3e32a98d431a02106616da3071832dd">systime_t</a> <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#ae73654f333e4363463ad8c594eca1905">time</a>;</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;   <span class="comment">//Get current time</span></div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;   time = <a class="code" href="../../dd/d0d/os__port__chibios_8c.html#ab66a11272d40a916fa69dd8e4dc443d4">osGetSystemTime</a>();</div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;   <span class="comment">//Check current time</span></div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;   <span class="keywordflow">if</span>(<a class="code" href="../../da/d42/os__port_8h.html#a25c13833ef003da02045a91b1080263a">timeCompare</a>(time, context-&gt;timestamp + context-&gt;timeout) &gt;= 0)</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;   {</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;      <span class="comment">//Check retransmission counter</span></div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;      <span class="keywordflow">if</span>(context-&gt;retransmitCount == 0)</div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;      {</div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;         <span class="comment">//Generate a 24-bit transaction ID</span></div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;         context-&gt;transactionId = <a class="code" href="../../d7/d5f/net_8c.html#a7bb00b31d641749ac8ce742261eb1f6d">netGetRand</a>() &amp; 0x00FFFFFF;</div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;         <span class="comment">//Send a Release message</span></div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;         <a class="code" href="../../d6/d91/dhcpv6__client_8c.html#ac17d0545676651d297bedbd242ab2289">dhcpv6ClientSendMessage</a>(context, <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#aeca9d54a4001e239844ff0245aaedf6cae849f87ed116032b918ad1bbe1f0f069">DHCPV6_MSG_TYPE_RELEASE</a>);</div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;</div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;         <span class="comment">//Save the time at which the message was sent</span></div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;         context-&gt;exchangeStartTime = <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#ae73654f333e4363463ad8c594eca1905">time</a>;</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;         context-&gt;timestamp = <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#ae73654f333e4363463ad8c594eca1905">time</a>;</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;         <span class="comment">//Initial retransmission timeout</span></div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;         context-&gt;timeout = <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a0718db79190a07fc4d88b3784da95e75">DHCPV6_CLIENT_REL_TIMEOUT</a> +</div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;            <a class="code" href="../../dc/ded/dhcpv6__common_8c.html#ae04cea0e44f0c28da17198d59517ac10">dhcpv6Rand</a>(<a class="code" href="../../df/d84/dhcpv6__client_8h.html#a0718db79190a07fc4d88b3784da95e75">DHCPV6_CLIENT_REL_TIMEOUT</a>);</div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;</div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;         <span class="comment">//Increment retransmission counter</span></div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;         context-&gt;retransmitCount++;</div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;      }</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span>(context-&gt;retransmitCount &lt; <a class="code" href="../../df/d84/dhcpv6__client_8h.html#aa1b6b3d7f389412a86cdb91b4d22d701">DHCPV6_CLIENT_REL_MAX_RC</a>)</div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;      {</div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;         <span class="comment">//Send a Release message</span></div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;         <a class="code" href="../../d6/d91/dhcpv6__client_8c.html#ac17d0545676651d297bedbd242ab2289">dhcpv6ClientSendMessage</a>(context, <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#aeca9d54a4001e239844ff0245aaedf6cae849f87ed116032b918ad1bbe1f0f069">DHCPV6_MSG_TYPE_RELEASE</a>);</div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;</div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;         <span class="comment">//Save the time at which the message was sent</span></div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;         context-&gt;timestamp = <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#ae73654f333e4363463ad8c594eca1905">time</a>;</div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;         <span class="comment">//The RT is doubled for each subsequent retransmission</span></div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;         context-&gt;timeout = context-&gt;timeout * 2 + <a class="code" href="../../dc/ded/dhcpv6__common_8c.html#ae04cea0e44f0c28da17198d59517ac10">dhcpv6Rand</a>(context-&gt;timeout);</div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;</div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;         <span class="comment">//Increment retransmission counter</span></div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;         context-&gt;retransmitCount++;</div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;      }</div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;      {</div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;         <span class="comment">//Implementations should retransmit one or more times, but may</span></div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;         <span class="comment">//choose to terminate the retransmission procedure early</span></div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;         context-&gt;running = <a class="code" href="../../da/d42/os__port_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;</div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;         <span class="comment">//Reinitialize state machine</span></div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;         <a class="code" href="../../d6/d91/dhcpv6__client_8c.html#aafd32758fb24f5bc2267ad372f06545d">dhcpv6ClientChangeState</a>(context, <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a017951020877623ce2220289f5c93025">DHCPV6_STATE_INIT</a>, 0);</div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;      }</div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;   }</div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;}</div><div class="ttc" id="dhcpv6__client_8c_html_ac17d0545676651d297bedbd242ab2289"><div class="ttname"><a href="../../d6/d91/dhcpv6__client_8c.html#ac17d0545676651d297bedbd242ab2289">dhcpv6ClientSendMessage</a></div><div class="ttdeci">error_t dhcpv6ClientSendMessage(Dhcpv6ClientContext *context, Dhcpv6MessageType type)</div><div class="ttdoc">Send Solicit message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d91/dhcpv6__client_8c_source.html#l01244">dhcpv6_client.c:1244</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_aa1b6b3d7f389412a86cdb91b4d22d701"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#aa1b6b3d7f389412a86cdb91b4d22d701">DHCPV6_CLIENT_REL_MAX_RC</a></div><div class="ttdeci">#define DHCPV6_CLIENT_REL_MAX_RC</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00194">dhcpv6_client.h:194</a></div></div>
<div class="ttc" id="compiler__port_8h_html_ae3e32a98d431a02106616da3071832dd"><div class="ttname"><a href="../../d1/dfa/compiler__port_8h.html#ae3e32a98d431a02106616da3071832dd">systime_t</a></div><div class="ttdeci">uint32_t systime_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dfa/compiler__port_8h_source.html#l00046">compiler_port.h:46</a></div></div>
<div class="ttc" id="os__port_8h_html_a25c13833ef003da02045a91b1080263a"><div class="ttname"><a href="../../da/d42/os__port_8h.html#a25c13833ef003da02045a91b1080263a">timeCompare</a></div><div class="ttdeci">#define timeCompare(t1, t2)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d42/os__port_8h_source.html#l00042">os_port.h:42</a></div></div>
<div class="ttc" id="os__port__chibios_8c_html_ab66a11272d40a916fa69dd8e4dc443d4"><div class="ttname"><a href="../../dd/d0d/os__port__chibios_8c.html#ab66a11272d40a916fa69dd8e4dc443d4">osGetSystemTime</a></div><div class="ttdeci">systime_t osGetSystemTime(void)</div><div class="ttdoc">Retrieve system time. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d0d/os__port__chibios_8c_source.html#l00490">os_port_chibios.c:490</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_ae73654f333e4363463ad8c594eca1905"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#ae73654f333e4363463ad8c594eca1905">time</a></div><div class="ttdeci">uint32_t time</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddf/dhcpv6__common_8h_source.html#l00169">dhcpv6_common.h:169</a></div></div>
<div class="ttc" id="dhcpv6__common_8c_html_ae04cea0e44f0c28da17198d59517ac10"><div class="ttname"><a href="../../dc/ded/dhcpv6__common_8c.html#ae04cea0e44f0c28da17198d59517ac10">dhcpv6Rand</a></div><div class="ttdeci">int32_t dhcpv6Rand(int32_t value)</div><div class="ttdoc">Multiplication by a randomization factor. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/ded/dhcpv6__common_8c_source.html#l00250">dhcpv6_common.c:250</a></div></div>
<div class="ttc" id="dhcpv6__client_8c_html_aafd32758fb24f5bc2267ad372f06545d"><div class="ttname"><a href="../../d6/d91/dhcpv6__client_8c.html#aafd32758fb24f5bc2267ad372f06545d">dhcpv6ClientChangeState</a></div><div class="ttdeci">void dhcpv6ClientChangeState(Dhcpv6ClientContext *context, Dhcpv6State newState, systime_t delay)</div><div class="ttdoc">Update DHCPv6 FSM state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d91/dhcpv6__client_8c_source.html#l02506">dhcpv6_client.c:2506</a></div></div>
<div class="ttc" id="net_8c_html_a7bb00b31d641749ac8ce742261eb1f6d"><div class="ttname"><a href="../../d7/d5f/net_8c.html#a7bb00b31d641749ac8ce742261eb1f6d">netGetRand</a></div><div class="ttdeci">uint32_t netGetRand(void)</div><div class="ttdoc">Get a random value. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/net_8c_source.html#l01811">net.c:1811</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_a8610bfd009af9756638a193136ef93f9a017951020877623ce2220289f5c93025"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a017951020877623ce2220289f5c93025">DHCPV6_STATE_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00243">dhcpv6_client.h:243</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_aeca9d54a4001e239844ff0245aaedf6cae849f87ed116032b918ad1bbe1f0f069"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#aeca9d54a4001e239844ff0245aaedf6cae849f87ed116032b918ad1bbe1f0f069">DHCPV6_MSG_TYPE_RELEASE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddf/dhcpv6__common_8h_source.html#l00097">dhcpv6_common.h:97</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_a0718db79190a07fc4d88b3784da95e75"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a0718db79190a07fc4d88b3784da95e75">DHCPV6_CLIENT_REL_TIMEOUT</a></div><div class="ttdeci">#define DHCPV6_CLIENT_REL_TIMEOUT</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00187">dhcpv6_client.h:187</a></div></div>
<div class="ttc" id="os__port_8h_html_aa93f0eb578d23995850d61f7d61c55c1"><div class="ttname"><a href="../../da/d42/os__port_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></div><div class="ttdeci">#define FALSE</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d42/os__port_8h_source.html#l00046">os_port.h:46</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a06d1754aad1293f116e268a803f7b9b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06d1754aad1293f116e268a803f7b9b3">&#9670;&nbsp;</a></span>dhcpv6ClientStateRenew()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dhcpv6ClientStateRenew </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#aac4eb11915c8cf98cce890c9d0270c9b">Dhcpv6ClientContext</a> *&#160;</td>
          <td class="paramname"><em>context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>RENEW state. </p>
<p>The client sends a Renew message to the server that originally provided the client's addresses and configuration parameters to extend the lifetimes on the addresses assigned to the client and to update other configuration parameters</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>Pointer to the DHCPv6 client context </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d6/d91/dhcpv6__client_8c_source.html#l00942">942</a> of file <a class="el" href="../../d6/d91/dhcpv6__client_8c_source.html">dhcpv6_client.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;{</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;   <a class="code" href="../../d1/dfa/compiler__port_8h.html#ae3e32a98d431a02106616da3071832dd">systime_t</a> <a class="code" href="../../d4/d3f/tiger_8c.html#a42a80c4c472115c0fcb04a076526ecf5">t2</a>;</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;   <a class="code" href="../../d1/dfa/compiler__port_8h.html#ae3e32a98d431a02106616da3071832dd">systime_t</a> <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#ae73654f333e4363463ad8c594eca1905">time</a>;</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;   <span class="comment">//Get current time</span></div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;   time = <a class="code" href="../../dd/d0d/os__port__chibios_8c.html#ab66a11272d40a916fa69dd8e4dc443d4">osGetSystemTime</a>();</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;   <span class="comment">//Check current time</span></div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;   <span class="keywordflow">if</span>(<a class="code" href="../../da/d42/os__port_8h.html#a25c13833ef003da02045a91b1080263a">timeCompare</a>(time, context-&gt;timestamp + context-&gt;timeout) &gt;= 0)</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;   {</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;      <span class="comment">//Check retransmission counter</span></div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;      <span class="keywordflow">if</span>(context-&gt;retransmitCount == 0)</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;      {</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;         <span class="comment">//Generate a 24-bit transaction ID</span></div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;         context-&gt;transactionId = <a class="code" href="../../d7/d5f/net_8c.html#a7bb00b31d641749ac8ce742261eb1f6d">netGetRand</a>() &amp; 0x00FFFFFF;</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;         <span class="comment">//Send a Renew message</span></div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;         <a class="code" href="../../d6/d91/dhcpv6__client_8c.html#ac17d0545676651d297bedbd242ab2289">dhcpv6ClientSendMessage</a>(context, <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#aeca9d54a4001e239844ff0245aaedf6caf3daa29a1a24a5350cefcfe02eeb6c75">DHCPV6_MSG_TYPE_RENEW</a>);</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;         <span class="comment">//Save the time at which the message was sent</span></div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;         context-&gt;exchangeStartTime = <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#ae73654f333e4363463ad8c594eca1905">time</a>;</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;         context-&gt;timestamp = <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#ae73654f333e4363463ad8c594eca1905">time</a>;</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;         <span class="comment">//Initial retransmission timeout</span></div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;         context-&gt;timeout = <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a323354f8835b5e4753deb7d83697ae15">DHCPV6_CLIENT_REN_TIMEOUT</a> +</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;            <a class="code" href="../../dc/ded/dhcpv6__common_8c.html#ae04cea0e44f0c28da17198d59517ac10">dhcpv6Rand</a>(<a class="code" href="../../df/d84/dhcpv6__client_8h.html#a323354f8835b5e4753deb7d83697ae15">DHCPV6_CLIENT_REN_TIMEOUT</a>);</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;      }</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;      {</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;         <span class="comment">//Send a Renew message</span></div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;         <a class="code" href="../../d6/d91/dhcpv6__client_8c.html#ac17d0545676651d297bedbd242ab2289">dhcpv6ClientSendMessage</a>(context, <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#aeca9d54a4001e239844ff0245aaedf6caf3daa29a1a24a5350cefcfe02eeb6c75">DHCPV6_MSG_TYPE_RENEW</a>);</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;         <span class="comment">//Save the time at which the message was sent</span></div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;         context-&gt;timestamp = <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#ae73654f333e4363463ad8c594eca1905">time</a>;</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;         <span class="comment">//The RT is doubled for each subsequent retransmission</span></div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;         context-&gt;timeout = context-&gt;timeout * 2 + <a class="code" href="../../dc/ded/dhcpv6__common_8c.html#ae04cea0e44f0c28da17198d59517ac10">dhcpv6Rand</a>(context-&gt;timeout);</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;         <span class="comment">//MRT specifies an upper bound on the value of RT</span></div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;         <span class="keywordflow">if</span>(context-&gt;timeout &gt; <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a1061db03308a1bd7cb801539b90f5f1a">DHCPV6_CLIENT_REN_MAX_RT</a>)</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;         {</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;            <span class="comment">//Compute retransmission timeout</span></div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;            context-&gt;timeout = <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a1061db03308a1bd7cb801539b90f5f1a">DHCPV6_CLIENT_REN_MAX_RT</a> +</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;               <a class="code" href="../../dc/ded/dhcpv6__common_8c.html#ae04cea0e44f0c28da17198d59517ac10">dhcpv6Rand</a>(<a class="code" href="../../df/d84/dhcpv6__client_8h.html#a1061db03308a1bd7cb801539b90f5f1a">DHCPV6_CLIENT_REN_MAX_RT</a>);</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;         }</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;      }</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;      <span class="comment">//Increment retransmission counter</span></div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;      context-&gt;retransmitCount++;</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;   }</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;   <span class="keywordflow">else</span></div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;   {</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;      <span class="comment">//A client will never attempt to use a Rebind message to locate a</span></div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;      <span class="comment">//different server to extend the lifetime of any address in an IA</span></div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;      <span class="comment">//with T2 set to 0xffffffff</span></div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;      <span class="keywordflow">if</span>(context-&gt;ia.t2 != <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#ab9aee2bf751d949dbfa5fb9f58cb84fb">DHCPV6_INFINITE_TIME</a>)</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;      {</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;         <span class="comment">//Convert T2 to milliseconds</span></div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;         <span class="keywordflow">if</span>(context-&gt;ia.t2 &lt; (<a class="code" href="../../da/d42/os__port_8h.html#a16027d8acc5301e440cefa086eb9db2a">MAX_DELAY</a> / 1000))</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;            t2 = context-&gt;ia.t2 * 1000;</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;         <span class="keywordflow">else</span></div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;            t2 = <a class="code" href="../../da/d42/os__port_8h.html#a16027d8acc5301e440cefa086eb9db2a">MAX_DELAY</a>;</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;         <span class="comment">//Check whether T2 timer has expired</span></div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;         <span class="keywordflow">if</span>(<a class="code" href="../../da/d42/os__port_8h.html#a25c13833ef003da02045a91b1080263a">timeCompare</a>(time, context-&gt;leaseStartTime + t2) &gt;= 0)</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;         {</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;            <span class="comment">//Switch to the REBIND state</span></div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;            <a class="code" href="../../d6/d91/dhcpv6__client_8c.html#aafd32758fb24f5bc2267ad372f06545d">dhcpv6ClientChangeState</a>(context, <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9ae19c57945990feb5d8fd89ae986481b6">DHCPV6_STATE_REBIND</a>, 0);</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;         }</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;      }</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;   }</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;}</div><div class="ttc" id="dhcpv6__client_8c_html_ac17d0545676651d297bedbd242ab2289"><div class="ttname"><a href="../../d6/d91/dhcpv6__client_8c.html#ac17d0545676651d297bedbd242ab2289">dhcpv6ClientSendMessage</a></div><div class="ttdeci">error_t dhcpv6ClientSendMessage(Dhcpv6ClientContext *context, Dhcpv6MessageType type)</div><div class="ttdoc">Send Solicit message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d91/dhcpv6__client_8c_source.html#l01244">dhcpv6_client.c:1244</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_aeca9d54a4001e239844ff0245aaedf6caf3daa29a1a24a5350cefcfe02eeb6c75"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#aeca9d54a4001e239844ff0245aaedf6caf3daa29a1a24a5350cefcfe02eeb6c75">DHCPV6_MSG_TYPE_RENEW</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddf/dhcpv6__common_8h_source.html#l00094">dhcpv6_common.h:94</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_a323354f8835b5e4753deb7d83697ae15"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a323354f8835b5e4753deb7d83697ae15">DHCPV6_CLIENT_REN_TIMEOUT</a></div><div class="ttdeci">#define DHCPV6_CLIENT_REN_TIMEOUT</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00138">dhcpv6_client.h:138</a></div></div>
<div class="ttc" id="compiler__port_8h_html_ae3e32a98d431a02106616da3071832dd"><div class="ttname"><a href="../../d1/dfa/compiler__port_8h.html#ae3e32a98d431a02106616da3071832dd">systime_t</a></div><div class="ttdeci">uint32_t systime_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dfa/compiler__port_8h_source.html#l00046">compiler_port.h:46</a></div></div>
<div class="ttc" id="os__port_8h_html_a25c13833ef003da02045a91b1080263a"><div class="ttname"><a href="../../da/d42/os__port_8h.html#a25c13833ef003da02045a91b1080263a">timeCompare</a></div><div class="ttdeci">#define timeCompare(t1, t2)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d42/os__port_8h_source.html#l00042">os_port.h:42</a></div></div>
<div class="ttc" id="os__port__chibios_8c_html_ab66a11272d40a916fa69dd8e4dc443d4"><div class="ttname"><a href="../../dd/d0d/os__port__chibios_8c.html#ab66a11272d40a916fa69dd8e4dc443d4">osGetSystemTime</a></div><div class="ttdeci">systime_t osGetSystemTime(void)</div><div class="ttdoc">Retrieve system time. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d0d/os__port__chibios_8c_source.html#l00490">os_port_chibios.c:490</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_ae73654f333e4363463ad8c594eca1905"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#ae73654f333e4363463ad8c594eca1905">time</a></div><div class="ttdeci">uint32_t time</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddf/dhcpv6__common_8h_source.html#l00169">dhcpv6_common.h:169</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_a1061db03308a1bd7cb801539b90f5f1a"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a1061db03308a1bd7cb801539b90f5f1a">DHCPV6_CLIENT_REN_MAX_RT</a></div><div class="ttdeci">#define DHCPV6_CLIENT_REN_MAX_RT</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00145">dhcpv6_client.h:145</a></div></div>
<div class="ttc" id="dhcpv6__common_8c_html_ae04cea0e44f0c28da17198d59517ac10"><div class="ttname"><a href="../../dc/ded/dhcpv6__common_8c.html#ae04cea0e44f0c28da17198d59517ac10">dhcpv6Rand</a></div><div class="ttdeci">int32_t dhcpv6Rand(int32_t value)</div><div class="ttdoc">Multiplication by a randomization factor. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/ded/dhcpv6__common_8c_source.html#l00250">dhcpv6_common.c:250</a></div></div>
<div class="ttc" id="dhcpv6__client_8c_html_aafd32758fb24f5bc2267ad372f06545d"><div class="ttname"><a href="../../d6/d91/dhcpv6__client_8c.html#aafd32758fb24f5bc2267ad372f06545d">dhcpv6ClientChangeState</a></div><div class="ttdeci">void dhcpv6ClientChangeState(Dhcpv6ClientContext *context, Dhcpv6State newState, systime_t delay)</div><div class="ttdoc">Update DHCPv6 FSM state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d91/dhcpv6__client_8c_source.html#l02506">dhcpv6_client.c:2506</a></div></div>
<div class="ttc" id="net_8c_html_a7bb00b31d641749ac8ce742261eb1f6d"><div class="ttname"><a href="../../d7/d5f/net_8c.html#a7bb00b31d641749ac8ce742261eb1f6d">netGetRand</a></div><div class="ttdeci">uint32_t netGetRand(void)</div><div class="ttdoc">Get a random value. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/net_8c_source.html#l01811">net.c:1811</a></div></div>
<div class="ttc" id="tiger_8c_html_a42a80c4c472115c0fcb04a076526ecf5"><div class="ttname"><a href="../../d4/d3f/tiger_8c.html#a42a80c4c472115c0fcb04a076526ecf5">t2</a></div><div class="ttdeci">static const uint64_t t2[256]</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d3f/tiger_8c_source.html#l00150">tiger.c:150</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_ab9aee2bf751d949dbfa5fb9f58cb84fb"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#ab9aee2bf751d949dbfa5fb9f58cb84fb">DHCPV6_INFINITE_TIME</a></div><div class="ttdeci">#define DHCPV6_INFINITE_TIME</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddf/dhcpv6__common_8h_source.html#l00053">dhcpv6_common.h:53</a></div></div>
<div class="ttc" id="os__port_8h_html_a16027d8acc5301e440cefa086eb9db2a"><div class="ttname"><a href="../../da/d42/os__port_8h.html#a16027d8acc5301e440cefa086eb9db2a">MAX_DELAY</a></div><div class="ttdeci">#define MAX_DELAY</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d42/os__port_8h_source.html#l00076">os_port.h:76</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_a8610bfd009af9756638a193136ef93f9ae19c57945990feb5d8fd89ae986481b6"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9ae19c57945990feb5d8fd89ae986481b6">DHCPV6_STATE_REBIND</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00251">dhcpv6_client.h:251</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa24ccb150ee9615fb89b5dae52b709c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa24ccb150ee9615fb89b5dae52b709c5">&#9670;&nbsp;</a></span>dhcpv6ClientStateRequest()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dhcpv6ClientStateRequest </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#aac4eb11915c8cf98cce890c9d0270c9b">Dhcpv6ClientContext</a> *&#160;</td>
          <td class="paramname"><em>context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>REQUEST state. </p>
<p>The client uses a Request message to populate IAs with addresses and obtain other configuration information. The client includes one or more more IA options in the Request message. The server then returns addresses and other information about the IAs to the client in IA options in a Reply message</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>Pointer to the DHCPv6 client context </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d6/d91/dhcpv6__client_8c_source.html#l00641">641</a> of file <a class="el" href="../../d6/d91/dhcpv6__client_8c_source.html">dhcpv6_client.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;{</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;   <a class="code" href="../../d1/dfa/compiler__port_8h.html#ae3e32a98d431a02106616da3071832dd">systime_t</a> <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#ae73654f333e4363463ad8c594eca1905">time</a>;</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;   <span class="comment">//Get current time</span></div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;   time = <a class="code" href="../../dd/d0d/os__port__chibios_8c.html#ab66a11272d40a916fa69dd8e4dc443d4">osGetSystemTime</a>();</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;   <span class="comment">//Check current time</span></div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;   <span class="keywordflow">if</span>(<a class="code" href="../../da/d42/os__port_8h.html#a25c13833ef003da02045a91b1080263a">timeCompare</a>(time, context-&gt;timestamp + context-&gt;timeout) &gt;= 0)</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;   {</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;      <span class="comment">//Check retransmission counter</span></div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;      <span class="keywordflow">if</span>(context-&gt;retransmitCount == 0)</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;      {</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;         <span class="comment">//Generate a 24-bit transaction ID</span></div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;         context-&gt;transactionId = <a class="code" href="../../d7/d5f/net_8c.html#a7bb00b31d641749ac8ce742261eb1f6d">netGetRand</a>() &amp; 0x00FFFFFF;</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;         <span class="comment">//Send a Request message</span></div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;         <a class="code" href="../../d6/d91/dhcpv6__client_8c.html#ac17d0545676651d297bedbd242ab2289">dhcpv6ClientSendMessage</a>(context, <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#aeca9d54a4001e239844ff0245aaedf6cac1ee9533dff4ae432ec3f5213eac19a8">DHCPV6_MSG_TYPE_REQUEST</a>);</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;         <span class="comment">//Save the time at which the message was sent</span></div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;         context-&gt;exchangeStartTime = <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#ae73654f333e4363463ad8c594eca1905">time</a>;</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;         context-&gt;timestamp = <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#ae73654f333e4363463ad8c594eca1905">time</a>;</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;         <span class="comment">//Initial retransmission timeout</span></div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;         context-&gt;timeout = <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a67abc24687165b593936ede41179b085">DHCPV6_CLIENT_REQ_TIMEOUT</a> +</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;            <a class="code" href="../../dc/ded/dhcpv6__common_8c.html#ae04cea0e44f0c28da17198d59517ac10">dhcpv6Rand</a>(<a class="code" href="../../df/d84/dhcpv6__client_8h.html#a67abc24687165b593936ede41179b085">DHCPV6_CLIENT_REQ_TIMEOUT</a>);</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;         <span class="comment">//Increment retransmission counter</span></div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;         context-&gt;retransmitCount++;</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;      }</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span>(context-&gt;retransmitCount &lt; <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a5ca9925a207409329227b073df86e5c0">DHCPV6_CLIENT_REQ_MAX_RC</a>)</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;      {</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;         <span class="comment">//Send a Request message</span></div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;         <a class="code" href="../../d6/d91/dhcpv6__client_8c.html#ac17d0545676651d297bedbd242ab2289">dhcpv6ClientSendMessage</a>(context, <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#aeca9d54a4001e239844ff0245aaedf6cac1ee9533dff4ae432ec3f5213eac19a8">DHCPV6_MSG_TYPE_REQUEST</a>);</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;         <span class="comment">//Save the time at which the message was sent</span></div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;         context-&gt;timestamp = <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#ae73654f333e4363463ad8c594eca1905">time</a>;</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;         <span class="comment">//The RT is doubled for each subsequent retransmission</span></div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;         context-&gt;timeout = context-&gt;timeout * 2 + <a class="code" href="../../dc/ded/dhcpv6__common_8c.html#ae04cea0e44f0c28da17198d59517ac10">dhcpv6Rand</a>(context-&gt;timeout);</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;         <span class="comment">//MRT specifies an upper bound on the value of RT</span></div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;         <span class="keywordflow">if</span>(context-&gt;timeout &gt; <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a4c48ce238cfd17feca1413d6d1c98f10">DHCPV6_CLIENT_REQ_MAX_RT</a>)</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;         {</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;            <span class="comment">//Compute retransmission timeout</span></div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;            context-&gt;timeout = <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a4c48ce238cfd17feca1413d6d1c98f10">DHCPV6_CLIENT_REQ_MAX_RT</a> +</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;               <a class="code" href="../../dc/ded/dhcpv6__common_8c.html#ae04cea0e44f0c28da17198d59517ac10">dhcpv6Rand</a>(<a class="code" href="../../df/d84/dhcpv6__client_8h.html#a4c48ce238cfd17feca1413d6d1c98f10">DHCPV6_CLIENT_REQ_MAX_RT</a>);</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;         }</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;         <span class="comment">//Increment retransmission counter</span></div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;         context-&gt;retransmitCount++;</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;      }</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;      {</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;         <span class="comment">//If the client does not receive a response within a reasonable</span></div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;         <span class="comment">//period of time, then it restarts the initialization procedure</span></div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;         <a class="code" href="../../d6/d91/dhcpv6__client_8c.html#aafd32758fb24f5bc2267ad372f06545d">dhcpv6ClientChangeState</a>(context, <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a017951020877623ce2220289f5c93025">DHCPV6_STATE_INIT</a>, 0);</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;      }</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;   }</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;   <span class="comment">//Manage DHCPv6 configuration timeout</span></div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;   <a class="code" href="../../d6/d91/dhcpv6__client_8c.html#aaa81ea43e74b44c4bb1c376ee7ddd28b">dhcpv6ClientCheckTimeout</a>(context);</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;}</div><div class="ttc" id="dhcpv6__client_8c_html_ac17d0545676651d297bedbd242ab2289"><div class="ttname"><a href="../../d6/d91/dhcpv6__client_8c.html#ac17d0545676651d297bedbd242ab2289">dhcpv6ClientSendMessage</a></div><div class="ttdeci">error_t dhcpv6ClientSendMessage(Dhcpv6ClientContext *context, Dhcpv6MessageType type)</div><div class="ttdoc">Send Solicit message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d91/dhcpv6__client_8c_source.html#l01244">dhcpv6_client.c:1244</a></div></div>
<div class="ttc" id="compiler__port_8h_html_ae3e32a98d431a02106616da3071832dd"><div class="ttname"><a href="../../d1/dfa/compiler__port_8h.html#ae3e32a98d431a02106616da3071832dd">systime_t</a></div><div class="ttdeci">uint32_t systime_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dfa/compiler__port_8h_source.html#l00046">compiler_port.h:46</a></div></div>
<div class="ttc" id="os__port_8h_html_a25c13833ef003da02045a91b1080263a"><div class="ttname"><a href="../../da/d42/os__port_8h.html#a25c13833ef003da02045a91b1080263a">timeCompare</a></div><div class="ttdeci">#define timeCompare(t1, t2)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d42/os__port_8h_source.html#l00042">os_port.h:42</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_a67abc24687165b593936ede41179b085"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a67abc24687165b593936ede41179b085">DHCPV6_CLIENT_REQ_TIMEOUT</a></div><div class="ttdeci">#define DHCPV6_CLIENT_REQ_TIMEOUT</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00089">dhcpv6_client.h:89</a></div></div>
<div class="ttc" id="os__port__chibios_8c_html_ab66a11272d40a916fa69dd8e4dc443d4"><div class="ttname"><a href="../../dd/d0d/os__port__chibios_8c.html#ab66a11272d40a916fa69dd8e4dc443d4">osGetSystemTime</a></div><div class="ttdeci">systime_t osGetSystemTime(void)</div><div class="ttdoc">Retrieve system time. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d0d/os__port__chibios_8c_source.html#l00490">os_port_chibios.c:490</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_ae73654f333e4363463ad8c594eca1905"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#ae73654f333e4363463ad8c594eca1905">time</a></div><div class="ttdeci">uint32_t time</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddf/dhcpv6__common_8h_source.html#l00169">dhcpv6_common.h:169</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_a5ca9925a207409329227b073df86e5c0"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a5ca9925a207409329227b073df86e5c0">DHCPV6_CLIENT_REQ_MAX_RC</a></div><div class="ttdeci">#define DHCPV6_CLIENT_REQ_MAX_RC</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00103">dhcpv6_client.h:103</a></div></div>
<div class="ttc" id="dhcpv6__client_8c_html_aaa81ea43e74b44c4bb1c376ee7ddd28b"><div class="ttname"><a href="../../d6/d91/dhcpv6__client_8c.html#aaa81ea43e74b44c4bb1c376ee7ddd28b">dhcpv6ClientCheckTimeout</a></div><div class="ttdeci">void dhcpv6ClientCheckTimeout(Dhcpv6ClientContext *context)</div><div class="ttdoc">Manage DHCPv6 configuration timeout. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d91/dhcpv6__client_8c_source.html#l02432">dhcpv6_client.c:2432</a></div></div>
<div class="ttc" id="dhcpv6__common_8c_html_ae04cea0e44f0c28da17198d59517ac10"><div class="ttname"><a href="../../dc/ded/dhcpv6__common_8c.html#ae04cea0e44f0c28da17198d59517ac10">dhcpv6Rand</a></div><div class="ttdeci">int32_t dhcpv6Rand(int32_t value)</div><div class="ttdoc">Multiplication by a randomization factor. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/ded/dhcpv6__common_8c_source.html#l00250">dhcpv6_common.c:250</a></div></div>
<div class="ttc" id="dhcpv6__client_8c_html_aafd32758fb24f5bc2267ad372f06545d"><div class="ttname"><a href="../../d6/d91/dhcpv6__client_8c.html#aafd32758fb24f5bc2267ad372f06545d">dhcpv6ClientChangeState</a></div><div class="ttdeci">void dhcpv6ClientChangeState(Dhcpv6ClientContext *context, Dhcpv6State newState, systime_t delay)</div><div class="ttdoc">Update DHCPv6 FSM state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d91/dhcpv6__client_8c_source.html#l02506">dhcpv6_client.c:2506</a></div></div>
<div class="ttc" id="net_8c_html_a7bb00b31d641749ac8ce742261eb1f6d"><div class="ttname"><a href="../../d7/d5f/net_8c.html#a7bb00b31d641749ac8ce742261eb1f6d">netGetRand</a></div><div class="ttdeci">uint32_t netGetRand(void)</div><div class="ttdoc">Get a random value. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/net_8c_source.html#l01811">net.c:1811</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_aeca9d54a4001e239844ff0245aaedf6cac1ee9533dff4ae432ec3f5213eac19a8"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#aeca9d54a4001e239844ff0245aaedf6cac1ee9533dff4ae432ec3f5213eac19a8">DHCPV6_MSG_TYPE_REQUEST</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddf/dhcpv6__common_8h_source.html#l00092">dhcpv6_common.h:92</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_a8610bfd009af9756638a193136ef93f9a017951020877623ce2220289f5c93025"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a017951020877623ce2220289f5c93025">DHCPV6_STATE_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00243">dhcpv6_client.h:243</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_a4c48ce238cfd17feca1413d6d1c98f10"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a4c48ce238cfd17feca1413d6d1c98f10">DHCPV6_CLIENT_REQ_MAX_RT</a></div><div class="ttdeci">#define DHCPV6_CLIENT_REQ_MAX_RT</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00096">dhcpv6_client.h:96</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3f8b9540189d50995763ccef0e89037b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f8b9540189d50995763ccef0e89037b">&#9670;&nbsp;</a></span>dhcpv6ClientStateSolicit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dhcpv6ClientStateSolicit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#aac4eb11915c8cf98cce890c9d0270c9b">Dhcpv6ClientContext</a> *&#160;</td>
          <td class="paramname"><em>context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SOLICIT state. </p>
<p>A client uses the Solicit message to discover DHCPv6 servers</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>Pointer to the DHCPv6 client context </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d6/d91/dhcpv6__client_8c_source.html#l00559">559</a> of file <a class="el" href="../../d6/d91/dhcpv6__client_8c_source.html">dhcpv6_client.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;{</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;   <a class="code" href="../../d1/dfa/compiler__port_8h.html#ae3e32a98d431a02106616da3071832dd">systime_t</a> <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#ae73654f333e4363463ad8c594eca1905">time</a>;</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;   <span class="comment">//Get current time</span></div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;   time = <a class="code" href="../../dd/d0d/os__port__chibios_8c.html#ab66a11272d40a916fa69dd8e4dc443d4">osGetSystemTime</a>();</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;   <span class="comment">//Check current time</span></div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;   <span class="keywordflow">if</span>(<a class="code" href="../../da/d42/os__port_8h.html#a25c13833ef003da02045a91b1080263a">timeCompare</a>(time, context-&gt;timestamp + context-&gt;timeout) &gt;= 0)</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;   {</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;      <span class="comment">//Check retransmission counter</span></div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;      <span class="keywordflow">if</span>(context-&gt;retransmitCount == 0)</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;      {</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;         <span class="comment">//Reset server preference value</span></div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;         context-&gt;serverPreference = -1;</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;         <span class="comment">//Generate a 24-bit transaction ID</span></div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;         context-&gt;transactionId = <a class="code" href="../../d7/d5f/net_8c.html#a7bb00b31d641749ac8ce742261eb1f6d">netGetRand</a>() &amp; 0x00FFFFFF;</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;         <span class="comment">//Send a Solicit message</span></div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;         <a class="code" href="../../d6/d91/dhcpv6__client_8c.html#ac17d0545676651d297bedbd242ab2289">dhcpv6ClientSendMessage</a>(context, <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#aeca9d54a4001e239844ff0245aaedf6cafdc89c929b9b3330a914465fa2032331">DHCPV6_MSG_TYPE_SOLICIT</a>);</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;         <span class="comment">//Save the time at which the message was sent</span></div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;         context-&gt;exchangeStartTime = <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#ae73654f333e4363463ad8c594eca1905">time</a>;</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;         context-&gt;timestamp = <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#ae73654f333e4363463ad8c594eca1905">time</a>;</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;         <span class="comment">//If the client is waiting for an Advertise message, the first RT</span></div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;         <span class="comment">//must be selected to be strictly greater than IRT</span></div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;         context-&gt;timeout = <a class="code" href="../../df/d84/dhcpv6__client_8h.html#acbc33f7b6178e2c6184b860eb110c19f">DHCPV6_CLIENT_SOL_TIMEOUT</a> +</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;            abs(<a class="code" href="../../dc/ded/dhcpv6__common_8c.html#ae04cea0e44f0c28da17198d59517ac10">dhcpv6Rand</a>(<a class="code" href="../../df/d84/dhcpv6__client_8h.html#acbc33f7b6178e2c6184b860eb110c19f">DHCPV6_CLIENT_SOL_TIMEOUT</a>));</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;         <span class="comment">//Increment retransmission counter</span></div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;         context-&gt;retransmitCount++;</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;      }</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;      {</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;         <span class="comment">//Check whether a valid Advertise message has been received</span></div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;         <span class="keywordflow">if</span>(context-&gt;serverPreference &gt;= 0)</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;         {</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;            <span class="comment">//Continue configuration procedure</span></div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;            <a class="code" href="../../d6/d91/dhcpv6__client_8c.html#aafd32758fb24f5bc2267ad372f06545d">dhcpv6ClientChangeState</a>(context, <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a4a75d2c1f2fd8684d2a124721935a7d9">DHCPV6_STATE_REQUEST</a>, 0);</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;         }</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;         <span class="keywordflow">else</span></div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;         {</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;            <span class="comment">//Send a Solicit message</span></div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;            <a class="code" href="../../d6/d91/dhcpv6__client_8c.html#ac17d0545676651d297bedbd242ab2289">dhcpv6ClientSendMessage</a>(context, <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#aeca9d54a4001e239844ff0245aaedf6cafdc89c929b9b3330a914465fa2032331">DHCPV6_MSG_TYPE_SOLICIT</a>);</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;            <span class="comment">//Save the time at which the message was sent</span></div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;            context-&gt;timestamp = <a class="code" href="../../d1/ddf/dhcpv6__common_8h.html#ae73654f333e4363463ad8c594eca1905">time</a>;</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;            <span class="comment">//The RT is doubled for each subsequent retransmission</span></div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;            context-&gt;timeout = context-&gt;timeout * 2 + <a class="code" href="../../dc/ded/dhcpv6__common_8c.html#ae04cea0e44f0c28da17198d59517ac10">dhcpv6Rand</a>(context-&gt;timeout);</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;            <span class="comment">//MRT specifies an upper bound on the value of RT</span></div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;            <span class="keywordflow">if</span>(context-&gt;timeout &gt; <a class="code" href="../../df/d84/dhcpv6__client_8h.html#ad41aa61ee73646a89f8d4c6a0e10a1f5">DHCPV6_CLIENT_SOL_MAX_RT</a>)</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;            {</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;               <span class="comment">//Compute retransmission timeout</span></div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;               context-&gt;timeout = <a class="code" href="../../df/d84/dhcpv6__client_8h.html#ad41aa61ee73646a89f8d4c6a0e10a1f5">DHCPV6_CLIENT_SOL_MAX_RT</a> +</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;                  <a class="code" href="../../dc/ded/dhcpv6__common_8c.html#ae04cea0e44f0c28da17198d59517ac10">dhcpv6Rand</a>(<a class="code" href="../../df/d84/dhcpv6__client_8h.html#ad41aa61ee73646a89f8d4c6a0e10a1f5">DHCPV6_CLIENT_SOL_MAX_RT</a>);</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;            }</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;            <span class="comment">//Increment retransmission counter</span></div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;            context-&gt;retransmitCount++;</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;         }</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;      }</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;   }</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;   <span class="comment">//Manage DHCPv6 configuration timeout</span></div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;   <a class="code" href="../../d6/d91/dhcpv6__client_8c.html#aaa81ea43e74b44c4bb1c376ee7ddd28b">dhcpv6ClientCheckTimeout</a>(context);</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;}</div><div class="ttc" id="dhcpv6__client_8c_html_ac17d0545676651d297bedbd242ab2289"><div class="ttname"><a href="../../d6/d91/dhcpv6__client_8c.html#ac17d0545676651d297bedbd242ab2289">dhcpv6ClientSendMessage</a></div><div class="ttdeci">error_t dhcpv6ClientSendMessage(Dhcpv6ClientContext *context, Dhcpv6MessageType type)</div><div class="ttdoc">Send Solicit message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d91/dhcpv6__client_8c_source.html#l01244">dhcpv6_client.c:1244</a></div></div>
<div class="ttc" id="compiler__port_8h_html_ae3e32a98d431a02106616da3071832dd"><div class="ttname"><a href="../../d1/dfa/compiler__port_8h.html#ae3e32a98d431a02106616da3071832dd">systime_t</a></div><div class="ttdeci">uint32_t systime_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dfa/compiler__port_8h_source.html#l00046">compiler_port.h:46</a></div></div>
<div class="ttc" id="os__port_8h_html_a25c13833ef003da02045a91b1080263a"><div class="ttname"><a href="../../da/d42/os__port_8h.html#a25c13833ef003da02045a91b1080263a">timeCompare</a></div><div class="ttdeci">#define timeCompare(t1, t2)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d42/os__port_8h_source.html#l00042">os_port.h:42</a></div></div>
<div class="ttc" id="os__port__chibios_8c_html_ab66a11272d40a916fa69dd8e4dc443d4"><div class="ttname"><a href="../../dd/d0d/os__port__chibios_8c.html#ab66a11272d40a916fa69dd8e4dc443d4">osGetSystemTime</a></div><div class="ttdeci">systime_t osGetSystemTime(void)</div><div class="ttdoc">Retrieve system time. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d0d/os__port__chibios_8c_source.html#l00490">os_port_chibios.c:490</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_ae73654f333e4363463ad8c594eca1905"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#ae73654f333e4363463ad8c594eca1905">time</a></div><div class="ttdeci">uint32_t time</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddf/dhcpv6__common_8h_source.html#l00169">dhcpv6_common.h:169</a></div></div>
<div class="ttc" id="dhcpv6__client_8c_html_aaa81ea43e74b44c4bb1c376ee7ddd28b"><div class="ttname"><a href="../../d6/d91/dhcpv6__client_8c.html#aaa81ea43e74b44c4bb1c376ee7ddd28b">dhcpv6ClientCheckTimeout</a></div><div class="ttdeci">void dhcpv6ClientCheckTimeout(Dhcpv6ClientContext *context)</div><div class="ttdoc">Manage DHCPv6 configuration timeout. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d91/dhcpv6__client_8c_source.html#l02432">dhcpv6_client.c:2432</a></div></div>
<div class="ttc" id="dhcpv6__common_8c_html_ae04cea0e44f0c28da17198d59517ac10"><div class="ttname"><a href="../../dc/ded/dhcpv6__common_8c.html#ae04cea0e44f0c28da17198d59517ac10">dhcpv6Rand</a></div><div class="ttdeci">int32_t dhcpv6Rand(int32_t value)</div><div class="ttdoc">Multiplication by a randomization factor. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/ded/dhcpv6__common_8c_source.html#l00250">dhcpv6_common.c:250</a></div></div>
<div class="ttc" id="dhcpv6__client_8c_html_aafd32758fb24f5bc2267ad372f06545d"><div class="ttname"><a href="../../d6/d91/dhcpv6__client_8c.html#aafd32758fb24f5bc2267ad372f06545d">dhcpv6ClientChangeState</a></div><div class="ttdeci">void dhcpv6ClientChangeState(Dhcpv6ClientContext *context, Dhcpv6State newState, systime_t delay)</div><div class="ttdoc">Update DHCPv6 FSM state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d91/dhcpv6__client_8c_source.html#l02506">dhcpv6_client.c:2506</a></div></div>
<div class="ttc" id="net_8c_html_a7bb00b31d641749ac8ce742261eb1f6d"><div class="ttname"><a href="../../d7/d5f/net_8c.html#a7bb00b31d641749ac8ce742261eb1f6d">netGetRand</a></div><div class="ttdeci">uint32_t netGetRand(void)</div><div class="ttdoc">Get a random value. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/net_8c_source.html#l01811">net.c:1811</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_a8610bfd009af9756638a193136ef93f9a4a75d2c1f2fd8684d2a124721935a7d9"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a4a75d2c1f2fd8684d2a124721935a7d9">DHCPV6_STATE_REQUEST</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00245">dhcpv6_client.h:245</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_ad41aa61ee73646a89f8d4c6a0e10a1f5"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#ad41aa61ee73646a89f8d4c6a0e10a1f5">DHCPV6_CLIENT_SOL_MAX_RT</a></div><div class="ttdeci">#define DHCPV6_CLIENT_SOL_MAX_RT</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00082">dhcpv6_client.h:82</a></div></div>
<div class="ttc" id="dhcpv6__common_8h_html_aeca9d54a4001e239844ff0245aaedf6cafdc89c929b9b3330a914465fa2032331"><div class="ttname"><a href="../../d1/ddf/dhcpv6__common_8h.html#aeca9d54a4001e239844ff0245aaedf6cafdc89c929b9b3330a914465fa2032331">DHCPV6_MSG_TYPE_SOLICIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddf/dhcpv6__common_8h_source.html#l00090">dhcpv6_common.h:90</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_acbc33f7b6178e2c6184b860eb110c19f"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#acbc33f7b6178e2c6184b860eb110c19f">DHCPV6_CLIENT_SOL_TIMEOUT</a></div><div class="ttdeci">#define DHCPV6_CLIENT_SOL_TIMEOUT</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00075">dhcpv6_client.h:75</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1ad0aeb8db19ae4b1be0285f365dffae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ad0aeb8db19ae4b1be0285f365dffae">&#9670;&nbsp;</a></span>dhcpv6ClientStop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689c">error_t</a> dhcpv6ClientStop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#aac4eb11915c8cf98cce890c9d0270c9b">Dhcpv6ClientContext</a> *&#160;</td>
          <td class="paramname"><em>context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop DHCPv6 client. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>Pointer to the DHCPv6 client context </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d6/d91/dhcpv6__client_8c_source.html#l00218">218</a> of file <a class="el" href="../../d6/d91/dhcpv6__client_8c_source.html">dhcpv6_client.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;{</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;   <span class="comment">//Check parameter</span></div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;   <span class="keywordflow">if</span>(context == <a class="code" href="../../de/da2/group__BSPDefine.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689caeae4b12e06d727d085f75f79a820f2e8">ERROR_INVALID_PARAMETER</a>;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;   <span class="comment">//Debug message</span></div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;   <a class="code" href="../../db/d16/debug_8h.html#a7339bfd784193a5c79efcef2eeb2d6df">TRACE_INFO</a>(<span class="stringliteral">&quot;Stopping DHCPv6 client...\r\n&quot;</span>);</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;   <span class="comment">//Get exclusive access</span></div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;   <a class="code" href="../../dd/d0d/os__port__chibios_8c.html#a58485224df4bfa522246d55b35bbd83a">osAcquireMutex</a>(&amp;<a class="code" href="../../d7/d5f/net_8c.html#afe31551ad26115fae8e575654346d441">netMutex</a>);</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;   <span class="comment">//Stop DHCPv6 client</span></div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;   context-&gt;running = <a class="code" href="../../da/d42/os__port_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;   <span class="comment">//Reinitialize state machine</span></div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;   context-&gt;state = <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a017951020877623ce2220289f5c93025">DHCPV6_STATE_INIT</a>;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;   <span class="comment">//Release exclusive access</span></div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;   <a class="code" href="../../dd/d0d/os__port__chibios_8c.html#a8e10e5b2c6d3877b5ba60e375ac45d79">osReleaseMutex</a>(&amp;<a class="code" href="../../d7/d5f/net_8c.html#afe31551ad26115fae8e575654346d441">netMutex</a>);</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;   <span class="comment">//Successful processing</span></div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94">NO_ERROR</a>;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;}</div><div class="ttc" id="error_8h_html_ac7659d73a8cdedc08e9f566bb406689caeae4b12e06d727d085f75f79a820f2e8"><div class="ttname"><a href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689caeae4b12e06d727d085f75f79a820f2e8">ERROR_INVALID_PARAMETER</a></div><div class="ttdoc">Invalid parameter. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d41/error_8h_source.html#l00047">error.h:47</a></div></div>
<div class="ttc" id="group__BSPDefine_html_ga070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../de/da2/group__BSPDefine.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d6b/nm__bsp_8h_source.html#l00070">nm_bsp.h:70</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_a8610bfd009af9756638a193136ef93f9a017951020877623ce2220289f5c93025"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a017951020877623ce2220289f5c93025">DHCPV6_STATE_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00243">dhcpv6_client.h:243</a></div></div>
<div class="ttc" id="debug_8h_html_a7339bfd784193a5c79efcef2eeb2d6df"><div class="ttname"><a href="../../db/d16/debug_8h.html#a7339bfd784193a5c79efcef2eeb2d6df">TRACE_INFO</a></div><div class="ttdeci">#define TRACE_INFO(...)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d16/debug_8h_source.html#l00094">debug.h:94</a></div></div>
<div class="ttc" id="error_8h_html_ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94"><div class="ttname"><a href="../../da/d41/error_8h.html#ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94">NO_ERROR</a></div><div class="ttdoc">Success. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d41/error_8h_source.html#l00044">error.h:44</a></div></div>
<div class="ttc" id="os__port__chibios_8c_html_a8e10e5b2c6d3877b5ba60e375ac45d79"><div class="ttname"><a href="../../dd/d0d/os__port__chibios_8c.html#a8e10e5b2c6d3877b5ba60e375ac45d79">osReleaseMutex</a></div><div class="ttdeci">void osReleaseMutex(OsMutex *mutex)</div><div class="ttdoc">Release ownership of the specified mutex object. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d0d/os__port__chibios_8c_source.html#l00474">os_port_chibios.c:474</a></div></div>
<div class="ttc" id="net_8c_html_afe31551ad26115fae8e575654346d441"><div class="ttname"><a href="../../d7/d5f/net_8c.html#afe31551ad26115fae8e575654346d441">netMutex</a></div><div class="ttdeci">OsMutex netMutex</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/net_8c_source.html#l00075">net.c:75</a></div></div>
<div class="ttc" id="os__port_8h_html_aa93f0eb578d23995850d61f7d61c55c1"><div class="ttname"><a href="../../da/d42/os__port_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></div><div class="ttdeci">#define FALSE</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d42/os__port_8h_source.html#l00046">os_port.h:46</a></div></div>
<div class="ttc" id="os__port__chibios_8c_html_a58485224df4bfa522246d55b35bbd83a"><div class="ttname"><a href="../../dd/d0d/os__port__chibios_8c.html#a58485224df4bfa522246d55b35bbd83a">osAcquireMutex</a></div><div class="ttdeci">void osAcquireMutex(OsMutex *mutex)</div><div class="ttdoc">Acquire ownership of the specified mutex object. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d0d/os__port__chibios_8c_source.html#l00462">os_port_chibios.c:462</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0856bc5fef6b68be0c8780ab0b25ae5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0856bc5fef6b68be0c8780ab0b25ae5c">&#9670;&nbsp;</a></span>dhcpv6ClientTick()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dhcpv6ClientTick </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d84/dhcpv6__client_8h.html#aac4eb11915c8cf98cce890c9d0270c9b">Dhcpv6ClientContext</a> *&#160;</td>
          <td class="paramname"><em>context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>DHCPv6 client timer handler. </p>
<p>This routine must be periodically called by the TCP/IP stack to manage DHCPv6 client operation</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>Pointer to the DHCPv6 client context </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d6/d91/dhcpv6__client_8c_source.html#l00341">341</a> of file <a class="el" href="../../d6/d91/dhcpv6__client_8c_source.html">dhcpv6_client.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;{</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;   <span class="comment">//Make sure the DHCPv6 client has been properly instantiated</span></div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;   <span class="keywordflow">if</span>(context == <a class="code" href="../../de/da2/group__BSPDefine.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;   <span class="comment">//DHCPv6 client finite state machine</span></div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;   <span class="keywordflow">switch</span>(context-&gt;state)</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;   {</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;   <span class="comment">//Process INIT state</span></div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a017951020877623ce2220289f5c93025">DHCPV6_STATE_INIT</a>:</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;      <span class="comment">//This is the initialization state, where a client begins the process of</span></div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;      <span class="comment">//acquiring a lease. It also returns here when a lease ends, or when a</span></div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;      <span class="comment">//lease negotiation fails</span></div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;      <a class="code" href="../../d6/d91/dhcpv6__client_8c.html#a3a68a2c66db4634e60cf22402db2d1c8">dhcpv6ClientStateInit</a>(context);</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;   <span class="comment">//Process SOLICIT state</span></div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a7bc292bbd95a3839b42102e4f5a57e59">DHCPV6_STATE_SOLICIT</a>:</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;      <span class="comment">//The client sends a Solicit message to locate servers</span></div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;      <a class="code" href="../../d6/d91/dhcpv6__client_8c.html#a3f8b9540189d50995763ccef0e89037b">dhcpv6ClientStateSolicit</a>(context);</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;   <span class="comment">//Process REQUEST state</span></div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a4a75d2c1f2fd8684d2a124721935a7d9">DHCPV6_STATE_REQUEST</a>:</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;      <span class="comment">//The client sends a Request message to request configuration</span></div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;      <span class="comment">//parameters, including IP addresses, from a specific server</span></div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;      <a class="code" href="../../d6/d91/dhcpv6__client_8c.html#aa24ccb150ee9615fb89b5dae52b709c5">dhcpv6ClientStateRequest</a>(context);</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;   <span class="comment">//Process INIT-CONFIRM state</span></div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a73ca75f9f049c278a5f92b2def686884">DHCPV6_STATE_INIT_CONFIRM</a>:</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;      <span class="comment">//When a client that already has a valid lease starts up after a</span></div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;      <span class="comment">//power-down or reboot, it starts here instead of the INIT state</span></div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;      <a class="code" href="../../d6/d91/dhcpv6__client_8c.html#acc0bcc17a308c4015f93d1413efe6cdc">dhcpv6ClientStateInitConfirm</a>(context);</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;   <span class="comment">//Process CONFIRM state</span></div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9ac0f1f4819e62f2979a26a3654af7e2fc">DHCPV6_STATE_CONFIRM</a>:</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;      <span class="comment">//The client sends a Confirm message to any available server</span></div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;      <span class="comment">//to determine whether the addresses it was assigned are still</span></div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;      <span class="comment">//appropriate to the link to which the client is connected</span></div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;      <a class="code" href="../../d6/d91/dhcpv6__client_8c.html#a003a5c770aeaf0c5df2bb69afb28e36f">dhcpv6ClientStateConfirm</a>(context);</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;   <span class="comment">//Process DAD state</span></div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a3b351a49eb0882948f1af86701439abd">DHCPV6_STATE_DAD</a>:</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;      <span class="comment">//The client should perform duplicate address detection on each</span></div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;      <span class="comment">//of the addresses in any IAs it receives in the Reply message</span></div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;      <span class="comment">//before using that address for traffic</span></div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;      <a class="code" href="../../d6/d91/dhcpv6__client_8c.html#ac0a432f4acd640a42a731407c81fc6c5">dhcpv6ClientStateDad</a>(context);</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;   <span class="comment">//Process BOUND state</span></div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a49b5f6fffcbc5e9dadbe07ebe2d29535">DHCPV6_STATE_BOUND</a>:</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;      <span class="comment">//The client has a valid lease and is in its normal operating state</span></div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;      <a class="code" href="../../d6/d91/dhcpv6__client_8c.html#a5b7bf9e3e3893c66b1d11f9b1cd8173b">dhcpv6ClientStateBound</a>(context);</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;   <span class="comment">//Process RENEW state</span></div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a28a33f3446b846dc6ed8b728b23a5b70">DHCPV6_STATE_RENEW</a>:</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;      <span class="comment">//The client sends a Renew message to the server that originally</span></div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;      <span class="comment">//provided the client&#39;s addresses and configuration parameters to</span></div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;      <span class="comment">//extend the lifetimes on the addresses assigned to the client</span></div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;      <span class="comment">//and to update other configuration parameters</span></div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;      <a class="code" href="../../d6/d91/dhcpv6__client_8c.html#a06d1754aad1293f116e268a803f7b9b3">dhcpv6ClientStateRenew</a>(context);</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;   <span class="comment">//Process REBIND state</span></div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9ae19c57945990feb5d8fd89ae986481b6">DHCPV6_STATE_REBIND</a>:</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;      <span class="comment">//The client sends a Rebind message to any available server to extend</span></div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;      <span class="comment">//the lifetimes on the addresses assigned to the client and to update</span></div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;      <span class="comment">//other configuration parameters. This message is sent after a client</span></div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;      <span class="comment">//receives no response to a Renew message</span></div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;      <a class="code" href="../../d6/d91/dhcpv6__client_8c.html#a09565760718a3fd8534b6213870106c5">dhcpv6ClientStateRebind</a>(context);</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;   <span class="comment">//Process RELEASE state</span></div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a5c7dfad4462eb1ae1b609e1800f1dc93">DHCPV6_STATE_RELEASE</a>:</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;      <span class="comment">//To release one or more addresses, a client sends a Release message</span></div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;      <span class="comment">//to the server</span></div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;      <a class="code" href="../../d6/d91/dhcpv6__client_8c.html#a471ff743a2f7f0ba114d24e21b094207">dhcpv6ClientStateRelease</a>(context);</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;   <span class="comment">//Process DECLINE state</span></div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a198862c17ecac221d19b82f793b5fff8">DHCPV6_STATE_DECLINE</a>:</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;      <span class="comment">//If a client detects that one or more addresses assigned to it by a</span></div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;      <span class="comment">//server are already in use by another node, the client sends a Decline</span></div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;      <span class="comment">//message to the server to inform it that the address is suspect</span></div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;      <a class="code" href="../../d6/d91/dhcpv6__client_8c.html#a270893a7e759dc1cbbdbf29e4fabd653">dhcpv6ClientStateDecline</a>(context);</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;   <span class="comment">//Invalid state...</span></div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;   <span class="keywordflow">default</span>:</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;      <span class="comment">//Switch to the default state</span></div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;      context-&gt;state = <a class="code" href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a017951020877623ce2220289f5c93025">DHCPV6_STATE_INIT</a>;</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;   }</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;}</div><div class="ttc" id="dhcpv6__client_8h_html_a8610bfd009af9756638a193136ef93f9a5c7dfad4462eb1ae1b609e1800f1dc93"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a5c7dfad4462eb1ae1b609e1800f1dc93">DHCPV6_STATE_RELEASE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00252">dhcpv6_client.h:252</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_a8610bfd009af9756638a193136ef93f9a7bc292bbd95a3839b42102e4f5a57e59"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a7bc292bbd95a3839b42102e4f5a57e59">DHCPV6_STATE_SOLICIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00244">dhcpv6_client.h:244</a></div></div>
<div class="ttc" id="dhcpv6__client_8c_html_ac0a432f4acd640a42a731407c81fc6c5"><div class="ttname"><a href="../../d6/d91/dhcpv6__client_8c.html#ac0a432f4acd640a42a731407c81fc6c5">dhcpv6ClientStateDad</a></div><div class="ttdeci">void dhcpv6ClientStateDad(Dhcpv6ClientContext *context)</div><div class="ttdoc">DAD state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d91/dhcpv6__client_8c_source.html#l00846">dhcpv6_client.c:846</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_a8610bfd009af9756638a193136ef93f9a73ca75f9f049c278a5f92b2def686884"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a73ca75f9f049c278a5f92b2def686884">DHCPV6_STATE_INIT_CONFIRM</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00246">dhcpv6_client.h:246</a></div></div>
<div class="ttc" id="dhcpv6__client_8c_html_a3f8b9540189d50995763ccef0e89037b"><div class="ttname"><a href="../../d6/d91/dhcpv6__client_8c.html#a3f8b9540189d50995763ccef0e89037b">dhcpv6ClientStateSolicit</a></div><div class="ttdeci">void dhcpv6ClientStateSolicit(Dhcpv6ClientContext *context)</div><div class="ttdoc">SOLICIT state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d91/dhcpv6__client_8c_source.html#l00559">dhcpv6_client.c:559</a></div></div>
<div class="ttc" id="group__BSPDefine_html_ga070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../de/da2/group__BSPDefine.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d6b/nm__bsp_8h_source.html#l00070">nm_bsp.h:70</a></div></div>
<div class="ttc" id="dhcpv6__client_8c_html_a09565760718a3fd8534b6213870106c5"><div class="ttname"><a href="../../d6/d91/dhcpv6__client_8c.html#a09565760718a3fd8534b6213870106c5">dhcpv6ClientStateRebind</a></div><div class="ttdeci">void dhcpv6ClientStateRebind(Dhcpv6ClientContext *context)</div><div class="ttdoc">REBIND state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d91/dhcpv6__client_8c_source.html#l01028">dhcpv6_client.c:1028</a></div></div>
<div class="ttc" id="dhcpv6__client_8c_html_aa24ccb150ee9615fb89b5dae52b709c5"><div class="ttname"><a href="../../d6/d91/dhcpv6__client_8c.html#aa24ccb150ee9615fb89b5dae52b709c5">dhcpv6ClientStateRequest</a></div><div class="ttdeci">void dhcpv6ClientStateRequest(Dhcpv6ClientContext *context)</div><div class="ttdoc">REQUEST state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d91/dhcpv6__client_8c_source.html#l00641">dhcpv6_client.c:641</a></div></div>
<div class="ttc" id="dhcpv6__client_8c_html_a471ff743a2f7f0ba114d24e21b094207"><div class="ttname"><a href="../../d6/d91/dhcpv6__client_8c.html#a471ff743a2f7f0ba114d24e21b094207">dhcpv6ClientStateRelease</a></div><div class="ttdeci">void dhcpv6ClientStateRelease(Dhcpv6ClientContext *context)</div><div class="ttdoc">RELEASE state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d91/dhcpv6__client_8c_source.html#l01116">dhcpv6_client.c:1116</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_a8610bfd009af9756638a193136ef93f9a4a75d2c1f2fd8684d2a124721935a7d9"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a4a75d2c1f2fd8684d2a124721935a7d9">DHCPV6_STATE_REQUEST</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00245">dhcpv6_client.h:245</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_a8610bfd009af9756638a193136ef93f9a49b5f6fffcbc5e9dadbe07ebe2d29535"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a49b5f6fffcbc5e9dadbe07ebe2d29535">DHCPV6_STATE_BOUND</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00249">dhcpv6_client.h:249</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_a8610bfd009af9756638a193136ef93f9a017951020877623ce2220289f5c93025"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a017951020877623ce2220289f5c93025">DHCPV6_STATE_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00243">dhcpv6_client.h:243</a></div></div>
<div class="ttc" id="dhcpv6__client_8c_html_a003a5c770aeaf0c5df2bb69afb28e36f"><div class="ttname"><a href="../../d6/d91/dhcpv6__client_8c.html#a003a5c770aeaf0c5df2bb69afb28e36f">dhcpv6ClientStateConfirm</a></div><div class="ttdeci">void dhcpv6ClientStateConfirm(Dhcpv6ClientContext *context)</div><div class="ttdoc">CONFIRM state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d91/dhcpv6__client_8c_source.html#l00761">dhcpv6_client.c:761</a></div></div>
<div class="ttc" id="dhcpv6__client_8c_html_a06d1754aad1293f116e268a803f7b9b3"><div class="ttname"><a href="../../d6/d91/dhcpv6__client_8c.html#a06d1754aad1293f116e268a803f7b9b3">dhcpv6ClientStateRenew</a></div><div class="ttdeci">void dhcpv6ClientStateRenew(Dhcpv6ClientContext *context)</div><div class="ttdoc">RENEW state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d91/dhcpv6__client_8c_source.html#l00942">dhcpv6_client.c:942</a></div></div>
<div class="ttc" id="dhcpv6__client_8c_html_a3a68a2c66db4634e60cf22402db2d1c8"><div class="ttname"><a href="../../d6/d91/dhcpv6__client_8c.html#a3a68a2c66db4634e60cf22402db2d1c8">dhcpv6ClientStateInit</a></div><div class="ttdeci">void dhcpv6ClientStateInit(Dhcpv6ClientContext *context)</div><div class="ttdoc">INIT state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d91/dhcpv6__client_8c_source.html#l00513">dhcpv6_client.c:513</a></div></div>
<div class="ttc" id="dhcpv6__client_8c_html_a5b7bf9e3e3893c66b1d11f9b1cd8173b"><div class="ttname"><a href="../../d6/d91/dhcpv6__client_8c.html#a5b7bf9e3e3893c66b1d11f9b1cd8173b">dhcpv6ClientStateBound</a></div><div class="ttdeci">void dhcpv6ClientStateBound(Dhcpv6ClientContext *context)</div><div class="ttdoc">BOUND state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d91/dhcpv6__client_8c_source.html#l00900">dhcpv6_client.c:900</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_a8610bfd009af9756638a193136ef93f9a198862c17ecac221d19b82f793b5fff8"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a198862c17ecac221d19b82f793b5fff8">DHCPV6_STATE_DECLINE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00253">dhcpv6_client.h:253</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_a8610bfd009af9756638a193136ef93f9ae19c57945990feb5d8fd89ae986481b6"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9ae19c57945990feb5d8fd89ae986481b6">DHCPV6_STATE_REBIND</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00251">dhcpv6_client.h:251</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_a8610bfd009af9756638a193136ef93f9ac0f1f4819e62f2979a26a3654af7e2fc"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9ac0f1f4819e62f2979a26a3654af7e2fc">DHCPV6_STATE_CONFIRM</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00247">dhcpv6_client.h:247</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_a8610bfd009af9756638a193136ef93f9a3b351a49eb0882948f1af86701439abd"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a3b351a49eb0882948f1af86701439abd">DHCPV6_STATE_DAD</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00248">dhcpv6_client.h:248</a></div></div>
<div class="ttc" id="dhcpv6__client_8c_html_acc0bcc17a308c4015f93d1413efe6cdc"><div class="ttname"><a href="../../d6/d91/dhcpv6__client_8c.html#acc0bcc17a308c4015f93d1413efe6cdc">dhcpv6ClientStateInitConfirm</a></div><div class="ttdeci">void dhcpv6ClientStateInitConfirm(Dhcpv6ClientContext *context)</div><div class="ttdoc">INIT-CONFIRM state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d91/dhcpv6__client_8c_source.html#l00715">dhcpv6_client.c:715</a></div></div>
<div class="ttc" id="dhcpv6__client_8h_html_a8610bfd009af9756638a193136ef93f9a28a33f3446b846dc6ed8b728b23a5b70"><div class="ttname"><a href="../../df/d84/dhcpv6__client_8h.html#a8610bfd009af9756638a193136ef93f9a28a33f3446b846dc6ed8b728b23a5b70">DHCPV6_STATE_RENEW</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d84/dhcpv6__client_8h_source.html#l00250">dhcpv6_client.h:250</a></div></div>
<div class="ttc" id="dhcpv6__client_8c_html_a270893a7e759dc1cbbdbf29e4fabd653"><div class="ttname"><a href="../../d6/d91/dhcpv6__client_8c.html#a270893a7e759dc1cbbdbf29e4fabd653">dhcpv6ClientStateDecline</a></div><div class="ttdeci">void dhcpv6ClientStateDecline(Dhcpv6ClientContext *context)</div><div class="ttdoc">DECLINE state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d91/dhcpv6__client_8c_source.html#l01183">dhcpv6_client.c:1183</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a0ad2c17a8d547e75d579b9763ace80bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ad2c17a8d547e75d579b9763ace80bb">&#9670;&nbsp;</a></span>dhcpv6ClientTickCounter</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/dfa/compiler__port_8h.html#ae3e32a98d431a02106616da3071832dd">systime_t</a> dhcpv6ClientTickCounter</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d91/dhcpv6__client_8c_source.html#l00059">59</a> of file <a class="el" href="../../d6/d91/dhcpv6__client_8c_source.html">dhcpv6_client.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_7e9256e5f59bdf4e670955c020ed8bf3.html">cyclone_tcp</a></li><li class="navelem"><a class="el" href="../../dir_29aa220e236386416217d0ce741a8f35.html">dhcpv6</a></li><li class="navelem"><a class="el" href="../../df/d84/dhcpv6__client_8h.html">dhcpv6_client.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
