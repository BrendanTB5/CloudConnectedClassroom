\hypertarget{auto__ip_8h}{}\section{cyclone\+\_\+tcp/ipv4/auto\+\_\+ip.h File Reference}
\label{auto__ip_8h}\index{cyclone\+\_\+tcp/ipv4/auto\+\_\+ip.\+h@{cyclone\+\_\+tcp/ipv4/auto\+\_\+ip.\+h}}


Auto-\/\+IP (Dynamic Configuration of I\+Pv4 Link-\/\+Local Addresses)  


{\ttfamily \#include \char`\"{}core/net.\+h\char`\"{}}\newline
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structAutoIpSettings}{Auto\+Ip\+Settings}
\begin{DoxyCompactList}\small\item\em Auto-\/\+IP settings. \end{DoxyCompactList}\item 
struct \hyperlink{struct__AutoIpContext}{\+\_\+\+Auto\+Ip\+Context}
\begin{DoxyCompactList}\small\item\em Auto-\/\+IP context. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{auto__ip_8h_a983ccde934e018c61994512662a251f7}{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+S\+U\+P\+P\+O\+RT}~\hyperlink{os__port_8h_abd5c8ab57c190a6522ccdbf0ed7577da}{D\+I\+S\+A\+B\+L\+ED}
\item 
\#define \hyperlink{auto__ip_8h_a411b86d994e5f36340f8509852416110}{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+B\+C\+T\+\_\+\+S\+U\+P\+P\+O\+RT}~\hyperlink{os__port_8h_abd5c8ab57c190a6522ccdbf0ed7577da}{D\+I\+S\+A\+B\+L\+ED}
\item 
\#define \hyperlink{auto__ip_8h_a1298af56c7636eec12f7d40a675fd76c}{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+T\+I\+C\+K\+\_\+\+I\+N\+T\+E\+R\+V\+AL}~200
\item 
\#define \hyperlink{auto__ip_8h_ab5ba98d00c6aaff9505a77fc093a11a1}{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+P\+R\+O\+B\+E\+\_\+\+W\+A\+IT}~1000
\item 
\#define \hyperlink{auto__ip_8h_ac182189d234467addd3dd1f90b9b4198}{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+P\+R\+O\+B\+E\+\_\+\+N\+UM}~3
\item 
\#define \hyperlink{auto__ip_8h_a25b5bba4eb3be745e25a401d828fe322}{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+P\+R\+O\+B\+E\+\_\+\+M\+IN}~1000
\item 
\#define \hyperlink{auto__ip_8h_a01695c7fc6c1815955e7201ddb95b8b8}{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+P\+R\+O\+B\+E\+\_\+\+M\+AX}~2000
\item 
\#define \hyperlink{auto__ip_8h_a769077776d54840360b132f89f59ff90}{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+A\+N\+N\+O\+U\+N\+C\+E\+\_\+\+W\+A\+IT}~2000
\item 
\#define \hyperlink{auto__ip_8h_a4530c379efcf1e63d830f66ba0668532}{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+A\+N\+N\+O\+U\+N\+C\+E\+\_\+\+N\+UM}~2
\item 
\#define \hyperlink{auto__ip_8h_a16574a4a3d8a4433595488ceafb8f884}{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+A\+N\+N\+O\+U\+N\+C\+E\+\_\+\+I\+N\+T\+E\+R\+V\+AL}~2000
\item 
\#define \hyperlink{auto__ip_8h_ac15b55f07c58939935120838709f407e}{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+M\+A\+X\+\_\+\+C\+O\+N\+F\+L\+I\+C\+TS}~10
\item 
\#define \hyperlink{auto__ip_8h_ae101df6cb1cee1e9cd3718c7f446cc8b}{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+R\+A\+T\+E\+\_\+\+L\+I\+M\+I\+T\+\_\+\+I\+N\+T\+E\+R\+V\+AL}~60000
\item 
\#define \hyperlink{auto__ip_8h_adf3a469f7a888950f98cbb7a41c83d93}{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+D\+E\+F\+E\+N\+D\+\_\+\+I\+N\+T\+E\+R\+V\+AL}~10000
\item 
\#define \hyperlink{auto__ip_8h_af849dca095019f9f5e8b882941a3cd85}{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+P\+R\+E\+F\+IX}~\hyperlink{ipv4_8h_ad600bf3656435c44c5d656e99a11943f}{I\+P\+V4\+\_\+\+A\+D\+DR}(169, 254, 0, 0)
\item 
\#define \hyperlink{auto__ip_8h_a901fac60670de0b04c2ceed8bd0bf18c}{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+M\+A\+SK}~\hyperlink{ipv4_8h_ad600bf3656435c44c5d656e99a11943f}{I\+P\+V4\+\_\+\+A\+D\+DR}(255, 255, 0, 0)
\item 
\#define \hyperlink{auto__ip_8h_ad37492bb1b0ef7481383f4ad0ec1e31e}{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+A\+D\+D\+R\+\_\+\+M\+IN}~\hyperlink{ipv4_8h_ad600bf3656435c44c5d656e99a11943f}{I\+P\+V4\+\_\+\+A\+D\+DR}(169, 254, 1, 0)
\item 
\#define \hyperlink{auto__ip_8h_a1f72cc311645545363e86c1d12eadbfa}{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+A\+D\+D\+R\+\_\+\+M\+AX}~\hyperlink{ipv4_8h_ad600bf3656435c44c5d656e99a11943f}{I\+P\+V4\+\_\+\+A\+D\+DR}(169, 254, 254, 255)
\item 
\#define \hyperlink{auto__ip_8h_aa1164cc1ba77c262d41deb99cb704cc2}{Auto\+Ip\+Context}~struct \hyperlink{struct__AutoIpContext}{\+\_\+\+Auto\+Ip\+Context}
\end{DoxyCompactItemize}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef void($\ast$ \hyperlink{auto__ip_8h_a88d83d5933a137c867d45270dc4f89e7}{Auto\+Ip\+Link\+Change\+Callback}) (\hyperlink{auto__ip_8h_aa1164cc1ba77c262d41deb99cb704cc2}{Auto\+Ip\+Context} $\ast$context, \hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{Net\+Interface} $\ast$interface, \hyperlink{compiler__port_8h_a812d16e5494522586b3784e55d479912}{bool\+\_\+t} link\+State)
\begin{DoxyCompactList}\small\item\em Link state change callback. \end{DoxyCompactList}\item 
typedef void($\ast$ \hyperlink{auto__ip_8h_a2b8a7f5af501a3e7b34fdd9b496f00a2}{Auto\+Ip\+State\+Change\+Callback}) (\hyperlink{auto__ip_8h_aa1164cc1ba77c262d41deb99cb704cc2}{Auto\+Ip\+Context} $\ast$context, \hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{Net\+Interface} $\ast$interface, \hyperlink{auto__ip_8h_a76eb539c3a130a13ca891530f25f4625}{Auto\+Ip\+State} state)
\begin{DoxyCompactList}\small\item\em F\+SM state change callback. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{auto__ip_8h_a76eb539c3a130a13ca891530f25f4625}{Auto\+Ip\+State} \{ \newline
\hyperlink{auto__ip_8h_a76eb539c3a130a13ca891530f25f4625afb5062a4c8feaa7ceaec58840c4d09e6}{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+S\+T\+A\+T\+E\+\_\+\+I\+N\+IT} = 0, 
\hyperlink{auto__ip_8h_a76eb539c3a130a13ca891530f25f4625af90fb359af0713df004b1d5bc926e4de}{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+S\+T\+A\+T\+E\+\_\+\+P\+R\+O\+B\+I\+NG} = 1, 
\hyperlink{auto__ip_8h_a76eb539c3a130a13ca891530f25f4625a1f30cc26d685c922e6efae6a663140ba}{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+S\+T\+A\+T\+E\+\_\+\+A\+N\+N\+O\+U\+N\+C\+I\+NG} = 2, 
\hyperlink{auto__ip_8h_a76eb539c3a130a13ca891530f25f4625a4f914a257f7bdb3e04206230a0e210d7}{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+S\+T\+A\+T\+E\+\_\+\+C\+O\+N\+F\+I\+G\+U\+R\+ED} = 3, 
\newline
\hyperlink{auto__ip_8h_a76eb539c3a130a13ca891530f25f4625a36854c294f68fc8c14923a2033ca8728}{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+S\+T\+A\+T\+E\+\_\+\+D\+E\+F\+E\+N\+D\+I\+NG} = 4
 \}\begin{DoxyCompactList}\small\item\em Auto-\/\+IP F\+SM states. \end{DoxyCompactList}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{auto__ip_8h_a55f3e4cb7c225e42f50843c1640ae330}{auto\+Ip\+Get\+Default\+Settings} (\hyperlink{structAutoIpSettings}{Auto\+Ip\+Settings} $\ast$settings)
\begin{DoxyCompactList}\small\item\em Initialize settings with default values. \end{DoxyCompactList}\item 
\hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} \hyperlink{auto__ip_8h_a9e03afdc3058da97bc6e40b2c9231962}{auto\+Ip\+Init} (\hyperlink{auto__ip_8h_aa1164cc1ba77c262d41deb99cb704cc2}{Auto\+Ip\+Context} $\ast$context, const \hyperlink{structAutoIpSettings}{Auto\+Ip\+Settings} $\ast$settings)
\begin{DoxyCompactList}\small\item\em Auto-\/\+IP initialization. \end{DoxyCompactList}\item 
\hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} \hyperlink{auto__ip_8h_a8f6515106dbf44e86121d66c4a03485d}{auto\+Ip\+Start} (\hyperlink{auto__ip_8h_aa1164cc1ba77c262d41deb99cb704cc2}{Auto\+Ip\+Context} $\ast$context)
\begin{DoxyCompactList}\small\item\em Start Auto-\/\+IP process. \end{DoxyCompactList}\item 
\hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} \hyperlink{auto__ip_8h_a6d6bd51646a2ccc9d0f60f339a8fc207}{auto\+Ip\+Stop} (\hyperlink{auto__ip_8h_aa1164cc1ba77c262d41deb99cb704cc2}{Auto\+Ip\+Context} $\ast$context)
\begin{DoxyCompactList}\small\item\em Stop Auto-\/\+IP process. \end{DoxyCompactList}\item 
\hyperlink{auto__ip_8h_a76eb539c3a130a13ca891530f25f4625}{Auto\+Ip\+State} \hyperlink{auto__ip_8h_af4178221d8c37be65fee79ac35cfb92f}{auto\+Ip\+Get\+State} (\hyperlink{auto__ip_8h_aa1164cc1ba77c262d41deb99cb704cc2}{Auto\+Ip\+Context} $\ast$context)
\begin{DoxyCompactList}\small\item\em Retrieve current state. \end{DoxyCompactList}\item 
void \hyperlink{auto__ip_8h_afb27f1c08eabbf3f68dd8ad85d9d8168}{auto\+Ip\+Tick} (\hyperlink{auto__ip_8h_aa1164cc1ba77c262d41deb99cb704cc2}{Auto\+Ip\+Context} $\ast$context)
\begin{DoxyCompactList}\small\item\em Auto-\/\+IP timer handler. \end{DoxyCompactList}\item 
void \hyperlink{auto__ip_8h_aecdc300a5f10f8b0ac671449081cc213}{auto\+Ip\+Link\+Change\+Event} (\hyperlink{auto__ip_8h_aa1164cc1ba77c262d41deb99cb704cc2}{Auto\+Ip\+Context} $\ast$context)
\begin{DoxyCompactList}\small\item\em Callback function for link change event. \end{DoxyCompactList}\item 
void \hyperlink{auto__ip_8h_aaa86754ff773307cf8b4682886d7fceb}{auto\+Ip\+Change\+State} (\hyperlink{auto__ip_8h_aa1164cc1ba77c262d41deb99cb704cc2}{Auto\+Ip\+Context} $\ast$context, \hyperlink{auto__ip_8h_a76eb539c3a130a13ca891530f25f4625}{Auto\+Ip\+State} new\+State, \hyperlink{compiler__port_8h_ae3e32a98d431a02106616da3071832dd}{systime\+\_\+t} delay)
\begin{DoxyCompactList}\small\item\em Update Auto-\/\+IP F\+SM state. \end{DoxyCompactList}\item 
void \hyperlink{auto__ip_8h_ab439da18d07d3dbd856099002d2a44a6}{auto\+Ip\+Generate\+Addr} (\hyperlink{ipv4_8h_a411debb3d770caa0c06d3f73367da37f}{Ipv4\+Addr} $\ast$\hyperlink{ipcp_8h_a11542dd5a4de5976a89188df3d53b42d}{ip\+Addr})
\begin{DoxyCompactList}\small\item\em Generate a random link-\/local address. \end{DoxyCompactList}\item 
void \hyperlink{auto__ip_8h_aa19fd806fadfb27241230b4e3a6d1b15}{auto\+Ip\+Dump\+Config} (\hyperlink{auto__ip_8h_aa1164cc1ba77c262d41deb99cb704cc2}{Auto\+Ip\+Context} $\ast$context)
\begin{DoxyCompactList}\small\item\em Dump Auto-\/\+IP configuration for debugging purpose. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\hyperlink{compiler__port_8h_ae3e32a98d431a02106616da3071832dd}{systime\+\_\+t} \hyperlink{auto__ip_8h_afbac3aaeb3fcc69c77093feeb75330fa}{auto\+Ip\+Tick\+Counter}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Auto-\/\+IP (Dynamic Configuration of I\+Pv4 Link-\/\+Local Addresses) 

\hypertarget{pic32mz__ef__curiosity_8h_License}{}\subsection{License}\label{pic32mz__ef__curiosity_8h_License}
S\+P\+D\+X-\/\+License-\/\+Identifier\+: G\+P\+L-\/2.\+0-\/or-\/later

Copyright (C) 2010-\/2019 Oryx Embedded S\+A\+RL. All rights reserved.

This file is part of Cyclone\+T\+CP Open.

This program is free software; you can redistribute it and/or modify it under the terms of the G\+NU General Public License as published by the Free Software Foundation; either version 2 of the License, or (at your option) any later version.

This program is distributed in the hope that it will be useful, but W\+I\+T\+H\+O\+UT A\+NY W\+A\+R\+R\+A\+N\+TY; without even the implied warranty of M\+E\+R\+C\+H\+A\+N\+T\+A\+B\+I\+L\+I\+TY or F\+I\+T\+N\+E\+SS F\+OR A P\+A\+R\+T\+I\+C\+U\+L\+AR P\+U\+R\+P\+O\+SE. See the G\+NU General Public License for more details.

You should have received a copy of the G\+NU General Public License along with this program; if not, write to the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-\/1301, U\+SA.

\begin{DoxyAuthor}{Author}
Oryx Embedded S\+A\+RL (www.\+oryx-\/embedded.\+com) 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
1.\+9.\+6 
\end{DoxyVersion}


\subsection{Macro Definition Documentation}
\mbox{\Hypertarget{auto__ip_8h_a1f72cc311645545363e86c1d12eadbfa}\label{auto__ip_8h_a1f72cc311645545363e86c1d12eadbfa}} 
\index{auto\+\_\+ip.\+h@{auto\+\_\+ip.\+h}!A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+A\+D\+D\+R\+\_\+\+M\+AX@{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+A\+D\+D\+R\+\_\+\+M\+AX}}
\index{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+A\+D\+D\+R\+\_\+\+M\+AX@{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+A\+D\+D\+R\+\_\+\+M\+AX}!auto\+\_\+ip.\+h@{auto\+\_\+ip.\+h}}
\subsubsection{\texorpdfstring{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+A\+D\+D\+R\+\_\+\+M\+AX}{AUTO\_IP\_ADDR\_MAX}}
{\footnotesize\ttfamily \#define A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+A\+D\+D\+R\+\_\+\+M\+AX~\hyperlink{ipv4_8h_ad600bf3656435c44c5d656e99a11943f}{I\+P\+V4\+\_\+\+A\+D\+DR}(169, 254, 254, 255)}



Definition at line 135 of file auto\+\_\+ip.\+h.

\mbox{\Hypertarget{auto__ip_8h_ad37492bb1b0ef7481383f4ad0ec1e31e}\label{auto__ip_8h_ad37492bb1b0ef7481383f4ad0ec1e31e}} 
\index{auto\+\_\+ip.\+h@{auto\+\_\+ip.\+h}!A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+A\+D\+D\+R\+\_\+\+M\+IN@{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+A\+D\+D\+R\+\_\+\+M\+IN}}
\index{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+A\+D\+D\+R\+\_\+\+M\+IN@{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+A\+D\+D\+R\+\_\+\+M\+IN}!auto\+\_\+ip.\+h@{auto\+\_\+ip.\+h}}
\subsubsection{\texorpdfstring{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+A\+D\+D\+R\+\_\+\+M\+IN}{AUTO\_IP\_ADDR\_MIN}}
{\footnotesize\ttfamily \#define A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+A\+D\+D\+R\+\_\+\+M\+IN~\hyperlink{ipv4_8h_ad600bf3656435c44c5d656e99a11943f}{I\+P\+V4\+\_\+\+A\+D\+DR}(169, 254, 1, 0)}



Definition at line 134 of file auto\+\_\+ip.\+h.

\mbox{\Hypertarget{auto__ip_8h_a16574a4a3d8a4433595488ceafb8f884}\label{auto__ip_8h_a16574a4a3d8a4433595488ceafb8f884}} 
\index{auto\+\_\+ip.\+h@{auto\+\_\+ip.\+h}!A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+A\+N\+N\+O\+U\+N\+C\+E\+\_\+\+I\+N\+T\+E\+R\+V\+AL@{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+A\+N\+N\+O\+U\+N\+C\+E\+\_\+\+I\+N\+T\+E\+R\+V\+AL}}
\index{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+A\+N\+N\+O\+U\+N\+C\+E\+\_\+\+I\+N\+T\+E\+R\+V\+AL@{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+A\+N\+N\+O\+U\+N\+C\+E\+\_\+\+I\+N\+T\+E\+R\+V\+AL}!auto\+\_\+ip.\+h@{auto\+\_\+ip.\+h}}
\subsubsection{\texorpdfstring{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+A\+N\+N\+O\+U\+N\+C\+E\+\_\+\+I\+N\+T\+E\+R\+V\+AL}{AUTO\_IP\_ANNOUNCE\_INTERVAL}}
{\footnotesize\ttfamily \#define A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+A\+N\+N\+O\+U\+N\+C\+E\+\_\+\+I\+N\+T\+E\+R\+V\+AL~2000}



Definition at line 102 of file auto\+\_\+ip.\+h.

\mbox{\Hypertarget{auto__ip_8h_a4530c379efcf1e63d830f66ba0668532}\label{auto__ip_8h_a4530c379efcf1e63d830f66ba0668532}} 
\index{auto\+\_\+ip.\+h@{auto\+\_\+ip.\+h}!A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+A\+N\+N\+O\+U\+N\+C\+E\+\_\+\+N\+UM@{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+A\+N\+N\+O\+U\+N\+C\+E\+\_\+\+N\+UM}}
\index{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+A\+N\+N\+O\+U\+N\+C\+E\+\_\+\+N\+UM@{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+A\+N\+N\+O\+U\+N\+C\+E\+\_\+\+N\+UM}!auto\+\_\+ip.\+h@{auto\+\_\+ip.\+h}}
\subsubsection{\texorpdfstring{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+A\+N\+N\+O\+U\+N\+C\+E\+\_\+\+N\+UM}{AUTO\_IP\_ANNOUNCE\_NUM}}
{\footnotesize\ttfamily \#define A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+A\+N\+N\+O\+U\+N\+C\+E\+\_\+\+N\+UM~2}



Definition at line 95 of file auto\+\_\+ip.\+h.

\mbox{\Hypertarget{auto__ip_8h_a769077776d54840360b132f89f59ff90}\label{auto__ip_8h_a769077776d54840360b132f89f59ff90}} 
\index{auto\+\_\+ip.\+h@{auto\+\_\+ip.\+h}!A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+A\+N\+N\+O\+U\+N\+C\+E\+\_\+\+W\+A\+IT@{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+A\+N\+N\+O\+U\+N\+C\+E\+\_\+\+W\+A\+IT}}
\index{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+A\+N\+N\+O\+U\+N\+C\+E\+\_\+\+W\+A\+IT@{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+A\+N\+N\+O\+U\+N\+C\+E\+\_\+\+W\+A\+IT}!auto\+\_\+ip.\+h@{auto\+\_\+ip.\+h}}
\subsubsection{\texorpdfstring{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+A\+N\+N\+O\+U\+N\+C\+E\+\_\+\+W\+A\+IT}{AUTO\_IP\_ANNOUNCE\_WAIT}}
{\footnotesize\ttfamily \#define A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+A\+N\+N\+O\+U\+N\+C\+E\+\_\+\+W\+A\+IT~2000}



Definition at line 88 of file auto\+\_\+ip.\+h.

\mbox{\Hypertarget{auto__ip_8h_a411b86d994e5f36340f8509852416110}\label{auto__ip_8h_a411b86d994e5f36340f8509852416110}} 
\index{auto\+\_\+ip.\+h@{auto\+\_\+ip.\+h}!A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+B\+C\+T\+\_\+\+S\+U\+P\+P\+O\+RT@{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+B\+C\+T\+\_\+\+S\+U\+P\+P\+O\+RT}}
\index{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+B\+C\+T\+\_\+\+S\+U\+P\+P\+O\+RT@{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+B\+C\+T\+\_\+\+S\+U\+P\+P\+O\+RT}!auto\+\_\+ip.\+h@{auto\+\_\+ip.\+h}}
\subsubsection{\texorpdfstring{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+B\+C\+T\+\_\+\+S\+U\+P\+P\+O\+RT}{AUTO\_IP\_BCT\_SUPPORT}}
{\footnotesize\ttfamily \#define A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+B\+C\+T\+\_\+\+S\+U\+P\+P\+O\+RT~\hyperlink{os__port_8h_abd5c8ab57c190a6522ccdbf0ed7577da}{D\+I\+S\+A\+B\+L\+ED}}



Definition at line 46 of file auto\+\_\+ip.\+h.

\mbox{\Hypertarget{auto__ip_8h_adf3a469f7a888950f98cbb7a41c83d93}\label{auto__ip_8h_adf3a469f7a888950f98cbb7a41c83d93}} 
\index{auto\+\_\+ip.\+h@{auto\+\_\+ip.\+h}!A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+D\+E\+F\+E\+N\+D\+\_\+\+I\+N\+T\+E\+R\+V\+AL@{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+D\+E\+F\+E\+N\+D\+\_\+\+I\+N\+T\+E\+R\+V\+AL}}
\index{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+D\+E\+F\+E\+N\+D\+\_\+\+I\+N\+T\+E\+R\+V\+AL@{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+D\+E\+F\+E\+N\+D\+\_\+\+I\+N\+T\+E\+R\+V\+AL}!auto\+\_\+ip.\+h@{auto\+\_\+ip.\+h}}
\subsubsection{\texorpdfstring{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+D\+E\+F\+E\+N\+D\+\_\+\+I\+N\+T\+E\+R\+V\+AL}{AUTO\_IP\_DEFEND\_INTERVAL}}
{\footnotesize\ttfamily \#define A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+D\+E\+F\+E\+N\+D\+\_\+\+I\+N\+T\+E\+R\+V\+AL~10000}



Definition at line 123 of file auto\+\_\+ip.\+h.

\mbox{\Hypertarget{auto__ip_8h_a901fac60670de0b04c2ceed8bd0bf18c}\label{auto__ip_8h_a901fac60670de0b04c2ceed8bd0bf18c}} 
\index{auto\+\_\+ip.\+h@{auto\+\_\+ip.\+h}!A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+M\+A\+SK@{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+M\+A\+SK}}
\index{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+M\+A\+SK@{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+M\+A\+SK}!auto\+\_\+ip.\+h@{auto\+\_\+ip.\+h}}
\subsubsection{\texorpdfstring{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+M\+A\+SK}{AUTO\_IP\_MASK}}
{\footnotesize\ttfamily \#define A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+M\+A\+SK~\hyperlink{ipv4_8h_ad600bf3656435c44c5d656e99a11943f}{I\+P\+V4\+\_\+\+A\+D\+DR}(255, 255, 0, 0)}



Definition at line 131 of file auto\+\_\+ip.\+h.

\mbox{\Hypertarget{auto__ip_8h_ac15b55f07c58939935120838709f407e}\label{auto__ip_8h_ac15b55f07c58939935120838709f407e}} 
\index{auto\+\_\+ip.\+h@{auto\+\_\+ip.\+h}!A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+M\+A\+X\+\_\+\+C\+O\+N\+F\+L\+I\+C\+TS@{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+M\+A\+X\+\_\+\+C\+O\+N\+F\+L\+I\+C\+TS}}
\index{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+M\+A\+X\+\_\+\+C\+O\+N\+F\+L\+I\+C\+TS@{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+M\+A\+X\+\_\+\+C\+O\+N\+F\+L\+I\+C\+TS}!auto\+\_\+ip.\+h@{auto\+\_\+ip.\+h}}
\subsubsection{\texorpdfstring{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+M\+A\+X\+\_\+\+C\+O\+N\+F\+L\+I\+C\+TS}{AUTO\_IP\_MAX\_CONFLICTS}}
{\footnotesize\ttfamily \#define A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+M\+A\+X\+\_\+\+C\+O\+N\+F\+L\+I\+C\+TS~10}



Definition at line 109 of file auto\+\_\+ip.\+h.

\mbox{\Hypertarget{auto__ip_8h_af849dca095019f9f5e8b882941a3cd85}\label{auto__ip_8h_af849dca095019f9f5e8b882941a3cd85}} 
\index{auto\+\_\+ip.\+h@{auto\+\_\+ip.\+h}!A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+P\+R\+E\+F\+IX@{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+P\+R\+E\+F\+IX}}
\index{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+P\+R\+E\+F\+IX@{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+P\+R\+E\+F\+IX}!auto\+\_\+ip.\+h@{auto\+\_\+ip.\+h}}
\subsubsection{\texorpdfstring{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+P\+R\+E\+F\+IX}{AUTO\_IP\_PREFIX}}
{\footnotesize\ttfamily \#define A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+P\+R\+E\+F\+IX~\hyperlink{ipv4_8h_ad600bf3656435c44c5d656e99a11943f}{I\+P\+V4\+\_\+\+A\+D\+DR}(169, 254, 0, 0)}



Definition at line 129 of file auto\+\_\+ip.\+h.

\mbox{\Hypertarget{auto__ip_8h_a01695c7fc6c1815955e7201ddb95b8b8}\label{auto__ip_8h_a01695c7fc6c1815955e7201ddb95b8b8}} 
\index{auto\+\_\+ip.\+h@{auto\+\_\+ip.\+h}!A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+P\+R\+O\+B\+E\+\_\+\+M\+AX@{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+P\+R\+O\+B\+E\+\_\+\+M\+AX}}
\index{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+P\+R\+O\+B\+E\+\_\+\+M\+AX@{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+P\+R\+O\+B\+E\+\_\+\+M\+AX}!auto\+\_\+ip.\+h@{auto\+\_\+ip.\+h}}
\subsubsection{\texorpdfstring{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+P\+R\+O\+B\+E\+\_\+\+M\+AX}{AUTO\_IP\_PROBE\_MAX}}
{\footnotesize\ttfamily \#define A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+P\+R\+O\+B\+E\+\_\+\+M\+AX~2000}



Definition at line 81 of file auto\+\_\+ip.\+h.

\mbox{\Hypertarget{auto__ip_8h_a25b5bba4eb3be745e25a401d828fe322}\label{auto__ip_8h_a25b5bba4eb3be745e25a401d828fe322}} 
\index{auto\+\_\+ip.\+h@{auto\+\_\+ip.\+h}!A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+P\+R\+O\+B\+E\+\_\+\+M\+IN@{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+P\+R\+O\+B\+E\+\_\+\+M\+IN}}
\index{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+P\+R\+O\+B\+E\+\_\+\+M\+IN@{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+P\+R\+O\+B\+E\+\_\+\+M\+IN}!auto\+\_\+ip.\+h@{auto\+\_\+ip.\+h}}
\subsubsection{\texorpdfstring{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+P\+R\+O\+B\+E\+\_\+\+M\+IN}{AUTO\_IP\_PROBE\_MIN}}
{\footnotesize\ttfamily \#define A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+P\+R\+O\+B\+E\+\_\+\+M\+IN~1000}



Definition at line 74 of file auto\+\_\+ip.\+h.

\mbox{\Hypertarget{auto__ip_8h_ac182189d234467addd3dd1f90b9b4198}\label{auto__ip_8h_ac182189d234467addd3dd1f90b9b4198}} 
\index{auto\+\_\+ip.\+h@{auto\+\_\+ip.\+h}!A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+P\+R\+O\+B\+E\+\_\+\+N\+UM@{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+P\+R\+O\+B\+E\+\_\+\+N\+UM}}
\index{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+P\+R\+O\+B\+E\+\_\+\+N\+UM@{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+P\+R\+O\+B\+E\+\_\+\+N\+UM}!auto\+\_\+ip.\+h@{auto\+\_\+ip.\+h}}
\subsubsection{\texorpdfstring{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+P\+R\+O\+B\+E\+\_\+\+N\+UM}{AUTO\_IP\_PROBE\_NUM}}
{\footnotesize\ttfamily \#define A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+P\+R\+O\+B\+E\+\_\+\+N\+UM~3}



Definition at line 67 of file auto\+\_\+ip.\+h.

\mbox{\Hypertarget{auto__ip_8h_ab5ba98d00c6aaff9505a77fc093a11a1}\label{auto__ip_8h_ab5ba98d00c6aaff9505a77fc093a11a1}} 
\index{auto\+\_\+ip.\+h@{auto\+\_\+ip.\+h}!A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+P\+R\+O\+B\+E\+\_\+\+W\+A\+IT@{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+P\+R\+O\+B\+E\+\_\+\+W\+A\+IT}}
\index{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+P\+R\+O\+B\+E\+\_\+\+W\+A\+IT@{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+P\+R\+O\+B\+E\+\_\+\+W\+A\+IT}!auto\+\_\+ip.\+h@{auto\+\_\+ip.\+h}}
\subsubsection{\texorpdfstring{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+P\+R\+O\+B\+E\+\_\+\+W\+A\+IT}{AUTO\_IP\_PROBE\_WAIT}}
{\footnotesize\ttfamily \#define A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+P\+R\+O\+B\+E\+\_\+\+W\+A\+IT~1000}



Definition at line 60 of file auto\+\_\+ip.\+h.

\mbox{\Hypertarget{auto__ip_8h_ae101df6cb1cee1e9cd3718c7f446cc8b}\label{auto__ip_8h_ae101df6cb1cee1e9cd3718c7f446cc8b}} 
\index{auto\+\_\+ip.\+h@{auto\+\_\+ip.\+h}!A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+R\+A\+T\+E\+\_\+\+L\+I\+M\+I\+T\+\_\+\+I\+N\+T\+E\+R\+V\+AL@{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+R\+A\+T\+E\+\_\+\+L\+I\+M\+I\+T\+\_\+\+I\+N\+T\+E\+R\+V\+AL}}
\index{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+R\+A\+T\+E\+\_\+\+L\+I\+M\+I\+T\+\_\+\+I\+N\+T\+E\+R\+V\+AL@{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+R\+A\+T\+E\+\_\+\+L\+I\+M\+I\+T\+\_\+\+I\+N\+T\+E\+R\+V\+AL}!auto\+\_\+ip.\+h@{auto\+\_\+ip.\+h}}
\subsubsection{\texorpdfstring{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+R\+A\+T\+E\+\_\+\+L\+I\+M\+I\+T\+\_\+\+I\+N\+T\+E\+R\+V\+AL}{AUTO\_IP\_RATE\_LIMIT\_INTERVAL}}
{\footnotesize\ttfamily \#define A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+R\+A\+T\+E\+\_\+\+L\+I\+M\+I\+T\+\_\+\+I\+N\+T\+E\+R\+V\+AL~60000}



Definition at line 116 of file auto\+\_\+ip.\+h.

\mbox{\Hypertarget{auto__ip_8h_a983ccde934e018c61994512662a251f7}\label{auto__ip_8h_a983ccde934e018c61994512662a251f7}} 
\index{auto\+\_\+ip.\+h@{auto\+\_\+ip.\+h}!A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+S\+U\+P\+P\+O\+RT@{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+S\+U\+P\+P\+O\+RT}}
\index{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+S\+U\+P\+P\+O\+RT@{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+S\+U\+P\+P\+O\+RT}!auto\+\_\+ip.\+h@{auto\+\_\+ip.\+h}}
\subsubsection{\texorpdfstring{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+S\+U\+P\+P\+O\+RT}{AUTO\_IP\_SUPPORT}}
{\footnotesize\ttfamily \#define A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+S\+U\+P\+P\+O\+RT~\hyperlink{os__port_8h_abd5c8ab57c190a6522ccdbf0ed7577da}{D\+I\+S\+A\+B\+L\+ED}}



Definition at line 39 of file auto\+\_\+ip.\+h.

\mbox{\Hypertarget{auto__ip_8h_a1298af56c7636eec12f7d40a675fd76c}\label{auto__ip_8h_a1298af56c7636eec12f7d40a675fd76c}} 
\index{auto\+\_\+ip.\+h@{auto\+\_\+ip.\+h}!A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+T\+I\+C\+K\+\_\+\+I\+N\+T\+E\+R\+V\+AL@{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+T\+I\+C\+K\+\_\+\+I\+N\+T\+E\+R\+V\+AL}}
\index{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+T\+I\+C\+K\+\_\+\+I\+N\+T\+E\+R\+V\+AL@{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+T\+I\+C\+K\+\_\+\+I\+N\+T\+E\+R\+V\+AL}!auto\+\_\+ip.\+h@{auto\+\_\+ip.\+h}}
\subsubsection{\texorpdfstring{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+T\+I\+C\+K\+\_\+\+I\+N\+T\+E\+R\+V\+AL}{AUTO\_IP\_TICK\_INTERVAL}}
{\footnotesize\ttfamily \#define A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+T\+I\+C\+K\+\_\+\+I\+N\+T\+E\+R\+V\+AL~200}



Definition at line 53 of file auto\+\_\+ip.\+h.

\mbox{\Hypertarget{auto__ip_8h_aa1164cc1ba77c262d41deb99cb704cc2}\label{auto__ip_8h_aa1164cc1ba77c262d41deb99cb704cc2}} 
\index{auto\+\_\+ip.\+h@{auto\+\_\+ip.\+h}!Auto\+Ip\+Context@{Auto\+Ip\+Context}}
\index{Auto\+Ip\+Context@{Auto\+Ip\+Context}!auto\+\_\+ip.\+h@{auto\+\_\+ip.\+h}}
\subsubsection{\texorpdfstring{Auto\+Ip\+Context}{AutoIpContext}}
{\footnotesize\ttfamily \#define Auto\+Ip\+Context~struct \hyperlink{struct__AutoIpContext}{\+\_\+\+Auto\+Ip\+Context}}



Definition at line 139 of file auto\+\_\+ip.\+h.



\subsection{Typedef Documentation}
\mbox{\Hypertarget{auto__ip_8h_a88d83d5933a137c867d45270dc4f89e7}\label{auto__ip_8h_a88d83d5933a137c867d45270dc4f89e7}} 
\index{auto\+\_\+ip.\+h@{auto\+\_\+ip.\+h}!Auto\+Ip\+Link\+Change\+Callback@{Auto\+Ip\+Link\+Change\+Callback}}
\index{Auto\+Ip\+Link\+Change\+Callback@{Auto\+Ip\+Link\+Change\+Callback}!auto\+\_\+ip.\+h@{auto\+\_\+ip.\+h}}
\subsubsection{\texorpdfstring{Auto\+Ip\+Link\+Change\+Callback}{AutoIpLinkChangeCallback}}
{\footnotesize\ttfamily typedef void($\ast$ Auto\+Ip\+Link\+Change\+Callback) (\hyperlink{auto__ip_8h_aa1164cc1ba77c262d41deb99cb704cc2}{Auto\+Ip\+Context} $\ast$context, \hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{Net\+Interface} $\ast$interface, \hyperlink{compiler__port_8h_a812d16e5494522586b3784e55d479912}{bool\+\_\+t} link\+State)}



Link state change callback. 



Definition at line 165 of file auto\+\_\+ip.\+h.

\mbox{\Hypertarget{auto__ip_8h_a2b8a7f5af501a3e7b34fdd9b496f00a2}\label{auto__ip_8h_a2b8a7f5af501a3e7b34fdd9b496f00a2}} 
\index{auto\+\_\+ip.\+h@{auto\+\_\+ip.\+h}!Auto\+Ip\+State\+Change\+Callback@{Auto\+Ip\+State\+Change\+Callback}}
\index{Auto\+Ip\+State\+Change\+Callback@{Auto\+Ip\+State\+Change\+Callback}!auto\+\_\+ip.\+h@{auto\+\_\+ip.\+h}}
\subsubsection{\texorpdfstring{Auto\+Ip\+State\+Change\+Callback}{AutoIpStateChangeCallback}}
{\footnotesize\ttfamily typedef void($\ast$ Auto\+Ip\+State\+Change\+Callback) (\hyperlink{auto__ip_8h_aa1164cc1ba77c262d41deb99cb704cc2}{Auto\+Ip\+Context} $\ast$context, \hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{Net\+Interface} $\ast$interface, \hyperlink{auto__ip_8h_a76eb539c3a130a13ca891530f25f4625}{Auto\+Ip\+State} state)}



F\+SM state change callback. 



Definition at line 173 of file auto\+\_\+ip.\+h.



\subsection{Enumeration Type Documentation}
\mbox{\Hypertarget{auto__ip_8h_a76eb539c3a130a13ca891530f25f4625}\label{auto__ip_8h_a76eb539c3a130a13ca891530f25f4625}} 
\index{auto\+\_\+ip.\+h@{auto\+\_\+ip.\+h}!Auto\+Ip\+State@{Auto\+Ip\+State}}
\index{Auto\+Ip\+State@{Auto\+Ip\+State}!auto\+\_\+ip.\+h@{auto\+\_\+ip.\+h}}
\subsubsection{\texorpdfstring{Auto\+Ip\+State}{AutoIpState}}
{\footnotesize\ttfamily enum \hyperlink{auto__ip_8h_a76eb539c3a130a13ca891530f25f4625}{Auto\+Ip\+State}}



Auto-\/\+IP F\+SM states. 

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+S\+T\+A\+T\+E\+\_\+\+I\+N\+IT@{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+S\+T\+A\+T\+E\+\_\+\+I\+N\+IT}!auto\+\_\+ip.\+h@{auto\+\_\+ip.\+h}}\index{auto\+\_\+ip.\+h@{auto\+\_\+ip.\+h}!A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+S\+T\+A\+T\+E\+\_\+\+I\+N\+IT@{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+S\+T\+A\+T\+E\+\_\+\+I\+N\+IT}}}\mbox{\Hypertarget{auto__ip_8h_a76eb539c3a130a13ca891530f25f4625afb5062a4c8feaa7ceaec58840c4d09e6}\label{auto__ip_8h_a76eb539c3a130a13ca891530f25f4625afb5062a4c8feaa7ceaec58840c4d09e6}} 
A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+S\+T\+A\+T\+E\+\_\+\+I\+N\+IT&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+S\+T\+A\+T\+E\+\_\+\+P\+R\+O\+B\+I\+NG@{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+S\+T\+A\+T\+E\+\_\+\+P\+R\+O\+B\+I\+NG}!auto\+\_\+ip.\+h@{auto\+\_\+ip.\+h}}\index{auto\+\_\+ip.\+h@{auto\+\_\+ip.\+h}!A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+S\+T\+A\+T\+E\+\_\+\+P\+R\+O\+B\+I\+NG@{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+S\+T\+A\+T\+E\+\_\+\+P\+R\+O\+B\+I\+NG}}}\mbox{\Hypertarget{auto__ip_8h_a76eb539c3a130a13ca891530f25f4625af90fb359af0713df004b1d5bc926e4de}\label{auto__ip_8h_a76eb539c3a130a13ca891530f25f4625af90fb359af0713df004b1d5bc926e4de}} 
A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+S\+T\+A\+T\+E\+\_\+\+P\+R\+O\+B\+I\+NG&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+S\+T\+A\+T\+E\+\_\+\+A\+N\+N\+O\+U\+N\+C\+I\+NG@{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+S\+T\+A\+T\+E\+\_\+\+A\+N\+N\+O\+U\+N\+C\+I\+NG}!auto\+\_\+ip.\+h@{auto\+\_\+ip.\+h}}\index{auto\+\_\+ip.\+h@{auto\+\_\+ip.\+h}!A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+S\+T\+A\+T\+E\+\_\+\+A\+N\+N\+O\+U\+N\+C\+I\+NG@{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+S\+T\+A\+T\+E\+\_\+\+A\+N\+N\+O\+U\+N\+C\+I\+NG}}}\mbox{\Hypertarget{auto__ip_8h_a76eb539c3a130a13ca891530f25f4625a1f30cc26d685c922e6efae6a663140ba}\label{auto__ip_8h_a76eb539c3a130a13ca891530f25f4625a1f30cc26d685c922e6efae6a663140ba}} 
A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+S\+T\+A\+T\+E\+\_\+\+A\+N\+N\+O\+U\+N\+C\+I\+NG&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+S\+T\+A\+T\+E\+\_\+\+C\+O\+N\+F\+I\+G\+U\+R\+ED@{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+S\+T\+A\+T\+E\+\_\+\+C\+O\+N\+F\+I\+G\+U\+R\+ED}!auto\+\_\+ip.\+h@{auto\+\_\+ip.\+h}}\index{auto\+\_\+ip.\+h@{auto\+\_\+ip.\+h}!A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+S\+T\+A\+T\+E\+\_\+\+C\+O\+N\+F\+I\+G\+U\+R\+ED@{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+S\+T\+A\+T\+E\+\_\+\+C\+O\+N\+F\+I\+G\+U\+R\+ED}}}\mbox{\Hypertarget{auto__ip_8h_a76eb539c3a130a13ca891530f25f4625a4f914a257f7bdb3e04206230a0e210d7}\label{auto__ip_8h_a76eb539c3a130a13ca891530f25f4625a4f914a257f7bdb3e04206230a0e210d7}} 
A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+S\+T\+A\+T\+E\+\_\+\+C\+O\+N\+F\+I\+G\+U\+R\+ED&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+S\+T\+A\+T\+E\+\_\+\+D\+E\+F\+E\+N\+D\+I\+NG@{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+S\+T\+A\+T\+E\+\_\+\+D\+E\+F\+E\+N\+D\+I\+NG}!auto\+\_\+ip.\+h@{auto\+\_\+ip.\+h}}\index{auto\+\_\+ip.\+h@{auto\+\_\+ip.\+h}!A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+S\+T\+A\+T\+E\+\_\+\+D\+E\+F\+E\+N\+D\+I\+NG@{A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+S\+T\+A\+T\+E\+\_\+\+D\+E\+F\+E\+N\+D\+I\+NG}}}\mbox{\Hypertarget{auto__ip_8h_a76eb539c3a130a13ca891530f25f4625a36854c294f68fc8c14923a2033ca8728}\label{auto__ip_8h_a76eb539c3a130a13ca891530f25f4625a36854c294f68fc8c14923a2033ca8728}} 
A\+U\+T\+O\+\_\+\+I\+P\+\_\+\+S\+T\+A\+T\+E\+\_\+\+D\+E\+F\+E\+N\+D\+I\+NG&\\
\hline

\end{DoxyEnumFields}


Definition at line 151 of file auto\+\_\+ip.\+h.


\begin{DoxyCode}
152 \{
153    \hyperlink{auto__ip_8h_a76eb539c3a130a13ca891530f25f4625afb5062a4c8feaa7ceaec58840c4d09e6}{AUTO\_IP\_STATE\_INIT}       = 0,
154    \hyperlink{auto__ip_8h_a76eb539c3a130a13ca891530f25f4625af90fb359af0713df004b1d5bc926e4de}{AUTO\_IP\_STATE\_PROBING}    = 1,
155    \hyperlink{auto__ip_8h_a76eb539c3a130a13ca891530f25f4625a1f30cc26d685c922e6efae6a663140ba}{AUTO\_IP\_STATE\_ANNOUNCING} = 2,
156    \hyperlink{auto__ip_8h_a76eb539c3a130a13ca891530f25f4625a4f914a257f7bdb3e04206230a0e210d7}{AUTO\_IP\_STATE\_CONFIGURED} = 3,
157    \hyperlink{auto__ip_8h_a76eb539c3a130a13ca891530f25f4625a36854c294f68fc8c14923a2033ca8728}{AUTO\_IP\_STATE\_DEFENDING}  = 4
158 \} \hyperlink{auto__ip_8h_a76eb539c3a130a13ca891530f25f4625}{AutoIpState};
\end{DoxyCode}


\subsection{Function Documentation}
\mbox{\Hypertarget{auto__ip_8h_aaa86754ff773307cf8b4682886d7fceb}\label{auto__ip_8h_aaa86754ff773307cf8b4682886d7fceb}} 
\index{auto\+\_\+ip.\+h@{auto\+\_\+ip.\+h}!auto\+Ip\+Change\+State@{auto\+Ip\+Change\+State}}
\index{auto\+Ip\+Change\+State@{auto\+Ip\+Change\+State}!auto\+\_\+ip.\+h@{auto\+\_\+ip.\+h}}
\subsubsection{\texorpdfstring{auto\+Ip\+Change\+State()}{autoIpChangeState()}}
{\footnotesize\ttfamily void auto\+Ip\+Change\+State (\begin{DoxyParamCaption}\item[{\hyperlink{auto__ip_8h_aa1164cc1ba77c262d41deb99cb704cc2}{Auto\+Ip\+Context} $\ast$}]{context,  }\item[{\hyperlink{auto__ip_8h_a76eb539c3a130a13ca891530f25f4625}{Auto\+Ip\+State}}]{new\+State,  }\item[{\hyperlink{compiler__port_8h_ae3e32a98d431a02106616da3071832dd}{systime\+\_\+t}}]{delay }\end{DoxyParamCaption})}



Update Auto-\/\+IP F\+SM state. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em context} & Pointer to the Auto-\/\+IP context \\
\hline
\mbox{\tt in}  & {\em new\+State} & New Auto-\/\+IP state to switch to \\
\hline
\mbox{\tt in}  & {\em delay} & Initial delay \\
\hline
\end{DoxyParams}


Definition at line 505 of file auto\+\_\+ip.\+c.


\begin{DoxyCode}
507 \{
508    \hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{NetInterface} *interface;
509 
510    \textcolor{comment}{//Point to the underlying network interface}
511    \textcolor{keyword}{interface }= context->settings.interface;
512 
513    \textcolor{comment}{//Set time stamp}
514    context->timestamp = \hyperlink{os__port__chibios_8c_ab66a11272d40a916fa69dd8e4dc443d4}{osGetSystemTime}();
515    \textcolor{comment}{//Set initial delay}
516    context->timeout = delay;
517    \textcolor{comment}{//Reset retransmission counter}
518    context->retransmitCount = 0;
519    \textcolor{comment}{//Switch to the new state}
520    context->state = newState;
521 
522    \textcolor{comment}{//Any registered callback?}
523    \textcolor{keywordflow}{if}(context->settings.stateChangeEvent != \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
524    \{
525       \textcolor{comment}{//Release exclusive access}
526       \hyperlink{os__port__chibios_8c_a8e10e5b2c6d3877b5ba60e375ac45d79}{osReleaseMutex}(&\hyperlink{net_8c_afe31551ad26115fae8e575654346d441}{netMutex});
527       \textcolor{comment}{//Invoke user callback function}
528       context->settings.stateChangeEvent(context, interface, newState);
529       \textcolor{comment}{//Get exclusive access}
530       \hyperlink{os__port__chibios_8c_a58485224df4bfa522246d55b35bbd83a}{osAcquireMutex}(&\hyperlink{net_8c_afe31551ad26115fae8e575654346d441}{netMutex});
531    \}
532 \}
\end{DoxyCode}
\mbox{\Hypertarget{auto__ip_8h_aa19fd806fadfb27241230b4e3a6d1b15}\label{auto__ip_8h_aa19fd806fadfb27241230b4e3a6d1b15}} 
\index{auto\+\_\+ip.\+h@{auto\+\_\+ip.\+h}!auto\+Ip\+Dump\+Config@{auto\+Ip\+Dump\+Config}}
\index{auto\+Ip\+Dump\+Config@{auto\+Ip\+Dump\+Config}!auto\+\_\+ip.\+h@{auto\+\_\+ip.\+h}}
\subsubsection{\texorpdfstring{auto\+Ip\+Dump\+Config()}{autoIpDumpConfig()}}
{\footnotesize\ttfamily void auto\+Ip\+Dump\+Config (\begin{DoxyParamCaption}\item[{\hyperlink{auto__ip_8h_aa1164cc1ba77c262d41deb99cb704cc2}{Auto\+Ip\+Context} $\ast$}]{context }\end{DoxyParamCaption})}



Dump Auto-\/\+IP configuration for debugging purpose. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em context} & Pointer to the Auto-\/\+IP context \\
\hline
\end{DoxyParams}


Definition at line 558 of file auto\+\_\+ip.\+c.


\begin{DoxyCode}
559 \{
560 \textcolor{preprocessor}{#if (AUTO\_IP\_TRACE\_LEVEL >= TRACE\_LEVEL\_INFO)}
561    \hyperlink{compiler__port_8h_a12a1e9b3ce141648783a82445d02b58d}{uint\_t} i;
562    \hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{NetInterface} *interface;
563    \hyperlink{structIpv4Context}{Ipv4Context} *ipv4Context;
564 
565    \textcolor{comment}{//Point to the underlying network interface}
566    \textcolor{keyword}{interface }= context->settings.interface;
567    \textcolor{comment}{//Point to the IPv4 context}
568    ipv4Context = &interface->ipv4Context;
569 
570    \textcolor{comment}{//Index of the IP address in the list of addresses assigned to the interface}
571    i = context->settings.ipAddrIndex;
572 
573    \textcolor{comment}{//Debug message}
574    \hyperlink{debug_8h_a7339bfd784193a5c79efcef2eeb2d6df}{TRACE\_INFO}(\textcolor{stringliteral}{"\(\backslash\)r\(\backslash\)n"});
575    \hyperlink{debug_8h_a7339bfd784193a5c79efcef2eeb2d6df}{TRACE\_INFO}(\textcolor{stringliteral}{"Auto-IP configuration:\(\backslash\)r\(\backslash\)n"});
576 
577    \textcolor{comment}{//Link-local address}
578    \hyperlink{debug_8h_a7339bfd784193a5c79efcef2eeb2d6df}{TRACE\_INFO}(\textcolor{stringliteral}{"  Link-local Address = %s\(\backslash\)r\(\backslash\)n"},
579       \hyperlink{ipv4_8c_a6d826409fb54a5cc0ce23c5f88f5c7c1}{ipv4AddrToString}(ipv4Context->addrList[i].addr, \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}));
580 
581    \textcolor{comment}{//Subnet mask}
582    \hyperlink{debug_8h_a7339bfd784193a5c79efcef2eeb2d6df}{TRACE\_INFO}(\textcolor{stringliteral}{"  Subnet Mask = %s\(\backslash\)r\(\backslash\)n"},
583       \hyperlink{ipv4_8c_a6d826409fb54a5cc0ce23c5f88f5c7c1}{ipv4AddrToString}(ipv4Context->addrList[i].subnetMask, \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}));
584 
585    \textcolor{comment}{//Debug message}
586    \hyperlink{debug_8h_a7339bfd784193a5c79efcef2eeb2d6df}{TRACE\_INFO}(\textcolor{stringliteral}{"\(\backslash\)r\(\backslash\)n"});
587 \textcolor{preprocessor}{#endif}
588 \}
\end{DoxyCode}
\mbox{\Hypertarget{auto__ip_8h_ab439da18d07d3dbd856099002d2a44a6}\label{auto__ip_8h_ab439da18d07d3dbd856099002d2a44a6}} 
\index{auto\+\_\+ip.\+h@{auto\+\_\+ip.\+h}!auto\+Ip\+Generate\+Addr@{auto\+Ip\+Generate\+Addr}}
\index{auto\+Ip\+Generate\+Addr@{auto\+Ip\+Generate\+Addr}!auto\+\_\+ip.\+h@{auto\+\_\+ip.\+h}}
\subsubsection{\texorpdfstring{auto\+Ip\+Generate\+Addr()}{autoIpGenerateAddr()}}
{\footnotesize\ttfamily void auto\+Ip\+Generate\+Addr (\begin{DoxyParamCaption}\item[{\hyperlink{ipv4_8h_a411debb3d770caa0c06d3f73367da37f}{Ipv4\+Addr} $\ast$}]{ip\+Addr }\end{DoxyParamCaption})}



Generate a random link-\/local address. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt out}  & {\em ip\+Addr} & Random link-\/local address \\
\hline
\end{DoxyParams}


Definition at line 540 of file auto\+\_\+ip.\+c.


\begin{DoxyCode}
541 \{
542    \hyperlink{stdint_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t} \hyperlink{dhcpv6__common_8h_a5a648f5ec00c526b0dfa2df7a272c6c0}{n};
543 
544    \textcolor{comment}{//Generate a random address in the range from 169.254.1.0 to 169.254.254.255}
545    n = \hyperlink{net_8c_a7bb00b31d641749ac8ce742261eb1f6d}{netGetRand}() % \hyperlink{cpu__endian_8h_a22f92ea3318059b7d88dfbd98d0cbc3e}{ntohl}(\hyperlink{auto__ip_8h_a1f72cc311645545363e86c1d12eadbfa}{AUTO\_IP\_ADDR\_MAX} - 
      \hyperlink{auto__ip_8h_ad37492bb1b0ef7481383f4ad0ec1e31e}{AUTO\_IP\_ADDR\_MIN});
546    n += \hyperlink{cpu__endian_8h_a22f92ea3318059b7d88dfbd98d0cbc3e}{ntohl}(\hyperlink{auto__ip_8h_ad37492bb1b0ef7481383f4ad0ec1e31e}{AUTO\_IP\_ADDR\_MIN});
547 
548    \textcolor{comment}{//Convert the resulting address to network byte order}
549    *\hyperlink{mib__common_8h_a3860e959b1b7dd73686a6e11424805e2}{ipAddr} = \hyperlink{cpu__endian_8h_a63baf217625b15caa7246af75b027380}{htonl}(n);
550 \}
\end{DoxyCode}
\mbox{\Hypertarget{auto__ip_8h_a55f3e4cb7c225e42f50843c1640ae330}\label{auto__ip_8h_a55f3e4cb7c225e42f50843c1640ae330}} 
\index{auto\+\_\+ip.\+h@{auto\+\_\+ip.\+h}!auto\+Ip\+Get\+Default\+Settings@{auto\+Ip\+Get\+Default\+Settings}}
\index{auto\+Ip\+Get\+Default\+Settings@{auto\+Ip\+Get\+Default\+Settings}!auto\+\_\+ip.\+h@{auto\+\_\+ip.\+h}}
\subsubsection{\texorpdfstring{auto\+Ip\+Get\+Default\+Settings()}{autoIpGetDefaultSettings()}}
{\footnotesize\ttfamily void auto\+Ip\+Get\+Default\+Settings (\begin{DoxyParamCaption}\item[{\hyperlink{structAutoIpSettings}{Auto\+Ip\+Settings} $\ast$}]{settings }\end{DoxyParamCaption})}



Initialize settings with default values. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt out}  & {\em settings} & Structure that contains Auto-\/\+IP settings \\
\hline
\end{DoxyParams}


Definition at line 64 of file auto\+\_\+ip.\+c.


\begin{DoxyCode}
65 \{
66    \textcolor{comment}{//Use default interface}
67    settings->\hyperlink{structAutoIpSettings_aefe9b77105f2ee05b5c09d022799c610}{interface} = \hyperlink{net_8c_a991aba7eae4de79f30c6889d95cc6870}{netGetDefaultInterface}();
68    \textcolor{comment}{//Index of the IP address to be configured}
69    settings->\hyperlink{structAutoIpSettings_ad6a4b80c0e91682a7a8e333720f99e54}{ipAddrIndex} = 0;
70 
71    \textcolor{comment}{//Initial link-local address to be used}
72    settings->\hyperlink{structAutoIpSettings_a3352d92469da4349341f2525dc259d01}{linkLocalAddr} = \hyperlink{ipv4_8h_aa9d277a6ff68d361eaf48d6af73e78e8}{IPV4\_UNSPECIFIED\_ADDR};
73    \textcolor{comment}{//Link state change event}
74    settings->\hyperlink{structAutoIpSettings_a5f12d52e8a17c816e573c730dc28cb28}{linkChangeEvent} = \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
75    \textcolor{comment}{//FSM state change event}
76    settings->\hyperlink{structAutoIpSettings_afa5654a05fd29d59e59d2a346b0c0257}{stateChangeEvent} = \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
77 \}
\end{DoxyCode}
\mbox{\Hypertarget{auto__ip_8h_af4178221d8c37be65fee79ac35cfb92f}\label{auto__ip_8h_af4178221d8c37be65fee79ac35cfb92f}} 
\index{auto\+\_\+ip.\+h@{auto\+\_\+ip.\+h}!auto\+Ip\+Get\+State@{auto\+Ip\+Get\+State}}
\index{auto\+Ip\+Get\+State@{auto\+Ip\+Get\+State}!auto\+\_\+ip.\+h@{auto\+\_\+ip.\+h}}
\subsubsection{\texorpdfstring{auto\+Ip\+Get\+State()}{autoIpGetState()}}
{\footnotesize\ttfamily \hyperlink{auto__ip_8h_a76eb539c3a130a13ca891530f25f4625}{Auto\+Ip\+State} auto\+Ip\+Get\+State (\begin{DoxyParamCaption}\item[{\hyperlink{auto__ip_8h_aa1164cc1ba77c262d41deb99cb704cc2}{Auto\+Ip\+Context} $\ast$}]{context }\end{DoxyParamCaption})}



Retrieve current state. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em context} & Pointer to the Auto-\/\+IP context \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Current Auto-\/\+IP state 
\end{DoxyReturn}


Definition at line 213 of file auto\+\_\+ip.\+c.


\begin{DoxyCode}
214 \{
215    \hyperlink{auto__ip_8h_a76eb539c3a130a13ca891530f25f4625}{AutoIpState} state;
216 
217    \textcolor{comment}{//Get exclusive access}
218    \hyperlink{os__port__chibios_8c_a58485224df4bfa522246d55b35bbd83a}{osAcquireMutex}(&\hyperlink{net_8c_afe31551ad26115fae8e575654346d441}{netMutex});
219    \textcolor{comment}{//Get current state}
220    state = context->state;
221    \textcolor{comment}{//Release exclusive access}
222    \hyperlink{os__port__chibios_8c_a8e10e5b2c6d3877b5ba60e375ac45d79}{osReleaseMutex}(&\hyperlink{net_8c_afe31551ad26115fae8e575654346d441}{netMutex});
223 
224    \textcolor{comment}{//Return current state}
225    \textcolor{keywordflow}{return} state;
226 \}
\end{DoxyCode}
\mbox{\Hypertarget{auto__ip_8h_a9e03afdc3058da97bc6e40b2c9231962}\label{auto__ip_8h_a9e03afdc3058da97bc6e40b2c9231962}} 
\index{auto\+\_\+ip.\+h@{auto\+\_\+ip.\+h}!auto\+Ip\+Init@{auto\+Ip\+Init}}
\index{auto\+Ip\+Init@{auto\+Ip\+Init}!auto\+\_\+ip.\+h@{auto\+\_\+ip.\+h}}
\subsubsection{\texorpdfstring{auto\+Ip\+Init()}{autoIpInit()}}
{\footnotesize\ttfamily \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} auto\+Ip\+Init (\begin{DoxyParamCaption}\item[{\hyperlink{auto__ip_8h_aa1164cc1ba77c262d41deb99cb704cc2}{Auto\+Ip\+Context} $\ast$}]{context,  }\item[{const \hyperlink{structAutoIpSettings}{Auto\+Ip\+Settings} $\ast$}]{settings }\end{DoxyParamCaption})}



Auto-\/\+IP initialization. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em context} & Pointer to the Auto-\/\+IP context \\
\hline
\mbox{\tt in}  & {\em settings} & Auto-\/\+IP specific settings \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Error code 
\end{DoxyReturn}


Definition at line 87 of file auto\+\_\+ip.\+c.


\begin{DoxyCode}
88 \{
89    \hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{NetInterface} *interface;
90 
91    \textcolor{comment}{//Debug message}
92    \hyperlink{debug_8h_a7339bfd784193a5c79efcef2eeb2d6df}{TRACE\_INFO}(\textcolor{stringliteral}{"Initializing Auto-IP...\(\backslash\)r\(\backslash\)n"});
93 
94    \textcolor{comment}{//Ensure the parameters are valid}
95    \textcolor{keywordflow}{if}(context == \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} || settings == \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
96       \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689caeae4b12e06d727d085f75f79a820f2e8}{ERROR\_INVALID\_PARAMETER};
97 
98    \textcolor{comment}{//A valid pointer to the interface being configured is required}
99    \textcolor{keywordflow}{if}(settings->\hyperlink{structAutoIpSettings_aefe9b77105f2ee05b5c09d022799c610}{interface} == \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
100       \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689caeae4b12e06d727d085f75f79a820f2e8}{ERROR\_INVALID\_PARAMETER};
101 
102    \textcolor{comment}{//Point to the underlying network interface}
103    \textcolor{keyword}{interface }= settings->interface;
104 
105    \textcolor{comment}{//Clear the Auto-IP context}
106    memset(context, 0, \textcolor{keyword}{sizeof}(\hyperlink{auto__ip_8h_aa1164cc1ba77c262d41deb99cb704cc2}{AutoIpContext}));
107    \textcolor{comment}{//Save user settings}
108    context->settings = *settings;
109 
110    \textcolor{comment}{//Use default link-local address}
111    context->\hyperlink{structAutoIpSettings_a3352d92469da4349341f2525dc259d01}{linkLocalAddr} = settings->\hyperlink{structAutoIpSettings_a3352d92469da4349341f2525dc259d01}{linkLocalAddr};
112    \textcolor{comment}{//Reset conflict counter}
113    context->conflictCount = 0;
114 
115    \textcolor{comment}{//Auto-IP operation is currently suspended}
116    context->running = \hyperlink{os__port_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
117    \textcolor{comment}{//Initialize state machine}
118    context->state = \hyperlink{auto__ip_8h_a76eb539c3a130a13ca891530f25f4625afb5062a4c8feaa7ceaec58840c4d09e6}{AUTO\_IP\_STATE\_INIT};
119 
120    \textcolor{comment}{//Attach the Auto-IP context to the network interface}
121    interface->autoIpContext = context;
122 
123    \textcolor{comment}{//Successful initialization}
124    \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94}{NO\_ERROR};
125 \}
\end{DoxyCode}
\mbox{\Hypertarget{auto__ip_8h_aecdc300a5f10f8b0ac671449081cc213}\label{auto__ip_8h_aecdc300a5f10f8b0ac671449081cc213}} 
\index{auto\+\_\+ip.\+h@{auto\+\_\+ip.\+h}!auto\+Ip\+Link\+Change\+Event@{auto\+Ip\+Link\+Change\+Event}}
\index{auto\+Ip\+Link\+Change\+Event@{auto\+Ip\+Link\+Change\+Event}!auto\+\_\+ip.\+h@{auto\+\_\+ip.\+h}}
\subsubsection{\texorpdfstring{auto\+Ip\+Link\+Change\+Event()}{autoIpLinkChangeEvent()}}
{\footnotesize\ttfamily void auto\+Ip\+Link\+Change\+Event (\begin{DoxyParamCaption}\item[{\hyperlink{auto__ip_8h_aa1164cc1ba77c262d41deb99cb704cc2}{Auto\+Ip\+Context} $\ast$}]{context }\end{DoxyParamCaption})}



Callback function for link change event. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em context} & Pointer to the Auto-\/\+IP context \\
\hline
\end{DoxyParams}


Definition at line 450 of file auto\+\_\+ip.\+c.


\begin{DoxyCode}
451 \{
452    \hyperlink{compiler__port_8h_a12a1e9b3ce141648783a82445d02b58d}{uint\_t} i;
453    \hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{NetInterface} *interface;
454 
455    \textcolor{comment}{//Make sure Auto-IP has been properly instantiated}
456    \textcolor{keywordflow}{if}(context == \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
457       \textcolor{keywordflow}{return};
458 
459    \textcolor{comment}{//Point to the underlying network interface}
460    \textcolor{keyword}{interface }= context->settings.interface;
461    \textcolor{comment}{//Index of the IP address in the list of addresses assigned to the interface}
462    i = context->settings.ipAddrIndex;
463 
464    \textcolor{comment}{//Check whether Auto-IP is enabled}
465    \textcolor{keywordflow}{if}(context->running)
466    \{
467       \textcolor{comment}{//The host address is not longer valid}
468       interface->ipv4Context.addrList[i].addr = \hyperlink{ipv4_8h_aa9d277a6ff68d361eaf48d6af73e78e8}{IPV4\_UNSPECIFIED\_ADDR};
469       interface->ipv4Context.addrList[i].state = \hyperlink{ipv4_8h_a7bc59b5d625b1217a91f1db3917e8358a0334165f8ccc85e66349e123ead01c61}{IPV4\_ADDR\_STATE\_INVALID};
470 
471       \textcolor{comment}{//Clear subnet mask}
472       interface->ipv4Context.addrList[i].subnetMask = \hyperlink{ipv4_8h_aa9d277a6ff68d361eaf48d6af73e78e8}{IPV4\_UNSPECIFIED\_ADDR};
473 
474 \textcolor{preprocessor}{#if (MDNS\_RESPONDER\_SUPPORT == ENABLED)}
475       \textcolor{comment}{//Restart mDNS probing process}
476       \hyperlink{mdns__responder_8c_ad0aa26e45ce7db6737cb978d4fedea0a}{mdnsResponderStartProbing}(interface->mdnsResponderContext);
477 \textcolor{preprocessor}{#endif}
478    \}
479 
480    \textcolor{comment}{//Reinitialize state machine}
481    context->state = \hyperlink{auto__ip_8h_a76eb539c3a130a13ca891530f25f4625afb5062a4c8feaa7ceaec58840c4d09e6}{AUTO\_IP\_STATE\_INIT};
482    \textcolor{comment}{//Reset conflict counter}
483    context->conflictCount = 0;
484 
485    \textcolor{comment}{//Any registered callback?}
486    \textcolor{keywordflow}{if}(context->settings.linkChangeEvent != \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
487    \{
488       \textcolor{comment}{//Release exclusive access}
489       \hyperlink{os__port__chibios_8c_a8e10e5b2c6d3877b5ba60e375ac45d79}{osReleaseMutex}(&\hyperlink{net_8c_afe31551ad26115fae8e575654346d441}{netMutex});
490       \textcolor{comment}{//Invoke user callback function}
491       context->settings.linkChangeEvent(context, interface, interface->linkState);
492       \textcolor{comment}{//Get exclusive access}
493       \hyperlink{os__port__chibios_8c_a58485224df4bfa522246d55b35bbd83a}{osAcquireMutex}(&\hyperlink{net_8c_afe31551ad26115fae8e575654346d441}{netMutex});
494    \}
495 \}
\end{DoxyCode}
\mbox{\Hypertarget{auto__ip_8h_a8f6515106dbf44e86121d66c4a03485d}\label{auto__ip_8h_a8f6515106dbf44e86121d66c4a03485d}} 
\index{auto\+\_\+ip.\+h@{auto\+\_\+ip.\+h}!auto\+Ip\+Start@{auto\+Ip\+Start}}
\index{auto\+Ip\+Start@{auto\+Ip\+Start}!auto\+\_\+ip.\+h@{auto\+\_\+ip.\+h}}
\subsubsection{\texorpdfstring{auto\+Ip\+Start()}{autoIpStart()}}
{\footnotesize\ttfamily \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} auto\+Ip\+Start (\begin{DoxyParamCaption}\item[{\hyperlink{auto__ip_8h_aa1164cc1ba77c262d41deb99cb704cc2}{Auto\+Ip\+Context} $\ast$}]{context }\end{DoxyParamCaption})}



Start Auto-\/\+IP process. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em context} & Pointer to the Auto-\/\+IP context \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Error code 
\end{DoxyReturn}


Definition at line 134 of file auto\+\_\+ip.\+c.


\begin{DoxyCode}
135 \{
136    \hyperlink{compiler__port_8h_a12a1e9b3ce141648783a82445d02b58d}{uint\_t} i;
137    \hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{NetInterface} *interface;
138 
139    \textcolor{comment}{//Check parameter}
140    \textcolor{keywordflow}{if}(context == \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
141       \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689caeae4b12e06d727d085f75f79a820f2e8}{ERROR\_INVALID\_PARAMETER};
142 
143    \textcolor{comment}{//Debug message}
144    \hyperlink{debug_8h_a7339bfd784193a5c79efcef2eeb2d6df}{TRACE\_INFO}(\textcolor{stringliteral}{"Starting Auto-IP...\(\backslash\)r\(\backslash\)n"});
145 
146    \textcolor{comment}{//Get exclusive access}
147    \hyperlink{os__port__chibios_8c_a58485224df4bfa522246d55b35bbd83a}{osAcquireMutex}(&\hyperlink{net_8c_afe31551ad26115fae8e575654346d441}{netMutex});
148 
149    \textcolor{comment}{//Point to the underlying network interface}
150    \textcolor{keyword}{interface }= context->settings.interface;
151    \textcolor{comment}{//Index of the IP address in the list of addresses assigned to the interface}
152    i = context->settings.ipAddrIndex;
153 
154    \textcolor{comment}{//The host address is not longer valid}
155    interface->ipv4Context.addrList[i].addr = \hyperlink{ipv4_8h_aa9d277a6ff68d361eaf48d6af73e78e8}{IPV4\_UNSPECIFIED\_ADDR};
156    interface->ipv4Context.addrList[i].state = \hyperlink{ipv4_8h_a7bc59b5d625b1217a91f1db3917e8358a0334165f8ccc85e66349e123ead01c61}{IPV4\_ADDR\_STATE\_INVALID};
157 
158    \textcolor{comment}{//Clear subnet mask}
159    interface->ipv4Context.addrList[i].subnetMask = \hyperlink{ipv4_8h_aa9d277a6ff68d361eaf48d6af73e78e8}{IPV4\_UNSPECIFIED\_ADDR};
160 
161    \textcolor{comment}{//Start Auto-IP operation}
162    context->running = \hyperlink{os__port_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
163    \textcolor{comment}{//Initialize state machine}
164    context->state = \hyperlink{auto__ip_8h_a76eb539c3a130a13ca891530f25f4625afb5062a4c8feaa7ceaec58840c4d09e6}{AUTO\_IP\_STATE\_INIT};
165    \textcolor{comment}{//Reset conflict counter}
166    context->conflictCount = 0;
167 
168    \textcolor{comment}{//Release exclusive access}
169    \hyperlink{os__port__chibios_8c_a8e10e5b2c6d3877b5ba60e375ac45d79}{osReleaseMutex}(&\hyperlink{net_8c_afe31551ad26115fae8e575654346d441}{netMutex});
170 
171    \textcolor{comment}{//Successful processing}
172    \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94}{NO\_ERROR};
173 \}
\end{DoxyCode}
\mbox{\Hypertarget{auto__ip_8h_a6d6bd51646a2ccc9d0f60f339a8fc207}\label{auto__ip_8h_a6d6bd51646a2ccc9d0f60f339a8fc207}} 
\index{auto\+\_\+ip.\+h@{auto\+\_\+ip.\+h}!auto\+Ip\+Stop@{auto\+Ip\+Stop}}
\index{auto\+Ip\+Stop@{auto\+Ip\+Stop}!auto\+\_\+ip.\+h@{auto\+\_\+ip.\+h}}
\subsubsection{\texorpdfstring{auto\+Ip\+Stop()}{autoIpStop()}}
{\footnotesize\ttfamily \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} auto\+Ip\+Stop (\begin{DoxyParamCaption}\item[{\hyperlink{auto__ip_8h_aa1164cc1ba77c262d41deb99cb704cc2}{Auto\+Ip\+Context} $\ast$}]{context }\end{DoxyParamCaption})}



Stop Auto-\/\+IP process. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em context} & Pointer to the Auto-\/\+IP context \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Error code 
\end{DoxyReturn}


Definition at line 182 of file auto\+\_\+ip.\+c.


\begin{DoxyCode}
183 \{
184    \textcolor{comment}{//Check parameter}
185    \textcolor{keywordflow}{if}(context == \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
186       \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689caeae4b12e06d727d085f75f79a820f2e8}{ERROR\_INVALID\_PARAMETER};
187 
188    \textcolor{comment}{//Debug message}
189    \hyperlink{debug_8h_a7339bfd784193a5c79efcef2eeb2d6df}{TRACE\_INFO}(\textcolor{stringliteral}{"Stopping Auto-IP...\(\backslash\)r\(\backslash\)n"});
190 
191    \textcolor{comment}{//Get exclusive access}
192    \hyperlink{os__port__chibios_8c_a58485224df4bfa522246d55b35bbd83a}{osAcquireMutex}(&\hyperlink{net_8c_afe31551ad26115fae8e575654346d441}{netMutex});
193 
194    \textcolor{comment}{//Suspend Auto-IP operation}
195    context->running = \hyperlink{os__port_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
196    \textcolor{comment}{//Reinitialize state machine}
197    context->state = \hyperlink{auto__ip_8h_a76eb539c3a130a13ca891530f25f4625afb5062a4c8feaa7ceaec58840c4d09e6}{AUTO\_IP\_STATE\_INIT};
198 
199    \textcolor{comment}{//Release exclusive access}
200    \hyperlink{os__port__chibios_8c_a8e10e5b2c6d3877b5ba60e375ac45d79}{osReleaseMutex}(&\hyperlink{net_8c_afe31551ad26115fae8e575654346d441}{netMutex});
201 
202    \textcolor{comment}{//Successful processing}
203    \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94}{NO\_ERROR};
204 \}
\end{DoxyCode}
\mbox{\Hypertarget{auto__ip_8h_afb27f1c08eabbf3f68dd8ad85d9d8168}\label{auto__ip_8h_afb27f1c08eabbf3f68dd8ad85d9d8168}} 
\index{auto\+\_\+ip.\+h@{auto\+\_\+ip.\+h}!auto\+Ip\+Tick@{auto\+Ip\+Tick}}
\index{auto\+Ip\+Tick@{auto\+Ip\+Tick}!auto\+\_\+ip.\+h@{auto\+\_\+ip.\+h}}
\subsubsection{\texorpdfstring{auto\+Ip\+Tick()}{autoIpTick()}}
{\footnotesize\ttfamily void auto\+Ip\+Tick (\begin{DoxyParamCaption}\item[{\hyperlink{auto__ip_8h_aa1164cc1ba77c262d41deb99cb704cc2}{Auto\+Ip\+Context} $\ast$}]{context }\end{DoxyParamCaption})}



Auto-\/\+IP timer handler. 

This routine must be periodically called by the T\+C\+P/\+IP stack to manage Auto-\/\+IP operation


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em context} & Pointer to the Auto-\/\+IP context \\
\hline
\end{DoxyParams}


Definition at line 238 of file auto\+\_\+ip.\+c.


\begin{DoxyCode}
239 \{
240    \hyperlink{compiler__port_8h_a12a1e9b3ce141648783a82445d02b58d}{uint\_t} i;
241    \hyperlink{compiler__port_8h_ae3e32a98d431a02106616da3071832dd}{systime\_t} \hyperlink{dhcpv6__common_8h_ae73654f333e4363463ad8c594eca1905}{time};
242    \hyperlink{compiler__port_8h_ae3e32a98d431a02106616da3071832dd}{systime\_t} delay;
243    \hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{NetInterface} *interface;
244 
245    \textcolor{comment}{//Make sure Auto-IP has been properly instantiated}
246    \textcolor{keywordflow}{if}(context == \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
247       \textcolor{keywordflow}{return};
248 
249    \textcolor{comment}{//Point to the underlying network interface}
250    \textcolor{keyword}{interface }= context->settings.interface;
251    \textcolor{comment}{//Index of the IP address in the list of addresses assigned to the interface}
252    i = context->settings.ipAddrIndex;
253 
254    \textcolor{comment}{//Get current time}
255    time = \hyperlink{os__port__chibios_8c_ab66a11272d40a916fa69dd8e4dc443d4}{osGetSystemTime}();
256 
257    \textcolor{comment}{//Check current state}
258    \textcolor{keywordflow}{if}(context->state == \hyperlink{auto__ip_8h_a76eb539c3a130a13ca891530f25f4625afb5062a4c8feaa7ceaec58840c4d09e6}{AUTO\_IP\_STATE\_INIT})
259    \{
260       \textcolor{comment}{//Wait for the link to be up before starting Auto-IP}
261       \textcolor{keywordflow}{if}(context->running && interface->linkState)
262       \{
263          \textcolor{comment}{//Configure subnet mask}
264          interface->ipv4Context.addrList[i].subnetMask = \hyperlink{auto__ip_8h_a901fac60670de0b04c2ceed8bd0bf18c}{AUTO\_IP\_MASK};
265 
266          \textcolor{comment}{//The address must be in the range from 169.54.1.0 to 169.254.254.255}
267          \textcolor{keywordflow}{if}(\hyperlink{cpu__endian_8h_a22f92ea3318059b7d88dfbd98d0cbc3e}{ntohl}(context->linkLocalAddr) < \hyperlink{cpu__endian_8h_a22f92ea3318059b7d88dfbd98d0cbc3e}{ntohl}(\hyperlink{auto__ip_8h_ad37492bb1b0ef7481383f4ad0ec1e31e}{AUTO\_IP\_ADDR\_MIN}) ||
268             \hyperlink{cpu__endian_8h_a22f92ea3318059b7d88dfbd98d0cbc3e}{ntohl}(context->linkLocalAddr) > \hyperlink{cpu__endian_8h_a22f92ea3318059b7d88dfbd98d0cbc3e}{ntohl}(\hyperlink{auto__ip_8h_a1f72cc311645545363e86c1d12eadbfa}{AUTO\_IP\_ADDR\_MAX}))
269          \{
270             \textcolor{comment}{//Generate a random link-local address}
271             \hyperlink{auto__ip_8c_ab439da18d07d3dbd856099002d2a44a6}{autoIpGenerateAddr}(&context->linkLocalAddr);
272          \}
273 
274          \textcolor{comment}{//Use the link-local address as a tentative address}
275          interface->ipv4Context.addrList[i].addr = context->linkLocalAddr;
276          interface->ipv4Context.addrList[i].state = \hyperlink{ipv4_8h_a7bc59b5d625b1217a91f1db3917e8358a4bf3bae142ae012ac2e9731495ca5818}{IPV4\_ADDR\_STATE\_TENTATIVE};
277 
278          \textcolor{comment}{//Clear conflict flag}
279          interface->ipv4Context.addrList[i].conflict = \hyperlink{os__port_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
280 
281          \textcolor{comment}{//Initial random delay}
282          delay = \hyperlink{net_8c_af45ea0afc9806749114ec85e507014e1}{netGetRandRange}(0, \hyperlink{auto__ip_8h_ab5ba98d00c6aaff9505a77fc093a11a1}{AUTO\_IP\_PROBE\_WAIT});
283 
284          \textcolor{comment}{//The number of conflicts exceeds the maximum acceptable value?}
285          \textcolor{keywordflow}{if}(context->conflictCount >= \hyperlink{auto__ip_8h_ac15b55f07c58939935120838709f407e}{AUTO\_IP\_MAX\_CONFLICTS})
286          \{
287             \textcolor{comment}{//The host must limit the rate at which it probes for new addresses}
288             delay += \hyperlink{auto__ip_8h_ae101df6cb1cee1e9cd3718c7f446cc8b}{AUTO\_IP\_RATE\_LIMIT\_INTERVAL};
289          \}
290 
291          \textcolor{comment}{//Verify the uniqueness of the link-local address}
292          \hyperlink{auto__ip_8c_aaa86754ff773307cf8b4682886d7fceb}{autoIpChangeState}(context, \hyperlink{auto__ip_8h_a76eb539c3a130a13ca891530f25f4625af90fb359af0713df004b1d5bc926e4de}{AUTO\_IP\_STATE\_PROBING}, delay);
293       \}
294    \}
295    \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(context->state == \hyperlink{auto__ip_8h_a76eb539c3a130a13ca891530f25f4625af90fb359af0713df004b1d5bc926e4de}{AUTO\_IP\_STATE\_PROBING})
296    \{
297       \textcolor{comment}{//Any conflict detected?}
298       \textcolor{keywordflow}{if}(interface->ipv4Context.addrList[i].conflict)
299       \{
300          \textcolor{comment}{//The address is already in use by some other host and}
301          \textcolor{comment}{//must not be assigned to the interface}
302          interface->ipv4Context.addrList[i].addr = \hyperlink{ipv4_8h_aa9d277a6ff68d361eaf48d6af73e78e8}{IPV4\_UNSPECIFIED\_ADDR};
303          interface->ipv4Context.addrList[i].state = \hyperlink{ipv4_8h_a7bc59b5d625b1217a91f1db3917e8358a0334165f8ccc85e66349e123ead01c61}{IPV4\_ADDR\_STATE\_INVALID};
304 
305          \textcolor{comment}{//The host should maintain a counter of the number of address}
306          \textcolor{comment}{//conflicts it has experienced}
307          context->conflictCount++;
308 
309          \textcolor{comment}{//The host must pick a new random address...}
310          \hyperlink{auto__ip_8c_ab439da18d07d3dbd856099002d2a44a6}{autoIpGenerateAddr}(&context->linkLocalAddr);
311          \textcolor{comment}{//...and repeat the process}
312          \hyperlink{auto__ip_8c_aaa86754ff773307cf8b4682886d7fceb}{autoIpChangeState}(context, \hyperlink{auto__ip_8h_a76eb539c3a130a13ca891530f25f4625afb5062a4c8feaa7ceaec58840c4d09e6}{AUTO\_IP\_STATE\_INIT}, 0);
313       \}
314       \textcolor{keywordflow}{else}
315       \{
316          \textcolor{comment}{//Check current time}
317          \textcolor{keywordflow}{if}(\hyperlink{os__port_8h_a25c13833ef003da02045a91b1080263a}{timeCompare}(time, context->timestamp + context->timeout) >= 0)
318          \{
319             \textcolor{comment}{//Address Conflict Detection is on-going?}
320             \textcolor{keywordflow}{if}(context->retransmitCount < \hyperlink{auto__ip_8h_ac182189d234467addd3dd1f90b9b4198}{AUTO\_IP\_PROBE\_NUM})
321             \{
322                \textcolor{comment}{//Conflict detection is done using ARP probes}
323                \hyperlink{arp_8c_a409a9ebedbbc8b4838abf55c0e4570ac}{arpSendProbe}(interface, context->linkLocalAddr);
324 
325                \textcolor{comment}{//Save the time at which the packet was sent}
326                context->timestamp = \hyperlink{dhcpv6__common_8h_ae73654f333e4363463ad8c594eca1905}{time};
327                \textcolor{comment}{//Increment retransmission counter}
328                context->retransmitCount++;
329 
330                \textcolor{comment}{//Last probe packet sent?}
331                \textcolor{keywordflow}{if}(context->retransmitCount == \hyperlink{auto__ip_8h_ac182189d234467addd3dd1f90b9b4198}{AUTO\_IP\_PROBE\_NUM})
332                \{
333                   \textcolor{comment}{//Delay before announcing}
334                   context->timeout = \hyperlink{auto__ip_8h_a769077776d54840360b132f89f59ff90}{AUTO\_IP\_ANNOUNCE\_WAIT};
335                \}
336                \textcolor{keywordflow}{else}
337                \{
338                   \textcolor{comment}{//Maximum delay till repeated probe}
339                   context->timeout = \hyperlink{net_8c_af45ea0afc9806749114ec85e507014e1}{netGetRandRange}(
      \hyperlink{auto__ip_8h_a25b5bba4eb3be745e25a401d828fe322}{AUTO\_IP\_PROBE\_MIN},
340                      \hyperlink{auto__ip_8h_a01695c7fc6c1815955e7201ddb95b8b8}{AUTO\_IP\_PROBE\_MAX});
341                \}
342             \}
343             \textcolor{keywordflow}{else}
344             \{
345                \textcolor{comment}{//The use of the IPv4 address is now unrestricted}
346                interface->ipv4Context.addrList[i].state = \hyperlink{ipv4_8h_a7bc59b5d625b1217a91f1db3917e8358a10bd90ad767ea6ae259e9016e6186477}{IPV4\_ADDR\_STATE\_VALID};
347 
348 \textcolor{preprocessor}{#if (MDNS\_RESPONDER\_SUPPORT == ENABLED)}
349                \textcolor{comment}{//Restart mDNS probing process}
350                \hyperlink{mdns__responder_8c_ad0aa26e45ce7db6737cb978d4fedea0a}{mdnsResponderStartProbing}(interface->mdnsResponderContext);
351 \textcolor{preprocessor}{#endif}
352                \textcolor{comment}{//The host must then announce its claimed address}
353                \hyperlink{auto__ip_8c_aaa86754ff773307cf8b4682886d7fceb}{autoIpChangeState}(context, 
      \hyperlink{auto__ip_8h_a76eb539c3a130a13ca891530f25f4625a1f30cc26d685c922e6efae6a663140ba}{AUTO\_IP\_STATE\_ANNOUNCING}, 0);
354             \}
355          \}
356       \}
357    \}
358    \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(context->state == \hyperlink{auto__ip_8h_a76eb539c3a130a13ca891530f25f4625a1f30cc26d685c922e6efae6a663140ba}{AUTO\_IP\_STATE\_ANNOUNCING})
359    \{
360       \textcolor{comment}{//Check current time}
361       \textcolor{keywordflow}{if}(\hyperlink{os__port_8h_a25c13833ef003da02045a91b1080263a}{timeCompare}(time, context->timestamp + context->timeout) >= 0)
362       \{
363          \textcolor{comment}{//An ARP announcement is identical to an ARP probe, except that}
364          \textcolor{comment}{//now the sender and target IP addresses are both set to the}
365          \textcolor{comment}{//host's newly selected IPv4 address}
366          \hyperlink{arp_8c_a01808695b2ef58c55179909126ce9f8f}{arpSendRequest}(interface, context->linkLocalAddr, &
      \hyperlink{ethernet_8c_ae1313f9f72de49c713dea514e09ae0e3}{MAC\_BROADCAST\_ADDR});
367 
368          \textcolor{comment}{//Save the time at which the packet was sent}
369          context->timestamp = \hyperlink{dhcpv6__common_8h_ae73654f333e4363463ad8c594eca1905}{time};
370          \textcolor{comment}{//Time interval between announcement packets}
371          context->timeout = \hyperlink{auto__ip_8h_a16574a4a3d8a4433595488ceafb8f884}{AUTO\_IP\_ANNOUNCE\_INTERVAL};
372          \textcolor{comment}{//Increment retransmission counter}
373          context->retransmitCount++;
374 
375          \textcolor{comment}{//Announcing is complete?}
376          \textcolor{keywordflow}{if}(context->retransmitCount >= \hyperlink{auto__ip_8h_a4530c379efcf1e63d830f66ba0668532}{AUTO\_IP\_ANNOUNCE\_NUM})
377          \{
378             \textcolor{comment}{//Successful address autoconfiguration}
379             \hyperlink{auto__ip_8c_aaa86754ff773307cf8b4682886d7fceb}{autoIpChangeState}(context, \hyperlink{auto__ip_8h_a76eb539c3a130a13ca891530f25f4625a4f914a257f7bdb3e04206230a0e210d7}{AUTO\_IP\_STATE\_CONFIGURED}, 0
      );
380             \textcolor{comment}{//Reset conflict counter}
381             context->conflictCount = 0;
382 
383             \textcolor{comment}{//Dump current IPv4 configuration for debugging purpose}
384             \hyperlink{auto__ip_8c_aa19fd806fadfb27241230b4e3a6d1b15}{autoIpDumpConfig}(context);
385          \}
386       \}
387    \}
388    \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(context->state == \hyperlink{auto__ip_8h_a76eb539c3a130a13ca891530f25f4625a4f914a257f7bdb3e04206230a0e210d7}{AUTO\_IP\_STATE\_CONFIGURED})
389    \{
390       \textcolor{comment}{//Address Conflict Detection is an on-going process that is in effect}
391       \textcolor{comment}{//for as long as a host is using an IPv4 link-local address}
392       \textcolor{keywordflow}{if}(interface->ipv4Context.addrList[i].conflict)
393       \{
394          \textcolor{comment}{//The host may elect to attempt to defend its address by recording}
395          \textcolor{comment}{//the time that the conflicting ARP packet was received, and then}
396          \textcolor{comment}{//broadcasting one single ARP announcement, giving its own IP and}
397          \textcolor{comment}{//hardware addresses as the sender addresses of the ARP}
398 \textcolor{preprocessor}{#if (AUTO\_IP\_BCT\_SUPPORT == ENABLED)}
399          \hyperlink{arp_8c_a409a9ebedbbc8b4838abf55c0e4570ac}{arpSendProbe}(interface, context->linkLocalAddr);
400 \textcolor{preprocessor}{#else}
401          \hyperlink{arp_8c_a01808695b2ef58c55179909126ce9f8f}{arpSendRequest}(interface, context->linkLocalAddr, &
      \hyperlink{ethernet_8c_ae1313f9f72de49c713dea514e09ae0e3}{MAC\_BROADCAST\_ADDR});
402 \textcolor{preprocessor}{#endif}
403          \textcolor{comment}{//Clear conflict flag}
404          interface->ipv4Context.addrList[i].conflict = \hyperlink{os__port_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
405 
406          \textcolor{comment}{//The host can then continue to use the address normally without}
407          \textcolor{comment}{//any further special action}
408          \hyperlink{auto__ip_8c_aaa86754ff773307cf8b4682886d7fceb}{autoIpChangeState}(context, \hyperlink{auto__ip_8h_a76eb539c3a130a13ca891530f25f4625a36854c294f68fc8c14923a2033ca8728}{AUTO\_IP\_STATE\_DEFENDING}, 0);
409       \}
410    \}
411    \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(context->state == \hyperlink{auto__ip_8h_a76eb539c3a130a13ca891530f25f4625a36854c294f68fc8c14923a2033ca8728}{AUTO\_IP\_STATE\_DEFENDING})
412    \{
413       \textcolor{comment}{//if this is not the first conflicting ARP packet the host has seen, and}
414       \textcolor{comment}{//the time recorded for the previous conflicting ARP packet is recent,}
415       \textcolor{comment}{//within DEFEND\_INTERVAL seconds, then the host must immediately cease}
416       \textcolor{comment}{//using this address}
417       \textcolor{keywordflow}{if}(interface->ipv4Context.addrList[i].conflict)
418       \{
419          \textcolor{comment}{//The link-local address cannot be used anymore}
420          interface->ipv4Context.addrList[i].addr = \hyperlink{ipv4_8h_aa9d277a6ff68d361eaf48d6af73e78e8}{IPV4\_UNSPECIFIED\_ADDR};
421          interface->ipv4Context.addrList[i].state = \hyperlink{ipv4_8h_a7bc59b5d625b1217a91f1db3917e8358a0334165f8ccc85e66349e123ead01c61}{IPV4\_ADDR\_STATE\_INVALID};
422 
423 \textcolor{preprocessor}{#if (MDNS\_RESPONDER\_SUPPORT == ENABLED)}
424          \textcolor{comment}{//Restart mDNS probing process}
425          \hyperlink{mdns__responder_8c_ad0aa26e45ce7db6737cb978d4fedea0a}{mdnsResponderStartProbing}(interface->mdnsResponderContext);
426 \textcolor{preprocessor}{#endif}
427          \textcolor{comment}{//The host must pick a new random address...}
428          \hyperlink{auto__ip_8c_ab439da18d07d3dbd856099002d2a44a6}{autoIpGenerateAddr}(&context->linkLocalAddr);
429          \textcolor{comment}{//...and probes/announces again}
430          \hyperlink{auto__ip_8c_aaa86754ff773307cf8b4682886d7fceb}{autoIpChangeState}(context, \hyperlink{auto__ip_8h_a76eb539c3a130a13ca891530f25f4625afb5062a4c8feaa7ceaec58840c4d09e6}{AUTO\_IP\_STATE\_INIT}, 0);
431       \}
432       \textcolor{keywordflow}{else}
433       \{
434          \textcolor{comment}{//Check whether the DEFEND\_INTERVAL has elapsed}
435          \textcolor{keywordflow}{if}(\hyperlink{os__port_8h_a25c13833ef003da02045a91b1080263a}{timeCompare}(time, context->timestamp + 
      \hyperlink{auto__ip_8h_adf3a469f7a888950f98cbb7a41c83d93}{AUTO\_IP\_DEFEND\_INTERVAL}) >= 0)
436          \{
437             \textcolor{comment}{//The host can continue to use its link-local address}
438             \hyperlink{auto__ip_8c_aaa86754ff773307cf8b4682886d7fceb}{autoIpChangeState}(context, \hyperlink{auto__ip_8h_a76eb539c3a130a13ca891530f25f4625a4f914a257f7bdb3e04206230a0e210d7}{AUTO\_IP\_STATE\_CONFIGURED}, 0
      );
439          \}
440       \}
441    \}
442 \}
\end{DoxyCode}


\subsection{Variable Documentation}
\mbox{\Hypertarget{auto__ip_8h_afbac3aaeb3fcc69c77093feeb75330fa}\label{auto__ip_8h_afbac3aaeb3fcc69c77093feeb75330fa}} 
\index{auto\+\_\+ip.\+h@{auto\+\_\+ip.\+h}!auto\+Ip\+Tick\+Counter@{auto\+Ip\+Tick\+Counter}}
\index{auto\+Ip\+Tick\+Counter@{auto\+Ip\+Tick\+Counter}!auto\+\_\+ip.\+h@{auto\+\_\+ip.\+h}}
\subsubsection{\texorpdfstring{auto\+Ip\+Tick\+Counter}{autoIpTickCounter}}
{\footnotesize\ttfamily \hyperlink{compiler__port_8h_ae3e32a98d431a02106616da3071832dd}{systime\+\_\+t} auto\+Ip\+Tick\+Counter}



Definition at line 56 of file auto\+\_\+ip.\+c.

