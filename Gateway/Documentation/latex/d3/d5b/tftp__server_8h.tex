\hypertarget{tftp__server_8h}{}\section{cyclone\+\_\+tcp/tftp/tftp\+\_\+server.h File Reference}
\label{tftp__server_8h}\index{cyclone\+\_\+tcp/tftp/tftp\+\_\+server.\+h@{cyclone\+\_\+tcp/tftp/tftp\+\_\+server.\+h}}


T\+F\+TP server.  


{\ttfamily \#include \char`\"{}core/net.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}tftp/tftp\+\_\+common.\+h\char`\"{}}\newline
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structTftpServerSettings}{Tftp\+Server\+Settings}
\begin{DoxyCompactList}\small\item\em T\+F\+TP server settings. \end{DoxyCompactList}\item 
struct \hyperlink{struct__TftpClientConnection}{\+\_\+\+Tftp\+Client\+Connection}
\begin{DoxyCompactList}\small\item\em T\+F\+TP client connection. \end{DoxyCompactList}\item 
struct \hyperlink{struct__TftpServerContext}{\+\_\+\+Tftp\+Server\+Context}
\begin{DoxyCompactList}\small\item\em T\+F\+TP server context. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{tftp__server_8h_ad405be62c3258354bb1303d30c1f23bd}{T\+F\+T\+P\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+S\+U\+P\+P\+O\+RT}~\hyperlink{os__port_8h_a73c228f87e038e8295ee8ea8eceaa5ac}{E\+N\+A\+B\+L\+ED}
\item 
\#define \hyperlink{tftp__server_8h_a84dc621259da6494680f75b9356a1471}{T\+F\+T\+P\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+S\+T\+A\+C\+K\+\_\+\+S\+I\+ZE}~650
\item 
\#define \hyperlink{tftp__server_8h_a33af35f71eacfd46848caba6d196938c}{T\+F\+T\+P\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+P\+R\+I\+O\+R\+I\+TY}~\hyperlink{os__port__windows_8h_ae4b7ebcd4846aef06e5dff1d322a8df1}{O\+S\+\_\+\+T\+A\+S\+K\+\_\+\+P\+R\+I\+O\+R\+I\+T\+Y\+\_\+\+N\+O\+R\+M\+AL}
\item 
\#define \hyperlink{tftp__server_8h_a0acdd308af5bdb354e7a80dc8ff4388d}{T\+F\+T\+P\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+M\+A\+X\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+O\+NS}~2
\item 
\#define \hyperlink{tftp__server_8h_ab483e1096bd234a8fe08a8a4f2dfcd5a}{T\+F\+T\+P\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+T\+I\+C\+K\+\_\+\+I\+N\+T\+E\+R\+V\+AL}~500
\item 
\#define \hyperlink{tftp__server_8h_a3edd444bc62a1ed94510e7a35dbb21ea}{T\+F\+T\+P\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+M\+A\+X\+\_\+\+R\+E\+T\+R\+I\+ES}~5
\item 
\#define \hyperlink{tftp__server_8h_a703a579afa5b42a884cc87fc3aaa5397}{T\+F\+T\+P\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+T\+I\+M\+E\+O\+UT}~5000
\item 
\#define \hyperlink{tftp__server_8h_a7982052d56d31c8660e4c58929857f8e}{T\+F\+T\+P\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+F\+I\+N\+A\+L\+\_\+\+D\+E\+L\+AY}~10000
\item 
\#define \hyperlink{tftp__server_8h_a3576af3363d6b7da73ca241bb583f139}{T\+F\+T\+P\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+B\+L\+O\+C\+K\+\_\+\+S\+I\+ZE}~512
\item 
\#define \hyperlink{tftp__server_8h_a691c548eb2ec25b559ea9029f36a5276}{T\+F\+T\+P\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+M\+A\+X\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+S\+I\+ZE}~(sizeof(\hyperlink{tftp__common_8h_a72db11cb5bc2afb6305fb3cb0f409eb5}{Tftp\+Data\+Packet}) + \hyperlink{tftp__server_8h_a3576af3363d6b7da73ca241bb583f139}{T\+F\+T\+P\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+B\+L\+O\+C\+K\+\_\+\+S\+I\+ZE})
\item 
\#define \hyperlink{tftp__server_8h_a0f645438c1de49e8bfc6960ef861e5c9}{Tftp\+Client\+Connection}~struct \hyperlink{struct__TftpClientConnection}{\+\_\+\+Tftp\+Client\+Connection}
\item 
\#define \hyperlink{tftp__server_8h_a74392166fd32409398d53d11de1d62fa}{Tftp\+Server\+Context}~struct \hyperlink{struct__TftpServerContext}{\+\_\+\+Tftp\+Server\+Context}
\end{DoxyCompactItemize}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef void $\ast$($\ast$ \hyperlink{tftp__server_8h_a4cfed7d273d525cc9cc915c2e1f77018}{Tftp\+Server\+Open\+File\+Callback}) (const \hyperlink{compiler__port_8h_a40bb5262bf908c328fbcfbe5d29d0201}{char\+\_\+t} $\ast$\hyperlink{tftp__common_8h_a054704ecfbf9f8eea80cd1d120b8cf62}{filename}, const \hyperlink{compiler__port_8h_a40bb5262bf908c328fbcfbe5d29d0201}{char\+\_\+t} $\ast$\hyperlink{ntp__common_8h_a37e90f5e3bd99fac2021fb3a326607d4}{mode}, \hyperlink{compiler__port_8h_a812d16e5494522586b3784e55d479912}{bool\+\_\+t} write\+Access)
\begin{DoxyCompactList}\small\item\em Open file callback function. \end{DoxyCompactList}\item 
typedef \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t}($\ast$ \hyperlink{tftp__server_8h_ac3b6ec08b80dc8f9c1bc753d3541b613}{Tftp\+Server\+Write\+File\+Callback}) (void $\ast$\hyperlink{dhcp__common_8h_a5c7003134e7a7486271d4f33c2e7b7de}{file}, size\+\_\+t \hyperlink{pic32mz_2isr__support_8h_ac0542d92dfcd62c19170fd963f9e5052}{offset}, const \hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} $\ast$\hyperlink{tftp__common_8h_a5c239a1bb87b52b0f1d6d68c4749cd2a}{data}, size\+\_\+t \hyperlink{ppp_8h_ab2b3adeb2a67e656ff030b56727fd0ac}{length})
\begin{DoxyCompactList}\small\item\em Write file callback function. \end{DoxyCompactList}\item 
typedef \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t}($\ast$ \hyperlink{tftp__server_8h_afa6bd838b7892c537a693b49fd742435}{Tftp\+Server\+Read\+File\+Callback}) (void $\ast$\hyperlink{dhcp__common_8h_a5c7003134e7a7486271d4f33c2e7b7de}{file}, size\+\_\+t \hyperlink{pic32mz_2isr__support_8h_ac0542d92dfcd62c19170fd963f9e5052}{offset}, \hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} $\ast$\hyperlink{tftp__common_8h_a5c239a1bb87b52b0f1d6d68c4749cd2a}{data}, size\+\_\+t size, size\+\_\+t $\ast$\hyperlink{ppp_8h_ab2b3adeb2a67e656ff030b56727fd0ac}{length})
\begin{DoxyCompactList}\small\item\em Read file callback function. \end{DoxyCompactList}\item 
typedef void($\ast$ \hyperlink{tftp__server_8h_ae527b4de8c8e0db74396ab57fbcb96a7}{Tftp\+Server\+Close\+File\+Callback}) (void $\ast$\hyperlink{dhcp__common_8h_a5c7003134e7a7486271d4f33c2e7b7de}{file})
\begin{DoxyCompactList}\small\item\em Close file callback function. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{tftp__server_8h_ab2a2374014f9d5d77c65b15bb32f3a4a}{Tftp\+Connection\+State} \{ \newline
\hyperlink{tftp__server_8h_ab2a2374014f9d5d77c65b15bb32f3a4aaa4e48853d260c8e956ae519c1f2deba2}{T\+F\+T\+P\+\_\+\+S\+T\+A\+T\+E\+\_\+\+C\+L\+O\+S\+ED} = 0, 
\hyperlink{tftp__server_8h_ab2a2374014f9d5d77c65b15bb32f3a4aa0b08c70235daa345ca86c605923a4675}{T\+F\+T\+P\+\_\+\+S\+T\+A\+T\+E\+\_\+\+O\+P\+EN} = 1, 
\hyperlink{tftp__server_8h_ab2a2374014f9d5d77c65b15bb32f3a4aa11314de8d9c41409d4afc8cfb3f674d0}{T\+F\+T\+P\+\_\+\+S\+T\+A\+T\+E\+\_\+\+R\+E\+A\+D\+I\+NG} = 2, 
\hyperlink{tftp__server_8h_ab2a2374014f9d5d77c65b15bb32f3a4aa326240f96906edcdd12338d4fe20b61f}{T\+F\+T\+P\+\_\+\+S\+T\+A\+T\+E\+\_\+\+W\+R\+I\+T\+I\+NG} = 3, 
\newline
\hyperlink{tftp__server_8h_ab2a2374014f9d5d77c65b15bb32f3a4aa439bae37fc5816f3796a6b920b6e5809}{T\+F\+T\+P\+\_\+\+S\+T\+A\+T\+E\+\_\+\+R\+E\+A\+D\+\_\+\+C\+O\+M\+P\+L\+E\+TE} = 4, 
\hyperlink{tftp__server_8h_ab2a2374014f9d5d77c65b15bb32f3a4aa073b5d08094584527ccf5504f50cb630}{T\+F\+T\+P\+\_\+\+S\+T\+A\+T\+E\+\_\+\+W\+R\+I\+T\+E\+\_\+\+C\+O\+M\+P\+L\+E\+TE} = 5
 \}\begin{DoxyCompactList}\small\item\em T\+F\+TP connection state. \end{DoxyCompactList}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{tftp__server_8h_aab61c9fb00a47405db619557cd4a9631}{tftp\+Server\+Get\+Default\+Settings} (\hyperlink{structTftpServerSettings}{Tftp\+Server\+Settings} $\ast$settings)
\begin{DoxyCompactList}\small\item\em Initialize settings with default values. \end{DoxyCompactList}\item 
\hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} \hyperlink{tftp__server_8h_a03c44a860098b6deb60addd2bcf62ca8}{tftp\+Server\+Init} (\hyperlink{tftp__server_8h_a74392166fd32409398d53d11de1d62fa}{Tftp\+Server\+Context} $\ast$context, const \hyperlink{structTftpServerSettings}{Tftp\+Server\+Settings} $\ast$settings)
\begin{DoxyCompactList}\small\item\em T\+F\+TP server initialization. \end{DoxyCompactList}\item 
\hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} \hyperlink{tftp__server_8h_ab2eeb960f0e710d41d3df575351fbd24}{tftp\+Server\+Start} (\hyperlink{tftp__server_8h_a74392166fd32409398d53d11de1d62fa}{Tftp\+Server\+Context} $\ast$context)
\begin{DoxyCompactList}\small\item\em Start T\+F\+TP server. \end{DoxyCompactList}\item 
void \hyperlink{tftp__server_8h_ad9a2260f50862685332fe4cac413e07a}{tftp\+Server\+Task} (\hyperlink{tftp__server_8h_a74392166fd32409398d53d11de1d62fa}{Tftp\+Server\+Context} $\ast$context)
\begin{DoxyCompactList}\small\item\em T\+F\+TP server task. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
T\+F\+TP server. 

\hypertarget{pic32mz__ef__curiosity_8h_License}{}\subsection{License}\label{pic32mz__ef__curiosity_8h_License}
S\+P\+D\+X-\/\+License-\/\+Identifier\+: G\+P\+L-\/2.\+0-\/or-\/later

Copyright (C) 2010-\/2019 Oryx Embedded S\+A\+RL. All rights reserved.

This file is part of Cyclone\+T\+CP Open.

This program is free software; you can redistribute it and/or modify it under the terms of the G\+NU General Public License as published by the Free Software Foundation; either version 2 of the License, or (at your option) any later version.

This program is distributed in the hope that it will be useful, but W\+I\+T\+H\+O\+UT A\+NY W\+A\+R\+R\+A\+N\+TY; without even the implied warranty of M\+E\+R\+C\+H\+A\+N\+T\+A\+B\+I\+L\+I\+TY or F\+I\+T\+N\+E\+SS F\+OR A P\+A\+R\+T\+I\+C\+U\+L\+AR P\+U\+R\+P\+O\+SE. See the G\+NU General Public License for more details.

You should have received a copy of the G\+NU General Public License along with this program; if not, write to the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-\/1301, U\+SA.

\begin{DoxyAuthor}{Author}
Oryx Embedded S\+A\+RL (www.\+oryx-\/embedded.\+com) 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
1.\+9.\+6 
\end{DoxyVersion}


\subsection{Macro Definition Documentation}
\mbox{\Hypertarget{tftp__server_8h_a3576af3363d6b7da73ca241bb583f139}\label{tftp__server_8h_a3576af3363d6b7da73ca241bb583f139}} 
\index{tftp\+\_\+server.\+h@{tftp\+\_\+server.\+h}!T\+F\+T\+P\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+B\+L\+O\+C\+K\+\_\+\+S\+I\+ZE@{T\+F\+T\+P\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+B\+L\+O\+C\+K\+\_\+\+S\+I\+ZE}}
\index{T\+F\+T\+P\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+B\+L\+O\+C\+K\+\_\+\+S\+I\+ZE@{T\+F\+T\+P\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+B\+L\+O\+C\+K\+\_\+\+S\+I\+ZE}!tftp\+\_\+server.\+h@{tftp\+\_\+server.\+h}}
\subsubsection{\texorpdfstring{T\+F\+T\+P\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+B\+L\+O\+C\+K\+\_\+\+S\+I\+ZE}{TFTP\_SERVER\_BLOCK\_SIZE}}
{\footnotesize\ttfamily \#define T\+F\+T\+P\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+B\+L\+O\+C\+K\+\_\+\+S\+I\+ZE~512}



Definition at line 94 of file tftp\+\_\+server.\+h.

\mbox{\Hypertarget{tftp__server_8h_a7982052d56d31c8660e4c58929857f8e}\label{tftp__server_8h_a7982052d56d31c8660e4c58929857f8e}} 
\index{tftp\+\_\+server.\+h@{tftp\+\_\+server.\+h}!T\+F\+T\+P\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+F\+I\+N\+A\+L\+\_\+\+D\+E\+L\+AY@{T\+F\+T\+P\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+F\+I\+N\+A\+L\+\_\+\+D\+E\+L\+AY}}
\index{T\+F\+T\+P\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+F\+I\+N\+A\+L\+\_\+\+D\+E\+L\+AY@{T\+F\+T\+P\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+F\+I\+N\+A\+L\+\_\+\+D\+E\+L\+AY}!tftp\+\_\+server.\+h@{tftp\+\_\+server.\+h}}
\subsubsection{\texorpdfstring{T\+F\+T\+P\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+F\+I\+N\+A\+L\+\_\+\+D\+E\+L\+AY}{TFTP\_SERVER\_FINAL\_DELAY}}
{\footnotesize\ttfamily \#define T\+F\+T\+P\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+F\+I\+N\+A\+L\+\_\+\+D\+E\+L\+AY~10000}



Definition at line 87 of file tftp\+\_\+server.\+h.

\mbox{\Hypertarget{tftp__server_8h_a0acdd308af5bdb354e7a80dc8ff4388d}\label{tftp__server_8h_a0acdd308af5bdb354e7a80dc8ff4388d}} 
\index{tftp\+\_\+server.\+h@{tftp\+\_\+server.\+h}!T\+F\+T\+P\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+M\+A\+X\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+O\+NS@{T\+F\+T\+P\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+M\+A\+X\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+O\+NS}}
\index{T\+F\+T\+P\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+M\+A\+X\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+O\+NS@{T\+F\+T\+P\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+M\+A\+X\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+O\+NS}!tftp\+\_\+server.\+h@{tftp\+\_\+server.\+h}}
\subsubsection{\texorpdfstring{T\+F\+T\+P\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+M\+A\+X\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+O\+NS}{TFTP\_SERVER\_MAX\_CONNECTIONS}}
{\footnotesize\ttfamily \#define T\+F\+T\+P\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+M\+A\+X\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+O\+NS~2}



Definition at line 59 of file tftp\+\_\+server.\+h.

\mbox{\Hypertarget{tftp__server_8h_a691c548eb2ec25b559ea9029f36a5276}\label{tftp__server_8h_a691c548eb2ec25b559ea9029f36a5276}} 
\index{tftp\+\_\+server.\+h@{tftp\+\_\+server.\+h}!T\+F\+T\+P\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+M\+A\+X\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+S\+I\+ZE@{T\+F\+T\+P\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+M\+A\+X\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+S\+I\+ZE}}
\index{T\+F\+T\+P\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+M\+A\+X\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+S\+I\+ZE@{T\+F\+T\+P\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+M\+A\+X\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+S\+I\+ZE}!tftp\+\_\+server.\+h@{tftp\+\_\+server.\+h}}
\subsubsection{\texorpdfstring{T\+F\+T\+P\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+M\+A\+X\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+S\+I\+ZE}{TFTP\_SERVER\_MAX\_PACKET\_SIZE}}
{\footnotesize\ttfamily \#define T\+F\+T\+P\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+M\+A\+X\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+S\+I\+ZE~(sizeof(\hyperlink{tftp__common_8h_a72db11cb5bc2afb6305fb3cb0f409eb5}{Tftp\+Data\+Packet}) + \hyperlink{tftp__server_8h_a3576af3363d6b7da73ca241bb583f139}{T\+F\+T\+P\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+B\+L\+O\+C\+K\+\_\+\+S\+I\+ZE})}



Definition at line 100 of file tftp\+\_\+server.\+h.

\mbox{\Hypertarget{tftp__server_8h_a3edd444bc62a1ed94510e7a35dbb21ea}\label{tftp__server_8h_a3edd444bc62a1ed94510e7a35dbb21ea}} 
\index{tftp\+\_\+server.\+h@{tftp\+\_\+server.\+h}!T\+F\+T\+P\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+M\+A\+X\+\_\+\+R\+E\+T\+R\+I\+ES@{T\+F\+T\+P\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+M\+A\+X\+\_\+\+R\+E\+T\+R\+I\+ES}}
\index{T\+F\+T\+P\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+M\+A\+X\+\_\+\+R\+E\+T\+R\+I\+ES@{T\+F\+T\+P\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+M\+A\+X\+\_\+\+R\+E\+T\+R\+I\+ES}!tftp\+\_\+server.\+h@{tftp\+\_\+server.\+h}}
\subsubsection{\texorpdfstring{T\+F\+T\+P\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+M\+A\+X\+\_\+\+R\+E\+T\+R\+I\+ES}{TFTP\_SERVER\_MAX\_RETRIES}}
{\footnotesize\ttfamily \#define T\+F\+T\+P\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+M\+A\+X\+\_\+\+R\+E\+T\+R\+I\+ES~5}



Definition at line 73 of file tftp\+\_\+server.\+h.

\mbox{\Hypertarget{tftp__server_8h_a33af35f71eacfd46848caba6d196938c}\label{tftp__server_8h_a33af35f71eacfd46848caba6d196938c}} 
\index{tftp\+\_\+server.\+h@{tftp\+\_\+server.\+h}!T\+F\+T\+P\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+P\+R\+I\+O\+R\+I\+TY@{T\+F\+T\+P\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+P\+R\+I\+O\+R\+I\+TY}}
\index{T\+F\+T\+P\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+P\+R\+I\+O\+R\+I\+TY@{T\+F\+T\+P\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+P\+R\+I\+O\+R\+I\+TY}!tftp\+\_\+server.\+h@{tftp\+\_\+server.\+h}}
\subsubsection{\texorpdfstring{T\+F\+T\+P\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+P\+R\+I\+O\+R\+I\+TY}{TFTP\_SERVER\_PRIORITY}}
{\footnotesize\ttfamily \#define T\+F\+T\+P\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+P\+R\+I\+O\+R\+I\+TY~\hyperlink{os__port__windows_8h_ae4b7ebcd4846aef06e5dff1d322a8df1}{O\+S\+\_\+\+T\+A\+S\+K\+\_\+\+P\+R\+I\+O\+R\+I\+T\+Y\+\_\+\+N\+O\+R\+M\+AL}}



Definition at line 54 of file tftp\+\_\+server.\+h.

\mbox{\Hypertarget{tftp__server_8h_a84dc621259da6494680f75b9356a1471}\label{tftp__server_8h_a84dc621259da6494680f75b9356a1471}} 
\index{tftp\+\_\+server.\+h@{tftp\+\_\+server.\+h}!T\+F\+T\+P\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+S\+T\+A\+C\+K\+\_\+\+S\+I\+ZE@{T\+F\+T\+P\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+S\+T\+A\+C\+K\+\_\+\+S\+I\+ZE}}
\index{T\+F\+T\+P\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+S\+T\+A\+C\+K\+\_\+\+S\+I\+ZE@{T\+F\+T\+P\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+S\+T\+A\+C\+K\+\_\+\+S\+I\+ZE}!tftp\+\_\+server.\+h@{tftp\+\_\+server.\+h}}
\subsubsection{\texorpdfstring{T\+F\+T\+P\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+S\+T\+A\+C\+K\+\_\+\+S\+I\+ZE}{TFTP\_SERVER\_STACK\_SIZE}}
{\footnotesize\ttfamily \#define T\+F\+T\+P\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+S\+T\+A\+C\+K\+\_\+\+S\+I\+ZE~650}



Definition at line 47 of file tftp\+\_\+server.\+h.

\mbox{\Hypertarget{tftp__server_8h_ad405be62c3258354bb1303d30c1f23bd}\label{tftp__server_8h_ad405be62c3258354bb1303d30c1f23bd}} 
\index{tftp\+\_\+server.\+h@{tftp\+\_\+server.\+h}!T\+F\+T\+P\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+S\+U\+P\+P\+O\+RT@{T\+F\+T\+P\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+S\+U\+P\+P\+O\+RT}}
\index{T\+F\+T\+P\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+S\+U\+P\+P\+O\+RT@{T\+F\+T\+P\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+S\+U\+P\+P\+O\+RT}!tftp\+\_\+server.\+h@{tftp\+\_\+server.\+h}}
\subsubsection{\texorpdfstring{T\+F\+T\+P\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+S\+U\+P\+P\+O\+RT}{TFTP\_SERVER\_SUPPORT}}
{\footnotesize\ttfamily \#define T\+F\+T\+P\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+S\+U\+P\+P\+O\+RT~\hyperlink{os__port_8h_a73c228f87e038e8295ee8ea8eceaa5ac}{E\+N\+A\+B\+L\+ED}}



Definition at line 40 of file tftp\+\_\+server.\+h.

\mbox{\Hypertarget{tftp__server_8h_ab483e1096bd234a8fe08a8a4f2dfcd5a}\label{tftp__server_8h_ab483e1096bd234a8fe08a8a4f2dfcd5a}} 
\index{tftp\+\_\+server.\+h@{tftp\+\_\+server.\+h}!T\+F\+T\+P\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+T\+I\+C\+K\+\_\+\+I\+N\+T\+E\+R\+V\+AL@{T\+F\+T\+P\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+T\+I\+C\+K\+\_\+\+I\+N\+T\+E\+R\+V\+AL}}
\index{T\+F\+T\+P\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+T\+I\+C\+K\+\_\+\+I\+N\+T\+E\+R\+V\+AL@{T\+F\+T\+P\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+T\+I\+C\+K\+\_\+\+I\+N\+T\+E\+R\+V\+AL}!tftp\+\_\+server.\+h@{tftp\+\_\+server.\+h}}
\subsubsection{\texorpdfstring{T\+F\+T\+P\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+T\+I\+C\+K\+\_\+\+I\+N\+T\+E\+R\+V\+AL}{TFTP\_SERVER\_TICK\_INTERVAL}}
{\footnotesize\ttfamily \#define T\+F\+T\+P\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+T\+I\+C\+K\+\_\+\+I\+N\+T\+E\+R\+V\+AL~500}



Definition at line 66 of file tftp\+\_\+server.\+h.

\mbox{\Hypertarget{tftp__server_8h_a703a579afa5b42a884cc87fc3aaa5397}\label{tftp__server_8h_a703a579afa5b42a884cc87fc3aaa5397}} 
\index{tftp\+\_\+server.\+h@{tftp\+\_\+server.\+h}!T\+F\+T\+P\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+T\+I\+M\+E\+O\+UT@{T\+F\+T\+P\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+T\+I\+M\+E\+O\+UT}}
\index{T\+F\+T\+P\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+T\+I\+M\+E\+O\+UT@{T\+F\+T\+P\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+T\+I\+M\+E\+O\+UT}!tftp\+\_\+server.\+h@{tftp\+\_\+server.\+h}}
\subsubsection{\texorpdfstring{T\+F\+T\+P\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+T\+I\+M\+E\+O\+UT}{TFTP\_SERVER\_TIMEOUT}}
{\footnotesize\ttfamily \#define T\+F\+T\+P\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+T\+I\+M\+E\+O\+UT~5000}



Definition at line 80 of file tftp\+\_\+server.\+h.

\mbox{\Hypertarget{tftp__server_8h_a0f645438c1de49e8bfc6960ef861e5c9}\label{tftp__server_8h_a0f645438c1de49e8bfc6960ef861e5c9}} 
\index{tftp\+\_\+server.\+h@{tftp\+\_\+server.\+h}!Tftp\+Client\+Connection@{Tftp\+Client\+Connection}}
\index{Tftp\+Client\+Connection@{Tftp\+Client\+Connection}!tftp\+\_\+server.\+h@{tftp\+\_\+server.\+h}}
\subsubsection{\texorpdfstring{Tftp\+Client\+Connection}{TftpClientConnection}}
{\footnotesize\ttfamily \#define Tftp\+Client\+Connection~struct \hyperlink{struct__TftpClientConnection}{\+\_\+\+Tftp\+Client\+Connection}}



Definition at line 104 of file tftp\+\_\+server.\+h.

\mbox{\Hypertarget{tftp__server_8h_a74392166fd32409398d53d11de1d62fa}\label{tftp__server_8h_a74392166fd32409398d53d11de1d62fa}} 
\index{tftp\+\_\+server.\+h@{tftp\+\_\+server.\+h}!Tftp\+Server\+Context@{Tftp\+Server\+Context}}
\index{Tftp\+Server\+Context@{Tftp\+Server\+Context}!tftp\+\_\+server.\+h@{tftp\+\_\+server.\+h}}
\subsubsection{\texorpdfstring{Tftp\+Server\+Context}{TftpServerContext}}
{\footnotesize\ttfamily \#define Tftp\+Server\+Context~struct \hyperlink{struct__TftpServerContext}{\+\_\+\+Tftp\+Server\+Context}}



Definition at line 108 of file tftp\+\_\+server.\+h.



\subsection{Typedef Documentation}
\mbox{\Hypertarget{tftp__server_8h_ae527b4de8c8e0db74396ab57fbcb96a7}\label{tftp__server_8h_ae527b4de8c8e0db74396ab57fbcb96a7}} 
\index{tftp\+\_\+server.\+h@{tftp\+\_\+server.\+h}!Tftp\+Server\+Close\+File\+Callback@{Tftp\+Server\+Close\+File\+Callback}}
\index{Tftp\+Server\+Close\+File\+Callback@{Tftp\+Server\+Close\+File\+Callback}!tftp\+\_\+server.\+h@{tftp\+\_\+server.\+h}}
\subsubsection{\texorpdfstring{Tftp\+Server\+Close\+File\+Callback}{TftpServerCloseFileCallback}}
{\footnotesize\ttfamily typedef void($\ast$ Tftp\+Server\+Close\+File\+Callback) (void $\ast$\hyperlink{dhcp__common_8h_a5c7003134e7a7486271d4f33c2e7b7de}{file})}



Close file callback function. 



Definition at line 159 of file tftp\+\_\+server.\+h.

\mbox{\Hypertarget{tftp__server_8h_a4cfed7d273d525cc9cc915c2e1f77018}\label{tftp__server_8h_a4cfed7d273d525cc9cc915c2e1f77018}} 
\index{tftp\+\_\+server.\+h@{tftp\+\_\+server.\+h}!Tftp\+Server\+Open\+File\+Callback@{Tftp\+Server\+Open\+File\+Callback}}
\index{Tftp\+Server\+Open\+File\+Callback@{Tftp\+Server\+Open\+File\+Callback}!tftp\+\_\+server.\+h@{tftp\+\_\+server.\+h}}
\subsubsection{\texorpdfstring{Tftp\+Server\+Open\+File\+Callback}{TftpServerOpenFileCallback}}
{\footnotesize\ttfamily typedef void$\ast$($\ast$ Tftp\+Server\+Open\+File\+Callback) (const \hyperlink{compiler__port_8h_a40bb5262bf908c328fbcfbe5d29d0201}{char\+\_\+t} $\ast$\hyperlink{tftp__common_8h_a054704ecfbf9f8eea80cd1d120b8cf62}{filename}, const \hyperlink{compiler__port_8h_a40bb5262bf908c328fbcfbe5d29d0201}{char\+\_\+t} $\ast$\hyperlink{ntp__common_8h_a37e90f5e3bd99fac2021fb3a326607d4}{mode}, \hyperlink{compiler__port_8h_a812d16e5494522586b3784e55d479912}{bool\+\_\+t} write\+Access)}



Open file callback function. 



Definition at line 135 of file tftp\+\_\+server.\+h.

\mbox{\Hypertarget{tftp__server_8h_afa6bd838b7892c537a693b49fd742435}\label{tftp__server_8h_afa6bd838b7892c537a693b49fd742435}} 
\index{tftp\+\_\+server.\+h@{tftp\+\_\+server.\+h}!Tftp\+Server\+Read\+File\+Callback@{Tftp\+Server\+Read\+File\+Callback}}
\index{Tftp\+Server\+Read\+File\+Callback@{Tftp\+Server\+Read\+File\+Callback}!tftp\+\_\+server.\+h@{tftp\+\_\+server.\+h}}
\subsubsection{\texorpdfstring{Tftp\+Server\+Read\+File\+Callback}{TftpServerReadFileCallback}}
{\footnotesize\ttfamily typedef \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t}($\ast$ Tftp\+Server\+Read\+File\+Callback) (void $\ast$\hyperlink{dhcp__common_8h_a5c7003134e7a7486271d4f33c2e7b7de}{file}, size\+\_\+t \hyperlink{pic32mz_2isr__support_8h_ac0542d92dfcd62c19170fd963f9e5052}{offset}, \hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} $\ast$\hyperlink{tftp__common_8h_a5c239a1bb87b52b0f1d6d68c4749cd2a}{data}, size\+\_\+t size, size\+\_\+t $\ast$\hyperlink{ppp_8h_ab2b3adeb2a67e656ff030b56727fd0ac}{length})}



Read file callback function. 



Definition at line 151 of file tftp\+\_\+server.\+h.

\mbox{\Hypertarget{tftp__server_8h_ac3b6ec08b80dc8f9c1bc753d3541b613}\label{tftp__server_8h_ac3b6ec08b80dc8f9c1bc753d3541b613}} 
\index{tftp\+\_\+server.\+h@{tftp\+\_\+server.\+h}!Tftp\+Server\+Write\+File\+Callback@{Tftp\+Server\+Write\+File\+Callback}}
\index{Tftp\+Server\+Write\+File\+Callback@{Tftp\+Server\+Write\+File\+Callback}!tftp\+\_\+server.\+h@{tftp\+\_\+server.\+h}}
\subsubsection{\texorpdfstring{Tftp\+Server\+Write\+File\+Callback}{TftpServerWriteFileCallback}}
{\footnotesize\ttfamily typedef \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t}($\ast$ Tftp\+Server\+Write\+File\+Callback) (void $\ast$\hyperlink{dhcp__common_8h_a5c7003134e7a7486271d4f33c2e7b7de}{file}, size\+\_\+t \hyperlink{pic32mz_2isr__support_8h_ac0542d92dfcd62c19170fd963f9e5052}{offset}, const \hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} $\ast$\hyperlink{tftp__common_8h_a5c239a1bb87b52b0f1d6d68c4749cd2a}{data}, size\+\_\+t \hyperlink{ppp_8h_ab2b3adeb2a67e656ff030b56727fd0ac}{length})}



Write file callback function. 



Definition at line 143 of file tftp\+\_\+server.\+h.



\subsection{Enumeration Type Documentation}
\mbox{\Hypertarget{tftp__server_8h_ab2a2374014f9d5d77c65b15bb32f3a4a}\label{tftp__server_8h_ab2a2374014f9d5d77c65b15bb32f3a4a}} 
\index{tftp\+\_\+server.\+h@{tftp\+\_\+server.\+h}!Tftp\+Connection\+State@{Tftp\+Connection\+State}}
\index{Tftp\+Connection\+State@{Tftp\+Connection\+State}!tftp\+\_\+server.\+h@{tftp\+\_\+server.\+h}}
\subsubsection{\texorpdfstring{Tftp\+Connection\+State}{TftpConnectionState}}
{\footnotesize\ttfamily enum \hyperlink{tftp__server_8h_ab2a2374014f9d5d77c65b15bb32f3a4a}{Tftp\+Connection\+State}}



T\+F\+TP connection state. 

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{T\+F\+T\+P\+\_\+\+S\+T\+A\+T\+E\+\_\+\+C\+L\+O\+S\+ED@{T\+F\+T\+P\+\_\+\+S\+T\+A\+T\+E\+\_\+\+C\+L\+O\+S\+ED}!tftp\+\_\+server.\+h@{tftp\+\_\+server.\+h}}\index{tftp\+\_\+server.\+h@{tftp\+\_\+server.\+h}!T\+F\+T\+P\+\_\+\+S\+T\+A\+T\+E\+\_\+\+C\+L\+O\+S\+ED@{T\+F\+T\+P\+\_\+\+S\+T\+A\+T\+E\+\_\+\+C\+L\+O\+S\+ED}}}\mbox{\Hypertarget{tftp__server_8h_ab2a2374014f9d5d77c65b15bb32f3a4aaa4e48853d260c8e956ae519c1f2deba2}\label{tftp__server_8h_ab2a2374014f9d5d77c65b15bb32f3a4aaa4e48853d260c8e956ae519c1f2deba2}} 
T\+F\+T\+P\+\_\+\+S\+T\+A\+T\+E\+\_\+\+C\+L\+O\+S\+ED&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{T\+F\+T\+P\+\_\+\+S\+T\+A\+T\+E\+\_\+\+O\+P\+EN@{T\+F\+T\+P\+\_\+\+S\+T\+A\+T\+E\+\_\+\+O\+P\+EN}!tftp\+\_\+server.\+h@{tftp\+\_\+server.\+h}}\index{tftp\+\_\+server.\+h@{tftp\+\_\+server.\+h}!T\+F\+T\+P\+\_\+\+S\+T\+A\+T\+E\+\_\+\+O\+P\+EN@{T\+F\+T\+P\+\_\+\+S\+T\+A\+T\+E\+\_\+\+O\+P\+EN}}}\mbox{\Hypertarget{tftp__server_8h_ab2a2374014f9d5d77c65b15bb32f3a4aa0b08c70235daa345ca86c605923a4675}\label{tftp__server_8h_ab2a2374014f9d5d77c65b15bb32f3a4aa0b08c70235daa345ca86c605923a4675}} 
T\+F\+T\+P\+\_\+\+S\+T\+A\+T\+E\+\_\+\+O\+P\+EN&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{T\+F\+T\+P\+\_\+\+S\+T\+A\+T\+E\+\_\+\+R\+E\+A\+D\+I\+NG@{T\+F\+T\+P\+\_\+\+S\+T\+A\+T\+E\+\_\+\+R\+E\+A\+D\+I\+NG}!tftp\+\_\+server.\+h@{tftp\+\_\+server.\+h}}\index{tftp\+\_\+server.\+h@{tftp\+\_\+server.\+h}!T\+F\+T\+P\+\_\+\+S\+T\+A\+T\+E\+\_\+\+R\+E\+A\+D\+I\+NG@{T\+F\+T\+P\+\_\+\+S\+T\+A\+T\+E\+\_\+\+R\+E\+A\+D\+I\+NG}}}\mbox{\Hypertarget{tftp__server_8h_ab2a2374014f9d5d77c65b15bb32f3a4aa11314de8d9c41409d4afc8cfb3f674d0}\label{tftp__server_8h_ab2a2374014f9d5d77c65b15bb32f3a4aa11314de8d9c41409d4afc8cfb3f674d0}} 
T\+F\+T\+P\+\_\+\+S\+T\+A\+T\+E\+\_\+\+R\+E\+A\+D\+I\+NG&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{T\+F\+T\+P\+\_\+\+S\+T\+A\+T\+E\+\_\+\+W\+R\+I\+T\+I\+NG@{T\+F\+T\+P\+\_\+\+S\+T\+A\+T\+E\+\_\+\+W\+R\+I\+T\+I\+NG}!tftp\+\_\+server.\+h@{tftp\+\_\+server.\+h}}\index{tftp\+\_\+server.\+h@{tftp\+\_\+server.\+h}!T\+F\+T\+P\+\_\+\+S\+T\+A\+T\+E\+\_\+\+W\+R\+I\+T\+I\+NG@{T\+F\+T\+P\+\_\+\+S\+T\+A\+T\+E\+\_\+\+W\+R\+I\+T\+I\+NG}}}\mbox{\Hypertarget{tftp__server_8h_ab2a2374014f9d5d77c65b15bb32f3a4aa326240f96906edcdd12338d4fe20b61f}\label{tftp__server_8h_ab2a2374014f9d5d77c65b15bb32f3a4aa326240f96906edcdd12338d4fe20b61f}} 
T\+F\+T\+P\+\_\+\+S\+T\+A\+T\+E\+\_\+\+W\+R\+I\+T\+I\+NG&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{T\+F\+T\+P\+\_\+\+S\+T\+A\+T\+E\+\_\+\+R\+E\+A\+D\+\_\+\+C\+O\+M\+P\+L\+E\+TE@{T\+F\+T\+P\+\_\+\+S\+T\+A\+T\+E\+\_\+\+R\+E\+A\+D\+\_\+\+C\+O\+M\+P\+L\+E\+TE}!tftp\+\_\+server.\+h@{tftp\+\_\+server.\+h}}\index{tftp\+\_\+server.\+h@{tftp\+\_\+server.\+h}!T\+F\+T\+P\+\_\+\+S\+T\+A\+T\+E\+\_\+\+R\+E\+A\+D\+\_\+\+C\+O\+M\+P\+L\+E\+TE@{T\+F\+T\+P\+\_\+\+S\+T\+A\+T\+E\+\_\+\+R\+E\+A\+D\+\_\+\+C\+O\+M\+P\+L\+E\+TE}}}\mbox{\Hypertarget{tftp__server_8h_ab2a2374014f9d5d77c65b15bb32f3a4aa439bae37fc5816f3796a6b920b6e5809}\label{tftp__server_8h_ab2a2374014f9d5d77c65b15bb32f3a4aa439bae37fc5816f3796a6b920b6e5809}} 
T\+F\+T\+P\+\_\+\+S\+T\+A\+T\+E\+\_\+\+R\+E\+A\+D\+\_\+\+C\+O\+M\+P\+L\+E\+TE&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{T\+F\+T\+P\+\_\+\+S\+T\+A\+T\+E\+\_\+\+W\+R\+I\+T\+E\+\_\+\+C\+O\+M\+P\+L\+E\+TE@{T\+F\+T\+P\+\_\+\+S\+T\+A\+T\+E\+\_\+\+W\+R\+I\+T\+E\+\_\+\+C\+O\+M\+P\+L\+E\+TE}!tftp\+\_\+server.\+h@{tftp\+\_\+server.\+h}}\index{tftp\+\_\+server.\+h@{tftp\+\_\+server.\+h}!T\+F\+T\+P\+\_\+\+S\+T\+A\+T\+E\+\_\+\+W\+R\+I\+T\+E\+\_\+\+C\+O\+M\+P\+L\+E\+TE@{T\+F\+T\+P\+\_\+\+S\+T\+A\+T\+E\+\_\+\+W\+R\+I\+T\+E\+\_\+\+C\+O\+M\+P\+L\+E\+TE}}}\mbox{\Hypertarget{tftp__server_8h_ab2a2374014f9d5d77c65b15bb32f3a4aa073b5d08094584527ccf5504f50cb630}\label{tftp__server_8h_ab2a2374014f9d5d77c65b15bb32f3a4aa073b5d08094584527ccf5504f50cb630}} 
T\+F\+T\+P\+\_\+\+S\+T\+A\+T\+E\+\_\+\+W\+R\+I\+T\+E\+\_\+\+C\+O\+M\+P\+L\+E\+TE&\\
\hline

\end{DoxyEnumFields}


Definition at line 120 of file tftp\+\_\+server.\+h.


\begin{DoxyCode}
121 \{
122    \hyperlink{tftp__server_8h_ab2a2374014f9d5d77c65b15bb32f3a4aaa4e48853d260c8e956ae519c1f2deba2}{TFTP\_STATE\_CLOSED}         = 0,
123    \hyperlink{tftp__server_8h_ab2a2374014f9d5d77c65b15bb32f3a4aa0b08c70235daa345ca86c605923a4675}{TFTP\_STATE\_OPEN}           = 1,
124    \hyperlink{tftp__server_8h_ab2a2374014f9d5d77c65b15bb32f3a4aa11314de8d9c41409d4afc8cfb3f674d0}{TFTP\_STATE\_READING}        = 2,
125    \hyperlink{tftp__server_8h_ab2a2374014f9d5d77c65b15bb32f3a4aa326240f96906edcdd12338d4fe20b61f}{TFTP\_STATE\_WRITING}        = 3,
126    \hyperlink{tftp__server_8h_ab2a2374014f9d5d77c65b15bb32f3a4aa439bae37fc5816f3796a6b920b6e5809}{TFTP\_STATE\_READ\_COMPLETE}  = 4,
127    \hyperlink{tftp__server_8h_ab2a2374014f9d5d77c65b15bb32f3a4aa073b5d08094584527ccf5504f50cb630}{TFTP\_STATE\_WRITE\_COMPLETE} = 5
128 \} \hyperlink{tftp__server_8h_ab2a2374014f9d5d77c65b15bb32f3a4a}{TftpConnectionState};
\end{DoxyCode}


\subsection{Function Documentation}
\mbox{\Hypertarget{tftp__server_8h_aab61c9fb00a47405db619557cd4a9631}\label{tftp__server_8h_aab61c9fb00a47405db619557cd4a9631}} 
\index{tftp\+\_\+server.\+h@{tftp\+\_\+server.\+h}!tftp\+Server\+Get\+Default\+Settings@{tftp\+Server\+Get\+Default\+Settings}}
\index{tftp\+Server\+Get\+Default\+Settings@{tftp\+Server\+Get\+Default\+Settings}!tftp\+\_\+server.\+h@{tftp\+\_\+server.\+h}}
\subsubsection{\texorpdfstring{tftp\+Server\+Get\+Default\+Settings()}{tftpServerGetDefaultSettings()}}
{\footnotesize\ttfamily void tftp\+Server\+Get\+Default\+Settings (\begin{DoxyParamCaption}\item[{\hyperlink{structTftpServerSettings}{Tftp\+Server\+Settings} $\ast$}]{settings }\end{DoxyParamCaption})}



Initialize settings with default values. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt out}  & {\em settings} & Structure that contains T\+F\+TP server settings \\
\hline
\end{DoxyParams}


Definition at line 58 of file tftp\+\_\+server.\+c.


\begin{DoxyCode}
59 \{
60    \textcolor{comment}{//The TFTP server is not bound to any interface}
61    settings->\hyperlink{structTftpServerSettings_ada45e3b84aedec470a0d6fa4c2ff53ce}{interface} = \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
62 
63    \textcolor{comment}{//TFTP port number}
64    settings->\hyperlink{structTftpServerSettings_ac188b0c3119ad1c1ebeec4750e9123c8}{port} = \hyperlink{tftp__common_8h_ad9230620a5d3bb87a7ac280ff99875d1}{TFTP\_PORT};
65 
66    \textcolor{comment}{//Open file callback function}
67    settings->\hyperlink{structTftpServerSettings_acb6820c295cca83e7d6559977d548835}{openFileCallback} = \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
68    \textcolor{comment}{//Write file callback function}
69    settings->\hyperlink{structTftpServerSettings_a26573cbdb9c307f46dec55de70ff7843}{writeFileCallback} = \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
70    \textcolor{comment}{//Read file callback function}
71    settings->\hyperlink{structTftpServerSettings_a19916ed7790a89b5faac2c3f70cd5600}{readFileCallback} = \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
72    \textcolor{comment}{//Close file callback function}
73    settings->\hyperlink{structTftpServerSettings_a72dc05f03e3eb13f0250658c90c18e0f}{closeFileCallback} = \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
74 \}
\end{DoxyCode}
\mbox{\Hypertarget{tftp__server_8h_a03c44a860098b6deb60addd2bcf62ca8}\label{tftp__server_8h_a03c44a860098b6deb60addd2bcf62ca8}} 
\index{tftp\+\_\+server.\+h@{tftp\+\_\+server.\+h}!tftp\+Server\+Init@{tftp\+Server\+Init}}
\index{tftp\+Server\+Init@{tftp\+Server\+Init}!tftp\+\_\+server.\+h@{tftp\+\_\+server.\+h}}
\subsubsection{\texorpdfstring{tftp\+Server\+Init()}{tftpServerInit()}}
{\footnotesize\ttfamily \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} tftp\+Server\+Init (\begin{DoxyParamCaption}\item[{\hyperlink{tftp__server_8h_a74392166fd32409398d53d11de1d62fa}{Tftp\+Server\+Context} $\ast$}]{context,  }\item[{const \hyperlink{structTftpServerSettings}{Tftp\+Server\+Settings} $\ast$}]{settings }\end{DoxyParamCaption})}



T\+F\+TP server initialization. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em context} & Pointer to the T\+F\+TP server context \\
\hline
\mbox{\tt in}  & {\em settings} & T\+F\+TP server specific settings \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Error code 
\end{DoxyReturn}


Definition at line 84 of file tftp\+\_\+server.\+c.


\begin{DoxyCode}
85 \{
86    \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\_t} error;
87 
88    \textcolor{comment}{//Debug message}
89    \hyperlink{debug_8h_a7339bfd784193a5c79efcef2eeb2d6df}{TRACE\_INFO}(\textcolor{stringliteral}{"Initializing TFTP server...\(\backslash\)r\(\backslash\)n"});
90 
91    \textcolor{comment}{//Ensure the parameters are valid}
92    \textcolor{keywordflow}{if}(context == \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} || settings == \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
93       \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689caeae4b12e06d727d085f75f79a820f2e8}{ERROR\_INVALID\_PARAMETER};
94 
95    \textcolor{comment}{//Clear the TFTP server context}
96    memset(context, 0, \textcolor{keyword}{sizeof}(\hyperlink{tftp__server_8h_a74392166fd32409398d53d11de1d62fa}{TftpServerContext}));
97 
98    \textcolor{comment}{//Save user settings}
99    context->settings = *settings;
100 
101    \textcolor{comment}{//Create an event object to poll the state of sockets}
102    \textcolor{keywordflow}{if}(!\hyperlink{os__port__chibios_8c_ac1658f3fed1eb64efcd47e4503a9ef2e}{osCreateEvent}(&context->event))
103    \{
104       \textcolor{comment}{//Failed to create event}
105       \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689ca528efe91b7a7e4bcc9a6de7d4b778c67}{ERROR\_OUT\_OF\_RESOURCES};
106    \}
107 
108    \textcolor{comment}{//Start of exception handling block}
109    \textcolor{keywordflow}{do}
110    \{
111       \textcolor{comment}{//Open a UDP socket}
112       context->socket = \hyperlink{socket_8c_aa139bbf42b326b52eb08cf52771ac337}{socketOpen}(\hyperlink{socket_8h_aa78c7398fa81f7f62aa233159d4d8d97a26963b01dac3a99a930779035d3796a7}{SOCKET\_TYPE\_DGRAM}, 
      \hyperlink{socket_8h_a56eb0e60bda5d1d8a2e702228405d969a53c45ffdb9dee4a8f885b816386a99b8}{SOCKET\_IP\_PROTO\_UDP});
113 
114       \textcolor{comment}{//Failed to open socket?}
115       \textcolor{keywordflow}{if}(context->socket == \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
116       \{
117          \textcolor{comment}{//Report an error}
118          error = \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689cab721230e985e398cc0977dd729a12c61}{ERROR\_OPEN\_FAILED};
119          \textcolor{comment}{//Exit immediately}
120          \textcolor{keywordflow}{break};
121       \}
122 
123       \textcolor{comment}{//Associate the socket with the relevant interface}
124       error = \hyperlink{net__legacy_8h_a80bc49fa99e5654d8c345cd5c70d36d3}{socketBindToInterface}(context->socket, settings->
      \hyperlink{structTftpServerSettings_ada45e3b84aedec470a0d6fa4c2ff53ce}{interface});
125       \textcolor{comment}{//Unable to bind the socket to the desired interface?}
126       \textcolor{keywordflow}{if}(error)
127          \textcolor{keywordflow}{break};
128 
129       \textcolor{comment}{//The TFTP server listens for connection requests on port 69}
130       error = \hyperlink{socket_8c_a56de93ca9f66782811dbe151d6da0b9c}{socketBind}(context->socket, &\hyperlink{ip_8c_a132481a9d89ddf554ea8bbbe342e5d5a}{IP\_ADDR\_ANY}, settings->
      \hyperlink{structTftpServerSettings_ac188b0c3119ad1c1ebeec4750e9123c8}{port});
131       \textcolor{comment}{//Unable to bind the socket to the desired port?}
132       \textcolor{keywordflow}{if}(error)
133          \textcolor{keywordflow}{break};
134 
135       \textcolor{comment}{//End of exception handling block}
136    \} \textcolor{keywordflow}{while}(0);
137 
138    \textcolor{comment}{//Did we encounter an error?}
139    \textcolor{keywordflow}{if}(error)
140    \{
141       \textcolor{comment}{//Free previously allocated resources}
142       \hyperlink{os__port__chibios_8c_a25827a49278bad6150b04b47165fda3d}{osDeleteEvent}(&context->event);
143       \textcolor{comment}{//Close socket}
144       \hyperlink{socket_8c_ac5012e9f71c97e2ea0410f2c5baccb0e}{socketClose}(context->socket);
145    \}
146 
147    \textcolor{comment}{//Return status code}
148    \textcolor{keywordflow}{return} error;
149 \}
\end{DoxyCode}
\mbox{\Hypertarget{tftp__server_8h_ab2eeb960f0e710d41d3df575351fbd24}\label{tftp__server_8h_ab2eeb960f0e710d41d3df575351fbd24}} 
\index{tftp\+\_\+server.\+h@{tftp\+\_\+server.\+h}!tftp\+Server\+Start@{tftp\+Server\+Start}}
\index{tftp\+Server\+Start@{tftp\+Server\+Start}!tftp\+\_\+server.\+h@{tftp\+\_\+server.\+h}}
\subsubsection{\texorpdfstring{tftp\+Server\+Start()}{tftpServerStart()}}
{\footnotesize\ttfamily \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} tftp\+Server\+Start (\begin{DoxyParamCaption}\item[{\hyperlink{tftp__server_8h_a74392166fd32409398d53d11de1d62fa}{Tftp\+Server\+Context} $\ast$}]{context }\end{DoxyParamCaption})}



Start T\+F\+TP server. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em context} & Pointer to the T\+F\+TP server context \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Error code 
\end{DoxyReturn}


Definition at line 158 of file tftp\+\_\+server.\+c.


\begin{DoxyCode}
159 \{
160    \hyperlink{structOsTask}{OsTask} *task;
161 
162    \textcolor{comment}{//Debug message}
163    \hyperlink{debug_8h_a7339bfd784193a5c79efcef2eeb2d6df}{TRACE\_INFO}(\textcolor{stringliteral}{"Starting TFTP server...\(\backslash\)r\(\backslash\)n"});
164 
165    \textcolor{comment}{//Make sure the TFTP server context is valid}
166    \textcolor{keywordflow}{if}(context == \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
167       \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689caeae4b12e06d727d085f75f79a820f2e8}{ERROR\_INVALID\_PARAMETER};
168 
169    \textcolor{comment}{//Create the TFTP server task}
170    task = \hyperlink{os__port__chibios_8c_aef8c6fe13a0df9e5cfaeb0501ecbac3e}{osCreateTask}(\textcolor{stringliteral}{"TFTP Server"}, (\hyperlink{os__port__chibios_8h_a52a4e1975bb554c2ce70aaac35b752d2}{OsTaskCode}) 
      \hyperlink{tftp__server_8c_ad9a2260f50862685332fe4cac413e07a}{tftpServerTask},
171       context, \hyperlink{tftp__server_8h_a84dc621259da6494680f75b9356a1471}{TFTP\_SERVER\_STACK\_SIZE}, 
      \hyperlink{tftp__server_8h_a33af35f71eacfd46848caba6d196938c}{TFTP\_SERVER\_PRIORITY});
172 
173    \textcolor{comment}{//Unable to create the task?}
174    \textcolor{keywordflow}{if}(task == \hyperlink{os__port_8h_aa673e52d8b286c3b613ad127aa85d536}{OS\_INVALID\_HANDLE})
175       \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689ca528efe91b7a7e4bcc9a6de7d4b778c67}{ERROR\_OUT\_OF\_RESOURCES};
176 
177    \textcolor{comment}{//Successful processing}
178    \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94}{NO\_ERROR};
179 \}
\end{DoxyCode}
\mbox{\Hypertarget{tftp__server_8h_ad9a2260f50862685332fe4cac413e07a}\label{tftp__server_8h_ad9a2260f50862685332fe4cac413e07a}} 
\index{tftp\+\_\+server.\+h@{tftp\+\_\+server.\+h}!tftp\+Server\+Task@{tftp\+Server\+Task}}
\index{tftp\+Server\+Task@{tftp\+Server\+Task}!tftp\+\_\+server.\+h@{tftp\+\_\+server.\+h}}
\subsubsection{\texorpdfstring{tftp\+Server\+Task()}{tftpServerTask()}}
{\footnotesize\ttfamily void tftp\+Server\+Task (\begin{DoxyParamCaption}\item[{\hyperlink{tftp__server_8h_a74392166fd32409398d53d11de1d62fa}{Tftp\+Server\+Context} $\ast$}]{context }\end{DoxyParamCaption})}



T\+F\+TP server task. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em context} & Pointer to the T\+F\+TP server context \\
\hline
\end{DoxyParams}


Definition at line 187 of file tftp\+\_\+server.\+c.


\begin{DoxyCode}
188 \{
189    \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\_t} error;
190    \hyperlink{compiler__port_8h_a12a1e9b3ce141648783a82445d02b58d}{uint\_t} i;
191    \hyperlink{tftp__server_8h_a0f645438c1de49e8bfc6960ef861e5c9}{TftpClientConnection} *connection;
192 
193 \textcolor{preprocessor}{#if (NET\_RTOS\_SUPPORT == ENABLED)}
194    \textcolor{comment}{//Task prologue}
195    \hyperlink{os__port__chibios_8h_abd3485ee30ab6a2de1208b0498a449cf}{osEnterTask}();
196 
197    \textcolor{comment}{//Process events}
198    \textcolor{keywordflow}{while}(1)
199    \{
200 \textcolor{preprocessor}{#endif}
201       \textcolor{comment}{//Clear event descriptor set}
202       memset(context->eventDesc, 0, \textcolor{keyword}{sizeof}(context->eventDesc));
203 
204       \textcolor{comment}{//Specify the events the application is interested in}
205       \textcolor{keywordflow}{for}(i = 0; i < \hyperlink{tftp__server_8h_a0acdd308af5bdb354e7a80dc8ff4388d}{TFTP\_SERVER\_MAX\_CONNECTIONS}; i++)
206       \{
207          \textcolor{comment}{//Point to the structure describing the current connection}
208          connection = &context->connection[i];
209 
210          \textcolor{comment}{//Loop through active connections only}
211          \textcolor{keywordflow}{if}(connection->state != \hyperlink{tftp__server_8h_ab2a2374014f9d5d77c65b15bb32f3a4aaa4e48853d260c8e956ae519c1f2deba2}{TFTP\_STATE\_CLOSED})
212          \{
213             \textcolor{comment}{//Wait for a packet to be received}
214             context->eventDesc[i].socket = connection->socket;
215             context->eventDesc[i].eventMask = \hyperlink{socket_8h_add8a4c36456f478ab23bd4372aebde6ea72985d7e82625f037ca8a6734f49996c}{SOCKET\_EVENT\_RX\_READY};
216          \}
217       \}
218 
219       \textcolor{comment}{//The TFTP server listens for connection requests on port 69}
220       context->eventDesc[i].socket = context->socket;
221       context->eventDesc[i].eventMask = \hyperlink{socket_8h_add8a4c36456f478ab23bd4372aebde6ea72985d7e82625f037ca8a6734f49996c}{SOCKET\_EVENT\_RX\_READY};
222 
223       \textcolor{comment}{//Wait for one of the set of sockets to become ready to perform I/O}
224       error = \hyperlink{socket_8c_a57ec969d9a3deee2dae93fe0a891e583}{socketPoll}(context->eventDesc, TFTP\_SERVER\_MAX\_CONNECTIONS + 1,
225          &context->event, \hyperlink{tftp__server_8h_ab483e1096bd234a8fe08a8a4f2dfcd5a}{TFTP\_SERVER\_TICK\_INTERVAL});
226 
227       \textcolor{comment}{//Verify status code}
228       \textcolor{keywordflow}{if}(!error)
229       \{
230          \textcolor{comment}{//Event-driven processing}
231          \textcolor{keywordflow}{for}(i = 0; i < \hyperlink{tftp__server_8h_a0acdd308af5bdb354e7a80dc8ff4388d}{TFTP\_SERVER\_MAX\_CONNECTIONS}; i++)
232          \{
233             \textcolor{comment}{//Point to the structure describing the current connection}
234             connection = &context->connection[i];
235 
236             \textcolor{comment}{//Loop through active connections only}
237             \textcolor{keywordflow}{if}(connection->state != \hyperlink{tftp__server_8h_ab2a2374014f9d5d77c65b15bb32f3a4aaa4e48853d260c8e956ae519c1f2deba2}{TFTP\_STATE\_CLOSED})
238             \{
239                \textcolor{comment}{//Check whether a packet has been received}
240                \textcolor{keywordflow}{if}(context->eventDesc[i].eventFlags & \hyperlink{socket_8h_add8a4c36456f478ab23bd4372aebde6ea72985d7e82625f037ca8a6734f49996c}{SOCKET\_EVENT\_RX\_READY})
241                \{
242                   \textcolor{comment}{//Process incoming packet}
243                   \hyperlink{tftp__server__misc_8c_a26e3bf5cc0cc5e8a0c415cdfd400770d}{tftpServerProcessPacket}(context, connection);
244                \}
245             \}
246          \}
247 
248          \textcolor{comment}{//Any connection request received on port 69?}
249          \textcolor{keywordflow}{if}(context->eventDesc[i].eventFlags & \hyperlink{socket_8h_add8a4c36456f478ab23bd4372aebde6ea72985d7e82625f037ca8a6734f49996c}{SOCKET\_EVENT\_RX\_READY})
250          \{
251             \textcolor{comment}{//Accept connection request}
252             \hyperlink{tftp__server__misc_8c_a6fe187acd7a366cae91106d096b215ad}{tftpServerAcceptRequest}(context);
253          \}
254       \}
255 
256       \textcolor{comment}{//Handle periodic operations}
257       \hyperlink{tftp__server__misc_8c_aa9bf9834436dbd5df47d52ff62da36a6}{tftpServerTick}(context);
258 
259 \textcolor{preprocessor}{#if (NET\_RTOS\_SUPPORT == ENABLED)}
260    \}
261 \textcolor{preprocessor}{#endif}
262 \}
\end{DoxyCode}
