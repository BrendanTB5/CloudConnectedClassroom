\hypertarget{ethernet_8c}{}\section{cyclone\+\_\+tcp/core/ethernet.c File Reference}
\label{ethernet_8c}\index{cyclone\+\_\+tcp/core/ethernet.\+c@{cyclone\+\_\+tcp/core/ethernet.\+c}}


Ethernet.  


{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
{\ttfamily \#include $<$ctype.\+h$>$}\newline
{\ttfamily \#include \char`\"{}core/net.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}core/nic.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}core/ethernet.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}core/ethernet\+\_\+misc.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}core/socket.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}core/raw\+\_\+socket.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}core/tcp\+\_\+timer.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}ipv4/arp.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}ipv4/ipv4.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}ipv6/ipv6.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}mibs/mib2\+\_\+module.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}mibs/if\+\_\+mib\+\_\+module.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}debug.\+h\char`\"{}}\newline
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{ethernet_8c_afcdf5e66fd927a7f4cc64295acd20407}{T\+R\+A\+C\+E\+\_\+\+L\+E\+V\+EL}~\hyperlink{net__config_8h_add189f7dc61bf1f6bd2971c9fc482dc7}{E\+T\+H\+\_\+\+T\+R\+A\+C\+E\+\_\+\+L\+E\+V\+EL}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} \hyperlink{ethernet_8c_a29b4fb13088f845f4157692351eead5b}{eth\+Init} (\hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{Net\+Interface} $\ast$interface)
\begin{DoxyCompactList}\small\item\em Ethernet related initialization. \end{DoxyCompactList}\item 
void \hyperlink{ethernet_8c_a8a0785e8ca268a2c93145d32eac66757}{eth\+Process\+Frame} (\hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{Net\+Interface} $\ast$interface, \hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} $\ast$frame, size\+\_\+t \hyperlink{ppp_8h_ab2b3adeb2a67e656ff030b56727fd0ac}{length})
\begin{DoxyCompactList}\small\item\em Process an incoming Ethernet frame. \end{DoxyCompactList}\item 
\hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} \hyperlink{ethernet_8c_ad56ff94d4390f5821d1f1249fb0fea89}{eth\+Send\+Frame} (\hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{Net\+Interface} $\ast$interface, const \hyperlink{ethernet_8h_a1e00ed3977e8a770e8b4ae4cb306d1c0}{Mac\+Addr} $\ast$\hyperlink{ndp_8h_ab217f0ee2104c7c5529a4ece1f77e02c}{dest\+Addr}, \hyperlink{structNetBuffer}{Net\+Buffer} $\ast$buffer, size\+\_\+t \hyperlink{pic32mz_2isr__support_8h_ac0542d92dfcd62c19170fd963f9e5052}{offset}, \hyperlink{stdint_8h_a273cf69d639a59973b6019625df33e30}{uint16\+\_\+t} \hyperlink{ppp_8h_a1d127017fb298b889f4ba24752d08b8e}{type})
\begin{DoxyCompactList}\small\item\em Send an Ethernet frame. \end{DoxyCompactList}\item 
\hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} \hyperlink{ethernet_8c_abef0530e7b819b6f76765071b05152f9}{eth\+Accept\+Mac\+Addr} (\hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{Net\+Interface} $\ast$interface, const \hyperlink{ethernet_8h_a1e00ed3977e8a770e8b4ae4cb306d1c0}{Mac\+Addr} $\ast$mac\+Addr)
\begin{DoxyCompactList}\small\item\em Add a unicast/multicast address to the M\+AC filter table. \end{DoxyCompactList}\item 
\hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} \hyperlink{ethernet_8c_a06dda5c104586292d953537d01c9c0ce}{eth\+Drop\+Mac\+Addr} (\hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{Net\+Interface} $\ast$interface, const \hyperlink{ethernet_8h_a1e00ed3977e8a770e8b4ae4cb306d1c0}{Mac\+Addr} $\ast$mac\+Addr)
\begin{DoxyCompactList}\small\item\em Remove a unicast/multicast address from the M\+AC filter table. \end{DoxyCompactList}\item 
\hyperlink{structNetBuffer}{Net\+Buffer} $\ast$ \hyperlink{ethernet_8c_aadabeac7d0393741647e30f80f482c84}{eth\+Alloc\+Buffer} (size\+\_\+t \hyperlink{ppp_8h_ab2b3adeb2a67e656ff030b56727fd0ac}{length}, size\+\_\+t $\ast$\hyperlink{pic32mz_2isr__support_8h_ac0542d92dfcd62c19170fd963f9e5052}{offset})
\begin{DoxyCompactList}\small\item\em Allocate a buffer to hold an Ethernet frame. \end{DoxyCompactList}\item 
\hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} \hyperlink{ethernet_8c_a8aeaa9b93a3e6b939a42f769072fb53c}{mac\+String\+To\+Addr} (const \hyperlink{compiler__port_8h_a40bb5262bf908c328fbcfbe5d29d0201}{char\+\_\+t} $\ast$str, \hyperlink{ethernet_8h_a1e00ed3977e8a770e8b4ae4cb306d1c0}{Mac\+Addr} $\ast$mac\+Addr)
\begin{DoxyCompactList}\small\item\em Convert a string representation of a M\+AC address to a binary M\+AC address. \end{DoxyCompactList}\item 
\hyperlink{compiler__port_8h_a40bb5262bf908c328fbcfbe5d29d0201}{char\+\_\+t} $\ast$ \hyperlink{ethernet_8c_a9939c8165aa34316fdeb8b24258db4c4}{mac\+Addr\+To\+String} (const \hyperlink{ethernet_8h_a1e00ed3977e8a770e8b4ae4cb306d1c0}{Mac\+Addr} $\ast$mac\+Addr, \hyperlink{compiler__port_8h_a40bb5262bf908c328fbcfbe5d29d0201}{char\+\_\+t} $\ast$str)
\begin{DoxyCompactList}\small\item\em Convert a M\+AC address to a dash delimited string. \end{DoxyCompactList}\item 
void \hyperlink{ethernet_8c_abbe0cae70748acbaa8c4d840ee764424}{mac\+Addr\+To\+Eui64} (const \hyperlink{ethernet_8h_a1e00ed3977e8a770e8b4ae4cb306d1c0}{Mac\+Addr} $\ast$mac\+Addr, \hyperlink{ethernet_8h_acbcae3afd042b3ce97e42f54013c8137}{Eui64} $\ast$\hyperlink{ipv6cp_8h_a897753848b1e78a33fa45fad7b58ddbb}{interface\+Id})
\begin{DoxyCompactList}\small\item\em Map a M\+AC address to the I\+Pv6 modified E\+U\+I-\/64 identifier. \end{DoxyCompactList}\item 
void \hyperlink{ethernet_8c_aac1e0c93f3a54e0d0265827b127421e4}{eth\+Dump\+Header} (const \hyperlink{ethernet_8h_a431dfb940d831c1426e2f13891116519}{Eth\+Header} $\ast$eth\+Header)
\begin{DoxyCompactList}\small\item\em Dump Ethernet header for debugging purpose. \end{DoxyCompactList}\item 
\hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} \hyperlink{ethernet_8c_a266f89873783e114a3f61c286bcc1581}{eui64\+String\+To\+Addr} (const \hyperlink{compiler__port_8h_a40bb5262bf908c328fbcfbe5d29d0201}{char\+\_\+t} $\ast$str, \hyperlink{ethernet_8h_acbcae3afd042b3ce97e42f54013c8137}{Eui64} $\ast$eui64)
\begin{DoxyCompactList}\small\item\em Convert a string representation of an E\+U\+I-\/64 address to a binary E\+U\+I-\/64 address. \end{DoxyCompactList}\item 
\hyperlink{compiler__port_8h_a40bb5262bf908c328fbcfbe5d29d0201}{char\+\_\+t} $\ast$ \hyperlink{ethernet_8c_ae93e1d661e17552708072ab30c2b1a7e}{eui64\+Addr\+To\+String} (const \hyperlink{ethernet_8h_acbcae3afd042b3ce97e42f54013c8137}{Eui64} $\ast$eui64, \hyperlink{compiler__port_8h_a40bb5262bf908c328fbcfbe5d29d0201}{char\+\_\+t} $\ast$str)
\begin{DoxyCompactList}\small\item\em Convert an E\+U\+I-\/64 address to a dash delimited string. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
const \hyperlink{ethernet_8h_a1e00ed3977e8a770e8b4ae4cb306d1c0}{Mac\+Addr} \hyperlink{ethernet_8c_a24b2ce78dd643fe028d2e18c3b503f1f}{M\+A\+C\+\_\+\+U\+N\+S\+P\+E\+C\+I\+F\+I\+E\+D\+\_\+\+A\+D\+DR} = \{\{\{0x00, 0x00, 0x00, 0x00, 0x00, 0x00\}\}\}
\item 
const \hyperlink{ethernet_8h_a1e00ed3977e8a770e8b4ae4cb306d1c0}{Mac\+Addr} \hyperlink{ethernet_8c_ae1313f9f72de49c713dea514e09ae0e3}{M\+A\+C\+\_\+\+B\+R\+O\+A\+D\+C\+A\+S\+T\+\_\+\+A\+D\+DR} = \{\{\{0x\+F\+F, 0x\+F\+F, 0x\+F\+F, 0x\+F\+F, 0x\+F\+F, 0x\+F\+F\}\}\}
\item 
const \hyperlink{ethernet_8h_acbcae3afd042b3ce97e42f54013c8137}{Eui64} \hyperlink{ethernet_8c_a81a37017a277d463608f4534331ddae2}{E\+U\+I64\+\_\+\+U\+N\+S\+P\+E\+C\+I\+F\+I\+E\+D\+\_\+\+A\+D\+DR} = \{\{\{0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00\}\}\}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Ethernet. 

\hypertarget{pic32mz__ef__curiosity_8h_License}{}\subsection{License}\label{pic32mz__ef__curiosity_8h_License}
S\+P\+D\+X-\/\+License-\/\+Identifier\+: G\+P\+L-\/2.\+0-\/or-\/later

Copyright (C) 2010-\/2019 Oryx Embedded S\+A\+RL. All rights reserved.

This file is part of Cyclone\+T\+CP Open.

This program is free software; you can redistribute it and/or modify it under the terms of the G\+NU General Public License as published by the Free Software Foundation; either version 2 of the License, or (at your option) any later version.

This program is distributed in the hope that it will be useful, but W\+I\+T\+H\+O\+UT A\+NY W\+A\+R\+R\+A\+N\+TY; without even the implied warranty of M\+E\+R\+C\+H\+A\+N\+T\+A\+B\+I\+L\+I\+TY or F\+I\+T\+N\+E\+SS F\+OR A P\+A\+R\+T\+I\+C\+U\+L\+AR P\+U\+R\+P\+O\+SE. See the G\+NU General Public License for more details.

You should have received a copy of the G\+NU General Public License along with this program; if not, write to the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-\/1301, U\+SA.

\begin{DoxyAuthor}{Author}
Oryx Embedded S\+A\+RL (www.\+oryx-\/embedded.\+com) 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
1.\+9.\+6 
\end{DoxyVersion}


\subsection{Macro Definition Documentation}
\mbox{\Hypertarget{ethernet_8c_afcdf5e66fd927a7f4cc64295acd20407}\label{ethernet_8c_afcdf5e66fd927a7f4cc64295acd20407}} 
\index{ethernet.\+c@{ethernet.\+c}!T\+R\+A\+C\+E\+\_\+\+L\+E\+V\+EL@{T\+R\+A\+C\+E\+\_\+\+L\+E\+V\+EL}}
\index{T\+R\+A\+C\+E\+\_\+\+L\+E\+V\+EL@{T\+R\+A\+C\+E\+\_\+\+L\+E\+V\+EL}!ethernet.\+c@{ethernet.\+c}}
\subsubsection{\texorpdfstring{T\+R\+A\+C\+E\+\_\+\+L\+E\+V\+EL}{TRACE\_LEVEL}}
{\footnotesize\ttfamily \#define T\+R\+A\+C\+E\+\_\+\+L\+E\+V\+EL~\hyperlink{net__config_8h_add189f7dc61bf1f6bd2971c9fc482dc7}{E\+T\+H\+\_\+\+T\+R\+A\+C\+E\+\_\+\+L\+E\+V\+EL}}



Definition at line 32 of file ethernet.\+c.



\subsection{Function Documentation}
\mbox{\Hypertarget{ethernet_8c_abef0530e7b819b6f76765071b05152f9}\label{ethernet_8c_abef0530e7b819b6f76765071b05152f9}} 
\index{ethernet.\+c@{ethernet.\+c}!eth\+Accept\+Mac\+Addr@{eth\+Accept\+Mac\+Addr}}
\index{eth\+Accept\+Mac\+Addr@{eth\+Accept\+Mac\+Addr}!ethernet.\+c@{ethernet.\+c}}
\subsubsection{\texorpdfstring{eth\+Accept\+Mac\+Addr()}{ethAcceptMacAddr()}}
{\footnotesize\ttfamily \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} eth\+Accept\+Mac\+Addr (\begin{DoxyParamCaption}\item[{\hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{Net\+Interface} $\ast$}]{interface,  }\item[{const \hyperlink{ethernet_8h_a1e00ed3977e8a770e8b4ae4cb306d1c0}{Mac\+Addr} $\ast$}]{mac\+Addr }\end{DoxyParamCaption})}



Add a unicast/multicast address to the M\+AC filter table. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em interface} & Underlying network interface \\
\hline
\mbox{\tt in}  & {\em mac\+Addr} & M\+AC address to accept \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Error code 
\end{DoxyReturn}


Definition at line 516 of file ethernet.\+c.


\begin{DoxyCode}
517 \{
518    \hyperlink{compiler__port_8h_a12a1e9b3ce141648783a82445d02b58d}{uint\_t} i;
519    \hyperlink{structMacFilterEntry}{MacFilterEntry} *entry;
520    \hyperlink{structMacFilterEntry}{MacFilterEntry} *firstFreeEntry;
521 
522    \textcolor{comment}{//Keep track of the first free entry}
523    firstFreeEntry = \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
524 
525    \textcolor{comment}{//Go through the MAC filter table}
526    \textcolor{keywordflow}{for}(i = 0; i < \hyperlink{ethernet_8h_ab64acae68b5723774fa272c62efd7c2b}{MAC\_ADDR\_FILTER\_SIZE}; i++)
527    \{
528       \textcolor{comment}{//Point to the current entry}
529       entry = &interface->macAddrFilter[i];
530 
531       \textcolor{comment}{//Valid entry?}
532       \textcolor{keywordflow}{if}(entry->\hyperlink{structMacFilterEntry_a4a1195d4086f58ef57862fa43551e73a}{refCount} > 0)
533       \{
534          \textcolor{comment}{//Check whether the table already contains the specified MAC address}
535          \textcolor{keywordflow}{if}(\hyperlink{ethernet_8h_a800d9f928930baf027e925976c44b9b2}{macCompAddr}(&entry->\hyperlink{structMacFilterEntry_a30caa211d6cc1bb2416165526a2ab6cb}{addr}, macAddr))
536          \{
537             \textcolor{comment}{//Increment the reference count}
538             entry->\hyperlink{structMacFilterEntry_a4a1195d4086f58ef57862fa43551e73a}{refCount}++;
539             \textcolor{comment}{//No error to report}
540             \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94}{NO\_ERROR};
541          \}
542       \}
543       \textcolor{keywordflow}{else}
544       \{
545          \textcolor{comment}{//Keep track of the first free entry}
546          \textcolor{keywordflow}{if}(firstFreeEntry == \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
547             firstFreeEntry = entry;
548       \}
549    \}
550 
551    \textcolor{comment}{//Check whether the multicast filter table is full}
552    \textcolor{keywordflow}{if}(firstFreeEntry == \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
553    \{
554       \textcolor{comment}{//A new entry cannot be added}
555       \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689cae9be6449970fca5714ab9957b16562a5}{ERROR\_FAILURE};
556    \}
557 
558    \textcolor{comment}{//Add a new entry to the table}
559    firstFreeEntry->\hyperlink{structMacFilterEntry_a30caa211d6cc1bb2416165526a2ab6cb}{addr} = *macAddr;
560    \textcolor{comment}{//Initialize the reference count}
561    firstFreeEntry->\hyperlink{structMacFilterEntry_a4a1195d4086f58ef57862fa43551e73a}{refCount} = 1;
562 
563    \textcolor{comment}{//Force the network interface controller to add the current}
564    \textcolor{comment}{//entry to its MAC filter table}
565    firstFreeEntry->\hyperlink{structMacFilterEntry_a3594f70670b96bcab217db87696ff585}{addFlag} = \hyperlink{os__port_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
566    firstFreeEntry->\hyperlink{structMacFilterEntry_a4fd4a00a88556b70cb2582762cdb8b19}{deleteFlag} = \hyperlink{os__port_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
567 
568    \textcolor{comment}{//Update the MAC filter table}
569    \hyperlink{nic_8c_a9aa22ecc6ff76481bd33224fda34cb90}{nicUpdateMacAddrFilter}(interface);
570 
571    \textcolor{comment}{//Clear the flag}
572    firstFreeEntry->\hyperlink{structMacFilterEntry_a3594f70670b96bcab217db87696ff585}{addFlag} = \hyperlink{os__port_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
573 
574    \textcolor{comment}{//No error to report}
575    \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94}{NO\_ERROR};
576 \}
\end{DoxyCode}
\mbox{\Hypertarget{ethernet_8c_aadabeac7d0393741647e30f80f482c84}\label{ethernet_8c_aadabeac7d0393741647e30f80f482c84}} 
\index{ethernet.\+c@{ethernet.\+c}!eth\+Alloc\+Buffer@{eth\+Alloc\+Buffer}}
\index{eth\+Alloc\+Buffer@{eth\+Alloc\+Buffer}!ethernet.\+c@{ethernet.\+c}}
\subsubsection{\texorpdfstring{eth\+Alloc\+Buffer()}{ethAllocBuffer()}}
{\footnotesize\ttfamily \hyperlink{structNetBuffer}{Net\+Buffer}$\ast$ eth\+Alloc\+Buffer (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{length,  }\item[{size\+\_\+t $\ast$}]{offset }\end{DoxyParamCaption})}



Allocate a buffer to hold an Ethernet frame. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em length} & Desired payload length \\
\hline
\mbox{\tt out}  & {\em offset} & Offset to the first byte of the payload \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The function returns a pointer to the newly allocated buffer. If the system is out of resources, N\+U\+LL is returned 
\end{DoxyReturn}


Definition at line 641 of file ethernet.\+c.


\begin{DoxyCode}
642 \{
643    \textcolor{keywordtype}{size\_t} \hyperlink{dhcpv6__common_8h_a5a648f5ec00c526b0dfa2df7a272c6c0}{n};
644    \hyperlink{structNetBuffer}{NetBuffer} *buffer;
645 
646    \textcolor{comment}{//Ethernet frame overhead}
647    n = \textcolor{keyword}{sizeof}(\hyperlink{ethernet_8h_a431dfb940d831c1426e2f13891116519}{EthHeader});
648 
649 \textcolor{preprocessor}{#if (ETH\_VLAN\_SUPPORT == ENABLED)}
650    \textcolor{comment}{//VLAN tagging overhead (802.1q)}
651    n += \textcolor{keyword}{sizeof}(\hyperlink{ethernet_8h_ae83b165278ec9105643c370c300f0436}{VlanTag});
652 \textcolor{preprocessor}{#endif}
653 
654 \textcolor{preprocessor}{#if (ETH\_VMAN\_SUPPORT == ENABLED)}
655    \textcolor{comment}{//VMAN tagging overhead (802.1ad)}
656    n += \textcolor{keyword}{sizeof}(\hyperlink{ethernet_8h_ae83b165278ec9105643c370c300f0436}{VlanTag});
657 \textcolor{preprocessor}{#endif}
658 
659 \textcolor{preprocessor}{#if (ETH\_PORT\_TAGGING\_SUPPORT == ENABLED)}
660    \textcolor{comment}{//Special VLAN tagging overhead}
661    n += \textcolor{keyword}{sizeof}(\hyperlink{ethernet_8h_ae83b165278ec9105643c370c300f0436}{VlanTag});
662 \textcolor{preprocessor}{#endif}
663 
664    \textcolor{comment}{//Allocate a buffer to hold the Ethernet header and the payload}
665    buffer = \hyperlink{net__mem_8c_a986c9991e530e99528faa4c43efadc6f}{netBufferAlloc}(\hyperlink{dtls__misc_8h_ab43ca82dd7fa2a0e56f941032ef324c4}{length} + n);
666    \textcolor{comment}{//Failed to allocate buffer?}
667    \textcolor{keywordflow}{if}(buffer == \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
668       \textcolor{keywordflow}{return} \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
669 
670    \textcolor{comment}{//Offset to the first byte of the payload}
671    *\hyperlink{pic32mz_2isr__support_8h_a12a5aed8a193ebbf9a641104a310610d}{offset} = \hyperlink{dhcpv6__common_8h_a5a648f5ec00c526b0dfa2df7a272c6c0}{n};
672 
673    \textcolor{comment}{//Return a pointer to the freshly allocated buffer}
674    \textcolor{keywordflow}{return} buffer;
675 \}
\end{DoxyCode}
\mbox{\Hypertarget{ethernet_8c_a06dda5c104586292d953537d01c9c0ce}\label{ethernet_8c_a06dda5c104586292d953537d01c9c0ce}} 
\index{ethernet.\+c@{ethernet.\+c}!eth\+Drop\+Mac\+Addr@{eth\+Drop\+Mac\+Addr}}
\index{eth\+Drop\+Mac\+Addr@{eth\+Drop\+Mac\+Addr}!ethernet.\+c@{ethernet.\+c}}
\subsubsection{\texorpdfstring{eth\+Drop\+Mac\+Addr()}{ethDropMacAddr()}}
{\footnotesize\ttfamily \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} eth\+Drop\+Mac\+Addr (\begin{DoxyParamCaption}\item[{\hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{Net\+Interface} $\ast$}]{interface,  }\item[{const \hyperlink{ethernet_8h_a1e00ed3977e8a770e8b4ae4cb306d1c0}{Mac\+Addr} $\ast$}]{mac\+Addr }\end{DoxyParamCaption})}



Remove a unicast/multicast address from the M\+AC filter table. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em interface} & Underlying network interface \\
\hline
\mbox{\tt in}  & {\em mac\+Addr} & M\+AC address to drop \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Error code 
\end{DoxyReturn}


Definition at line 586 of file ethernet.\+c.


\begin{DoxyCode}
587 \{
588    \hyperlink{compiler__port_8h_a12a1e9b3ce141648783a82445d02b58d}{uint\_t} i;
589    \hyperlink{structMacFilterEntry}{MacFilterEntry} *entry;
590 
591    \textcolor{comment}{//Go through the MAC filter table}
592    \textcolor{keywordflow}{for}(i = 0; i < \hyperlink{ethernet_8h_ab64acae68b5723774fa272c62efd7c2b}{MAC\_ADDR\_FILTER\_SIZE}; i++)
593    \{
594       \textcolor{comment}{//Point to the current entry}
595       entry = &interface->macAddrFilter[i];
596 
597       \textcolor{comment}{//Valid entry?}
598       \textcolor{keywordflow}{if}(entry->\hyperlink{structMacFilterEntry_a4a1195d4086f58ef57862fa43551e73a}{refCount} > 0)
599       \{
600          \textcolor{comment}{//Specified MAC address found?}
601          \textcolor{keywordflow}{if}(\hyperlink{ethernet_8h_a800d9f928930baf027e925976c44b9b2}{macCompAddr}(&entry->\hyperlink{structMacFilterEntry_a30caa211d6cc1bb2416165526a2ab6cb}{addr}, macAddr))
602          \{
603             \textcolor{comment}{//Decrement the reference count}
604             entry->\hyperlink{structMacFilterEntry_a4a1195d4086f58ef57862fa43551e73a}{refCount}--;
605 
606             \textcolor{comment}{//Remove the entry if the reference count drops to zero}
607             \textcolor{keywordflow}{if}(entry->\hyperlink{structMacFilterEntry_a4a1195d4086f58ef57862fa43551e73a}{refCount} == 0)
608             \{
609                \textcolor{comment}{//Force the network interface controller to remove the current}
610                \textcolor{comment}{//entry from its MAC filter table}
611                entry->\hyperlink{structMacFilterEntry_a4fd4a00a88556b70cb2582762cdb8b19}{deleteFlag} = \hyperlink{os__port_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
612 
613                \textcolor{comment}{//Update the MAC filter table}
614                \hyperlink{nic_8c_a9aa22ecc6ff76481bd33224fda34cb90}{nicUpdateMacAddrFilter}(interface);
615 
616                \textcolor{comment}{//Clear the flag}
617                entry->\hyperlink{structMacFilterEntry_a4fd4a00a88556b70cb2582762cdb8b19}{deleteFlag} = \hyperlink{os__port_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
618                \textcolor{comment}{//Remove the multicast address from the list}
619                entry->\hyperlink{structMacFilterEntry_a30caa211d6cc1bb2416165526a2ab6cb}{addr} = \hyperlink{ethernet_8c_a24b2ce78dd643fe028d2e18c3b503f1f}{MAC\_UNSPECIFIED\_ADDR};
620             \}
621 
622             \textcolor{comment}{//No error to report}
623             \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94}{NO\_ERROR};
624          \}
625       \}
626    \}
627 
628    \textcolor{comment}{//The specified MAC address does not exist}
629    \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689caca25a9c49fbc5637e3824af31fb7a441}{ERROR\_ADDRESS\_NOT\_FOUND};
630 \}
\end{DoxyCode}
\mbox{\Hypertarget{ethernet_8c_aac1e0c93f3a54e0d0265827b127421e4}\label{ethernet_8c_aac1e0c93f3a54e0d0265827b127421e4}} 
\index{ethernet.\+c@{ethernet.\+c}!eth\+Dump\+Header@{eth\+Dump\+Header}}
\index{eth\+Dump\+Header@{eth\+Dump\+Header}!ethernet.\+c@{ethernet.\+c}}
\subsubsection{\texorpdfstring{eth\+Dump\+Header()}{ethDumpHeader()}}
{\footnotesize\ttfamily void eth\+Dump\+Header (\begin{DoxyParamCaption}\item[{const \hyperlink{ethernet_8h_a431dfb940d831c1426e2f13891116519}{Eth\+Header} $\ast$}]{eth\+Header }\end{DoxyParamCaption})}



Dump Ethernet header for debugging purpose. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em eth\+Header} & Pointer to the Ethernet header \\
\hline
\end{DoxyParams}


Definition at line 827 of file ethernet.\+c.


\begin{DoxyCode}
828 \{
829    \textcolor{comment}{//Dump Ethernet header contents}
830    \hyperlink{debug_8h_a67a8f9bc74358aa21745a76e23768dae}{TRACE\_DEBUG}(\textcolor{stringliteral}{"  Dest Addr = %s\(\backslash\)r\(\backslash\)n"}, \hyperlink{ethernet_8c_a9939c8165aa34316fdeb8b24258db4c4}{macAddrToString}(&ethHeader->destAddr, 
      \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}));
831    \hyperlink{debug_8h_a67a8f9bc74358aa21745a76e23768dae}{TRACE\_DEBUG}(\textcolor{stringliteral}{"  Src Addr = %s\(\backslash\)r\(\backslash\)n"}, \hyperlink{ethernet_8c_a9939c8165aa34316fdeb8b24258db4c4}{macAddrToString}(&ethHeader->srcAddr, 
      \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}));
832    \hyperlink{debug_8h_a67a8f9bc74358aa21745a76e23768dae}{TRACE\_DEBUG}(\textcolor{stringliteral}{"  Type = 0x%04"} PRIX16 \textcolor{stringliteral}{"\(\backslash\)r\(\backslash\)n"}, \hyperlink{cpu__endian_8h_a9312c6eb72e64f748ae0d0e0dc3ec9b9}{ntohs}(ethHeader->type));
833 \}
\end{DoxyCode}
\mbox{\Hypertarget{ethernet_8c_a29b4fb13088f845f4157692351eead5b}\label{ethernet_8c_a29b4fb13088f845f4157692351eead5b}} 
\index{ethernet.\+c@{ethernet.\+c}!eth\+Init@{eth\+Init}}
\index{eth\+Init@{eth\+Init}!ethernet.\+c@{ethernet.\+c}}
\subsubsection{\texorpdfstring{eth\+Init()}{ethInit()}}
{\footnotesize\ttfamily \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} eth\+Init (\begin{DoxyParamCaption}\item[{\hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{Net\+Interface} $\ast$}]{interface }\end{DoxyParamCaption})}



Ethernet related initialization. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em interface} & Underlying network interface \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Error code 
\end{DoxyReturn}


Definition at line 67 of file ethernet.\+c.


\begin{DoxyCode}
68 \{
69    \textcolor{comment}{//Clear the MAC filter table contents}
70    memset(interface->macAddrFilter, 0,
71       \textcolor{keyword}{sizeof}(interface->macAddrFilter));
72 
73    \textcolor{comment}{//Successful initialization}
74    \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94}{NO\_ERROR};
75 \}
\end{DoxyCode}
\mbox{\Hypertarget{ethernet_8c_a8a0785e8ca268a2c93145d32eac66757}\label{ethernet_8c_a8a0785e8ca268a2c93145d32eac66757}} 
\index{ethernet.\+c@{ethernet.\+c}!eth\+Process\+Frame@{eth\+Process\+Frame}}
\index{eth\+Process\+Frame@{eth\+Process\+Frame}!ethernet.\+c@{ethernet.\+c}}
\subsubsection{\texorpdfstring{eth\+Process\+Frame()}{ethProcessFrame()}}
{\footnotesize\ttfamily void eth\+Process\+Frame (\begin{DoxyParamCaption}\item[{\hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{Net\+Interface} $\ast$}]{interface,  }\item[{\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} $\ast$}]{frame,  }\item[{size\+\_\+t}]{length }\end{DoxyParamCaption})}



Process an incoming Ethernet frame. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em interface} & Underlying network interface \\
\hline
\mbox{\tt in}  & {\em frame} & Incoming Ethernet frame to process \\
\hline
\mbox{\tt in}  & {\em length} & Total frame length \\
\hline
\end{DoxyParams}


Definition at line 85 of file ethernet.\+c.


\begin{DoxyCode}
86 \{
87    \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\_t} error;
88    \hyperlink{compiler__port_8h_a12a1e9b3ce141648783a82445d02b58d}{uint\_t} i;
89    \hyperlink{stdint_8h_a273cf69d639a59973b6019625df33e30}{uint16\_t} \hyperlink{resource__manager_8h_a12e46a33bfe90638e58ef067c6fd4a6e}{type};
90    \hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t} *\hyperlink{dtls__misc_8h_a5c239a1bb87b52b0f1d6d68c4749cd2a}{data};
91    \hyperlink{ethernet_8h_a431dfb940d831c1426e2f13891116519}{EthHeader} *header;
92    \hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{NetInterface} *virtualInterface;
93 
94 \textcolor{preprocessor}{#if (IPV6\_SUPPORT == ENABLED)}
95    \hyperlink{structNetBuffer1}{NetBuffer1} buffer;
96 \textcolor{preprocessor}{#endif}
97 \textcolor{preprocessor}{#if (ETH\_PORT\_TAGGING\_SUPPORT == ENABLED)}
98    \hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t} \hyperlink{dns__common_8h_a8e0798404bf2cf5dabb84c5ba9a4f236}{port} = 0;
99 \textcolor{preprocessor}{#endif}
100 \textcolor{preprocessor}{#if (ETH\_VLAN\_SUPPORT == ENABLED)}
101    \hyperlink{stdint_8h_a273cf69d639a59973b6019625df33e30}{uint16\_t} vlanId = 0;
102 \textcolor{preprocessor}{#endif}
103 \textcolor{preprocessor}{#if (ETH\_VMAN\_SUPPORT == ENABLED)}
104    \hyperlink{stdint_8h_a273cf69d639a59973b6019625df33e30}{uint16\_t} vmanId = 0;
105 \textcolor{preprocessor}{#endif}
106 
107    \textcolor{comment}{//Initialize status code}
108    error = \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94}{NO\_ERROR};
109 
110    \textcolor{comment}{//Initialize variables}
111    type = 0;
112    data = \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
113    header = \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
114 
115    \textcolor{comment}{//Start of exception handling block}
116    \textcolor{keywordflow}{do}
117    \{
118       \textcolor{comment}{//Check whether the CRC is included in the received frame}
119       \textcolor{keywordflow}{if}(!interface->nicDriver->autoCrcStrip)
120       \{
121          \textcolor{comment}{//Perform CRC verification}
122          error = \hyperlink{ethernet__misc_8c_a516450f33b1c15e3648a75e0141cac22}{ethCheckCrc}(interface, frame, \hyperlink{dtls__misc_8h_ab43ca82dd7fa2a0e56f941032ef324c4}{length});
123          \textcolor{comment}{//CRC error?}
124          \textcolor{keywordflow}{if}(error)
125             \textcolor{keywordflow}{break};
126 
127          \textcolor{comment}{//Strip CRC field from Ethernet frame}
128          \hyperlink{dtls__misc_8h_ab43ca82dd7fa2a0e56f941032ef324c4}{length} -= \hyperlink{ethernet_8h_a6be302136e0434536d049406760485b1}{ETH\_CRC\_SIZE};
129       \}
130 
131 \textcolor{preprocessor}{#if (ETH\_PORT\_TAGGING\_SUPPORT == ENABLED)}
132       \textcolor{comment}{//Ethernet port multiplication using VLAN or tail tagging?}
133       \textcolor{keywordflow}{if}(interface->port != 0 &&
134          interface->phyDriver != \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} &&
135          interface->phyDriver->untagFrame != \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
136       \{
137          \textcolor{comment}{//Decode VLAN tag (SMSC switches) or tail tag (Micrel switches)}
138          error = interface->phyDriver->untagFrame(interface, &frame,
139             &\hyperlink{dtls__misc_8h_ab43ca82dd7fa2a0e56f941032ef324c4}{length}, &port);
140          \textcolor{comment}{//Any error to report?}
141          \textcolor{keywordflow}{if}(error)
142             \textcolor{keywordflow}{break};
143       \}
144 \textcolor{preprocessor}{#endif}
145 
146       \textcolor{comment}{//Point to the beginning of the frame}
147       header = (\hyperlink{ethernet_8h_a431dfb940d831c1426e2f13891116519}{EthHeader} *) frame;
148 
149       \textcolor{comment}{//Total number of octets received on the interface}
150       \hyperlink{mib2__module_8h_abac73a39224e47d597f3b461620d2119}{MIB2\_INC\_COUNTER32}(ifGroup.ifTable[interface->index].ifInOctets, 
      \hyperlink{dtls__misc_8h_ab43ca82dd7fa2a0e56f941032ef324c4}{length});
151       \hyperlink{if__mib__module_8h_a0e07279ae5b68d07360596c9e0e57434}{IF\_MIB\_INC\_COUNTER32}(ifTable[interface->index].ifInOctets, 
      \hyperlink{dtls__misc_8h_ab43ca82dd7fa2a0e56f941032ef324c4}{length});
152       \hyperlink{if__mib__module_8h_a90c0dc3fec6404a807c39d628473ffd4}{IF\_MIB\_INC\_COUNTER64}(ifXTable[interface->index].ifHCInOctets, 
      \hyperlink{dtls__misc_8h_ab43ca82dd7fa2a0e56f941032ef324c4}{length});
153 
154       \textcolor{comment}{//Malformed Ethernet frame?}
155       \textcolor{keywordflow}{if}(\hyperlink{dtls__misc_8h_ab43ca82dd7fa2a0e56f941032ef324c4}{length} < \textcolor{keyword}{sizeof}(\hyperlink{ethernet_8h_a431dfb940d831c1426e2f13891116519}{EthHeader}))
156       \{
157          \textcolor{comment}{//Drop the received frame}
158          error = \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689cae5c014519c3ac2540447887ddca1bd28}{ERROR\_INVALID\_LENGTH};
159          \textcolor{keywordflow}{break};
160       \}
161 
162       \textcolor{comment}{//Debug message}
163       \hyperlink{debug_8h_a67a8f9bc74358aa21745a76e23768dae}{TRACE\_DEBUG}(\textcolor{stringliteral}{"Ethernet frame received (%"} \hyperlink{compiler__port_8h_a2b7b0557dc6cd786df02dafbb51f5292}{PRIuSIZE} \textcolor{stringliteral}{" bytes)...\(\backslash\)r\(\backslash\)n"}, 
      \hyperlink{dtls__misc_8h_ab43ca82dd7fa2a0e56f941032ef324c4}{length});
164       \textcolor{comment}{//Dump Ethernet header contents for debugging purpose}
165       \hyperlink{ethernet_8c_aac1e0c93f3a54e0d0265827b127421e4}{ethDumpHeader}(header);
166 
167 \textcolor{preprocessor}{#if defined(ETH\_FRAME\_FORWARD\_HOOK)}
168       ETH\_FRAME\_FORWARD\_HOOK(interface, header, \hyperlink{dtls__misc_8h_ab43ca82dd7fa2a0e56f941032ef324c4}{length});
169 \textcolor{preprocessor}{#endif}
170 
171       \textcolor{comment}{//Retrieve the value of the EtherType field}
172       type = \hyperlink{cpu__endian_8h_a9312c6eb72e64f748ae0d0e0dc3ec9b9}{ntohs}(header->type);
173 
174       \textcolor{comment}{//Point to the data payload}
175       data = header->data;
176       \textcolor{comment}{//Calculate the length of the data payload}
177       \hyperlink{dtls__misc_8h_ab43ca82dd7fa2a0e56f941032ef324c4}{length} -= \textcolor{keyword}{sizeof}(\hyperlink{ethernet_8h_a431dfb940d831c1426e2f13891116519}{EthHeader});
178 
179 \textcolor{preprocessor}{#if (ETH\_VMAN\_SUPPORT == ENABLED)}
180       \textcolor{comment}{//VMAN tag found?}
181       \textcolor{keywordflow}{if}(type == \hyperlink{ethernet_8h_a527bb7f81d1c0869a7fc3f38b05ceaafa1a2a8bcf03dea4793adfddd1c470d481}{ETH\_TYPE\_VMAN})
182       \{
183          \textcolor{comment}{//Decode VMAN tag}
184          error = \hyperlink{ethernet__misc_8c_ae418db17934113d25154e41b47689fd3}{ethDecodeVlanTag}(data, \hyperlink{dtls__misc_8h_ab43ca82dd7fa2a0e56f941032ef324c4}{length}, &vmanId, &type);
185          \textcolor{comment}{//Any error to report?}
186          \textcolor{keywordflow}{if}(error)
187             \textcolor{keywordflow}{break};
188 
189          \textcolor{comment}{//Advance data pointer over the VMAN tag}
190          data += \textcolor{keyword}{sizeof}(\hyperlink{ethernet_8h_ae83b165278ec9105643c370c300f0436}{VlanTag});
191          \hyperlink{dtls__misc_8h_ab43ca82dd7fa2a0e56f941032ef324c4}{length} -= \textcolor{keyword}{sizeof}(\hyperlink{ethernet_8h_ae83b165278ec9105643c370c300f0436}{VlanTag});
192       \}
193 \textcolor{preprocessor}{#endif}
194 
195 \textcolor{preprocessor}{#if (ETH\_VLAN\_SUPPORT == ENABLED)}
196       \textcolor{comment}{//VLAN tag found?}
197       \textcolor{keywordflow}{if}(type == \hyperlink{ethernet_8h_a527bb7f81d1c0869a7fc3f38b05ceaafa19efb4406c4b80ea10c5003b77f8e140}{ETH\_TYPE\_VLAN})
198       \{
199          \textcolor{comment}{//Decode VLAN tag}
200          error = \hyperlink{ethernet__misc_8c_ae418db17934113d25154e41b47689fd3}{ethDecodeVlanTag}(data, \hyperlink{dtls__misc_8h_ab43ca82dd7fa2a0e56f941032ef324c4}{length}, &vlanId, &type);
201          \textcolor{comment}{//Any error to report?}
202          \textcolor{keywordflow}{if}(error)
203             \textcolor{keywordflow}{break};
204 
205          \textcolor{comment}{//Advance data pointer over the VLAN tag}
206          data += \textcolor{keyword}{sizeof}(\hyperlink{ethernet_8h_ae83b165278ec9105643c370c300f0436}{VlanTag});
207          \hyperlink{dtls__misc_8h_ab43ca82dd7fa2a0e56f941032ef324c4}{length} -= \textcolor{keyword}{sizeof}(\hyperlink{ethernet_8h_ae83b165278ec9105643c370c300f0436}{VlanTag});
208       \}
209 \textcolor{preprocessor}{#endif}
210 
211       \textcolor{comment}{//End of exception handling block}
212    \} \textcolor{keywordflow}{while}(0);
213 
214    \textcolor{comment}{//Invalid frame received?}
215    \textcolor{keywordflow}{if}(error)
216    \{
217       \textcolor{comment}{//Update Ethernet statistics}
218       \hyperlink{ethernet__misc_8c_a0478aefa56bfc5d10a3046062a5464d6}{ethUpdateErrorStats}(interface, error);
219       \textcolor{comment}{//Drop the received frame}
220       \textcolor{keywordflow}{return};
221    \}
222 
223 \textcolor{preprocessor}{#if (ETH\_VLAN\_SUPPORT == ENABLED)}
224    \textcolor{comment}{//Dump VLAN identifier}
225    \textcolor{keywordflow}{if}(vlanId != 0)
226    \{
227       \hyperlink{debug_8h_a67a8f9bc74358aa21745a76e23768dae}{TRACE\_DEBUG}(\textcolor{stringliteral}{"  VLAN Id = %"} PRIu16 \textcolor{stringliteral}{"\(\backslash\)r\(\backslash\)n"}, vlanId);
228    \}
229 \textcolor{preprocessor}{#endif}
230 \textcolor{preprocessor}{#if (ETH\_VMAN\_SUPPORT == ENABLED)}
231    \textcolor{comment}{//Dump VMAN identifier}
232    \textcolor{keywordflow}{if}(vmanId != 0)
233    \{
234       \hyperlink{debug_8h_a67a8f9bc74358aa21745a76e23768dae}{TRACE\_DEBUG}(\textcolor{stringliteral}{"  VMAN Id = %"} PRIu16 \textcolor{stringliteral}{"\(\backslash\)r\(\backslash\)n"}, vmanId);
235    \}
236 \textcolor{preprocessor}{#endif}
237 \textcolor{preprocessor}{#if (ETH\_PORT\_TAGGING\_SUPPORT == ENABLED)}
238    \textcolor{comment}{//Dump switch port identifier}
239    \textcolor{keywordflow}{if}(port != 0)
240    \{
241       \hyperlink{debug_8h_a67a8f9bc74358aa21745a76e23768dae}{TRACE\_DEBUG}(\textcolor{stringliteral}{"  Switch Port = %"} PRIu8 \textcolor{stringliteral}{"\(\backslash\)r\(\backslash\)n"}, port);
242    \}
243 \textcolor{preprocessor}{#endif}
244 
245    \textcolor{comment}{//802.1q allows a single physical interface to be bound to multiple}
246    \textcolor{comment}{//virtual interfaces}
247    \textcolor{keywordflow}{for}(i = 0; i < \hyperlink{net_8h_a116f850ebcb023ffa3e6b8de10c5cb35}{NET\_INTERFACE\_COUNT}; i++)
248    \{
249       \textcolor{comment}{//Point to the current interface}
250       virtualInterface = &\hyperlink{net_8c_a7ecafab0039ec54d1d7a1e9e7402379b}{netInterface}[i];
251 
252       \textcolor{comment}{//Check whether the current virtual interface is attached to the}
253       \textcolor{comment}{//physical interface where the packet was received}
254       \textcolor{keywordflow}{if}(\hyperlink{nic_8c_aa8f48265895dab1633056c2dcd796355}{nicGetPhysicalInterface}(virtualInterface) != interface)
255          \textcolor{keywordflow}{continue};
256 
257 \textcolor{preprocessor}{#if (ETH\_PORT\_TAGGING\_SUPPORT == ENABLED)}
258       \textcolor{comment}{//Check switch port identifier}
259       \textcolor{keywordflow}{if}(\hyperlink{nic_8c_a57cef1a0e3b5314d4d0c17fdc13ce56b}{nicGetSwitchPort}(virtualInterface) != port)
260          \textcolor{keywordflow}{continue};
261 \textcolor{preprocessor}{#endif}
262 \textcolor{preprocessor}{#if (ETH\_VLAN\_SUPPORT == ENABLED)}
263       \textcolor{comment}{//Check VLAN identifier}
264       \textcolor{keywordflow}{if}((\hyperlink{nic_8c_a6c931d644f65e0d18c4d4311eaefc68e}{nicGetVlanId}(virtualInterface) & \hyperlink{ethernet_8h_aed074544b771eb808f1cd02a9f3c8b46}{VLAN\_VID\_MASK}) != vlanId)
265          \textcolor{keywordflow}{continue};
266 \textcolor{preprocessor}{#endif}
267 \textcolor{preprocessor}{#if (ETH\_VMAN\_SUPPORT == ENABLED)}
268       \textcolor{comment}{//Check VMAN identifier}
269       \textcolor{keywordflow}{if}((\hyperlink{nic_8c_a283192e9d12b5c863a2f5710da9fe1c8}{nicGetVmanId}(virtualInterface) & VLAN\_VID\_MASK) != vmanId)
270          \textcolor{keywordflow}{continue};
271 \textcolor{preprocessor}{#endif}
272 
273       \textcolor{comment}{//The host must silently discards an incoming frame whose destination}
274       \textcolor{comment}{//address does not correspond to the physical interface through which}
275       \textcolor{comment}{//it was received}
276       error = \hyperlink{ethernet__misc_8c_a80b44da0541051f314be19c7e63a2ce0}{ethCheckDestAddr}(virtualInterface, &header->destAddr);
277 
278       \textcolor{comment}{//Valid destination address?}
279       \textcolor{keywordflow}{if}(!error)
280       \{
281          \textcolor{comment}{//Update Ethernet statistics}
282          \hyperlink{ethernet__misc_8c_acd6a284456dd8a9e7a21e3fce3711f3b}{ethUpdateInStats}(virtualInterface, &header->destAddr);
283 
284 \textcolor{preprocessor}{#if (RAW\_SOCKET\_SUPPORT == ENABLED)}
285          \textcolor{comment}{//Allow raw sockets to process Ethernet packets}
286          \hyperlink{raw__socket_8c_a2ee1d9d86cdd10807baa8ea962fb40c3}{rawSocketProcessEthPacket}(virtualInterface, header, data, 
      \hyperlink{dtls__misc_8h_ab43ca82dd7fa2a0e56f941032ef324c4}{length});
287 \textcolor{preprocessor}{#endif}
288          \textcolor{comment}{//Check Ethernet type field}
289          \textcolor{keywordflow}{switch}(type)
290          \{
291 \textcolor{preprocessor}{#if (IPV4\_SUPPORT == ENABLED)}
292          \textcolor{comment}{//ARP packet received?}
293          \textcolor{keywordflow}{case} \hyperlink{ethernet_8h_a527bb7f81d1c0869a7fc3f38b05ceaafa4d0ac4860984fbcfcfdcdb92f7253292}{ETH\_TYPE\_ARP}:
294             \textcolor{comment}{//Process incoming ARP packet}
295             \hyperlink{arp_8c_a9cef7aa6e33d98d3a00e5b9441b76c64}{arpProcessPacket}(virtualInterface, (\hyperlink{arp_8h_ab53152904f0f41caefcb312d7e0ebad8}{ArpPacket} *) data, 
      \hyperlink{dtls__misc_8h_ab43ca82dd7fa2a0e56f941032ef324c4}{length});
296             \textcolor{keywordflow}{break};
297          \textcolor{comment}{//IPv4 packet received?}
298          \textcolor{keywordflow}{case} \hyperlink{ethernet_8h_a527bb7f81d1c0869a7fc3f38b05ceaafa67afa19003e394d1bbec4a103b9d5648}{ETH\_TYPE\_IPV4}:
299             \textcolor{comment}{//Process incoming IPv4 packet}
300             \hyperlink{ipv4_8c_a56bd5279686b3415f88d758b6a548978}{ipv4ProcessPacket}(virtualInterface, (\hyperlink{ipv4_8h_a294daf3717d3c22ffb24cbd3485ddbfc}{Ipv4Header} *) data, 
      \hyperlink{dtls__misc_8h_ab43ca82dd7fa2a0e56f941032ef324c4}{length});
301             \textcolor{keywordflow}{break};
302 \textcolor{preprocessor}{#endif}
303 \textcolor{preprocessor}{#if (IPV6\_SUPPORT == ENABLED)}
304          \textcolor{comment}{//IPv6 packet received?}
305          \textcolor{keywordflow}{case} \hyperlink{ethernet_8h_a527bb7f81d1c0869a7fc3f38b05ceaafa25656a190cde184dea6bc6568dd8bb39}{ETH\_TYPE\_IPV6}:
306             \textcolor{comment}{//The incoming Ethernet frame fits in a single chunk}
307             buffer.\hyperlink{structNetBuffer1_a05cff68539009da3dd878a7b7d38e1e6}{chunkCount} = 1;
308             buffer.\hyperlink{structNetBuffer1_a17baf9f6d2d0ea0520a6ee1b00e954de}{maxChunkCount} = 1;
309             buffer.\hyperlink{structNetBuffer1_a2450ee8ad02374a831693b3529283739}{chunk}[0].\hyperlink{structChunkDesc_a014aac6efdc5722e058a9b67ca5f8358}{address} = \hyperlink{dtls__misc_8h_a5c239a1bb87b52b0f1d6d68c4749cd2a}{data};
310             buffer.\hyperlink{structNetBuffer1_a2450ee8ad02374a831693b3529283739}{chunk}[0].\hyperlink{structChunkDesc_a4bdd57a9363511126fe5cd6d30c51c81}{length} = (\hyperlink{stdint_8h_a273cf69d639a59973b6019625df33e30}{uint16\_t}) \hyperlink{dtls__misc_8h_ab43ca82dd7fa2a0e56f941032ef324c4}{length};
311             buffer.\hyperlink{structNetBuffer1_a2450ee8ad02374a831693b3529283739}{chunk}[0].\hyperlink{structChunkDesc_ab06232d65ee252651962c202651910c4}{size} = 0;
312 
313             \textcolor{comment}{//Process incoming IPv6 packet}
314             \hyperlink{ipv6_8c_ae5a231be5cc78f474ac7fb73df8947bd}{ipv6ProcessPacket}(virtualInterface, (\hyperlink{structNetBuffer}{NetBuffer} *) &buffer, 0);
315             \textcolor{keywordflow}{break};
316 \textcolor{preprocessor}{#endif}
317          \textcolor{comment}{//Unknown packet received?}
318          \textcolor{keywordflow}{default}:
319             \textcolor{comment}{//Drop the received frame}
320             error = \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689ca5a1904e109856f036391fa141fc8b5b3}{ERROR\_INVALID\_PROTOCOL};
321             \textcolor{keywordflow}{break};
322          \}
323       \}
324 
325       \textcolor{comment}{//Invalid frame received?}
326       \textcolor{keywordflow}{if}(error)
327       \{
328          \textcolor{comment}{//Update Ethernet statistics}
329          \hyperlink{ethernet__misc_8c_a0478aefa56bfc5d10a3046062a5464d6}{ethUpdateErrorStats}(virtualInterface, error);
330       \}
331    \}
332 \}
\end{DoxyCode}
\mbox{\Hypertarget{ethernet_8c_ad56ff94d4390f5821d1f1249fb0fea89}\label{ethernet_8c_ad56ff94d4390f5821d1f1249fb0fea89}} 
\index{ethernet.\+c@{ethernet.\+c}!eth\+Send\+Frame@{eth\+Send\+Frame}}
\index{eth\+Send\+Frame@{eth\+Send\+Frame}!ethernet.\+c@{ethernet.\+c}}
\subsubsection{\texorpdfstring{eth\+Send\+Frame()}{ethSendFrame()}}
{\footnotesize\ttfamily \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} eth\+Send\+Frame (\begin{DoxyParamCaption}\item[{\hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{Net\+Interface} $\ast$}]{interface,  }\item[{const \hyperlink{ethernet_8h_a1e00ed3977e8a770e8b4ae4cb306d1c0}{Mac\+Addr} $\ast$}]{dest\+Addr,  }\item[{\hyperlink{structNetBuffer}{Net\+Buffer} $\ast$}]{buffer,  }\item[{size\+\_\+t}]{offset,  }\item[{\hyperlink{stdint_8h_a273cf69d639a59973b6019625df33e30}{uint16\+\_\+t}}]{type }\end{DoxyParamCaption})}



Send an Ethernet frame. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em interface} & Underlying network interface \\
\hline
\mbox{\tt in}  & {\em dest\+Addr} & M\+AC address of the destination host \\
\hline
\mbox{\tt in}  & {\em buffer} & Multi-\/part buffer containing the payload \\
\hline
\mbox{\tt in}  & {\em offset} & Offset to the first payload byte \\
\hline
\mbox{\tt in}  & {\em type} & Ethernet type \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Error code 
\end{DoxyReturn}


Definition at line 345 of file ethernet.\+c.


\begin{DoxyCode}
347 \{
348    \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\_t} error;
349    \hyperlink{stdint_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t} crc;
350    \textcolor{keywordtype}{size\_t} \hyperlink{dtls__misc_8h_ab43ca82dd7fa2a0e56f941032ef324c4}{length};
351    \hyperlink{ethernet_8h_a1e00ed3977e8a770e8b4ae4cb306d1c0}{MacAddr} *\hyperlink{ethernet_8h_a522a68dc3582289088de6b36018e9ea0}{srcAddr};
352    \hyperlink{ethernet_8h_a431dfb940d831c1426e2f13891116519}{EthHeader} *header;
353    \hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{NetInterface} *logicalInterface;
354    \hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{NetInterface} *physicalInterface;
355 
356 \textcolor{preprocessor}{#if (ETH\_PORT\_TAGGING\_SUPPORT == ENABLED)}
357    \textcolor{comment}{//Get the switch port identifier assigned to the interface}
358    \hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t} \hyperlink{dns__common_8h_a8e0798404bf2cf5dabb84c5ba9a4f236}{port} = \hyperlink{nic_8c_a57cef1a0e3b5314d4d0c17fdc13ce56b}{nicGetSwitchPort}(interface);
359 \textcolor{preprocessor}{#endif}
360 \textcolor{preprocessor}{#if (ETH\_VLAN\_SUPPORT == ENABLED)}
361    \textcolor{comment}{//Get the VLAN identifier assigned to the interface}
362    \hyperlink{stdint_8h_a273cf69d639a59973b6019625df33e30}{uint16\_t} vlanId = \hyperlink{nic_8c_a6c931d644f65e0d18c4d4311eaefc68e}{nicGetVlanId}(interface);
363 \textcolor{preprocessor}{#endif}
364 \textcolor{preprocessor}{#if (ETH\_VMAN\_SUPPORT == ENABLED)}
365    \textcolor{comment}{//Get the VMAN identifier assigned to the interface}
366    \hyperlink{stdint_8h_a273cf69d639a59973b6019625df33e30}{uint16\_t} vmanId = \hyperlink{nic_8c_a283192e9d12b5c863a2f5710da9fe1c8}{nicGetVmanId}(interface);
367 \textcolor{preprocessor}{#endif}
368 
369 \textcolor{preprocessor}{#if (ETH\_VLAN\_SUPPORT == ENABLED)}
370    \textcolor{comment}{//Valid VLAN identifier?}
371    \textcolor{keywordflow}{if}(vlanId != 0)
372    \{
373       \textcolor{comment}{//The VLAN tag is inserted in the Ethernet frame}
374       error = \hyperlink{ethernet__misc_8c_a0124b663f82423d4e4decf61e742419b}{ethEncodeVlanTag}(buffer, &\hyperlink{pic32mz_2isr__support_8h_a12a5aed8a193ebbf9a641104a310610d}{offset}, vlanId, 
      \hyperlink{resource__manager_8h_a12e46a33bfe90638e58ef067c6fd4a6e}{type});
375       \textcolor{comment}{//Any error to report?}
376       \textcolor{keywordflow}{if}(error)
377          \textcolor{keywordflow}{return} error;
378 
379       \textcolor{comment}{//A distinct EtherType has been allocated for use in the TPID field}
380       \hyperlink{resource__manager_8h_a12e46a33bfe90638e58ef067c6fd4a6e}{type} = \hyperlink{ethernet_8h_a527bb7f81d1c0869a7fc3f38b05ceaafa19efb4406c4b80ea10c5003b77f8e140}{ETH\_TYPE\_VLAN};
381    \}
382 \textcolor{preprocessor}{#endif}
383 
384 \textcolor{preprocessor}{#if (ETH\_VMAN\_SUPPORT == ENABLED)}
385    \textcolor{comment}{//Valid VMAN identifier?}
386    \textcolor{keywordflow}{if}(vmanId != 0)
387    \{
388       \textcolor{comment}{//The VMAN tag is inserted in the Ethernet frame}
389       error = \hyperlink{ethernet__misc_8c_a0124b663f82423d4e4decf61e742419b}{ethEncodeVlanTag}(buffer, &\hyperlink{pic32mz_2isr__support_8h_a12a5aed8a193ebbf9a641104a310610d}{offset}, vmanId, 
      \hyperlink{resource__manager_8h_a12e46a33bfe90638e58ef067c6fd4a6e}{type});
390       \textcolor{comment}{//Any error to report?}
391       \textcolor{keywordflow}{if}(error)
392          \textcolor{keywordflow}{return} error;
393 
394       \textcolor{comment}{//A distinct EtherType has been allocated for use in the TPID field}
395       \hyperlink{resource__manager_8h_a12e46a33bfe90638e58ef067c6fd4a6e}{type} = \hyperlink{ethernet_8h_a527bb7f81d1c0869a7fc3f38b05ceaafa1a2a8bcf03dea4793adfddd1c470d481}{ETH\_TYPE\_VMAN};
396    \}
397 \textcolor{preprocessor}{#endif}
398 
399    \textcolor{comment}{//Point to the logical interface}
400    logicalInterface = \hyperlink{nic_8c_a650d776d6513c3bb88671c3aedd782f0}{nicGetLogicalInterface}(interface);
401    \textcolor{comment}{//Get the appropriate MAC address to be used as source address}
402    srcAddr = &logicalInterface->macAddr;
403 
404    \textcolor{comment}{//Forward the frame to the physical interface}
405    physicalInterface = \hyperlink{nic_8c_aa8f48265895dab1633056c2dcd796355}{nicGetPhysicalInterface}(interface);
406 
407 \textcolor{preprocessor}{#if (ETH\_PORT\_TAGGING\_SUPPORT == ENABLED)}
408    \textcolor{comment}{//Ethernet port multiplication using VLAN or tail tagging?}
409    \textcolor{keywordflow}{if}(physicalInterface->port != 0 &&
410       physicalInterface->phyDriver != \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} &&
411       physicalInterface->phyDriver->tagFrame != \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
412    \{
413       \textcolor{comment}{//Add VLAN tag (SMSC switches) or tail tag (Micrel switches)}
414       error = physicalInterface->phyDriver->tagFrame(physicalInterface,
415          buffer, &\hyperlink{pic32mz_2isr__support_8h_a12a5aed8a193ebbf9a641104a310610d}{offset}, port, &\hyperlink{resource__manager_8h_a12e46a33bfe90638e58ef067c6fd4a6e}{type});
416       \textcolor{comment}{//Any error to report?}
417       \textcolor{keywordflow}{if}(error)
418          \textcolor{keywordflow}{return} error;
419    \}
420 \textcolor{preprocessor}{#endif}
421 
422    \textcolor{comment}{//Sanity check}
423    \textcolor{keywordflow}{if}(\hyperlink{pic32mz_2isr__support_8h_a12a5aed8a193ebbf9a641104a310610d}{offset} < \textcolor{keyword}{sizeof}(\hyperlink{ethernet_8h_a431dfb940d831c1426e2f13891116519}{EthHeader}))
424       \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689caeae4b12e06d727d085f75f79a820f2e8}{ERROR\_INVALID\_PARAMETER};
425 
426    \textcolor{comment}{//Make room for the Ethernet header}
427    \hyperlink{pic32mz_2isr__support_8h_a12a5aed8a193ebbf9a641104a310610d}{offset} -= \textcolor{keyword}{sizeof}(\hyperlink{ethernet_8h_a431dfb940d831c1426e2f13891116519}{EthHeader});
428    \textcolor{comment}{//Retrieve the length of the frame}
429    length = \hyperlink{net__mem_8c_ac9dbcd9e28e61d8f4f6d2e9af2607b68}{netBufferGetLength}(buffer) - \hyperlink{pic32mz_2isr__support_8h_a12a5aed8a193ebbf9a641104a310610d}{offset};
430 
431    \textcolor{comment}{//Position to the beginning of the frame}
432    header = \hyperlink{net__mem_8c_a20d30c9db547b3b2743368b589cf482b}{netBufferAt}(buffer, \hyperlink{pic32mz_2isr__support_8h_a12a5aed8a193ebbf9a641104a310610d}{offset});
433 
434    \textcolor{comment}{//Format Ethernet header}
435    header->destAddr = *\hyperlink{ethernet_8h_a00f00b33d6300737183211cc435fa7e2}{destAddr};
436    header->srcAddr = *\hyperlink{ethernet_8h_a522a68dc3582289088de6b36018e9ea0}{srcAddr};
437    header->type = \hyperlink{cpu__endian_8h_a800cdbf435a85a9b3ad4f0edc518472a}{htons}(\hyperlink{resource__manager_8h_a12e46a33bfe90638e58ef067c6fd4a6e}{type});
438 
439    \textcolor{comment}{//Valid NIC driver?}
440    \textcolor{keywordflow}{if}(physicalInterface->nicDriver != \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
441    \{
442       \textcolor{comment}{//Automatic padding not supported by hardware?}
443       \textcolor{keywordflow}{if}(!physicalInterface->nicDriver->autoPadding)
444       \{
445          \textcolor{comment}{//The host controller should manually add padding to the packet before}
446          \textcolor{comment}{//transmitting it}
447          error = \hyperlink{ethernet__misc_8c_a5335a5d9048656a2448d9c43477e2915}{ethPadFrame}(buffer, &length);
448          \textcolor{comment}{//Any error to report?}
449          \textcolor{keywordflow}{if}(error)
450             \textcolor{keywordflow}{return} error;
451       \}
452 
453       \textcolor{comment}{//CRC calculation not supported by hardware?}
454       \textcolor{keywordflow}{if}(!physicalInterface->nicDriver->autoCrcCalc)
455       \{
456          \textcolor{comment}{//Compute CRC over the header and payload}
457          crc = \hyperlink{ethernet__misc_8c_a7f86288f9e2517184cc9f195f5d26f39}{ethCalcCrcEx}(buffer, \hyperlink{pic32mz_2isr__support_8h_a12a5aed8a193ebbf9a641104a310610d}{offset}, length);
458          \textcolor{comment}{//Convert from host byte order to little-endian byte order}
459          crc = \hyperlink{cpu__endian_8h_a336f132f175f47bfab3fa57f6a00276d}{htole32}(crc);
460 
461          \textcolor{comment}{//Append the calculated CRC value}
462          error = \hyperlink{net__mem_8c_aceae1188a93321e1d4daed11bb8005df}{netBufferAppend}(buffer, &crc, \textcolor{keyword}{sizeof}(crc));
463          \textcolor{comment}{//Any error to report?}
464          \textcolor{keywordflow}{if}(error)
465             \textcolor{keywordflow}{return} error;
466 
467          \textcolor{comment}{//Adjust frame length}
468          length += \textcolor{keyword}{sizeof}(crc);
469       \}
470    \}
471 
472    \textcolor{comment}{//Update Ethernet statistics}
473    \hyperlink{ethernet__misc_8c_a567573a40fd60c02c187b48c3e715d55}{ethUpdateOutStats}(interface, &header->destAddr, length);
474 
475    \textcolor{comment}{//Debug message}
476    \hyperlink{debug_8h_a67a8f9bc74358aa21745a76e23768dae}{TRACE\_DEBUG}(\textcolor{stringliteral}{"Sending Ethernet frame (%"} \hyperlink{compiler__port_8h_a2b7b0557dc6cd786df02dafbb51f5292}{PRIuSIZE} \textcolor{stringliteral}{" bytes)...\(\backslash\)r\(\backslash\)n"}, length);
477    \textcolor{comment}{//Dump Ethernet header contents for debugging purpose}
478    \hyperlink{ethernet_8c_aac1e0c93f3a54e0d0265827b127421e4}{ethDumpHeader}(header);
479 
480 \textcolor{preprocessor}{#if (ETH\_VLAN\_SUPPORT == ENABLED)}
481    \textcolor{comment}{//Dump VLAN identifier}
482    \textcolor{keywordflow}{if}(vlanId != 0)
483    \{
484       \hyperlink{debug_8h_a67a8f9bc74358aa21745a76e23768dae}{TRACE\_DEBUG}(\textcolor{stringliteral}{"  VLAN Id = %"} PRIu16 \textcolor{stringliteral}{"\(\backslash\)r\(\backslash\)n"}, vlanId);
485    \}
486 \textcolor{preprocessor}{#endif}
487 \textcolor{preprocessor}{#if (ETH\_VMAN\_SUPPORT == ENABLED)}
488    \textcolor{comment}{//Dump VMAN identifier}
489    \textcolor{keywordflow}{if}(vmanId != 0)
490    \{
491       \hyperlink{debug_8h_a67a8f9bc74358aa21745a76e23768dae}{TRACE\_DEBUG}(\textcolor{stringliteral}{"  VMAN Id = %"} PRIu16 \textcolor{stringliteral}{"\(\backslash\)r\(\backslash\)n"}, vmanId);
492    \}
493 \textcolor{preprocessor}{#endif}
494 \textcolor{preprocessor}{#if (ETH\_PORT\_TAGGING\_SUPPORT == ENABLED)}
495    \textcolor{comment}{//Dump switch port identifier}
496    \textcolor{keywordflow}{if}(port != 0)
497    \{
498       \hyperlink{debug_8h_a67a8f9bc74358aa21745a76e23768dae}{TRACE\_DEBUG}(\textcolor{stringliteral}{"  Switch Port = %"} PRIu8 \textcolor{stringliteral}{"\(\backslash\)r\(\backslash\)n"}, port);
499    \}
500 \textcolor{preprocessor}{#endif}
501 
502    \textcolor{comment}{//Forward the frame to the physical interface}
503    error = \hyperlink{nic_8c_af480b2743ecb07bc0312f2bbcecdb287}{nicSendPacket}(physicalInterface, buffer, \hyperlink{pic32mz_2isr__support_8h_a12a5aed8a193ebbf9a641104a310610d}{offset});
504    \textcolor{comment}{//Return status code}
505    \textcolor{keywordflow}{return} error;
506 \}
\end{DoxyCode}
\mbox{\Hypertarget{ethernet_8c_ae93e1d661e17552708072ab30c2b1a7e}\label{ethernet_8c_ae93e1d661e17552708072ab30c2b1a7e}} 
\index{ethernet.\+c@{ethernet.\+c}!eui64\+Addr\+To\+String@{eui64\+Addr\+To\+String}}
\index{eui64\+Addr\+To\+String@{eui64\+Addr\+To\+String}!ethernet.\+c@{ethernet.\+c}}
\subsubsection{\texorpdfstring{eui64\+Addr\+To\+String()}{eui64AddrToString()}}
{\footnotesize\ttfamily \hyperlink{compiler__port_8h_a40bb5262bf908c328fbcfbe5d29d0201}{char\+\_\+t}$\ast$ eui64\+Addr\+To\+String (\begin{DoxyParamCaption}\item[{const \hyperlink{ethernet_8h_acbcae3afd042b3ce97e42f54013c8137}{Eui64} $\ast$}]{eui64,  }\item[{\hyperlink{compiler__port_8h_a40bb5262bf908c328fbcfbe5d29d0201}{char\+\_\+t} $\ast$}]{str }\end{DoxyParamCaption})}



Convert an E\+U\+I-\/64 address to a dash delimited string. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em eui64} & Pointer to the E\+U\+I-\/64 address \\
\hline
\mbox{\tt out}  & {\em str} & N\+U\+L\+L-\/terminated string representing the E\+U\+I-\/64 address \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Pointer to the formatted string 
\end{DoxyReturn}


Definition at line 941 of file ethernet.\+c.


\begin{DoxyCode}
942 \{
943    \textcolor{keyword}{static} \hyperlink{compiler__port_8h_a40bb5262bf908c328fbcfbe5d29d0201}{char\_t} buffer[24];
944 
945    \textcolor{comment}{//The str parameter is optional}
946    \textcolor{keywordflow}{if}(str == \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
947       str = buffer;
948 
949    \textcolor{comment}{//Format EUI-64 identifier}
950    sprintf(str, \textcolor{stringliteral}{"%02"} PRIX8 \textcolor{stringliteral}{"-%02"} PRIX8 \textcolor{stringliteral}{"-%02"} PRIX8 \textcolor{stringliteral}{"-%02"} PRIX8
951       \textcolor{stringliteral}{"-%02"} PRIX8 \textcolor{stringliteral}{"-%02"} PRIX8 \textcolor{stringliteral}{"-%02"} PRIX8 \textcolor{stringliteral}{"-%02"} PRIX8,
952       eui64->b[0], eui64->b[1], eui64->b[2], eui64->b[3],
953       eui64->b[4], eui64->b[5], eui64->b[6], eui64->b[7]);
954 
955    \textcolor{comment}{//Return a pointer to the formatted string}
956    \textcolor{keywordflow}{return} str;
957 \}
\end{DoxyCode}
\mbox{\Hypertarget{ethernet_8c_a266f89873783e114a3f61c286bcc1581}\label{ethernet_8c_a266f89873783e114a3f61c286bcc1581}} 
\index{ethernet.\+c@{ethernet.\+c}!eui64\+String\+To\+Addr@{eui64\+String\+To\+Addr}}
\index{eui64\+String\+To\+Addr@{eui64\+String\+To\+Addr}!ethernet.\+c@{ethernet.\+c}}
\subsubsection{\texorpdfstring{eui64\+String\+To\+Addr()}{eui64StringToAddr()}}
{\footnotesize\ttfamily \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} eui64\+String\+To\+Addr (\begin{DoxyParamCaption}\item[{const \hyperlink{compiler__port_8h_a40bb5262bf908c328fbcfbe5d29d0201}{char\+\_\+t} $\ast$}]{str,  }\item[{\hyperlink{ethernet_8h_acbcae3afd042b3ce97e42f54013c8137}{Eui64} $\ast$}]{eui64 }\end{DoxyParamCaption})}



Convert a string representation of an E\+U\+I-\/64 address to a binary E\+U\+I-\/64 address. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em str} & N\+U\+L\+L-\/terminated string representing the E\+U\+I-\/64 address \\
\hline
\mbox{\tt out}  & {\em eui64} & Binary representation of the E\+U\+I-\/64 address \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Error code 
\end{DoxyReturn}


Definition at line 849 of file ethernet.\+c.


\begin{DoxyCode}
850 \{
851    \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\_t} error;
852    \hyperlink{compiler__port_8h_a022c65af7f6c8d3947e8a37d64db6ad6}{int\_t} i = 0;
853    \hyperlink{compiler__port_8h_a022c65af7f6c8d3947e8a37d64db6ad6}{int\_t} \hyperlink{dtls__misc_8h_a74bce8e92ccabd0c885447114a48b80e}{value} = -1;
854 
855    \textcolor{comment}{//Parse input string}
856    \textcolor{keywordflow}{while}(1)
857    \{
858       \textcolor{comment}{//Hexadecimal digit found?}
859       \textcolor{keywordflow}{if}(isxdigit((\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t}) *str))
860       \{
861          \textcolor{comment}{//First digit to be decoded?}
862          \textcolor{keywordflow}{if}(value < 0)
863             value = 0;
864 
865          \textcolor{comment}{//Update the value of the current byte}
866          \textcolor{keywordflow}{if}(isdigit((\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t}) *str))
867             value = (value * 16) + (*str - \textcolor{charliteral}{'0'});
868          \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(isupper((\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t}) *str))
869             value = (value * 16) + (*str - \textcolor{charliteral}{'A'} + 10);
870          \textcolor{keywordflow}{else}
871             value = (value * 16) + (*str - \textcolor{charliteral}{'a'} + 10);
872 
873          \textcolor{comment}{//Check resulting value}
874          \textcolor{keywordflow}{if}(value > 0xFF)
875          \{
876             \textcolor{comment}{//The conversion failed}
877             error = \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689ca92e7b26953f11d1bc4f4526fad39aed0}{ERROR\_INVALID\_SYNTAX};
878             \textcolor{keywordflow}{break};
879          \}
880       \}
881       \textcolor{comment}{//Dash or colon separator found?}
882       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}((*str == \textcolor{charliteral}{'-'} || *str == \textcolor{charliteral}{':'}) && i < 8)
883       \{
884          \textcolor{comment}{//Each separator must be preceded by a valid number}
885          \textcolor{keywordflow}{if}(value < 0)
886          \{
887             \textcolor{comment}{//The conversion failed}
888             error = \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689ca92e7b26953f11d1bc4f4526fad39aed0}{ERROR\_INVALID\_SYNTAX};
889             \textcolor{keywordflow}{break};
890          \}
891 
892          \textcolor{comment}{//Save the current byte}
893          eui64->b[i++] = \hyperlink{dtls__misc_8h_a74bce8e92ccabd0c885447114a48b80e}{value};
894          \textcolor{comment}{//Prepare to decode the next byte}
895          value = -1;
896       \}
897       \textcolor{comment}{//End of string detected?}
898       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(*str == \textcolor{charliteral}{'\(\backslash\)0'} && i == 7)
899       \{
900          \textcolor{comment}{//The NULL character must be preceded by a valid number}
901          \textcolor{keywordflow}{if}(value < 0)
902          \{
903             \textcolor{comment}{//The conversion failed}
904             error = \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689ca92e7b26953f11d1bc4f4526fad39aed0}{ERROR\_INVALID\_SYNTAX};
905          \}
906          \textcolor{keywordflow}{else}
907          \{
908             \textcolor{comment}{//Save the last byte of the EUI-64 address}
909             eui64->b[i] = \hyperlink{dtls__misc_8h_a74bce8e92ccabd0c885447114a48b80e}{value};
910             \textcolor{comment}{//The conversion succeeded}
911             error = \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94}{NO\_ERROR};
912          \}
913 
914          \textcolor{comment}{//We are done}
915          \textcolor{keywordflow}{break};
916       \}
917       \textcolor{comment}{//Invalid character...}
918       \textcolor{keywordflow}{else}
919       \{
920          \textcolor{comment}{//The conversion failed}
921          error = \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689ca92e7b26953f11d1bc4f4526fad39aed0}{ERROR\_INVALID\_SYNTAX};
922          \textcolor{keywordflow}{break};
923       \}
924 
925       \textcolor{comment}{//Point to the next character}
926       str++;
927    \}
928 
929    \textcolor{comment}{//Return status code}
930    \textcolor{keywordflow}{return} error;
931 \}
\end{DoxyCode}
\mbox{\Hypertarget{ethernet_8c_abbe0cae70748acbaa8c4d840ee764424}\label{ethernet_8c_abbe0cae70748acbaa8c4d840ee764424}} 
\index{ethernet.\+c@{ethernet.\+c}!mac\+Addr\+To\+Eui64@{mac\+Addr\+To\+Eui64}}
\index{mac\+Addr\+To\+Eui64@{mac\+Addr\+To\+Eui64}!ethernet.\+c@{ethernet.\+c}}
\subsubsection{\texorpdfstring{mac\+Addr\+To\+Eui64()}{macAddrToEui64()}}
{\footnotesize\ttfamily void mac\+Addr\+To\+Eui64 (\begin{DoxyParamCaption}\item[{const \hyperlink{ethernet_8h_a1e00ed3977e8a770e8b4ae4cb306d1c0}{Mac\+Addr} $\ast$}]{mac\+Addr,  }\item[{\hyperlink{ethernet_8h_acbcae3afd042b3ce97e42f54013c8137}{Eui64} $\ast$}]{interface\+Id }\end{DoxyParamCaption})}



Map a M\+AC address to the I\+Pv6 modified E\+U\+I-\/64 identifier. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em mac\+Addr} & Host M\+AC address \\
\hline
\mbox{\tt out}  & {\em interface\+Id} & I\+Pv6 modified E\+U\+I-\/64 identifier \\
\hline
\end{DoxyParams}


Definition at line 800 of file ethernet.\+c.


\begin{DoxyCode}
801 \{
802    \textcolor{comment}{//Copy the Organization Unique Identifier (OUI)}
803    \hyperlink{ipv6cp_8h_a897753848b1e78a33fa45fad7b58ddbb}{interfaceId}->b[0] = macAddr->b[0];
804    \hyperlink{ipv6cp_8h_a897753848b1e78a33fa45fad7b58ddbb}{interfaceId}->b[1] = macAddr->b[1];
805    \hyperlink{ipv6cp_8h_a897753848b1e78a33fa45fad7b58ddbb}{interfaceId}->b[2] = macAddr->b[2];
806 
807    \textcolor{comment}{//The middle 16 bits are given the value 0xFFFE}
808    \hyperlink{ipv6cp_8h_a897753848b1e78a33fa45fad7b58ddbb}{interfaceId}->b[3] = 0xFF;
809    \hyperlink{ipv6cp_8h_a897753848b1e78a33fa45fad7b58ddbb}{interfaceId}->b[4] = 0xFE;
810 
811    \textcolor{comment}{//Copy the right-most 24 bits of the MAC address}
812    \hyperlink{ipv6cp_8h_a897753848b1e78a33fa45fad7b58ddbb}{interfaceId}->b[5] = macAddr->b[3];
813    \hyperlink{ipv6cp_8h_a897753848b1e78a33fa45fad7b58ddbb}{interfaceId}->b[6] = macAddr->b[4];
814    \hyperlink{ipv6cp_8h_a897753848b1e78a33fa45fad7b58ddbb}{interfaceId}->b[7] = macAddr->b[5];
815 
816    \textcolor{comment}{//Modified EUI-64 format interface identifiers are}
817    \textcolor{comment}{//formed by inverting the Universal/Local bit}
818    \hyperlink{ipv6cp_8h_a897753848b1e78a33fa45fad7b58ddbb}{interfaceId}->b[0] ^= \hyperlink{ethernet_8h_acbab6ef02667f0c403635800bfad8759af78e66cfafa7f2c9cd76b6fde4ce6caa}{MAC\_ADDR\_FLAG\_LOCAL};
819 \}
\end{DoxyCode}
\mbox{\Hypertarget{ethernet_8c_a9939c8165aa34316fdeb8b24258db4c4}\label{ethernet_8c_a9939c8165aa34316fdeb8b24258db4c4}} 
\index{ethernet.\+c@{ethernet.\+c}!mac\+Addr\+To\+String@{mac\+Addr\+To\+String}}
\index{mac\+Addr\+To\+String@{mac\+Addr\+To\+String}!ethernet.\+c@{ethernet.\+c}}
\subsubsection{\texorpdfstring{mac\+Addr\+To\+String()}{macAddrToString()}}
{\footnotesize\ttfamily \hyperlink{compiler__port_8h_a40bb5262bf908c328fbcfbe5d29d0201}{char\+\_\+t}$\ast$ mac\+Addr\+To\+String (\begin{DoxyParamCaption}\item[{const \hyperlink{ethernet_8h_a1e00ed3977e8a770e8b4ae4cb306d1c0}{Mac\+Addr} $\ast$}]{mac\+Addr,  }\item[{\hyperlink{compiler__port_8h_a40bb5262bf908c328fbcfbe5d29d0201}{char\+\_\+t} $\ast$}]{str }\end{DoxyParamCaption})}



Convert a M\+AC address to a dash delimited string. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em mac\+Addr} & Pointer to the M\+AC address \\
\hline
\mbox{\tt out}  & {\em str} & N\+U\+L\+L-\/terminated string representing the M\+AC address \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Pointer to the formatted string 
\end{DoxyReturn}


Definition at line 777 of file ethernet.\+c.


\begin{DoxyCode}
778 \{
779    \textcolor{keyword}{static} \hyperlink{compiler__port_8h_a40bb5262bf908c328fbcfbe5d29d0201}{char\_t} buffer[18];
780 
781    \textcolor{comment}{//The str parameter is optional}
782    \textcolor{keywordflow}{if}(str == \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
783       str = buffer;
784 
785    \textcolor{comment}{//Format MAC address}
786    sprintf(str, \textcolor{stringliteral}{"%02"} PRIX8 \textcolor{stringliteral}{"-%02"} PRIX8 \textcolor{stringliteral}{"-%02"} PRIX8 \textcolor{stringliteral}{"-%02"} PRIX8 \textcolor{stringliteral}{"-%02"} PRIX8 \textcolor{stringliteral}{"-%02"} PRIX8,
787       macAddr->b[0], macAddr->b[1], macAddr->b[2], macAddr->b[3], macAddr->b[4], macAddr->b[5]);
788 
789    \textcolor{comment}{//Return a pointer to the formatted string}
790    \textcolor{keywordflow}{return} str;
791 \}
\end{DoxyCode}
\mbox{\Hypertarget{ethernet_8c_a8aeaa9b93a3e6b939a42f769072fb53c}\label{ethernet_8c_a8aeaa9b93a3e6b939a42f769072fb53c}} 
\index{ethernet.\+c@{ethernet.\+c}!mac\+String\+To\+Addr@{mac\+String\+To\+Addr}}
\index{mac\+String\+To\+Addr@{mac\+String\+To\+Addr}!ethernet.\+c@{ethernet.\+c}}
\subsubsection{\texorpdfstring{mac\+String\+To\+Addr()}{macStringToAddr()}}
{\footnotesize\ttfamily \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} mac\+String\+To\+Addr (\begin{DoxyParamCaption}\item[{const \hyperlink{compiler__port_8h_a40bb5262bf908c328fbcfbe5d29d0201}{char\+\_\+t} $\ast$}]{str,  }\item[{\hyperlink{ethernet_8h_a1e00ed3977e8a770e8b4ae4cb306d1c0}{Mac\+Addr} $\ast$}]{mac\+Addr }\end{DoxyParamCaption})}



Convert a string representation of a M\+AC address to a binary M\+AC address. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em str} & N\+U\+L\+L-\/terminated string representing the M\+AC address \\
\hline
\mbox{\tt out}  & {\em mac\+Addr} & Binary representation of the M\+AC address \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Error code 
\end{DoxyReturn}


Definition at line 685 of file ethernet.\+c.


\begin{DoxyCode}
686 \{
687    \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\_t} error;
688    \hyperlink{compiler__port_8h_a022c65af7f6c8d3947e8a37d64db6ad6}{int\_t} i = 0;
689    \hyperlink{compiler__port_8h_a022c65af7f6c8d3947e8a37d64db6ad6}{int\_t} \hyperlink{dtls__misc_8h_a74bce8e92ccabd0c885447114a48b80e}{value} = -1;
690 
691    \textcolor{comment}{//Parse input string}
692    \textcolor{keywordflow}{while}(1)
693    \{
694       \textcolor{comment}{//Hexadecimal digit found?}
695       \textcolor{keywordflow}{if}(isxdigit((\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t}) *str))
696       \{
697          \textcolor{comment}{//First digit to be decoded?}
698          \textcolor{keywordflow}{if}(value < 0)
699             value = 0;
700 
701          \textcolor{comment}{//Update the value of the current byte}
702          \textcolor{keywordflow}{if}(isdigit((\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t}) *str))
703             value = (value * 16) + (*str - \textcolor{charliteral}{'0'});
704          \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(isupper((\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t}) *str))
705             value = (value * 16) + (*str - \textcolor{charliteral}{'A'} + 10);
706          \textcolor{keywordflow}{else}
707             value = (value * 16) + (*str - \textcolor{charliteral}{'a'} + 10);
708 
709          \textcolor{comment}{//Check resulting value}
710          \textcolor{keywordflow}{if}(value > 0xFF)
711          \{
712             \textcolor{comment}{//The conversion failed}
713             error = \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689ca92e7b26953f11d1bc4f4526fad39aed0}{ERROR\_INVALID\_SYNTAX};
714             \textcolor{keywordflow}{break};
715          \}
716       \}
717       \textcolor{comment}{//Dash or colon separator found?}
718       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}((*str == \textcolor{charliteral}{'-'} || *str == \textcolor{charliteral}{':'}) && i < 6)
719       \{
720          \textcolor{comment}{//Each separator must be preceded by a valid number}
721          \textcolor{keywordflow}{if}(value < 0)
722          \{
723             \textcolor{comment}{//The conversion failed}
724             error = \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689ca92e7b26953f11d1bc4f4526fad39aed0}{ERROR\_INVALID\_SYNTAX};
725             \textcolor{keywordflow}{break};
726          \}
727 
728          \textcolor{comment}{//Save the current byte}
729          macAddr->b[i++] = \hyperlink{dtls__misc_8h_a74bce8e92ccabd0c885447114a48b80e}{value};
730          \textcolor{comment}{//Prepare to decode the next byte}
731          value = -1;
732       \}
733       \textcolor{comment}{//End of string detected?}
734       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(*str == \textcolor{charliteral}{'\(\backslash\)0'} && i == 5)
735       \{
736          \textcolor{comment}{//The NULL character must be preceded by a valid number}
737          \textcolor{keywordflow}{if}(value < 0)
738          \{
739             \textcolor{comment}{//The conversion failed}
740             error = \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689ca92e7b26953f11d1bc4f4526fad39aed0}{ERROR\_INVALID\_SYNTAX};
741          \}
742          \textcolor{keywordflow}{else}
743          \{
744             \textcolor{comment}{//Save the last byte of the MAC address}
745             macAddr->b[i] = \hyperlink{dtls__misc_8h_a74bce8e92ccabd0c885447114a48b80e}{value};
746             \textcolor{comment}{//The conversion succeeded}
747             error = \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94}{NO\_ERROR};
748          \}
749 
750          \textcolor{comment}{//We are done}
751          \textcolor{keywordflow}{break};
752       \}
753       \textcolor{comment}{//Invalid character...}
754       \textcolor{keywordflow}{else}
755       \{
756          \textcolor{comment}{//The conversion failed}
757          error = \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689ca92e7b26953f11d1bc4f4526fad39aed0}{ERROR\_INVALID\_SYNTAX};
758          \textcolor{keywordflow}{break};
759       \}
760 
761       \textcolor{comment}{//Point to the next character}
762       str++;
763    \}
764 
765    \textcolor{comment}{//Return status code}
766    \textcolor{keywordflow}{return} error;
767 \}
\end{DoxyCode}


\subsection{Variable Documentation}
\mbox{\Hypertarget{ethernet_8c_a81a37017a277d463608f4534331ddae2}\label{ethernet_8c_a81a37017a277d463608f4534331ddae2}} 
\index{ethernet.\+c@{ethernet.\+c}!E\+U\+I64\+\_\+\+U\+N\+S\+P\+E\+C\+I\+F\+I\+E\+D\+\_\+\+A\+D\+DR@{E\+U\+I64\+\_\+\+U\+N\+S\+P\+E\+C\+I\+F\+I\+E\+D\+\_\+\+A\+D\+DR}}
\index{E\+U\+I64\+\_\+\+U\+N\+S\+P\+E\+C\+I\+F\+I\+E\+D\+\_\+\+A\+D\+DR@{E\+U\+I64\+\_\+\+U\+N\+S\+P\+E\+C\+I\+F\+I\+E\+D\+\_\+\+A\+D\+DR}!ethernet.\+c@{ethernet.\+c}}
\subsubsection{\texorpdfstring{E\+U\+I64\+\_\+\+U\+N\+S\+P\+E\+C\+I\+F\+I\+E\+D\+\_\+\+A\+D\+DR}{EUI64\_UNSPECIFIED\_ADDR}}
{\footnotesize\ttfamily const \hyperlink{ethernet_8h_acbcae3afd042b3ce97e42f54013c8137}{Eui64} E\+U\+I64\+\_\+\+U\+N\+S\+P\+E\+C\+I\+F\+I\+E\+D\+\_\+\+A\+D\+DR = \{\{\{0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00\}\}\}}



Definition at line 839 of file ethernet.\+c.

\mbox{\Hypertarget{ethernet_8c_ae1313f9f72de49c713dea514e09ae0e3}\label{ethernet_8c_ae1313f9f72de49c713dea514e09ae0e3}} 
\index{ethernet.\+c@{ethernet.\+c}!M\+A\+C\+\_\+\+B\+R\+O\+A\+D\+C\+A\+S\+T\+\_\+\+A\+D\+DR@{M\+A\+C\+\_\+\+B\+R\+O\+A\+D\+C\+A\+S\+T\+\_\+\+A\+D\+DR}}
\index{M\+A\+C\+\_\+\+B\+R\+O\+A\+D\+C\+A\+S\+T\+\_\+\+A\+D\+DR@{M\+A\+C\+\_\+\+B\+R\+O\+A\+D\+C\+A\+S\+T\+\_\+\+A\+D\+DR}!ethernet.\+c@{ethernet.\+c}}
\subsubsection{\texorpdfstring{M\+A\+C\+\_\+\+B\+R\+O\+A\+D\+C\+A\+S\+T\+\_\+\+A\+D\+DR}{MAC\_BROADCAST\_ADDR}}
{\footnotesize\ttfamily const \hyperlink{ethernet_8h_a1e00ed3977e8a770e8b4ae4cb306d1c0}{Mac\+Addr} M\+A\+C\+\_\+\+B\+R\+O\+A\+D\+C\+A\+S\+T\+\_\+\+A\+D\+DR = \{\{\{0x\+F\+F, 0x\+F\+F, 0x\+F\+F, 0x\+F\+F, 0x\+F\+F, 0x\+F\+F\}\}\}}



Definition at line 58 of file ethernet.\+c.

\mbox{\Hypertarget{ethernet_8c_a24b2ce78dd643fe028d2e18c3b503f1f}\label{ethernet_8c_a24b2ce78dd643fe028d2e18c3b503f1f}} 
\index{ethernet.\+c@{ethernet.\+c}!M\+A\+C\+\_\+\+U\+N\+S\+P\+E\+C\+I\+F\+I\+E\+D\+\_\+\+A\+D\+DR@{M\+A\+C\+\_\+\+U\+N\+S\+P\+E\+C\+I\+F\+I\+E\+D\+\_\+\+A\+D\+DR}}
\index{M\+A\+C\+\_\+\+U\+N\+S\+P\+E\+C\+I\+F\+I\+E\+D\+\_\+\+A\+D\+DR@{M\+A\+C\+\_\+\+U\+N\+S\+P\+E\+C\+I\+F\+I\+E\+D\+\_\+\+A\+D\+DR}!ethernet.\+c@{ethernet.\+c}}
\subsubsection{\texorpdfstring{M\+A\+C\+\_\+\+U\+N\+S\+P\+E\+C\+I\+F\+I\+E\+D\+\_\+\+A\+D\+DR}{MAC\_UNSPECIFIED\_ADDR}}
{\footnotesize\ttfamily const \hyperlink{ethernet_8h_a1e00ed3977e8a770e8b4ae4cb306d1c0}{Mac\+Addr} M\+A\+C\+\_\+\+U\+N\+S\+P\+E\+C\+I\+F\+I\+E\+D\+\_\+\+A\+D\+DR = \{\{\{0x00, 0x00, 0x00, 0x00, 0x00, 0x00\}\}\}}



Definition at line 56 of file ethernet.\+c.

