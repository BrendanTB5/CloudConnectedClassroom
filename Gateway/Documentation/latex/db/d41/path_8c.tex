\hypertarget{path_8c}{}\section{common/path.c File Reference}
\label{path_8c}\index{common/path.\+c@{common/path.\+c}}


Path manipulation helper functions.  


{\ttfamily \#include $<$string.\+h$>$}\newline
{\ttfamily \#include $<$ctype.\+h$>$}\newline
{\ttfamily \#include \char`\"{}path.\+h\char`\"{}}\newline
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{compiler__port_8h_a812d16e5494522586b3784e55d479912}{bool\+\_\+t} \hyperlink{path_8c_ada5646c633c7fab07618ba23d0107985}{path\+Is\+Absolute} (const \hyperlink{compiler__port_8h_a40bb5262bf908c328fbcfbe5d29d0201}{char\+\_\+t} $\ast$path)
\begin{DoxyCompactList}\small\item\em Test if the path is absolute. \end{DoxyCompactList}\item 
\hyperlink{compiler__port_8h_a812d16e5494522586b3784e55d479912}{bool\+\_\+t} \hyperlink{path_8c_ad91b37d05d6572c1525086e8f2646774}{path\+Is\+Relative} (const \hyperlink{compiler__port_8h_a40bb5262bf908c328fbcfbe5d29d0201}{char\+\_\+t} $\ast$path)
\begin{DoxyCompactList}\small\item\em Test if the path is relative. \end{DoxyCompactList}\item 
const \hyperlink{compiler__port_8h_a40bb5262bf908c328fbcfbe5d29d0201}{char\+\_\+t} $\ast$ \hyperlink{path_8c_a384588edf4d8d711908fc52563683cd9}{path\+Find\+File\+Name} (const \hyperlink{compiler__port_8h_a40bb5262bf908c328fbcfbe5d29d0201}{char\+\_\+t} $\ast$path)
\begin{DoxyCompactList}\small\item\em Search a path for a file name. \end{DoxyCompactList}\item 
void \hyperlink{path_8c_a64519f81386b6ece797fb51f06e3052d}{path\+Canonicalize} (\hyperlink{compiler__port_8h_a40bb5262bf908c328fbcfbe5d29d0201}{char\+\_\+t} $\ast$path)
\begin{DoxyCompactList}\small\item\em Simplify a path. \end{DoxyCompactList}\item 
void \hyperlink{path_8c_a9c11d3b730fe905299bcbee8a25071cf}{path\+Add\+Slash} (\hyperlink{compiler__port_8h_a40bb5262bf908c328fbcfbe5d29d0201}{char\+\_\+t} $\ast$path, size\+\_\+t max\+Len)
\begin{DoxyCompactList}\small\item\em Add a slash to the end of a string. \end{DoxyCompactList}\item 
void \hyperlink{path_8c_af03ec9a7da6f93032b4ea949a4d0d768}{path\+Remove\+Slash} (\hyperlink{compiler__port_8h_a40bb5262bf908c328fbcfbe5d29d0201}{char\+\_\+t} $\ast$path)
\begin{DoxyCompactList}\small\item\em Remove the trailing slash from a given path. \end{DoxyCompactList}\item 
void \hyperlink{path_8c_a38625df4e9abd106fb932b8ff308adc3}{path\+Combine} (\hyperlink{compiler__port_8h_a40bb5262bf908c328fbcfbe5d29d0201}{char\+\_\+t} $\ast$path, const \hyperlink{compiler__port_8h_a40bb5262bf908c328fbcfbe5d29d0201}{char\+\_\+t} $\ast$more, size\+\_\+t max\+Len)
\begin{DoxyCompactList}\small\item\em Concatenate two paths. \end{DoxyCompactList}\item 
\hyperlink{compiler__port_8h_a812d16e5494522586b3784e55d479912}{bool\+\_\+t} \hyperlink{path_8c_afe7325f4cf1166cc4ded3e114d39395e}{path\+Match} (const \hyperlink{compiler__port_8h_a40bb5262bf908c328fbcfbe5d29d0201}{char\+\_\+t} $\ast$path, const \hyperlink{compiler__port_8h_a40bb5262bf908c328fbcfbe5d29d0201}{char\+\_\+t} $\ast$pattern)
\begin{DoxyCompactList}\small\item\em Check whether a file name matches the specified pattern. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Path manipulation helper functions. 

\hypertarget{pic32mz__ef__curiosity_8h_License}{}\subsection{License}\label{pic32mz__ef__curiosity_8h_License}
S\+P\+D\+X-\/\+License-\/\+Identifier\+: G\+P\+L-\/2.\+0-\/or-\/later

Copyright (C) 2010-\/2019 Oryx Embedded S\+A\+RL. All rights reserved.

This program is free software; you can redistribute it and/or modify it under the terms of the G\+NU General Public License as published by the Free Software Foundation; either version 2 of the License, or (at your option) any later version.

This program is distributed in the hope that it will be useful, but W\+I\+T\+H\+O\+UT A\+NY W\+A\+R\+R\+A\+N\+TY; without even the implied warranty of M\+E\+R\+C\+H\+A\+N\+T\+A\+B\+I\+L\+I\+TY or F\+I\+T\+N\+E\+SS F\+OR A P\+A\+R\+T\+I\+C\+U\+L\+AR P\+U\+R\+P\+O\+SE. See the G\+NU General Public License for more details.

You should have received a copy of the G\+NU General Public License along with this program; if not, write to the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-\/1301, U\+SA.

\begin{DoxyAuthor}{Author}
Oryx Embedded S\+A\+RL (www.\+oryx-\/embedded.\+com) 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
1.\+9.\+6 
\end{DoxyVersion}


\subsection{Function Documentation}
\mbox{\Hypertarget{path_8c_a9c11d3b730fe905299bcbee8a25071cf}\label{path_8c_a9c11d3b730fe905299bcbee8a25071cf}} 
\index{path.\+c@{path.\+c}!path\+Add\+Slash@{path\+Add\+Slash}}
\index{path\+Add\+Slash@{path\+Add\+Slash}!path.\+c@{path.\+c}}
\subsubsection{\texorpdfstring{path\+Add\+Slash()}{pathAddSlash()}}
{\footnotesize\ttfamily void path\+Add\+Slash (\begin{DoxyParamCaption}\item[{\hyperlink{compiler__port_8h_a40bb5262bf908c328fbcfbe5d29d0201}{char\+\_\+t} $\ast$}]{path,  }\item[{size\+\_\+t}]{max\+Len }\end{DoxyParamCaption})}



Add a slash to the end of a string. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in,out}  & {\em path} & N\+U\+L\+L-\/terminated string that represents the path \\
\hline
\mbox{\tt in}  & {\em max\+Len} & Maximum pathname length \\
\hline
\end{DoxyParams}


Definition at line 274 of file path.\+c.


\begin{DoxyCode}
275 \{
276    \textcolor{keywordtype}{size\_t} \hyperlink{dhcpv6__common_8h_a5a648f5ec00c526b0dfa2df7a272c6c0}{n};
277 
278    \textcolor{comment}{//Retrieve the length of the string}
279    n = strlen(path);
280 
281    \textcolor{comment}{//Add a slash character only if necessary}
282    \textcolor{keywordflow}{if}(!n)
283    \{
284       \textcolor{comment}{//Check the length of the resulting string}
285       \textcolor{keywordflow}{if}(maxLen >= 1)
286          strcpy(path, \textcolor{stringliteral}{"/"});
287    \}
288    \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(path[n - 1] != \textcolor{charliteral}{'/'} && path[n - 1] != \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'})
289    \{
290       \textcolor{comment}{//Check the length of the resulting string}
291       \textcolor{keywordflow}{if}(maxLen >= (n + 1))
292          strcat(path, \textcolor{stringliteral}{"/"});
293    \}
294 \}
\end{DoxyCode}
\mbox{\Hypertarget{path_8c_a64519f81386b6ece797fb51f06e3052d}\label{path_8c_a64519f81386b6ece797fb51f06e3052d}} 
\index{path.\+c@{path.\+c}!path\+Canonicalize@{path\+Canonicalize}}
\index{path\+Canonicalize@{path\+Canonicalize}!path.\+c@{path.\+c}}
\subsubsection{\texorpdfstring{path\+Canonicalize()}{pathCanonicalize()}}
{\footnotesize\ttfamily void path\+Canonicalize (\begin{DoxyParamCaption}\item[{\hyperlink{compiler__port_8h_a40bb5262bf908c328fbcfbe5d29d0201}{char\+\_\+t} $\ast$}]{path }\end{DoxyParamCaption})}



Simplify a path. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em path} & N\+U\+L\+L-\/terminated string containing the path to be canonicalized \\
\hline
\end{DoxyParams}


Definition at line 112 of file path.\+c.


\begin{DoxyCode}
113 \{
114    \textcolor{keywordtype}{size\_t} i;
115    \textcolor{keywordtype}{size\_t} j;
116    \textcolor{keywordtype}{size\_t} \hyperlink{md5_8c_af11ea3cdbca7345eb6a4a8ac5ce0434d}{k};
117 
118    \textcolor{comment}{//Move to the beginning of the string}
119    i = 0;
120    k = 0;
121 
122    \textcolor{comment}{//Replace backslashes with forward slashes}
123    \textcolor{keywordflow}{while}(path[i] != \textcolor{charliteral}{'\(\backslash\)0'})
124    \{
125       \textcolor{comment}{//Forward slash or backslash separator found?}
126       \textcolor{keywordflow}{if}(path[i] == \textcolor{charliteral}{'/'} || path[i] == \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'})
127       \{
128          path[k++] = \textcolor{charliteral}{'/'};
129          \textcolor{keywordflow}{while}(path[i] == \textcolor{charliteral}{'/'} || path[i] == \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'}) i++;
130       \}
131       \textcolor{keywordflow}{else}
132       \{
133          path[k++] = path[i++];
134       \}
135    \}
136 
137    \textcolor{comment}{//Properly terminate the string with a NULL character}
138    path[\hyperlink{md5_8c_af11ea3cdbca7345eb6a4a8ac5ce0434d}{k}] = \textcolor{charliteral}{'\(\backslash\)0'};
139 
140    \textcolor{comment}{//Move back to the beginning of the string}
141    i = 0;
142    j = 0;
143    k = 0;
144 
145    \textcolor{comment}{//Parse the entire string}
146    \textcolor{keywordflow}{do}
147    \{
148       \textcolor{comment}{//Forward slash separator found?}
149       \textcolor{keywordflow}{if}(path[i] == \textcolor{charliteral}{'/'} || path[i] == \textcolor{charliteral}{'\(\backslash\)0'})
150       \{
151          \textcolor{comment}{//"." element found?}
152          \textcolor{keywordflow}{if}((i - j) == 1 && !strncmp(path + j, \textcolor{stringliteral}{"."}, 1))
153          \{
154             \textcolor{comment}{//Check whether the pathname is empty?}
155             \textcolor{keywordflow}{if}(k == 0)
156             \{
157                \textcolor{keywordflow}{if}(path[i] == \textcolor{charliteral}{'\(\backslash\)0'})
158                \{
159                   path[k++] = \textcolor{charliteral}{'.'};
160                \}
161                \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(path[i] == \textcolor{charliteral}{'/'} && path[i + 1] == \textcolor{charliteral}{'\(\backslash\)0'})
162                \{
163                   path[k++] = \textcolor{charliteral}{'.'};
164                   path[k++] = \textcolor{charliteral}{'/'};
165                \}
166             \}
167             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(k > 1)
168             \{
169                \textcolor{comment}{//Remove the final slash if necessary}
170                \textcolor{keywordflow}{if}(path[i] == \textcolor{charliteral}{'\(\backslash\)0'})
171                   k--;
172             \}
173          \}
174          \textcolor{comment}{//".." element found?}
175          \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}((i - j) == 2 && !strncmp(path + j, \textcolor{stringliteral}{".."}, 2))
176          \{
177             \textcolor{comment}{//Check whether the pathname is empty?}
178             \textcolor{keywordflow}{if}(k == 0)
179             \{
180                path[k++] = \textcolor{charliteral}{'.'};
181                path[k++] = \textcolor{charliteral}{'.'};
182 
183                \textcolor{comment}{//Append a slash if necessary}
184                \textcolor{keywordflow}{if}(path[i] == \textcolor{charliteral}{'/'})
185                   path[k++] = \textcolor{charliteral}{'/'};
186             \}
187             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(k > 1)
188             \{
189                \textcolor{comment}{//Search the path for the previous slash}
190                \textcolor{keywordflow}{for}(j = 1; j < \hyperlink{md5_8c_af11ea3cdbca7345eb6a4a8ac5ce0434d}{k}; j++)
191                \{
192                   \textcolor{keywordflow}{if}(path[k - j - 1] == \textcolor{charliteral}{'/'})
193                      \textcolor{keywordflow}{break};
194                \}
195 
196                \textcolor{comment}{//Slash separator found?}
197                \textcolor{keywordflow}{if}(j < k)
198                \{
199                   \textcolor{keywordflow}{if}(!strncmp(path + k - j, \textcolor{stringliteral}{".."}, 2))
200                   \{
201                      path[k++] = \textcolor{charliteral}{'.'};
202                      path[k++] = \textcolor{charliteral}{'.'};
203                   \}
204                   \textcolor{keywordflow}{else}
205                   \{
206                      k = k - j - 1;
207                   \}
208 
209                   \textcolor{comment}{//Append a slash if necessary}
210                   \textcolor{keywordflow}{if}(k == 0 && path[0] == \textcolor{charliteral}{'/'})
211                      path[k++] = \textcolor{charliteral}{'/'};
212                   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(path[i] == \textcolor{charliteral}{'/'})
213                      path[k++] = \textcolor{charliteral}{'/'};
214                \}
215                \textcolor{comment}{//No slash separator found?}
216                \textcolor{keywordflow}{else}
217                \{
218                   \textcolor{keywordflow}{if}(k == 3 && !strncmp(path, \textcolor{stringliteral}{".."}, 2))
219                   \{
220                      path[k++] = \textcolor{charliteral}{'.'};
221                      path[k++] = \textcolor{charliteral}{'.'};
222 
223                      \textcolor{comment}{//Append a slash if necessary}
224                      \textcolor{keywordflow}{if}(path[i] == \textcolor{charliteral}{'/'})
225                         path[k++] = \textcolor{charliteral}{'/'};
226                   \}
227                   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(path[i] == \textcolor{charliteral}{'\(\backslash\)0'})
228                   \{
229                      k = 0;
230                      path[k++] = \textcolor{charliteral}{'.'};
231                   \}
232                   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(path[i] == \textcolor{charliteral}{'/'} && path[i + 1] == \textcolor{charliteral}{'\(\backslash\)0'})
233                   \{
234                      k = 0;
235                      path[k++] = \textcolor{charliteral}{'.'};
236                      path[k++] = \textcolor{charliteral}{'/'};
237                   \}
238                   \textcolor{keywordflow}{else}
239                   \{
240                      k = 0;
241                   \}
242                \}
243             \}
244          \}
245          \textcolor{keywordflow}{else}
246          \{
247             \textcolor{comment}{//Copy directory name}
248             memmove(path + k, path + j, i - j);
249             \textcolor{comment}{//Advance write pointer}
250             k += i - j;
251 
252             \textcolor{comment}{//Append a slash if necessary}
253             \textcolor{keywordflow}{if}(path[i] == \textcolor{charliteral}{'/'})
254                path[k++] = \textcolor{charliteral}{'/'};
255          \}
256 
257          \textcolor{comment}{//Move to the next token}
258          \textcolor{keywordflow}{while}(path[i] == \textcolor{charliteral}{'/'}) i++;
259          j = i;
260       \}
261    \} \textcolor{keywordflow}{while}(path[i++] != \textcolor{charliteral}{'\(\backslash\)0'});
262 
263    \textcolor{comment}{//Properly terminate the string with a NULL character}
264    path[\hyperlink{md5_8c_af11ea3cdbca7345eb6a4a8ac5ce0434d}{k}] = \textcolor{charliteral}{'\(\backslash\)0'};
265 \}
\end{DoxyCode}
\mbox{\Hypertarget{path_8c_a38625df4e9abd106fb932b8ff308adc3}\label{path_8c_a38625df4e9abd106fb932b8ff308adc3}} 
\index{path.\+c@{path.\+c}!path\+Combine@{path\+Combine}}
\index{path\+Combine@{path\+Combine}!path.\+c@{path.\+c}}
\subsubsection{\texorpdfstring{path\+Combine()}{pathCombine()}}
{\footnotesize\ttfamily void path\+Combine (\begin{DoxyParamCaption}\item[{\hyperlink{compiler__port_8h_a40bb5262bf908c328fbcfbe5d29d0201}{char\+\_\+t} $\ast$}]{path,  }\item[{const \hyperlink{compiler__port_8h_a40bb5262bf908c328fbcfbe5d29d0201}{char\+\_\+t} $\ast$}]{more,  }\item[{size\+\_\+t}]{max\+Len }\end{DoxyParamCaption})}



Concatenate two paths. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in,out}  & {\em path} & N\+U\+L\+L-\/terminated string containing the first path \\
\hline
\mbox{\tt in}  & {\em more} & N\+U\+L\+L-\/terminated string containing the second path \\
\hline
\mbox{\tt in}  & {\em max\+Len} & Maximum pathname length \\
\hline
\end{DoxyParams}


Definition at line 332 of file path.\+c.


\begin{DoxyCode}
333 \{
334    \textcolor{keywordtype}{size\_t} n1;
335    \textcolor{keywordtype}{size\_t} n2;
336 
337    \textcolor{comment}{//Append a slash character to the first path}
338    \textcolor{keywordflow}{if}(*path != \textcolor{charliteral}{'\(\backslash\)0'})
339       \hyperlink{path_8c_a9c11d3b730fe905299bcbee8a25071cf}{pathAddSlash}(path, maxLen);
340 
341    \textcolor{comment}{//Skip any slash character at the beginning of the second path}
342    \textcolor{keywordflow}{while}(*more == \textcolor{charliteral}{'/'} || *more == \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'}) more++;
343 
344    \textcolor{comment}{//Retrieve the length of the first path}
345    n1 = strlen(path);
346    \textcolor{comment}{//Retrieve the length of second path}
347    n2 = strlen(more);
348 
349    \textcolor{comment}{//Check the length of the resulting string}
350    \textcolor{keywordflow}{if}(n1 < maxLen)
351    \{
352       \textcolor{comment}{//Limit the number of characters to be copied}
353       n2 = \hyperlink{os__port_8h_a3acffbd305ee72dcd4593c0d8af64a4f}{MIN}(n2, maxLen - n1);
354       \textcolor{comment}{//Concatenate the resulting string}
355       strncpy(path + n1, more, n2);
356       \textcolor{comment}{//Properly terminate the string with a NULL character}
357       path[n1 + n2] = \textcolor{charliteral}{'\(\backslash\)0'};
358    \}
359 \}
\end{DoxyCode}
\mbox{\Hypertarget{path_8c_a384588edf4d8d711908fc52563683cd9}\label{path_8c_a384588edf4d8d711908fc52563683cd9}} 
\index{path.\+c@{path.\+c}!path\+Find\+File\+Name@{path\+Find\+File\+Name}}
\index{path\+Find\+File\+Name@{path\+Find\+File\+Name}!path.\+c@{path.\+c}}
\subsubsection{\texorpdfstring{path\+Find\+File\+Name()}{pathFindFileName()}}
{\footnotesize\ttfamily const \hyperlink{compiler__port_8h_a40bb5262bf908c328fbcfbe5d29d0201}{char\+\_\+t}$\ast$ path\+Find\+File\+Name (\begin{DoxyParamCaption}\item[{const \hyperlink{compiler__port_8h_a40bb5262bf908c328fbcfbe5d29d0201}{char\+\_\+t} $\ast$}]{path }\end{DoxyParamCaption})}



Search a path for a file name. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em path} & N\+U\+L\+L-\/terminated string that contains the path to search \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Pointer to the file name 
\end{DoxyReturn}


Definition at line 73 of file path.\+c.


\begin{DoxyCode}
74 \{
75    \textcolor{keywordtype}{size\_t} \hyperlink{dhcpv6__common_8h_a5a648f5ec00c526b0dfa2df7a272c6c0}{n};
76 
77    \textcolor{comment}{//Retrieve the length of the path}
78    n = strlen(path);
79 
80    \textcolor{comment}{//Skip trailing slash or backslash characters}
81    \textcolor{keywordflow}{while}(n > 0)
82    \{
83       \textcolor{comment}{//Forward slash or backslash character found?}
84       \textcolor{keywordflow}{if}(path[n - 1] != \textcolor{charliteral}{'/'} && path[n - 1] != \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'})
85          \textcolor{keywordflow}{break};
86 
87       \textcolor{comment}{//Previous character}
88       n--;
89    \}
90 
91    \textcolor{comment}{//Search the string for the last separator}
92    \textcolor{keywordflow}{while}(n > 0)
93    \{
94       \textcolor{comment}{//Forward slash or backslash character found?}
95       \textcolor{keywordflow}{if}(path[n - 1] == \textcolor{charliteral}{'/'} || path[n - 1] == \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'})
96          \textcolor{keywordflow}{break};
97 
98       \textcolor{comment}{//Previous character}
99       n--;
100    \}
101 
102    \textcolor{comment}{//Return a pointer to the file name}
103    \textcolor{keywordflow}{return} path + \hyperlink{dhcpv6__common_8h_a5a648f5ec00c526b0dfa2df7a272c6c0}{n};
104 \}
\end{DoxyCode}
\mbox{\Hypertarget{path_8c_ada5646c633c7fab07618ba23d0107985}\label{path_8c_ada5646c633c7fab07618ba23d0107985}} 
\index{path.\+c@{path.\+c}!path\+Is\+Absolute@{path\+Is\+Absolute}}
\index{path\+Is\+Absolute@{path\+Is\+Absolute}!path.\+c@{path.\+c}}
\subsubsection{\texorpdfstring{path\+Is\+Absolute()}{pathIsAbsolute()}}
{\footnotesize\ttfamily \hyperlink{compiler__port_8h_a812d16e5494522586b3784e55d479912}{bool\+\_\+t} path\+Is\+Absolute (\begin{DoxyParamCaption}\item[{const \hyperlink{compiler__port_8h_a40bb5262bf908c328fbcfbe5d29d0201}{char\+\_\+t} $\ast$}]{path }\end{DoxyParamCaption})}



Test if the path is absolute. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em path} & N\+U\+L\+L-\/terminated string that contains the path \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
T\+R\+UE is the path is absolute, else F\+A\+L\+SE 
\end{DoxyReturn}


Definition at line 41 of file path.\+c.


\begin{DoxyCode}
42 \{
43    \textcolor{comment}{//Determine if the path is absolute or relative}
44    \textcolor{keywordflow}{if}(path[0] == \textcolor{charliteral}{'/'} || path[0] == \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'})
45       \textcolor{keywordflow}{return} \hyperlink{os__port_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
46    \textcolor{keywordflow}{else}
47       \textcolor{keywordflow}{return} \hyperlink{os__port_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
48 \}
\end{DoxyCode}
\mbox{\Hypertarget{path_8c_ad91b37d05d6572c1525086e8f2646774}\label{path_8c_ad91b37d05d6572c1525086e8f2646774}} 
\index{path.\+c@{path.\+c}!path\+Is\+Relative@{path\+Is\+Relative}}
\index{path\+Is\+Relative@{path\+Is\+Relative}!path.\+c@{path.\+c}}
\subsubsection{\texorpdfstring{path\+Is\+Relative()}{pathIsRelative()}}
{\footnotesize\ttfamily \hyperlink{compiler__port_8h_a812d16e5494522586b3784e55d479912}{bool\+\_\+t} path\+Is\+Relative (\begin{DoxyParamCaption}\item[{const \hyperlink{compiler__port_8h_a40bb5262bf908c328fbcfbe5d29d0201}{char\+\_\+t} $\ast$}]{path }\end{DoxyParamCaption})}



Test if the path is relative. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em path} & N\+U\+L\+L-\/terminated string that contains the path \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
T\+R\+UE is the path is relative, else F\+A\+L\+SE 
\end{DoxyReturn}


Definition at line 57 of file path.\+c.


\begin{DoxyCode}
58 \{
59    \textcolor{comment}{//Determine if the path is absolute or relative}
60    \textcolor{keywordflow}{if}(path[0] == \textcolor{charliteral}{'/'} || path[0] == \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'})
61       \textcolor{keywordflow}{return} \hyperlink{os__port_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
62    \textcolor{keywordflow}{else}
63       \textcolor{keywordflow}{return} \hyperlink{os__port_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
64 \}
\end{DoxyCode}
\mbox{\Hypertarget{path_8c_afe7325f4cf1166cc4ded3e114d39395e}\label{path_8c_afe7325f4cf1166cc4ded3e114d39395e}} 
\index{path.\+c@{path.\+c}!path\+Match@{path\+Match}}
\index{path\+Match@{path\+Match}!path.\+c@{path.\+c}}
\subsubsection{\texorpdfstring{path\+Match()}{pathMatch()}}
{\footnotesize\ttfamily \hyperlink{compiler__port_8h_a812d16e5494522586b3784e55d479912}{bool\+\_\+t} path\+Match (\begin{DoxyParamCaption}\item[{const \hyperlink{compiler__port_8h_a40bb5262bf908c328fbcfbe5d29d0201}{char\+\_\+t} $\ast$}]{path,  }\item[{const \hyperlink{compiler__port_8h_a40bb5262bf908c328fbcfbe5d29d0201}{char\+\_\+t} $\ast$}]{pattern }\end{DoxyParamCaption})}



Check whether a file name matches the specified pattern. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em path} & N\+U\+L\+L-\/terminated string that contains the path to be matched \\
\hline
\mbox{\tt in}  & {\em pattern} & N\+U\+L\+L-\/terminated string that contains the pattern for which to search. The pattern may contain wildcard characters \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
T\+R\+UE if the path matches the specified pattern, else F\+A\+L\+SE 
\end{DoxyReturn}


Definition at line 370 of file path.\+c.


\begin{DoxyCode}
371 \{
372    \textcolor{keywordtype}{size\_t} i = 0;
373    \textcolor{keywordtype}{size\_t} j = 0;
374 
375    \textcolor{comment}{//Parse the pattern string}
376    \textcolor{keywordflow}{while}(pattern[j] != \textcolor{charliteral}{'\(\backslash\)0'})
377    \{
378       \textcolor{comment}{//Any wildcard character found?}
379       \textcolor{keywordflow}{if}(pattern[j] == \textcolor{charliteral}{'?'})
380       \{
381          \textcolor{comment}{//The question mark matches a single character}
382          \textcolor{keywordflow}{if}(path[i] == \textcolor{charliteral}{'\(\backslash\)0'})
383          \{
384             \textcolor{keywordflow}{return} \hyperlink{os__port_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
385          \}
386          \textcolor{keywordflow}{else}
387          \{
388             \textcolor{comment}{//Advance position in pathname}
389             i++;
390             \textcolor{comment}{//Advance position in pattern string}
391             j++;
392          \}
393       \}
394       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(pattern[j] == \textcolor{charliteral}{'*'})
395       \{
396          \textcolor{comment}{//The asterisk sign matches zero or more characters}
397          \textcolor{keywordflow}{if}(path[i] == \textcolor{charliteral}{'\(\backslash\)0'})
398          \{
399             \textcolor{comment}{//Advance position in pattern string}
400             j++;
401          \}
402          \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(\hyperlink{path_8c_afe7325f4cf1166cc4ded3e114d39395e}{pathMatch}(path + i, pattern + j + 1))
403          \{
404             \textcolor{keywordflow}{return} \hyperlink{os__port_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
405          \}
406          \textcolor{keywordflow}{else}
407          \{
408             \textcolor{comment}{//Advance position in pathname}
409             i++;
410          \}
411       \}
412       \textcolor{keywordflow}{else}
413       \{
414          \textcolor{comment}{//Case insensitive comparison}
415          \textcolor{keywordflow}{if}(tolower((\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t}) path[i]) != tolower((\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t}) pattern[j]))
416          \{
417             \textcolor{keywordflow}{return} \hyperlink{os__port_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
418          \}
419          \textcolor{keywordflow}{else}
420          \{
421             \textcolor{comment}{//Advance position in pathname}
422             i++;
423             \textcolor{comment}{//Advance position in pattern string}
424             j++;
425          \}
426       \}
427    \}
428 
429    \textcolor{comment}{//Check whether the file name matches the specified pattern}
430    \textcolor{keywordflow}{if}(path[i] == \textcolor{charliteral}{'\(\backslash\)0'} && pattern[j] == \textcolor{charliteral}{'\(\backslash\)0'})
431       \textcolor{keywordflow}{return} \hyperlink{os__port_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
432    \textcolor{keywordflow}{else}
433       \textcolor{keywordflow}{return} \hyperlink{os__port_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
434 \}
\end{DoxyCode}
\mbox{\Hypertarget{path_8c_af03ec9a7da6f93032b4ea949a4d0d768}\label{path_8c_af03ec9a7da6f93032b4ea949a4d0d768}} 
\index{path.\+c@{path.\+c}!path\+Remove\+Slash@{path\+Remove\+Slash}}
\index{path\+Remove\+Slash@{path\+Remove\+Slash}!path.\+c@{path.\+c}}
\subsubsection{\texorpdfstring{path\+Remove\+Slash()}{pathRemoveSlash()}}
{\footnotesize\ttfamily void path\+Remove\+Slash (\begin{DoxyParamCaption}\item[{\hyperlink{compiler__port_8h_a40bb5262bf908c328fbcfbe5d29d0201}{char\+\_\+t} $\ast$}]{path }\end{DoxyParamCaption})}



Remove the trailing slash from a given path. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in,out}  & {\em path} & N\+U\+L\+L-\/terminated string that contains the path \\
\hline
\end{DoxyParams}


Definition at line 302 of file path.\+c.


\begin{DoxyCode}
303 \{
304    \hyperlink{compiler__port_8h_a40bb5262bf908c328fbcfbe5d29d0201}{char\_t} *end;
305 
306    \textcolor{comment}{//Skip the leading slash character}
307    \textcolor{keywordflow}{if}(\hyperlink{path_8c_ada5646c633c7fab07618ba23d0107985}{pathIsAbsolute}(path))
308       path++;
309 
310    \textcolor{comment}{//Search for the first slash character to be removed}
311    \textcolor{keywordflow}{for}(end = \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}; *path != \textcolor{charliteral}{'\(\backslash\)0'}; path++)
312    \{
313       \textcolor{keywordflow}{if}(*path != \textcolor{charliteral}{'/'} && *path != \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'})
314          end = \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
315       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(!end)
316          end = path;
317    \}
318 
319    \textcolor{comment}{//Remove the trailing slash characters}
320    \textcolor{keywordflow}{if}(end)
321       *end = \textcolor{charliteral}{'\(\backslash\)0'};
322 \}
\end{DoxyCode}
