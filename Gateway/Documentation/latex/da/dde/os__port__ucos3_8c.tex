\hypertarget{os__port__ucos3_8c}{}\section{common/os\+\_\+port\+\_\+ucos3.c File Reference}
\label{os__port__ucos3_8c}\index{common/os\+\_\+port\+\_\+ucos3.\+c@{common/os\+\_\+port\+\_\+ucos3.\+c}}


R\+T\+OS abstraction layer (Micrium u\+C/\+O\+S-\/\+I\+II)  


{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
{\ttfamily \#include \char`\"{}os\+\_\+port.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}os\+\_\+port\+\_\+ucos3.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}debug.\+h\char`\"{}}\newline
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{os__port__ucos3_8c_afcdf5e66fd927a7f4cc64295acd20407}{T\+R\+A\+C\+E\+\_\+\+L\+E\+V\+EL}~\hyperlink{debug_8h_abe394dff8dc1f8684894410f2ffa9160}{T\+R\+A\+C\+E\+\_\+\+L\+E\+V\+E\+L\+\_\+\+O\+FF}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{os__port__ucos3_8c_af0e3795ccd65b64a470a3647c35140c3}{os\+Idle\+Task\+Hook} (void)
\begin{DoxyCompactList}\small\item\em Idle task hook. \end{DoxyCompactList}\item 
void \hyperlink{os__port__ucos3_8c_af1819038a84a0c1b18edbc8421d594ba}{os\+Init\+Kernel} (void)
\begin{DoxyCompactList}\small\item\em Kernel initialization. \end{DoxyCompactList}\item 
void \hyperlink{os__port__ucos3_8c_ae09f7770c80e669e765b9f22a837ed18}{os\+Start\+Kernel} (void)
\begin{DoxyCompactList}\small\item\em Start kernel. \end{DoxyCompactList}\item 
\hyperlink{compiler__port_8h_a812d16e5494522586b3784e55d479912}{bool\+\_\+t} \hyperlink{os__port__ucos3_8c_a98ad250c8e669354f7b273e37d8843d6}{os\+Create\+Static\+Task} (\hyperlink{structOsTask}{Os\+Task} $\ast$task, const \hyperlink{compiler__port_8h_a40bb5262bf908c328fbcfbe5d29d0201}{char\+\_\+t} $\ast$\hyperlink{resource__manager_8h_a26532d7194d592ae8da35222073f36d6}{name}, \hyperlink{os__port__windows_8h_a52a4e1975bb554c2ce70aaac35b752d2}{Os\+Task\+Code} task\+Code, void $\ast$param, void $\ast$stack, size\+\_\+t stack\+Size, \hyperlink{compiler__port_8h_a022c65af7f6c8d3947e8a37d64db6ad6}{int\+\_\+t} \hyperlink{dns__common_8h_a0815784d41b3c13d42ce22367abfba1d}{priority})
\begin{DoxyCompactList}\small\item\em Create a static task. \end{DoxyCompactList}\item 
\hyperlink{structOsTask}{Os\+Task} $\ast$ \hyperlink{os__port__ucos3_8c_aef8c6fe13a0df9e5cfaeb0501ecbac3e}{os\+Create\+Task} (const \hyperlink{compiler__port_8h_a40bb5262bf908c328fbcfbe5d29d0201}{char\+\_\+t} $\ast$\hyperlink{resource__manager_8h_a26532d7194d592ae8da35222073f36d6}{name}, \hyperlink{os__port__windows_8h_a52a4e1975bb554c2ce70aaac35b752d2}{Os\+Task\+Code} task\+Code, void $\ast$param, size\+\_\+t stack\+Size, \hyperlink{compiler__port_8h_a022c65af7f6c8d3947e8a37d64db6ad6}{int\+\_\+t} \hyperlink{dns__common_8h_a0815784d41b3c13d42ce22367abfba1d}{priority})
\begin{DoxyCompactList}\small\item\em Create a new task. \end{DoxyCompactList}\item 
void \hyperlink{os__port__ucos3_8c_ae19a41c2cb0f1e7242f48c2dbbc36e8e}{os\+Delete\+Task} (\hyperlink{structOsTask}{Os\+Task} $\ast$task)
\begin{DoxyCompactList}\small\item\em Delete a task. \end{DoxyCompactList}\item 
void \hyperlink{os__port__ucos3_8c_a69608590db97c707277aebf15be010e5}{os\+Delay\+Task} (\hyperlink{compiler__port_8h_ae3e32a98d431a02106616da3071832dd}{systime\+\_\+t} delay)
\begin{DoxyCompactList}\small\item\em Delay routine. \end{DoxyCompactList}\item 
void \hyperlink{os__port__ucos3_8c_a0f90518dbc8cd7221762e1acf29e8d27}{os\+Switch\+Task} (void)
\begin{DoxyCompactList}\small\item\em Yield control to the next task. \end{DoxyCompactList}\item 
void \hyperlink{os__port__ucos3_8c_abb64215d94a3d144b27a7f1509386366}{os\+Suspend\+All\+Tasks} (void)
\begin{DoxyCompactList}\small\item\em Suspend scheduler activity. \end{DoxyCompactList}\item 
void \hyperlink{os__port__ucos3_8c_a1116ffd72c17afc85cc9c6ac00f1b06c}{os\+Resume\+All\+Tasks} (void)
\begin{DoxyCompactList}\small\item\em Resume scheduler activity. \end{DoxyCompactList}\item 
\hyperlink{compiler__port_8h_a812d16e5494522586b3784e55d479912}{bool\+\_\+t} \hyperlink{os__port__ucos3_8c_ac1658f3fed1eb64efcd47e4503a9ef2e}{os\+Create\+Event} (\hyperlink{structOsEvent}{Os\+Event} $\ast$event)
\begin{DoxyCompactList}\small\item\em Create an event object. \end{DoxyCompactList}\item 
void \hyperlink{os__port__ucos3_8c_a25827a49278bad6150b04b47165fda3d}{os\+Delete\+Event} (\hyperlink{structOsEvent}{Os\+Event} $\ast$event)
\begin{DoxyCompactList}\small\item\em Delete an event object. \end{DoxyCompactList}\item 
void \hyperlink{os__port__ucos3_8c_afc1d64fc90afbf03baecfa636bb99ff7}{os\+Set\+Event} (\hyperlink{structOsEvent}{Os\+Event} $\ast$event)
\begin{DoxyCompactList}\small\item\em Set the specified event object to the signaled state. \end{DoxyCompactList}\item 
void \hyperlink{os__port__ucos3_8c_a9122a1cf258caef553a6b224ef8ef6bf}{os\+Reset\+Event} (\hyperlink{structOsEvent}{Os\+Event} $\ast$event)
\begin{DoxyCompactList}\small\item\em Set the specified event object to the nonsignaled state. \end{DoxyCompactList}\item 
\hyperlink{compiler__port_8h_a812d16e5494522586b3784e55d479912}{bool\+\_\+t} \hyperlink{os__port__ucos3_8c_a1dc707247e44dfefae5bec4a322fc78a}{os\+Wait\+For\+Event} (\hyperlink{structOsEvent}{Os\+Event} $\ast$event, \hyperlink{compiler__port_8h_ae3e32a98d431a02106616da3071832dd}{systime\+\_\+t} timeout)
\begin{DoxyCompactList}\small\item\em Wait until the specified event is in the signaled state. \end{DoxyCompactList}\item 
\hyperlink{compiler__port_8h_a812d16e5494522586b3784e55d479912}{bool\+\_\+t} \hyperlink{os__port__ucos3_8c_aa30d505571a03dd645af374f40bd7016}{os\+Set\+Event\+From\+Isr} (\hyperlink{structOsEvent}{Os\+Event} $\ast$event)
\begin{DoxyCompactList}\small\item\em Set an event object to the signaled state from an interrupt service routine. \end{DoxyCompactList}\item 
\hyperlink{compiler__port_8h_a812d16e5494522586b3784e55d479912}{bool\+\_\+t} \hyperlink{os__port__ucos3_8c_ab40200616c2421cd9baf2a9ec26de7b4}{os\+Create\+Semaphore} (\hyperlink{structOsSemaphore}{Os\+Semaphore} $\ast$semaphore, \hyperlink{compiler__port_8h_a12a1e9b3ce141648783a82445d02b58d}{uint\+\_\+t} count)
\begin{DoxyCompactList}\small\item\em Create a semaphore object. \end{DoxyCompactList}\item 
void \hyperlink{os__port__ucos3_8c_a501b470967cd2cc9caf2fdee107e8590}{os\+Delete\+Semaphore} (\hyperlink{structOsSemaphore}{Os\+Semaphore} $\ast$semaphore)
\begin{DoxyCompactList}\small\item\em Delete a semaphore object. \end{DoxyCompactList}\item 
\hyperlink{compiler__port_8h_a812d16e5494522586b3784e55d479912}{bool\+\_\+t} \hyperlink{os__port__ucos3_8c_a77807eaba2cdb91423e0b238f5282e50}{os\+Wait\+For\+Semaphore} (\hyperlink{structOsSemaphore}{Os\+Semaphore} $\ast$semaphore, \hyperlink{compiler__port_8h_ae3e32a98d431a02106616da3071832dd}{systime\+\_\+t} timeout)
\begin{DoxyCompactList}\small\item\em Wait for the specified semaphore to be available. \end{DoxyCompactList}\item 
void \hyperlink{os__port__ucos3_8c_a33555fb6374f981567026d77e3b687fc}{os\+Release\+Semaphore} (\hyperlink{structOsSemaphore}{Os\+Semaphore} $\ast$semaphore)
\begin{DoxyCompactList}\small\item\em Release the specified semaphore object. \end{DoxyCompactList}\item 
\hyperlink{compiler__port_8h_a812d16e5494522586b3784e55d479912}{bool\+\_\+t} \hyperlink{os__port__ucos3_8c_a16627f901c807c29adf29a38fb1af16a}{os\+Create\+Mutex} (\hyperlink{structOsMutex}{Os\+Mutex} $\ast$mutex)
\begin{DoxyCompactList}\small\item\em Create a mutex object. \end{DoxyCompactList}\item 
void \hyperlink{os__port__ucos3_8c_a2b0ba1e39227e4a4d52ee46bbee15c11}{os\+Delete\+Mutex} (\hyperlink{structOsMutex}{Os\+Mutex} $\ast$mutex)
\begin{DoxyCompactList}\small\item\em Delete a mutex object. \end{DoxyCompactList}\item 
void \hyperlink{os__port__ucos3_8c_a58485224df4bfa522246d55b35bbd83a}{os\+Acquire\+Mutex} (\hyperlink{structOsMutex}{Os\+Mutex} $\ast$mutex)
\begin{DoxyCompactList}\small\item\em Acquire ownership of the specified mutex object. \end{DoxyCompactList}\item 
void \hyperlink{os__port__ucos3_8c_a8e10e5b2c6d3877b5ba60e375ac45d79}{os\+Release\+Mutex} (\hyperlink{structOsMutex}{Os\+Mutex} $\ast$mutex)
\begin{DoxyCompactList}\small\item\em Release ownership of the specified mutex object. \end{DoxyCompactList}\item 
\hyperlink{compiler__port_8h_ae3e32a98d431a02106616da3071832dd}{systime\+\_\+t} \hyperlink{os__port__ucos3_8c_ab66a11272d40a916fa69dd8e4dc443d4}{os\+Get\+System\+Time} (void)
\begin{DoxyCompactList}\small\item\em Retrieve system time. \end{DoxyCompactList}\item 
void $\ast$ \hyperlink{os__port__ucos3_8c_ae86758dcd9fc3c98247ae19815987c9a}{os\+Alloc\+Mem} (size\+\_\+t size)
\begin{DoxyCompactList}\small\item\em Allocate a memory block. \end{DoxyCompactList}\item 
void \hyperlink{os__port__ucos3_8c_a68e4fa4326f2031eab28b92a25f2d68d}{os\+Free\+Mem} (void $\ast$\hyperlink{ndp_8h_a6519522ad9a6f45e7a8d25d31392a977}{p})
\begin{DoxyCompactList}\small\item\em Release a previously allocated memory block. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
static O\+S\+\_\+\+T\+CB $\ast$ \hyperlink{os__port__ucos3_8c_a01b614c712537bc168db03fb1ed12ecd}{tcb\+Table} \mbox{[}\hyperlink{os__port__ucos3_8h_a95d49ddc001c893ffbd8c2e5db6aa87f}{O\+S\+\_\+\+P\+O\+R\+T\+\_\+\+M\+A\+X\+\_\+\+T\+A\+S\+KS}\mbox{]}
\item 
static C\+P\+U\+\_\+\+S\+TK $\ast$ \hyperlink{os__port__ucos3_8c_a4838a9f8a4dbe818fe97bf7c7ab2250d}{stk\+Table} \mbox{[}\hyperlink{os__port__ucos3_8h_a95d49ddc001c893ffbd8c2e5db6aa87f}{O\+S\+\_\+\+P\+O\+R\+T\+\_\+\+M\+A\+X\+\_\+\+T\+A\+S\+KS}\mbox{]}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
R\+T\+OS abstraction layer (Micrium u\+C/\+O\+S-\/\+I\+II) 

\hypertarget{pic32mz__ef__curiosity_8h_License}{}\subsection{License}\label{pic32mz__ef__curiosity_8h_License}
S\+P\+D\+X-\/\+License-\/\+Identifier\+: G\+P\+L-\/2.\+0-\/or-\/later

Copyright (C) 2010-\/2019 Oryx Embedded S\+A\+RL. All rights reserved.

This program is free software; you can redistribute it and/or modify it under the terms of the G\+NU General Public License as published by the Free Software Foundation; either version 2 of the License, or (at your option) any later version.

This program is distributed in the hope that it will be useful, but W\+I\+T\+H\+O\+UT A\+NY W\+A\+R\+R\+A\+N\+TY; without even the implied warranty of M\+E\+R\+C\+H\+A\+N\+T\+A\+B\+I\+L\+I\+TY or F\+I\+T\+N\+E\+SS F\+OR A P\+A\+R\+T\+I\+C\+U\+L\+AR P\+U\+R\+P\+O\+SE. See the G\+NU General Public License for more details.

You should have received a copy of the G\+NU General Public License along with this program; if not, write to the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-\/1301, U\+SA.

\begin{DoxyAuthor}{Author}
Oryx Embedded S\+A\+RL (www.\+oryx-\/embedded.\+com) 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
1.\+9.\+6 
\end{DoxyVersion}


\subsection{Macro Definition Documentation}
\mbox{\Hypertarget{os__port__ucos3_8c_afcdf5e66fd927a7f4cc64295acd20407}\label{os__port__ucos3_8c_afcdf5e66fd927a7f4cc64295acd20407}} 
\index{os\+\_\+port\+\_\+ucos3.\+c@{os\+\_\+port\+\_\+ucos3.\+c}!T\+R\+A\+C\+E\+\_\+\+L\+E\+V\+EL@{T\+R\+A\+C\+E\+\_\+\+L\+E\+V\+EL}}
\index{T\+R\+A\+C\+E\+\_\+\+L\+E\+V\+EL@{T\+R\+A\+C\+E\+\_\+\+L\+E\+V\+EL}!os\+\_\+port\+\_\+ucos3.\+c@{os\+\_\+port\+\_\+ucos3.\+c}}
\subsubsection{\texorpdfstring{T\+R\+A\+C\+E\+\_\+\+L\+E\+V\+EL}{TRACE\_LEVEL}}
{\footnotesize\ttfamily \#define T\+R\+A\+C\+E\+\_\+\+L\+E\+V\+EL~\hyperlink{debug_8h_abe394dff8dc1f8684894410f2ffa9160}{T\+R\+A\+C\+E\+\_\+\+L\+E\+V\+E\+L\+\_\+\+O\+FF}}



Definition at line 30 of file os\+\_\+port\+\_\+ucos3.\+c.



\subsection{Function Documentation}
\mbox{\Hypertarget{os__port__ucos3_8c_a58485224df4bfa522246d55b35bbd83a}\label{os__port__ucos3_8c_a58485224df4bfa522246d55b35bbd83a}} 
\index{os\+\_\+port\+\_\+ucos3.\+c@{os\+\_\+port\+\_\+ucos3.\+c}!os\+Acquire\+Mutex@{os\+Acquire\+Mutex}}
\index{os\+Acquire\+Mutex@{os\+Acquire\+Mutex}!os\+\_\+port\+\_\+ucos3.\+c@{os\+\_\+port\+\_\+ucos3.\+c}}
\subsubsection{\texorpdfstring{os\+Acquire\+Mutex()}{osAcquireMutex()}}
{\footnotesize\ttfamily void os\+Acquire\+Mutex (\begin{DoxyParamCaption}\item[{\hyperlink{structOsMutex}{Os\+Mutex} $\ast$}]{mutex }\end{DoxyParamCaption})}



Acquire ownership of the specified mutex object. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em mutex} & Pointer to the mutex object \\
\hline
\end{DoxyParams}


Definition at line 556 of file os\+\_\+port\+\_\+ucos3.\+c.


\begin{DoxyCode}
557 \{
558    OS\_ERR err;
559 
560    \textcolor{comment}{//Obtain ownership of the mutex object}
561    OSMutexPend(mutex, 0, OS\_OPT\_PEND\_BLOCKING, \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}, &err);
562 \}
\end{DoxyCode}
\mbox{\Hypertarget{os__port__ucos3_8c_ae86758dcd9fc3c98247ae19815987c9a}\label{os__port__ucos3_8c_ae86758dcd9fc3c98247ae19815987c9a}} 
\index{os\+\_\+port\+\_\+ucos3.\+c@{os\+\_\+port\+\_\+ucos3.\+c}!os\+Alloc\+Mem@{os\+Alloc\+Mem}}
\index{os\+Alloc\+Mem@{os\+Alloc\+Mem}!os\+\_\+port\+\_\+ucos3.\+c@{os\+\_\+port\+\_\+ucos3.\+c}}
\subsubsection{\texorpdfstring{os\+Alloc\+Mem()}{osAllocMem()}}
{\footnotesize\ttfamily void$\ast$ os\+Alloc\+Mem (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{size }\end{DoxyParamCaption})}



Allocate a memory block. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em size} & Bytes to allocate \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A pointer to the allocated memory block or N\+U\+LL if there is insufficient memory available 
\end{DoxyReturn}


Definition at line 604 of file os\+\_\+port\+\_\+ucos3.\+c.


\begin{DoxyCode}
605 \{
606    \textcolor{keywordtype}{void} *\hyperlink{ndp_8h_a6519522ad9a6f45e7a8d25d31392a977}{p};
607 
608    \textcolor{comment}{//Enter critical section}
609    \hyperlink{os__port__ucos3_8c_abb64215d94a3d144b27a7f1509386366}{osSuspendAllTasks}();
610    \textcolor{comment}{//Allocate a memory block}
611    p = malloc(size);
612    \textcolor{comment}{//Leave critical section}
613    \hyperlink{os__port__ucos3_8c_a1116ffd72c17afc85cc9c6ac00f1b06c}{osResumeAllTasks}();
614 
615    \textcolor{comment}{//Debug message}
616    \hyperlink{debug_8h_a67a8f9bc74358aa21745a76e23768dae}{TRACE\_DEBUG}(\textcolor{stringliteral}{"Allocating %"} \hyperlink{compiler__port_8h_a2b7b0557dc6cd786df02dafbb51f5292}{PRIuSIZE} \textcolor{stringliteral}{" bytes at 0x%08"} PRIXPTR \textcolor{stringliteral}{"\(\backslash\)r\(\backslash\)n"}, size, (
      \hyperlink{stdint_8h_a31b85deecb45924320becd11d3ee16ce}{uintptr\_t}) p);
617 
618    \textcolor{comment}{//Return a pointer to the newly allocated memory block}
619    \textcolor{keywordflow}{return} \hyperlink{ndp_8h_a6519522ad9a6f45e7a8d25d31392a977}{p};
620 \}
\end{DoxyCode}
\mbox{\Hypertarget{os__port__ucos3_8c_ac1658f3fed1eb64efcd47e4503a9ef2e}\label{os__port__ucos3_8c_ac1658f3fed1eb64efcd47e4503a9ef2e}} 
\index{os\+\_\+port\+\_\+ucos3.\+c@{os\+\_\+port\+\_\+ucos3.\+c}!os\+Create\+Event@{os\+Create\+Event}}
\index{os\+Create\+Event@{os\+Create\+Event}!os\+\_\+port\+\_\+ucos3.\+c@{os\+\_\+port\+\_\+ucos3.\+c}}
\subsubsection{\texorpdfstring{os\+Create\+Event()}{osCreateEvent()}}
{\footnotesize\ttfamily \hyperlink{compiler__port_8h_a812d16e5494522586b3784e55d479912}{bool\+\_\+t} os\+Create\+Event (\begin{DoxyParamCaption}\item[{\hyperlink{structOsEvent}{Os\+Event} $\ast$}]{event }\end{DoxyParamCaption})}



Create an event object. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em event} & Pointer to the event object \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The function returns T\+R\+UE if the event object was successfully created. Otherwise, F\+A\+L\+SE is returned 
\end{DoxyReturn}


Definition at line 296 of file os\+\_\+port\+\_\+ucos3.\+c.


\begin{DoxyCode}
297 \{
298    OS\_ERR err;
299 
300    \textcolor{comment}{//Create an event flag group}
301    OSFlagCreate(event, \textcolor{stringliteral}{"EVENT"}, 0, &err);
302 
303    \textcolor{comment}{//Check whether the event flag group was successfully created}
304    \textcolor{keywordflow}{if}(err == OS\_ERR\_NONE)
305       \textcolor{keywordflow}{return} \hyperlink{os__port_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
306    \textcolor{keywordflow}{else}
307       \textcolor{keywordflow}{return} \hyperlink{os__port_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
308 \}
\end{DoxyCode}
\mbox{\Hypertarget{os__port__ucos3_8c_a16627f901c807c29adf29a38fb1af16a}\label{os__port__ucos3_8c_a16627f901c807c29adf29a38fb1af16a}} 
\index{os\+\_\+port\+\_\+ucos3.\+c@{os\+\_\+port\+\_\+ucos3.\+c}!os\+Create\+Mutex@{os\+Create\+Mutex}}
\index{os\+Create\+Mutex@{os\+Create\+Mutex}!os\+\_\+port\+\_\+ucos3.\+c@{os\+\_\+port\+\_\+ucos3.\+c}}
\subsubsection{\texorpdfstring{os\+Create\+Mutex()}{osCreateMutex()}}
{\footnotesize\ttfamily \hyperlink{compiler__port_8h_a812d16e5494522586b3784e55d479912}{bool\+\_\+t} os\+Create\+Mutex (\begin{DoxyParamCaption}\item[{\hyperlink{structOsMutex}{Os\+Mutex} $\ast$}]{mutex }\end{DoxyParamCaption})}



Create a mutex object. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em mutex} & Pointer to the mutex object \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The function returns T\+R\+UE if the mutex was successfully created. Otherwise, F\+A\+L\+SE is returned 
\end{DoxyReturn}


Definition at line 518 of file os\+\_\+port\+\_\+ucos3.\+c.


\begin{DoxyCode}
519 \{
520    OS\_ERR err;
521 
522    \textcolor{comment}{//Create a mutex}
523    OSMutexCreate(mutex, \textcolor{stringliteral}{"MUTEX"}, &err);
524 
525    \textcolor{comment}{//Check whether the mutex was successfully created}
526    \textcolor{keywordflow}{if}(err == OS\_ERR\_NONE)
527       \textcolor{keywordflow}{return} \hyperlink{os__port_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
528    \textcolor{keywordflow}{else}
529       \textcolor{keywordflow}{return} \hyperlink{os__port_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
530 \}
\end{DoxyCode}
\mbox{\Hypertarget{os__port__ucos3_8c_ab40200616c2421cd9baf2a9ec26de7b4}\label{os__port__ucos3_8c_ab40200616c2421cd9baf2a9ec26de7b4}} 
\index{os\+\_\+port\+\_\+ucos3.\+c@{os\+\_\+port\+\_\+ucos3.\+c}!os\+Create\+Semaphore@{os\+Create\+Semaphore}}
\index{os\+Create\+Semaphore@{os\+Create\+Semaphore}!os\+\_\+port\+\_\+ucos3.\+c@{os\+\_\+port\+\_\+ucos3.\+c}}
\subsubsection{\texorpdfstring{os\+Create\+Semaphore()}{osCreateSemaphore()}}
{\footnotesize\ttfamily \hyperlink{compiler__port_8h_a812d16e5494522586b3784e55d479912}{bool\+\_\+t} os\+Create\+Semaphore (\begin{DoxyParamCaption}\item[{\hyperlink{structOsSemaphore}{Os\+Semaphore} $\ast$}]{semaphore,  }\item[{\hyperlink{compiler__port_8h_a12a1e9b3ce141648783a82445d02b58d}{uint\+\_\+t}}]{count }\end{DoxyParamCaption})}



Create a semaphore object. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em semaphore} & Pointer to the semaphore object \\
\hline
\mbox{\tt in}  & {\em count} & The maximum count for the semaphore object. This value must be greater than zero \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The function returns T\+R\+UE if the semaphore was successfully created. Otherwise, F\+A\+L\+SE is returned 
\end{DoxyReturn}


Definition at line 426 of file os\+\_\+port\+\_\+ucos3.\+c.


\begin{DoxyCode}
427 \{
428    OS\_ERR err;
429 
430    \textcolor{comment}{//Create a semaphore}
431    OSSemCreate(semaphore, \textcolor{stringliteral}{"SEMAPHORE"}, count, &err);
432 
433    \textcolor{comment}{//Check whether the semaphore was successfully created}
434    \textcolor{keywordflow}{if}(err == OS\_ERR\_NONE)
435       \textcolor{keywordflow}{return} \hyperlink{os__port_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
436    \textcolor{keywordflow}{else}
437       \textcolor{keywordflow}{return} \hyperlink{os__port_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
438 \}
\end{DoxyCode}
\mbox{\Hypertarget{os__port__ucos3_8c_a98ad250c8e669354f7b273e37d8843d6}\label{os__port__ucos3_8c_a98ad250c8e669354f7b273e37d8843d6}} 
\index{os\+\_\+port\+\_\+ucos3.\+c@{os\+\_\+port\+\_\+ucos3.\+c}!os\+Create\+Static\+Task@{os\+Create\+Static\+Task}}
\index{os\+Create\+Static\+Task@{os\+Create\+Static\+Task}!os\+\_\+port\+\_\+ucos3.\+c@{os\+\_\+port\+\_\+ucos3.\+c}}
\subsubsection{\texorpdfstring{os\+Create\+Static\+Task()}{osCreateStaticTask()}}
{\footnotesize\ttfamily \hyperlink{compiler__port_8h_a812d16e5494522586b3784e55d479912}{bool\+\_\+t} os\+Create\+Static\+Task (\begin{DoxyParamCaption}\item[{\hyperlink{structOsTask}{Os\+Task} $\ast$}]{task,  }\item[{const \hyperlink{compiler__port_8h_a40bb5262bf908c328fbcfbe5d29d0201}{char\+\_\+t} $\ast$}]{name,  }\item[{\hyperlink{os__port__windows_8h_a52a4e1975bb554c2ce70aaac35b752d2}{Os\+Task\+Code}}]{task\+Code,  }\item[{void $\ast$}]{param,  }\item[{void $\ast$}]{stack,  }\item[{size\+\_\+t}]{stack\+Size,  }\item[{\hyperlink{compiler__port_8h_a022c65af7f6c8d3947e8a37d64db6ad6}{int\+\_\+t}}]{priority }\end{DoxyParamCaption})}



Create a static task. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt out}  & {\em task} & Pointer to the task structure \\
\hline
\mbox{\tt in}  & {\em name} & A name identifying the task \\
\hline
\mbox{\tt in}  & {\em task\+Code} & Pointer to the task entry function \\
\hline
\mbox{\tt in}  & {\em param} & A pointer to a variable to be passed to the task \\
\hline
\mbox{\tt in}  & {\em stack} & Pointer to the stack \\
\hline
\mbox{\tt in}  & {\em stack\+Size} & The initial size of the stack, in words \\
\hline
\mbox{\tt in}  & {\em priority} & The priority at which the task should run \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The function returns T\+R\+UE if the task was successfully created. Otherwise, F\+A\+L\+SE is returned 
\end{DoxyReturn}


Definition at line 94 of file os\+\_\+port\+\_\+ucos3.\+c.


\begin{DoxyCode}
96 \{
97    OS\_ERR err;
98    CPU\_STK stackLimit;
99 
100    \textcolor{comment}{//The watermark limit is used to monitor and ensure that the stack does not overflow}
101    stackLimit = stackSize / 10;
102 
103    \textcolor{comment}{//Create a new task}
104    OSTaskCreate(task, (CPU\_CHAR *) \hyperlink{resource__manager_8h_a26532d7194d592ae8da35222073f36d6}{name}, taskCode, param,
105       \hyperlink{dns__common_8h_a0815784d41b3c13d42ce22367abfba1d}{priority}, stack, stackLimit, stackSize, 0, 1, \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL},
106       OS\_OPT\_TASK\_STK\_CHK | OS\_OPT\_TASK\_STK\_CLR, &err);
107 
108    \textcolor{comment}{//Check whether the task was successfully created}
109    \textcolor{keywordflow}{if}(err == OS\_ERR\_NONE)
110       \textcolor{keywordflow}{return} \hyperlink{os__port_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
111    \textcolor{keywordflow}{else}
112       \textcolor{keywordflow}{return} \hyperlink{os__port_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
113 \}
\end{DoxyCode}
\mbox{\Hypertarget{os__port__ucos3_8c_aef8c6fe13a0df9e5cfaeb0501ecbac3e}\label{os__port__ucos3_8c_aef8c6fe13a0df9e5cfaeb0501ecbac3e}} 
\index{os\+\_\+port\+\_\+ucos3.\+c@{os\+\_\+port\+\_\+ucos3.\+c}!os\+Create\+Task@{os\+Create\+Task}}
\index{os\+Create\+Task@{os\+Create\+Task}!os\+\_\+port\+\_\+ucos3.\+c@{os\+\_\+port\+\_\+ucos3.\+c}}
\subsubsection{\texorpdfstring{os\+Create\+Task()}{osCreateTask()}}
{\footnotesize\ttfamily \hyperlink{structOsTask}{Os\+Task}$\ast$ os\+Create\+Task (\begin{DoxyParamCaption}\item[{const \hyperlink{compiler__port_8h_a40bb5262bf908c328fbcfbe5d29d0201}{char\+\_\+t} $\ast$}]{name,  }\item[{\hyperlink{os__port__windows_8h_a52a4e1975bb554c2ce70aaac35b752d2}{Os\+Task\+Code}}]{task\+Code,  }\item[{void $\ast$}]{param,  }\item[{size\+\_\+t}]{stack\+Size,  }\item[{\hyperlink{compiler__port_8h_a022c65af7f6c8d3947e8a37d64db6ad6}{int\+\_\+t}}]{priority }\end{DoxyParamCaption})}



Create a new task. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em name} & A name identifying the task \\
\hline
\mbox{\tt in}  & {\em task\+Code} & Pointer to the task entry function \\
\hline
\mbox{\tt in}  & {\em param} & A pointer to a variable to be passed to the task \\
\hline
\mbox{\tt in}  & {\em stack\+Size} & The initial size of the stack, in words \\
\hline
\mbox{\tt in}  & {\em priority} & The priority at which the task should run \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
If the function succeeds, the return value is a pointer to the new task. If the function fails, the return value is N\+U\+LL 
\end{DoxyReturn}


Definition at line 127 of file os\+\_\+port\+\_\+ucos3.\+c.


\begin{DoxyCode}
129 \{
130    OS\_ERR err;
131    CPU\_INT32U i;
132    CPU\_STK stackLimit;
133    OS\_TCB *task;
134    CPU\_STK *stack;
135 
136    \textcolor{comment}{//The watermark limit is used to monitor and ensure that the stack does not overflow}
137    stackLimit = stackSize / 10;
138 
139    \textcolor{comment}{//Enter critical section}
140    \hyperlink{os__port__ucos3_8c_abb64215d94a3d144b27a7f1509386366}{osSuspendAllTasks}();
141 
142    \textcolor{comment}{//Loop through TCB table}
143    \textcolor{keywordflow}{for}(i = 0; i < \hyperlink{os__port__chibios_8h_a95d49ddc001c893ffbd8c2e5db6aa87f}{OS\_PORT\_MAX\_TASKS}; i++)
144    \{
145       \textcolor{comment}{//Check whether the current entry is free}
146       \textcolor{keywordflow}{if}(\hyperlink{os__port__ucos3_8c_a01b614c712537bc168db03fb1ed12ecd}{tcbTable}[i] == \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
147          \textcolor{keywordflow}{break};
148    \}
149 
150    \textcolor{comment}{//Any entry available in the table?}
151    \textcolor{keywordflow}{if}(i < OS\_PORT\_MAX\_TASKS)
152    \{
153       \textcolor{comment}{//Allocate a memory block to hold the task's control block}
154       task = \hyperlink{os__port__ucos3_8c_ae86758dcd9fc3c98247ae19815987c9a}{osAllocMem}(\textcolor{keyword}{sizeof}(OS\_TCB));
155 
156       \textcolor{comment}{//Successful memory allocation?}
157       \textcolor{keywordflow}{if}(task != \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
158       \{
159          \textcolor{comment}{//Allocate a memory block to hold the task's stack}
160          stack = \hyperlink{os__port__ucos3_8c_ae86758dcd9fc3c98247ae19815987c9a}{osAllocMem}(stackSize * \textcolor{keyword}{sizeof}(CPU\_STK));
161 
162          \textcolor{comment}{//Successful memory allocation?}
163          \textcolor{keywordflow}{if}(stack != \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
164          \{
165             \textcolor{comment}{//Create a new task}
166             OSTaskCreate(task, (CPU\_CHAR *) \hyperlink{resource__manager_8h_a26532d7194d592ae8da35222073f36d6}{name}, taskCode, param,
167                \hyperlink{dns__common_8h_a0815784d41b3c13d42ce22367abfba1d}{priority}, stack, stackLimit, stackSize, 0, 1, \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL},
168                OS\_OPT\_TASK\_STK\_CHK | OS\_OPT\_TASK\_STK\_CLR, &err);
169 
170             \textcolor{comment}{//Check the return value}
171             \textcolor{keywordflow}{if}(err == OS\_ERR\_NONE)
172             \{
173                \textcolor{comment}{//Save TCB base address}
174                \hyperlink{os__port__ucos3_8c_a01b614c712537bc168db03fb1ed12ecd}{tcbTable}[i] = task;
175                \textcolor{comment}{//Save stack base address}
176                \hyperlink{os__port__ucos3_8c_a4838a9f8a4dbe818fe97bf7c7ab2250d}{stkTable}[i] = stack;
177             \}
178             \textcolor{keywordflow}{else}
179             \{
180                \textcolor{comment}{//Clean up side effects}
181                \hyperlink{os__port__ucos3_8c_a68e4fa4326f2031eab28b92a25f2d68d}{osFreeMem}(task);
182                \hyperlink{os__port__ucos3_8c_a68e4fa4326f2031eab28b92a25f2d68d}{osFreeMem}(stack);
183             \}
184          \}
185          \textcolor{keywordflow}{else}
186          \{
187             \textcolor{comment}{//Memory allocation failed}
188             err = OS\_ERR\_MEM\_FULL;
189             \textcolor{comment}{//Clean up side effects}
190             \hyperlink{os__port__ucos3_8c_a68e4fa4326f2031eab28b92a25f2d68d}{osFreeMem}(task);
191          \}
192       \}
193       \textcolor{keywordflow}{else}
194       \{
195          \textcolor{comment}{//Memory allocation failed}
196          err = OS\_ERR\_MEM\_FULL;
197       \}
198    \}
199    \textcolor{keywordflow}{else}
200    \{
201       \textcolor{comment}{//No entry available in the table}
202       err = OS\_ERR\_MEM\_FULL;
203    \}
204 
205    \textcolor{comment}{//Leave critical section}
206    \hyperlink{os__port__ucos3_8c_a1116ffd72c17afc85cc9c6ac00f1b06c}{osResumeAllTasks}();
207 
208    \textcolor{comment}{//Check whether the task was successfully created}
209    \textcolor{keywordflow}{if}(err == OS\_ERR\_NONE)
210       \textcolor{keywordflow}{return} task;
211    \textcolor{keywordflow}{else}
212       \textcolor{keywordflow}{return} \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
213 \}
\end{DoxyCode}
\mbox{\Hypertarget{os__port__ucos3_8c_a69608590db97c707277aebf15be010e5}\label{os__port__ucos3_8c_a69608590db97c707277aebf15be010e5}} 
\index{os\+\_\+port\+\_\+ucos3.\+c@{os\+\_\+port\+\_\+ucos3.\+c}!os\+Delay\+Task@{os\+Delay\+Task}}
\index{os\+Delay\+Task@{os\+Delay\+Task}!os\+\_\+port\+\_\+ucos3.\+c@{os\+\_\+port\+\_\+ucos3.\+c}}
\subsubsection{\texorpdfstring{os\+Delay\+Task()}{osDelayTask()}}
{\footnotesize\ttfamily void os\+Delay\+Task (\begin{DoxyParamCaption}\item[{\hyperlink{compiler__port_8h_ae3e32a98d431a02106616da3071832dd}{systime\+\_\+t}}]{delay }\end{DoxyParamCaption})}



Delay routine. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em delay} & Amount of time for which the calling task should block \\
\hline
\end{DoxyParams}


Definition at line 235 of file os\+\_\+port\+\_\+ucos3.\+c.


\begin{DoxyCode}
236 \{
237    OS\_ERR err;
238 
239    \textcolor{comment}{//Delay the task for the specified duration}
240    OSTimeDly(\hyperlink{os__port__chibios_8h_ac71d39993aa4f3cde946edeb60882457}{OS\_MS\_TO\_SYSTICKS}(delay), OS\_OPT\_TIME\_DLY, &err);
241 \}
\end{DoxyCode}
\mbox{\Hypertarget{os__port__ucos3_8c_a25827a49278bad6150b04b47165fda3d}\label{os__port__ucos3_8c_a25827a49278bad6150b04b47165fda3d}} 
\index{os\+\_\+port\+\_\+ucos3.\+c@{os\+\_\+port\+\_\+ucos3.\+c}!os\+Delete\+Event@{os\+Delete\+Event}}
\index{os\+Delete\+Event@{os\+Delete\+Event}!os\+\_\+port\+\_\+ucos3.\+c@{os\+\_\+port\+\_\+ucos3.\+c}}
\subsubsection{\texorpdfstring{os\+Delete\+Event()}{osDeleteEvent()}}
{\footnotesize\ttfamily void os\+Delete\+Event (\begin{DoxyParamCaption}\item[{\hyperlink{structOsEvent}{Os\+Event} $\ast$}]{event }\end{DoxyParamCaption})}



Delete an event object. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em event} & Pointer to the event object \\
\hline
\end{DoxyParams}


Definition at line 316 of file os\+\_\+port\+\_\+ucos3.\+c.


\begin{DoxyCode}
317 \{
318    OS\_ERR err;
319 
320    \textcolor{comment}{//Make sure the operating system is running}
321    \textcolor{keywordflow}{if}(OSRunning == OS\_STATE\_OS\_RUNNING)
322    \{
323       \textcolor{comment}{//Properly dispose the event object}
324       OSFlagDel(event, OS\_OPT\_DEL\_ALWAYS, &err);
325    \}
326 \}
\end{DoxyCode}
\mbox{\Hypertarget{os__port__ucos3_8c_a2b0ba1e39227e4a4d52ee46bbee15c11}\label{os__port__ucos3_8c_a2b0ba1e39227e4a4d52ee46bbee15c11}} 
\index{os\+\_\+port\+\_\+ucos3.\+c@{os\+\_\+port\+\_\+ucos3.\+c}!os\+Delete\+Mutex@{os\+Delete\+Mutex}}
\index{os\+Delete\+Mutex@{os\+Delete\+Mutex}!os\+\_\+port\+\_\+ucos3.\+c@{os\+\_\+port\+\_\+ucos3.\+c}}
\subsubsection{\texorpdfstring{os\+Delete\+Mutex()}{osDeleteMutex()}}
{\footnotesize\ttfamily void os\+Delete\+Mutex (\begin{DoxyParamCaption}\item[{\hyperlink{structOsMutex}{Os\+Mutex} $\ast$}]{mutex }\end{DoxyParamCaption})}



Delete a mutex object. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em mutex} & Pointer to the mutex object \\
\hline
\end{DoxyParams}


Definition at line 538 of file os\+\_\+port\+\_\+ucos3.\+c.


\begin{DoxyCode}
539 \{
540    OS\_ERR err;
541 
542    \textcolor{comment}{//Make sure the operating system is running}
543    \textcolor{keywordflow}{if}(OSRunning == OS\_STATE\_OS\_RUNNING)
544    \{
545       \textcolor{comment}{//Properly dispose the specified mutex}
546       OSMutexDel(mutex, OS\_OPT\_DEL\_ALWAYS, &err);
547    \}
548 \}
\end{DoxyCode}
\mbox{\Hypertarget{os__port__ucos3_8c_a501b470967cd2cc9caf2fdee107e8590}\label{os__port__ucos3_8c_a501b470967cd2cc9caf2fdee107e8590}} 
\index{os\+\_\+port\+\_\+ucos3.\+c@{os\+\_\+port\+\_\+ucos3.\+c}!os\+Delete\+Semaphore@{os\+Delete\+Semaphore}}
\index{os\+Delete\+Semaphore@{os\+Delete\+Semaphore}!os\+\_\+port\+\_\+ucos3.\+c@{os\+\_\+port\+\_\+ucos3.\+c}}
\subsubsection{\texorpdfstring{os\+Delete\+Semaphore()}{osDeleteSemaphore()}}
{\footnotesize\ttfamily void os\+Delete\+Semaphore (\begin{DoxyParamCaption}\item[{\hyperlink{structOsSemaphore}{Os\+Semaphore} $\ast$}]{semaphore }\end{DoxyParamCaption})}



Delete a semaphore object. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em semaphore} & Pointer to the semaphore object \\
\hline
\end{DoxyParams}


Definition at line 446 of file os\+\_\+port\+\_\+ucos3.\+c.


\begin{DoxyCode}
447 \{
448    OS\_ERR err;
449 
450    \textcolor{comment}{//Make sure the operating system is running}
451    \textcolor{keywordflow}{if}(OSRunning == OS\_STATE\_OS\_RUNNING)
452    \{
453       \textcolor{comment}{//Properly dispose the specified semaphore}
454       OSSemDel(semaphore, OS\_OPT\_DEL\_ALWAYS, &err);
455    \}
456 \}
\end{DoxyCode}
\mbox{\Hypertarget{os__port__ucos3_8c_ae19a41c2cb0f1e7242f48c2dbbc36e8e}\label{os__port__ucos3_8c_ae19a41c2cb0f1e7242f48c2dbbc36e8e}} 
\index{os\+\_\+port\+\_\+ucos3.\+c@{os\+\_\+port\+\_\+ucos3.\+c}!os\+Delete\+Task@{os\+Delete\+Task}}
\index{os\+Delete\+Task@{os\+Delete\+Task}!os\+\_\+port\+\_\+ucos3.\+c@{os\+\_\+port\+\_\+ucos3.\+c}}
\subsubsection{\texorpdfstring{os\+Delete\+Task()}{osDeleteTask()}}
{\footnotesize\ttfamily void os\+Delete\+Task (\begin{DoxyParamCaption}\item[{\hyperlink{structOsTask}{Os\+Task} $\ast$}]{task }\end{DoxyParamCaption})}



Delete a task. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em task} & Pointer to the task to be deleted \\
\hline
\end{DoxyParams}


Definition at line 221 of file os\+\_\+port\+\_\+ucos3.\+c.


\begin{DoxyCode}
222 \{
223    OS\_ERR err;
224 
225    \textcolor{comment}{//Delete the specified task}
226    OSTaskDel(task, &err);
227 \}
\end{DoxyCode}
\mbox{\Hypertarget{os__port__ucos3_8c_a68e4fa4326f2031eab28b92a25f2d68d}\label{os__port__ucos3_8c_a68e4fa4326f2031eab28b92a25f2d68d}} 
\index{os\+\_\+port\+\_\+ucos3.\+c@{os\+\_\+port\+\_\+ucos3.\+c}!os\+Free\+Mem@{os\+Free\+Mem}}
\index{os\+Free\+Mem@{os\+Free\+Mem}!os\+\_\+port\+\_\+ucos3.\+c@{os\+\_\+port\+\_\+ucos3.\+c}}
\subsubsection{\texorpdfstring{os\+Free\+Mem()}{osFreeMem()}}
{\footnotesize\ttfamily void os\+Free\+Mem (\begin{DoxyParamCaption}\item[{void $\ast$}]{p }\end{DoxyParamCaption})}



Release a previously allocated memory block. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em p} & Previously allocated memory block to be freed \\
\hline
\end{DoxyParams}


Definition at line 628 of file os\+\_\+port\+\_\+ucos3.\+c.


\begin{DoxyCode}
629 \{
630    \textcolor{comment}{//Make sure the pointer is valid}
631    \textcolor{keywordflow}{if}(\hyperlink{ndp_8h_a6519522ad9a6f45e7a8d25d31392a977}{p} != \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
632    \{
633       \textcolor{comment}{//Debug message}
634       \hyperlink{debug_8h_a67a8f9bc74358aa21745a76e23768dae}{TRACE\_DEBUG}(\textcolor{stringliteral}{"Freeing memory at 0x%08"} PRIXPTR \textcolor{stringliteral}{"\(\backslash\)r\(\backslash\)n"}, (
      \hyperlink{stdint_8h_a31b85deecb45924320becd11d3ee16ce}{uintptr\_t}) \hyperlink{ndp_8h_a6519522ad9a6f45e7a8d25d31392a977}{p});
635 
636       \textcolor{comment}{//Enter critical section}
637       \hyperlink{os__port__ucos3_8c_abb64215d94a3d144b27a7f1509386366}{osSuspendAllTasks}();
638       \textcolor{comment}{//Free memory block}
639       free(\hyperlink{ndp_8h_a6519522ad9a6f45e7a8d25d31392a977}{p});
640       \textcolor{comment}{//Leave critical section}
641       \hyperlink{os__port__ucos3_8c_a1116ffd72c17afc85cc9c6ac00f1b06c}{osResumeAllTasks}();
642    \}
643 \}
\end{DoxyCode}
\mbox{\Hypertarget{os__port__ucos3_8c_ab66a11272d40a916fa69dd8e4dc443d4}\label{os__port__ucos3_8c_ab66a11272d40a916fa69dd8e4dc443d4}} 
\index{os\+\_\+port\+\_\+ucos3.\+c@{os\+\_\+port\+\_\+ucos3.\+c}!os\+Get\+System\+Time@{os\+Get\+System\+Time}}
\index{os\+Get\+System\+Time@{os\+Get\+System\+Time}!os\+\_\+port\+\_\+ucos3.\+c@{os\+\_\+port\+\_\+ucos3.\+c}}
\subsubsection{\texorpdfstring{os\+Get\+System\+Time()}{osGetSystemTime()}}
{\footnotesize\ttfamily \hyperlink{compiler__port_8h_ae3e32a98d431a02106616da3071832dd}{systime\+\_\+t} os\+Get\+System\+Time (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Retrieve system time. 

\begin{DoxyReturn}{Returns}
Number of milliseconds elapsed since the system was last started 
\end{DoxyReturn}


Definition at line 584 of file os\+\_\+port\+\_\+ucos3.\+c.


\begin{DoxyCode}
585 \{
586    OS\_ERR err;
587    \hyperlink{compiler__port_8h_ae3e32a98d431a02106616da3071832dd}{systime\_t} \hyperlink{dhcpv6__common_8h_ae73654f333e4363463ad8c594eca1905}{time};
588 
589    \textcolor{comment}{//Get current tick count}
590    time = OSTimeGet(&err);
591 
592    \textcolor{comment}{//Convert system ticks to milliseconds}
593    \textcolor{keywordflow}{return} \hyperlink{os__port__chibios_8h_a457717ba71769e37ab62000b09ec7e44}{OS\_SYSTICKS\_TO\_MS}(time);
594 \}
\end{DoxyCode}
\mbox{\Hypertarget{os__port__ucos3_8c_af0e3795ccd65b64a470a3647c35140c3}\label{os__port__ucos3_8c_af0e3795ccd65b64a470a3647c35140c3}} 
\index{os\+\_\+port\+\_\+ucos3.\+c@{os\+\_\+port\+\_\+ucos3.\+c}!os\+Idle\+Task\+Hook@{os\+Idle\+Task\+Hook}}
\index{os\+Idle\+Task\+Hook@{os\+Idle\+Task\+Hook}!os\+\_\+port\+\_\+ucos3.\+c@{os\+\_\+port\+\_\+ucos3.\+c}}
\subsubsection{\texorpdfstring{os\+Idle\+Task\+Hook()}{osIdleTaskHook()}}
{\footnotesize\ttfamily void os\+Idle\+Task\+Hook (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Idle task hook. 



Definition at line 650 of file os\+\_\+port\+\_\+ucos3.\+c.


\begin{DoxyCode}
651 \{
652    \hyperlink{compiler__port_8h_a12a1e9b3ce141648783a82445d02b58d}{uint\_t} i;
653 
654    \textcolor{comment}{//Loop through TCB table}
655    \textcolor{keywordflow}{for}(i = 0; i < \hyperlink{os__port__chibios_8h_a95d49ddc001c893ffbd8c2e5db6aa87f}{OS\_PORT\_MAX\_TASKS}; i++)
656    \{
657       \textcolor{comment}{//Check whether current entry is used}
658       \textcolor{keywordflow}{if}(\hyperlink{os__port__ucos3_8c_a01b614c712537bc168db03fb1ed12ecd}{tcbTable}[i] != \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
659       \{
660          \textcolor{comment}{//Wait for task termination}
661          \textcolor{keywordflow}{if}(\hyperlink{os__port__ucos3_8c_a01b614c712537bc168db03fb1ed12ecd}{tcbTable}[i]->TaskState == OS\_TASK\_STATE\_DEL)
662          \{
663             \textcolor{comment}{//Free previously allocated resources}
664             \hyperlink{os__port__ucos3_8c_a68e4fa4326f2031eab28b92a25f2d68d}{osFreeMem}(\hyperlink{os__port__ucos3_8c_a4838a9f8a4dbe818fe97bf7c7ab2250d}{stkTable}[i]);
665             \hyperlink{os__port__ucos3_8c_a68e4fa4326f2031eab28b92a25f2d68d}{osFreeMem}(\hyperlink{os__port__ucos3_8c_a01b614c712537bc168db03fb1ed12ecd}{tcbTable}[i]);
666 
667             \textcolor{comment}{//Mark the entry as free}
668             \hyperlink{os__port__ucos3_8c_a4838a9f8a4dbe818fe97bf7c7ab2250d}{stkTable}[i] = \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
669             \hyperlink{os__port__ucos3_8c_a01b614c712537bc168db03fb1ed12ecd}{tcbTable}[i] = \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
670          \}
671       \}
672    \}
673 \}
\end{DoxyCode}
\mbox{\Hypertarget{os__port__ucos3_8c_af1819038a84a0c1b18edbc8421d594ba}\label{os__port__ucos3_8c_af1819038a84a0c1b18edbc8421d594ba}} 
\index{os\+\_\+port\+\_\+ucos3.\+c@{os\+\_\+port\+\_\+ucos3.\+c}!os\+Init\+Kernel@{os\+Init\+Kernel}}
\index{os\+Init\+Kernel@{os\+Init\+Kernel}!os\+\_\+port\+\_\+ucos3.\+c@{os\+\_\+port\+\_\+ucos3.\+c}}
\subsubsection{\texorpdfstring{os\+Init\+Kernel()}{osInitKernel()}}
{\footnotesize\ttfamily void os\+Init\+Kernel (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Kernel initialization. 



Definition at line 52 of file os\+\_\+port\+\_\+ucos3.\+c.


\begin{DoxyCode}
53 \{
54    OS\_ERR err;
55 
56    \textcolor{comment}{//Initialize tables}
57    memset(\hyperlink{os__port__ucos3_8c_a01b614c712537bc168db03fb1ed12ecd}{tcbTable}, 0, \textcolor{keyword}{sizeof}(\hyperlink{os__port__ucos3_8c_a01b614c712537bc168db03fb1ed12ecd}{tcbTable}));
58    memset(\hyperlink{os__port__ucos3_8c_a4838a9f8a4dbe818fe97bf7c7ab2250d}{stkTable}, 0, \textcolor{keyword}{sizeof}(\hyperlink{os__port__ucos3_8c_a4838a9f8a4dbe818fe97bf7c7ab2250d}{stkTable}));
59 
60    \textcolor{comment}{//Scheduler initialization}
61    OSInit(&err);
62 
63    \textcolor{comment}{//Set idle task hook}
64    OS\_AppIdleTaskHookPtr = \hyperlink{os__port__ucos3_8c_af0e3795ccd65b64a470a3647c35140c3}{osIdleTaskHook};
65 \}
\end{DoxyCode}
\mbox{\Hypertarget{os__port__ucos3_8c_a8e10e5b2c6d3877b5ba60e375ac45d79}\label{os__port__ucos3_8c_a8e10e5b2c6d3877b5ba60e375ac45d79}} 
\index{os\+\_\+port\+\_\+ucos3.\+c@{os\+\_\+port\+\_\+ucos3.\+c}!os\+Release\+Mutex@{os\+Release\+Mutex}}
\index{os\+Release\+Mutex@{os\+Release\+Mutex}!os\+\_\+port\+\_\+ucos3.\+c@{os\+\_\+port\+\_\+ucos3.\+c}}
\subsubsection{\texorpdfstring{os\+Release\+Mutex()}{osReleaseMutex()}}
{\footnotesize\ttfamily void os\+Release\+Mutex (\begin{DoxyParamCaption}\item[{\hyperlink{structOsMutex}{Os\+Mutex} $\ast$}]{mutex }\end{DoxyParamCaption})}



Release ownership of the specified mutex object. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em mutex} & Pointer to the mutex object \\
\hline
\end{DoxyParams}


Definition at line 570 of file os\+\_\+port\+\_\+ucos3.\+c.


\begin{DoxyCode}
571 \{
572    OS\_ERR err;
573 
574    \textcolor{comment}{//Release ownership of the mutex object}
575    OSMutexPost(mutex, OS\_OPT\_POST\_NONE, &err);
576 \}
\end{DoxyCode}
\mbox{\Hypertarget{os__port__ucos3_8c_a33555fb6374f981567026d77e3b687fc}\label{os__port__ucos3_8c_a33555fb6374f981567026d77e3b687fc}} 
\index{os\+\_\+port\+\_\+ucos3.\+c@{os\+\_\+port\+\_\+ucos3.\+c}!os\+Release\+Semaphore@{os\+Release\+Semaphore}}
\index{os\+Release\+Semaphore@{os\+Release\+Semaphore}!os\+\_\+port\+\_\+ucos3.\+c@{os\+\_\+port\+\_\+ucos3.\+c}}
\subsubsection{\texorpdfstring{os\+Release\+Semaphore()}{osReleaseSemaphore()}}
{\footnotesize\ttfamily void os\+Release\+Semaphore (\begin{DoxyParamCaption}\item[{\hyperlink{structOsSemaphore}{Os\+Semaphore} $\ast$}]{semaphore }\end{DoxyParamCaption})}



Release the specified semaphore object. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em semaphore} & Pointer to the semaphore object \\
\hline
\end{DoxyParams}


Definition at line 502 of file os\+\_\+port\+\_\+ucos3.\+c.


\begin{DoxyCode}
503 \{
504    OS\_ERR err;
505 
506    \textcolor{comment}{//Release the semaphore}
507    OSSemPost(semaphore, OS\_OPT\_POST\_1, &err);
508 \}
\end{DoxyCode}
\mbox{\Hypertarget{os__port__ucos3_8c_a9122a1cf258caef553a6b224ef8ef6bf}\label{os__port__ucos3_8c_a9122a1cf258caef553a6b224ef8ef6bf}} 
\index{os\+\_\+port\+\_\+ucos3.\+c@{os\+\_\+port\+\_\+ucos3.\+c}!os\+Reset\+Event@{os\+Reset\+Event}}
\index{os\+Reset\+Event@{os\+Reset\+Event}!os\+\_\+port\+\_\+ucos3.\+c@{os\+\_\+port\+\_\+ucos3.\+c}}
\subsubsection{\texorpdfstring{os\+Reset\+Event()}{osResetEvent()}}
{\footnotesize\ttfamily void os\+Reset\+Event (\begin{DoxyParamCaption}\item[{\hyperlink{structOsEvent}{Os\+Event} $\ast$}]{event }\end{DoxyParamCaption})}



Set the specified event object to the nonsignaled state. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em event} & Pointer to the event object \\
\hline
\end{DoxyParams}


Definition at line 348 of file os\+\_\+port\+\_\+ucos3.\+c.


\begin{DoxyCode}
349 \{
350    OS\_ERR err;
351 
352    \textcolor{comment}{//Force the specified event to the nonsignaled state}
353    OSFlagPost(event, 1, OS\_OPT\_POST\_FLAG\_CLR, &err);
354 \}
\end{DoxyCode}
\mbox{\Hypertarget{os__port__ucos3_8c_a1116ffd72c17afc85cc9c6ac00f1b06c}\label{os__port__ucos3_8c_a1116ffd72c17afc85cc9c6ac00f1b06c}} 
\index{os\+\_\+port\+\_\+ucos3.\+c@{os\+\_\+port\+\_\+ucos3.\+c}!os\+Resume\+All\+Tasks@{os\+Resume\+All\+Tasks}}
\index{os\+Resume\+All\+Tasks@{os\+Resume\+All\+Tasks}!os\+\_\+port\+\_\+ucos3.\+c@{os\+\_\+port\+\_\+ucos3.\+c}}
\subsubsection{\texorpdfstring{os\+Resume\+All\+Tasks()}{osResumeAllTasks()}}
{\footnotesize\ttfamily void os\+Resume\+All\+Tasks (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Resume scheduler activity. 



Definition at line 276 of file os\+\_\+port\+\_\+ucos3.\+c.


\begin{DoxyCode}
277 \{
278    OS\_ERR err;
279 
280    \textcolor{comment}{//Make sure the operating system is running}
281    \textcolor{keywordflow}{if}(OSRunning == OS\_STATE\_OS\_RUNNING)
282    \{
283       \textcolor{comment}{//Resume scheduler activity}
284       OSSchedUnlock(&err);
285    \}
286 \}
\end{DoxyCode}
\mbox{\Hypertarget{os__port__ucos3_8c_afc1d64fc90afbf03baecfa636bb99ff7}\label{os__port__ucos3_8c_afc1d64fc90afbf03baecfa636bb99ff7}} 
\index{os\+\_\+port\+\_\+ucos3.\+c@{os\+\_\+port\+\_\+ucos3.\+c}!os\+Set\+Event@{os\+Set\+Event}}
\index{os\+Set\+Event@{os\+Set\+Event}!os\+\_\+port\+\_\+ucos3.\+c@{os\+\_\+port\+\_\+ucos3.\+c}}
\subsubsection{\texorpdfstring{os\+Set\+Event()}{osSetEvent()}}
{\footnotesize\ttfamily void os\+Set\+Event (\begin{DoxyParamCaption}\item[{\hyperlink{structOsEvent}{Os\+Event} $\ast$}]{event }\end{DoxyParamCaption})}



Set the specified event object to the signaled state. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em event} & Pointer to the event object \\
\hline
\end{DoxyParams}


Definition at line 334 of file os\+\_\+port\+\_\+ucos3.\+c.


\begin{DoxyCode}
335 \{
336    OS\_ERR err;
337 
338    \textcolor{comment}{//Set the specified event to the signaled state}
339    OSFlagPost(event, 1, OS\_OPT\_POST\_FLAG\_SET, &err);
340 \}
\end{DoxyCode}
\mbox{\Hypertarget{os__port__ucos3_8c_aa30d505571a03dd645af374f40bd7016}\label{os__port__ucos3_8c_aa30d505571a03dd645af374f40bd7016}} 
\index{os\+\_\+port\+\_\+ucos3.\+c@{os\+\_\+port\+\_\+ucos3.\+c}!os\+Set\+Event\+From\+Isr@{os\+Set\+Event\+From\+Isr}}
\index{os\+Set\+Event\+From\+Isr@{os\+Set\+Event\+From\+Isr}!os\+\_\+port\+\_\+ucos3.\+c@{os\+\_\+port\+\_\+ucos3.\+c}}
\subsubsection{\texorpdfstring{os\+Set\+Event\+From\+Isr()}{osSetEventFromIsr()}}
{\footnotesize\ttfamily \hyperlink{compiler__port_8h_a812d16e5494522586b3784e55d479912}{bool\+\_\+t} os\+Set\+Event\+From\+Isr (\begin{DoxyParamCaption}\item[{\hyperlink{structOsEvent}{Os\+Event} $\ast$}]{event }\end{DoxyParamCaption})}



Set an event object to the signaled state from an interrupt service routine. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em event} & Pointer to the event object \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
T\+R\+UE if setting the event to signaled state caused a task to unblock and the unblocked task has a priority higher than the currently running task 
\end{DoxyReturn}


Definition at line 405 of file os\+\_\+port\+\_\+ucos3.\+c.


\begin{DoxyCode}
406 \{
407    OS\_ERR err;
408 
409    \textcolor{comment}{//Set the specified event to the signaled state}
410    OSFlagPost(event, 1, OS\_OPT\_POST\_FLAG\_SET, &err);
411 
412    \textcolor{comment}{//The return value is not relevant}
413    \textcolor{keywordflow}{return} \hyperlink{os__port_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
414 \}
\end{DoxyCode}
\mbox{\Hypertarget{os__port__ucos3_8c_ae09f7770c80e669e765b9f22a837ed18}\label{os__port__ucos3_8c_ae09f7770c80e669e765b9f22a837ed18}} 
\index{os\+\_\+port\+\_\+ucos3.\+c@{os\+\_\+port\+\_\+ucos3.\+c}!os\+Start\+Kernel@{os\+Start\+Kernel}}
\index{os\+Start\+Kernel@{os\+Start\+Kernel}!os\+\_\+port\+\_\+ucos3.\+c@{os\+\_\+port\+\_\+ucos3.\+c}}
\subsubsection{\texorpdfstring{os\+Start\+Kernel()}{osStartKernel()}}
{\footnotesize\ttfamily void os\+Start\+Kernel (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Start kernel. 



Definition at line 72 of file os\+\_\+port\+\_\+ucos3.\+c.


\begin{DoxyCode}
73 \{
74    OS\_ERR err;
75 
76    \textcolor{comment}{//Start the scheduler}
77    OSStart(&err);
78 \}
\end{DoxyCode}
\mbox{\Hypertarget{os__port__ucos3_8c_abb64215d94a3d144b27a7f1509386366}\label{os__port__ucos3_8c_abb64215d94a3d144b27a7f1509386366}} 
\index{os\+\_\+port\+\_\+ucos3.\+c@{os\+\_\+port\+\_\+ucos3.\+c}!os\+Suspend\+All\+Tasks@{os\+Suspend\+All\+Tasks}}
\index{os\+Suspend\+All\+Tasks@{os\+Suspend\+All\+Tasks}!os\+\_\+port\+\_\+ucos3.\+c@{os\+\_\+port\+\_\+ucos3.\+c}}
\subsubsection{\texorpdfstring{os\+Suspend\+All\+Tasks()}{osSuspendAllTasks()}}
{\footnotesize\ttfamily void os\+Suspend\+All\+Tasks (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Suspend scheduler activity. 



Definition at line 259 of file os\+\_\+port\+\_\+ucos3.\+c.


\begin{DoxyCode}
260 \{
261    OS\_ERR err;
262 
263    \textcolor{comment}{//Make sure the operating system is running}
264    \textcolor{keywordflow}{if}(OSRunning == OS\_STATE\_OS\_RUNNING)
265    \{
266       \textcolor{comment}{//Suspend scheduler activity}
267       OSSchedLock(&err);
268    \}
269 \}
\end{DoxyCode}
\mbox{\Hypertarget{os__port__ucos3_8c_a0f90518dbc8cd7221762e1acf29e8d27}\label{os__port__ucos3_8c_a0f90518dbc8cd7221762e1acf29e8d27}} 
\index{os\+\_\+port\+\_\+ucos3.\+c@{os\+\_\+port\+\_\+ucos3.\+c}!os\+Switch\+Task@{os\+Switch\+Task}}
\index{os\+Switch\+Task@{os\+Switch\+Task}!os\+\_\+port\+\_\+ucos3.\+c@{os\+\_\+port\+\_\+ucos3.\+c}}
\subsubsection{\texorpdfstring{os\+Switch\+Task()}{osSwitchTask()}}
{\footnotesize\ttfamily void os\+Switch\+Task (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Yield control to the next task. 



Definition at line 248 of file os\+\_\+port\+\_\+ucos3.\+c.


\begin{DoxyCode}
249 \{
250    \textcolor{comment}{//Force a context switch}
251    OSSched();
252 \}
\end{DoxyCode}
\mbox{\Hypertarget{os__port__ucos3_8c_a1dc707247e44dfefae5bec4a322fc78a}\label{os__port__ucos3_8c_a1dc707247e44dfefae5bec4a322fc78a}} 
\index{os\+\_\+port\+\_\+ucos3.\+c@{os\+\_\+port\+\_\+ucos3.\+c}!os\+Wait\+For\+Event@{os\+Wait\+For\+Event}}
\index{os\+Wait\+For\+Event@{os\+Wait\+For\+Event}!os\+\_\+port\+\_\+ucos3.\+c@{os\+\_\+port\+\_\+ucos3.\+c}}
\subsubsection{\texorpdfstring{os\+Wait\+For\+Event()}{osWaitForEvent()}}
{\footnotesize\ttfamily \hyperlink{compiler__port_8h_a812d16e5494522586b3784e55d479912}{bool\+\_\+t} os\+Wait\+For\+Event (\begin{DoxyParamCaption}\item[{\hyperlink{structOsEvent}{Os\+Event} $\ast$}]{event,  }\item[{\hyperlink{compiler__port_8h_ae3e32a98d431a02106616da3071832dd}{systime\+\_\+t}}]{timeout }\end{DoxyParamCaption})}



Wait until the specified event is in the signaled state. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em event} & Pointer to the event object \\
\hline
\mbox{\tt in}  & {\em timeout} & Timeout interval \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The function returns T\+R\+UE if the state of the specified object is signaled. F\+A\+L\+SE is returned if the timeout interval elapsed 
\end{DoxyReturn}


Definition at line 365 of file os\+\_\+port\+\_\+ucos3.\+c.


\begin{DoxyCode}
366 \{
367    OS\_ERR err;
368 
369    \textcolor{comment}{//Wait until the specified event is in the signaled}
370    \textcolor{comment}{//state or the timeout interval elapses}
371    \textcolor{keywordflow}{if}(timeout == 0)
372    \{
373       \textcolor{comment}{//Non-blocking call}
374       OSFlagPend(event, 1, 0, OS\_OPT\_PEND\_FLAG\_SET\_ANY |
375          OS\_OPT\_PEND\_FLAG\_CONSUME | OS\_OPT\_PEND\_NON\_BLOCKING, \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}, &err);
376    \}
377    \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(timeout == \hyperlink{os__port_8h_ab893de6f8a0ec8b0e6dd8097ff398019}{INFINITE\_DELAY})
378    \{
379       \textcolor{comment}{//Infinite timeout period}
380       OSFlagPend(event, 1, 0, OS\_OPT\_PEND\_FLAG\_SET\_ANY |
381          OS\_OPT\_PEND\_FLAG\_CONSUME | OS\_OPT\_PEND\_BLOCKING, \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}, &err);
382    \}
383    \textcolor{keywordflow}{else}
384    \{
385       \textcolor{comment}{//Wait until the specified event becomes set}
386       OSFlagPend(event, 1, \hyperlink{os__port__chibios_8h_ac71d39993aa4f3cde946edeb60882457}{OS\_MS\_TO\_SYSTICKS}(timeout), OS\_OPT\_PEND\_FLAG\_SET\_ANY |
387          OS\_OPT\_PEND\_FLAG\_CONSUME | OS\_OPT\_PEND\_BLOCKING, \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}, &err);
388    \}
389 
390    \textcolor{comment}{//Check whether the specified event is set}
391    \textcolor{keywordflow}{if}(err == OS\_ERR\_NONE)
392       \textcolor{keywordflow}{return} \hyperlink{os__port_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
393    \textcolor{keywordflow}{else}
394       \textcolor{keywordflow}{return} \hyperlink{os__port_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
395 \}
\end{DoxyCode}
\mbox{\Hypertarget{os__port__ucos3_8c_a77807eaba2cdb91423e0b238f5282e50}\label{os__port__ucos3_8c_a77807eaba2cdb91423e0b238f5282e50}} 
\index{os\+\_\+port\+\_\+ucos3.\+c@{os\+\_\+port\+\_\+ucos3.\+c}!os\+Wait\+For\+Semaphore@{os\+Wait\+For\+Semaphore}}
\index{os\+Wait\+For\+Semaphore@{os\+Wait\+For\+Semaphore}!os\+\_\+port\+\_\+ucos3.\+c@{os\+\_\+port\+\_\+ucos3.\+c}}
\subsubsection{\texorpdfstring{os\+Wait\+For\+Semaphore()}{osWaitForSemaphore()}}
{\footnotesize\ttfamily \hyperlink{compiler__port_8h_a812d16e5494522586b3784e55d479912}{bool\+\_\+t} os\+Wait\+For\+Semaphore (\begin{DoxyParamCaption}\item[{\hyperlink{structOsSemaphore}{Os\+Semaphore} $\ast$}]{semaphore,  }\item[{\hyperlink{compiler__port_8h_ae3e32a98d431a02106616da3071832dd}{systime\+\_\+t}}]{timeout }\end{DoxyParamCaption})}



Wait for the specified semaphore to be available. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em semaphore} & Pointer to the semaphore object \\
\hline
\mbox{\tt in}  & {\em timeout} & Timeout interval \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The function returns T\+R\+UE if the semaphore is available. F\+A\+L\+SE is returned if the timeout interval elapsed 
\end{DoxyReturn}


Definition at line 467 of file os\+\_\+port\+\_\+ucos3.\+c.


\begin{DoxyCode}
468 \{
469    OS\_ERR err;
470 
471    \textcolor{comment}{//Wait until the semaphore is available or the timeout interval elapses}
472    \textcolor{keywordflow}{if}(timeout == 0)
473    \{
474       \textcolor{comment}{//Non-blocking call}
475       OSSemPend(semaphore, 0, OS\_OPT\_PEND\_NON\_BLOCKING, \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}, &err);
476    \}
477    \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(timeout == \hyperlink{os__port_8h_ab893de6f8a0ec8b0e6dd8097ff398019}{INFINITE\_DELAY})
478    \{
479       \textcolor{comment}{//Infinite timeout period}
480       OSSemPend(semaphore, 0, OS\_OPT\_PEND\_BLOCKING, \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}, &err);
481    \}
482    \textcolor{keywordflow}{else}
483    \{
484       \textcolor{comment}{//Wait until the specified semaphore becomes available}
485       OSSemPend(semaphore, \hyperlink{os__port__chibios_8h_ac71d39993aa4f3cde946edeb60882457}{OS\_MS\_TO\_SYSTICKS}(timeout),
486          OS\_OPT\_PEND\_BLOCKING, \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}, &err);
487    \}
488 
489    \textcolor{comment}{//Check whether the specified semaphore is available}
490    \textcolor{keywordflow}{if}(err == OS\_ERR\_NONE)
491       \textcolor{keywordflow}{return} \hyperlink{os__port_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
492    \textcolor{keywordflow}{else}
493       \textcolor{keywordflow}{return} \hyperlink{os__port_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
494 \}
\end{DoxyCode}


\subsection{Variable Documentation}
\mbox{\Hypertarget{os__port__ucos3_8c_a4838a9f8a4dbe818fe97bf7c7ab2250d}\label{os__port__ucos3_8c_a4838a9f8a4dbe818fe97bf7c7ab2250d}} 
\index{os\+\_\+port\+\_\+ucos3.\+c@{os\+\_\+port\+\_\+ucos3.\+c}!stk\+Table@{stk\+Table}}
\index{stk\+Table@{stk\+Table}!os\+\_\+port\+\_\+ucos3.\+c@{os\+\_\+port\+\_\+ucos3.\+c}}
\subsubsection{\texorpdfstring{stk\+Table}{stkTable}}
{\footnotesize\ttfamily C\+P\+U\+\_\+\+S\+TK$\ast$ stk\+Table\mbox{[}\hyperlink{os__port__ucos3_8h_a95d49ddc001c893ffbd8c2e5db6aa87f}{O\+S\+\_\+\+P\+O\+R\+T\+\_\+\+M\+A\+X\+\_\+\+T\+A\+S\+KS}\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 45 of file os\+\_\+port\+\_\+ucos3.\+c.

\mbox{\Hypertarget{os__port__ucos3_8c_a01b614c712537bc168db03fb1ed12ecd}\label{os__port__ucos3_8c_a01b614c712537bc168db03fb1ed12ecd}} 
\index{os\+\_\+port\+\_\+ucos3.\+c@{os\+\_\+port\+\_\+ucos3.\+c}!tcb\+Table@{tcb\+Table}}
\index{tcb\+Table@{tcb\+Table}!os\+\_\+port\+\_\+ucos3.\+c@{os\+\_\+port\+\_\+ucos3.\+c}}
\subsubsection{\texorpdfstring{tcb\+Table}{tcbTable}}
{\footnotesize\ttfamily O\+S\+\_\+\+T\+CB$\ast$ tcb\+Table\mbox{[}\hyperlink{os__port__ucos3_8h_a95d49ddc001c893ffbd8c2e5db6aa87f}{O\+S\+\_\+\+P\+O\+R\+T\+\_\+\+M\+A\+X\+\_\+\+T\+A\+S\+KS}\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 44 of file os\+\_\+port\+\_\+ucos3.\+c.

