\hypertarget{group__OtaInitFn}{}\section{m2m\+\_\+ota\+\_\+init}
\label{group__OtaInitFn}\index{m2m\+\_\+ota\+\_\+init@{m2m\+\_\+ota\+\_\+init}}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{group__BSPDefine_gaecc0323d771e41ef81a76b5f12783e22}{N\+M\+I\+\_\+\+A\+PI} \hyperlink{group__DataT_gae35f10ffd0ac8dd2bc3e794da9bdfbc7}{sint8} \hyperlink{group__OtaInitFn_gacd2a1a8ffaccc3deb1970cf1ad41ceec}{m2m\+\_\+ota\+\_\+init} (\hyperlink{group__OTATYPEDEF_ga86bdacc22dca0d0844e0825d81fb4f85}{tpf\+Ota\+Update\+Cb} pf\+Ota\+Update\+Cb, \hyperlink{group__OTATYPEDEF_gaa3fadd9ab95ba91a4f32c702dd5104d8}{tpf\+Ota\+Notif\+Cb} pf\+Ota\+Notif\+Cb)
\begin{DoxyCompactList}\small\item\em Initialize the O\+TA layer. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Initialize the O\+TA layer by registering the update callback, the notification callback is not supported at the current version Calling the A\+PI is required for all the O\+TA A\+PI\textquotesingle{}s 

\subsection{Function Documentation}
\mbox{\Hypertarget{group__OtaInitFn_gacd2a1a8ffaccc3deb1970cf1ad41ceec}\label{group__OtaInitFn_gacd2a1a8ffaccc3deb1970cf1ad41ceec}} 
\index{m2m\+\_\+ota\+\_\+init@{m2m\+\_\+ota\+\_\+init}!m2m\+\_\+ota\+\_\+init@{m2m\+\_\+ota\+\_\+init}}
\index{m2m\+\_\+ota\+\_\+init@{m2m\+\_\+ota\+\_\+init}!m2m\+\_\+ota\+\_\+init@{m2m\+\_\+ota\+\_\+init}}
\subsubsection{\texorpdfstring{m2m\+\_\+ota\+\_\+init()}{m2m\_ota\_init()}}
{\footnotesize\ttfamily \hyperlink{group__BSPDefine_gaecc0323d771e41ef81a76b5f12783e22}{N\+M\+I\+\_\+\+A\+PI} \hyperlink{group__DataT_gae35f10ffd0ac8dd2bc3e794da9bdfbc7}{sint8} m2m\+\_\+ota\+\_\+init (\begin{DoxyParamCaption}\item[{\hyperlink{group__OTATYPEDEF_ga86bdacc22dca0d0844e0825d81fb4f85}{tpf\+Ota\+Update\+Cb}}]{pf\+Ota\+Update\+Cb,  }\item[{\hyperlink{group__OTATYPEDEF_gaa3fadd9ab95ba91a4f32c702dd5104d8}{tpf\+Ota\+Notif\+Cb}}]{pf\+Ota\+Notif\+Cb }\end{DoxyParamCaption})}



{\ttfamily \#include $<$\hyperlink{m2m__ota_8h}{third\+\_\+party/atmel/devices/wilc1000/driver/include/m2m\+\_\+ota.\+h}$>$}



Initialize the O\+TA layer. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em pf\+Ota\+Update\+Cb} & O\+TA Update callback function\\
\hline
\mbox{\tt in}  & {\em pf\+Ota\+Notif\+Cb} & O\+TA notify callback function\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The function returns \hyperlink{nm__common_8h_a9ef27ba27aafdd1aa3a79d3ba2c36b8f}{M2\+M\+\_\+\+S\+U\+C\+C\+E\+SS} for successful operations and a negative value otherwise.
\end{DoxyReturn}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em pf\+Ota\+Update\+Cb} & O\+TA Update callback function\\
\hline
\mbox{\tt in}  & {\em pf\+Ota\+Notif\+Cb} & O\+TA notify callback function\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The function S\+H\+A\+LL return 0 for success and a negative value otherwise. 
\end{DoxyReturn}


Definition at line 121 of file m2m\+\_\+ota.\+c.


\begin{DoxyCode}
122 \{
123     \hyperlink{group__DataT_gae35f10ffd0ac8dd2bc3e794da9bdfbc7}{sint8} ret = \hyperlink{nm__common_8h_a9ef27ba27aafdd1aa3a79d3ba2c36b8f}{M2M\_SUCCESS};
124 
125     \textcolor{keywordflow}{if}(pfOtaUpdateCb)\{
126         \hyperlink{m2m__ota_8c_a0c2b97943aa732cfcf68afa47f2a1206}{gpfOtaUpdateCb} = pfOtaUpdateCb;
127     \}\textcolor{keywordflow}{else}\{
128         \hyperlink{nm__common_8h_a34d005df494e50b05cd38b80f318d7ac}{M2M\_ERR}(\textcolor{stringliteral}{"Invaild Ota update cb\(\backslash\)r\(\backslash\)n"});
129     \}
130     \textcolor{keywordflow}{if}(pfOtaNotifCb)\{
131         \hyperlink{m2m__ota_8c_a43b3def63edb691574de474f22169f6b}{gpfOtaNotifCb} = pfOtaNotifCb;
132     \}\textcolor{keywordflow}{else}\{
133         \hyperlink{nm__common_8h_a34d005df494e50b05cd38b80f318d7ac}{M2M\_ERR}(\textcolor{stringliteral}{"Invaild Ota notify cb\(\backslash\)r\(\backslash\)n"});
134     \}
135 
136     \hyperlink{m2m__hif_8c_a63f14be680fcf28f96912ee6e6f28be9}{hif\_register\_cb}(M2M\_REQ\_GRP\_OTA,\hyperlink{m2m__ota_8c_a900f8458624a940655bc3ce149512ad4}{m2m\_ota\_cb});
137 
138     \textcolor{keywordflow}{return} ret;
139 \}
\end{DoxyCode}
