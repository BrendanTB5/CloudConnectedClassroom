\hypertarget{group__WifiReqCurrentRssiFn}{}\section{m2m\+\_\+wifi\+\_\+req\+\_\+curr\+\_\+rssi}
\label{group__WifiReqCurrentRssiFn}\index{m2m\+\_\+wifi\+\_\+req\+\_\+curr\+\_\+rssi@{m2m\+\_\+wifi\+\_\+req\+\_\+curr\+\_\+rssi}}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{group__BSPDefine_gaecc0323d771e41ef81a76b5f12783e22}{N\+M\+I\+\_\+\+A\+PI} \hyperlink{group__DataT_gae35f10ffd0ac8dd2bc3e794da9bdfbc7}{sint8} \hyperlink{group__WifiReqCurrentRssiFn_gaeb2391da3ba8b116b9a2275c09920f04}{m2m\+\_\+wifi\+\_\+req\+\_\+curr\+\_\+rssi} (void)
\begin{DoxyCompactList}\small\item\em Request the current R\+S\+SI for the current connected AP, the response received in wifi\+\_\+cb M2\+M\+\_\+\+W\+I\+F\+I\+\_\+\+R\+E\+S\+P\+\_\+\+C\+U\+R\+R\+E\+N\+T\+\_\+\+R\+S\+SI. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Asynchronous request for the current R\+S\+SI of the connected AP. The response received in through the \hyperlink{group__WlanEnums_gga57466b36df595c593e7ccc9892e14b20ae2f28d3ff5c4356502abfc26d8f6e5f1}{M2\+M\+\_\+\+W\+I\+F\+I\+\_\+\+R\+E\+S\+P\+\_\+\+C\+U\+R\+R\+E\+N\+T\+\_\+\+R\+S\+SI} event. 

\subsection{Function Documentation}
\mbox{\Hypertarget{group__WifiReqCurrentRssiFn_gaeb2391da3ba8b116b9a2275c09920f04}\label{group__WifiReqCurrentRssiFn_gaeb2391da3ba8b116b9a2275c09920f04}} 
\index{m2m\+\_\+wifi\+\_\+req\+\_\+curr\+\_\+rssi@{m2m\+\_\+wifi\+\_\+req\+\_\+curr\+\_\+rssi}!m2m\+\_\+wifi\+\_\+req\+\_\+curr\+\_\+rssi@{m2m\+\_\+wifi\+\_\+req\+\_\+curr\+\_\+rssi}}
\index{m2m\+\_\+wifi\+\_\+req\+\_\+curr\+\_\+rssi@{m2m\+\_\+wifi\+\_\+req\+\_\+curr\+\_\+rssi}!m2m\+\_\+wifi\+\_\+req\+\_\+curr\+\_\+rssi@{m2m\+\_\+wifi\+\_\+req\+\_\+curr\+\_\+rssi}}
\subsubsection{\texorpdfstring{m2m\+\_\+wifi\+\_\+req\+\_\+curr\+\_\+rssi()}{m2m\_wifi\_req\_curr\_rssi()}}
{\footnotesize\ttfamily \hyperlink{group__BSPDefine_gaecc0323d771e41ef81a76b5f12783e22}{N\+M\+I\+\_\+\+A\+PI} \hyperlink{group__DataT_gae35f10ffd0ac8dd2bc3e794da9bdfbc7}{sint8} m2m\+\_\+wifi\+\_\+req\+\_\+curr\+\_\+rssi (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



{\ttfamily \#include $<$\hyperlink{m2m__wifi_8h}{third\+\_\+party/atmel/devices/wilc1000/driver/include/m2m\+\_\+wifi.\+h}$>$}



Request the current R\+S\+SI for the current connected AP, the response received in wifi\+\_\+cb M2\+M\+\_\+\+W\+I\+F\+I\+\_\+\+R\+E\+S\+P\+\_\+\+C\+U\+R\+R\+E\+N\+T\+\_\+\+R\+S\+SI. 

\begin{DoxyPrecond}{Precondition}
-\/ A Wi-\/\+Fi notification callback of type \hyperlink{group__WlanEnums_gac5302f32839285fe8375c159087aa8a1}{tpf\+App\+Wifi\+Cb} M\+U\+ST be implemented and registered before intialization. Registering the callback is done through passing it to the \hyperlink{group__WifiInitFn_ga73c734812e844d96d860c4e93e9daf35}{m2m\+\_\+wifi\+\_\+init} through the \hyperlink{structtstrWifiInitParam}{tstr\+Wifi\+Init\+Param} intialization structure.
\begin{DoxyItemize}
\item The event \hyperlink{group__WlanEnums_gga57466b36df595c593e7ccc9892e14b20ae2f28d3ff5c4356502abfc26d8f6e5f1}{M2\+M\+\_\+\+W\+I\+F\+I\+\_\+\+R\+E\+S\+P\+\_\+\+C\+U\+R\+R\+E\+N\+T\+\_\+\+R\+S\+SI} must be handled in the callback to receive the requested connection information. 
\end{DoxyItemize}
\end{DoxyPrecond}
\begin{DoxyReturn}{Returns}
The function returns \hyperlink{nm__common_8h_a9ef27ba27aafdd1aa3a79d3ba2c36b8f}{M2\+M\+\_\+\+S\+U\+C\+C\+E\+SS} for successful operations and a negative value otherwise. 
\end{DoxyReturn}
\hypertarget{group__WifiEnableMonitorModeFn_Example}{}\subsection{Example}\label{group__WifiEnableMonitorModeFn_Example}
The code snippet demonstrates how the rssi request is called in the application\textquotesingle{}s main function and the handling of event received in the callback. 
\begin{DoxyCode}
\textcolor{preprocessor}{#include "\hyperlink{m2m__wifi_8h}{m2m\_wifi.h}"}
\textcolor{preprocessor}{#include "\hyperlink{m2m__types_8h}{m2m\_types.h}"}

\textcolor{keywordtype}{void} wifi\_event\_cb(\hyperlink{group__DataT_ga4df709a77647e870bbf1d955b8edc9a6}{uint8} u8WiFiEvent, \textcolor{keywordtype}{void} * pvMsg)
\{
    \textcolor{keyword}{static} \hyperlink{group__DataT_ga4df709a77647e870bbf1d955b8edc9a6}{uint8}    u8ScanResultIdx = 0;
    
    \textcolor{keywordflow}{switch}(u8WiFiEvent)
    \{
    \textcolor{keywordflow}{case} \hyperlink{group__WlanEnums_gga57466b36df595c593e7ccc9892e14b20ae2f28d3ff5c4356502abfc26d8f6e5f1}{M2M\_WIFI\_RESP\_CURRENT\_RSSI}:
        \{
            \hyperlink{group__DataT_gae35f10ffd0ac8dd2bc3e794da9bdfbc7}{sint8}   *rssi = (\hyperlink{group__DataT_gae35f10ffd0ac8dd2bc3e794da9bdfbc7}{sint8}*)pvMsg;
            \hyperlink{nm__common_8h_a84108eca2655e811179386a39c62acf2}{M2M\_INFO}(\textcolor{stringliteral}{"ch rssi %d\(\backslash\)r\(\backslash\)n"},*rssi);
        \}
        \textcolor{keywordflow}{break};
    \textcolor{keywordflow}{default}:
        \textcolor{keywordflow}{break};
    \}
\}

\textcolor{keywordtype}{int} \hyperlink{demo_2microchip_2pic32mz__ef__curiosity_2wifi__http__server__demo_2src_2main_8c_ac5a1eca594b063e0d2dbccf86f96f221}{main}()
\{
    \hyperlink{structtstrWifiInitParam}{tstrWifiInitParam}   param;
    
    param.\hyperlink{group__WifiSetCustInfoElementFn_ga13d5fa7a0c71fd59bbf36a61923835cc}{pfAppWifiCb}   = wifi\_event\_cb;
    \textcolor{keywordflow}{if}(!\hyperlink{group__WifiInitFn_ga73c734812e844d96d860c4e93e9daf35}{m2m\_wifi\_init}(&param))
    \{
        \textcolor{comment}{// Scan all channels}
        \hyperlink{group__WifiReqCurrentRssiFn_gaeb2391da3ba8b116b9a2275c09920f04}{m2m\_wifi\_req\_curr\_rssi}();
        
        \textcolor{keywordflow}{while}(1)
        \{
            \hyperlink{group__WifiHandleEventsFn_ga461a4edc057cec8c00cf124a07aa3b02}{m2m\_wifi\_handle\_events}(\hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL});
        \}
    \}
\}
\end{DoxyCode}


\begin{DoxySeeAlso}{See also}
\hyperlink{group__WlanEnums_gga57466b36df595c593e7ccc9892e14b20ae2f28d3ff5c4356502abfc26d8f6e5f1}{M2\+M\+\_\+\+W\+I\+F\+I\+\_\+\+R\+E\+S\+P\+\_\+\+C\+U\+R\+R\+E\+N\+T\+\_\+\+R\+S\+SI} 
\end{DoxySeeAlso}
\begin{DoxyReturn}{Returns}
The function shall return M2\+M\+\_\+\+S\+U\+C\+C\+E\+SS for success and a negative value otherwise. 
\end{DoxyReturn}


Definition at line 604 of file m2m\+\_\+wifi.\+c.


\begin{DoxyCode}
605 \{
606     \hyperlink{group__DataT_gae35f10ffd0ac8dd2bc3e794da9bdfbc7}{sint8} ret = \hyperlink{nm__common_8h_a9ef27ba27aafdd1aa3a79d3ba2c36b8f}{M2M\_SUCCESS};
607     ret = \hyperlink{m2m__hif_8c_a13ba8ad11b2ac39516ca787386d16ce0}{hif\_send}(\hyperlink{nm__common_8h_a9ab02eb1aea02a75c3f5aade4eef1276aeb9a7d57324ba4b8a6c2a5f46dd499c2}{M2M\_REQ\_GRP\_WIFI}, 
      \hyperlink{group__WlanEnums_gga57466b36df595c593e7ccc9892e14b20a53bc10f0a87f11ba6b111321d362fc66}{M2M\_WIFI\_REQ\_CURRENT\_RSSI}, \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}, 0, \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL},0, 0);
608     \textcolor{keywordflow}{return} ret;
609 \}
\end{DoxyCode}
