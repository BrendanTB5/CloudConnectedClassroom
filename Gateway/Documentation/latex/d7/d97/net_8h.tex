\hypertarget{net_8h}{}\section{cyclone\+\_\+tcp/core/net.h File Reference}
\label{net_8h}\index{cyclone\+\_\+tcp/core/net.\+h@{cyclone\+\_\+tcp/core/net.\+h}}


T\+C\+P/\+IP stack core.  


{\ttfamily \#include \char`\"{}os\+\_\+port.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}net\+\_\+config.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}core/net\+\_\+legacy.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}core/net\+\_\+mem.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}core/nic.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}core/ethernet.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}ipv4/ipv4.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}ipv4/ipv4\+\_\+frag.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}ipv4/auto\+\_\+ip.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}ipv6/ipv6.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}ipv4/arp.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}ipv6/ndp.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}ipv6/ndp\+\_\+router\+\_\+adv.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}ipv6/slaac.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}ppp/ppp.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}dhcp/dhcp\+\_\+client.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}dhcp/dhcp\+\_\+server.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}dhcpv6/dhcpv6\+\_\+client.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}dns/dns\+\_\+client.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}mdns/mdns\+\_\+responder.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}mdns/mdns\+\_\+common.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}dns\+\_\+sd/dns\+\_\+sd.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}cpu\+\_\+endian.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}error.\+h\char`\"{}}\newline
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{struct__NetInterface}{\+\_\+\+Net\+Interface}
\begin{DoxyCompactList}\small\item\em Structure describing a network interface. \end{DoxyCompactList}\item 
struct \hyperlink{structLinkChangeCallbackDesc}{Link\+Change\+Callback\+Desc}
\begin{DoxyCompactList}\small\item\em Entry describing a user callback. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{Net\+Interface}~struct \hyperlink{struct__NetInterface}{\+\_\+\+Net\+Interface}
\item 
\#define \hyperlink{net_8h_a8e013ed955b131ea4c9b71463509e59a}{C\+Y\+C\+L\+O\+N\+E\+\_\+\+T\+C\+P\+\_\+\+V\+E\+R\+S\+I\+O\+N\+\_\+\+S\+T\+R\+I\+NG}~\char`\"{}1.\+9.\+6\char`\"{}
\item 
\#define \hyperlink{net_8h_a11ec187553c37a600f5b40ed2c1c913a}{C\+Y\+C\+L\+O\+N\+E\+\_\+\+T\+C\+P\+\_\+\+M\+A\+J\+O\+R\+\_\+\+V\+E\+R\+S\+I\+ON}~1
\item 
\#define \hyperlink{net_8h_ab7a13b7d5f46575bda9117463d4b7f03}{C\+Y\+C\+L\+O\+N\+E\+\_\+\+T\+C\+P\+\_\+\+M\+I\+N\+O\+R\+\_\+\+V\+E\+R\+S\+I\+ON}~9
\item 
\#define \hyperlink{net_8h_a3514492d2b6ccf51ecfbc7c45628b6fd}{C\+Y\+C\+L\+O\+N\+E\+\_\+\+T\+C\+P\+\_\+\+R\+E\+V\+\_\+\+N\+U\+M\+B\+ER}~6
\item 
\#define \hyperlink{net_8h_a1f57ba692f02089501463b1b99d8222a}{N\+E\+T\+\_\+\+R\+T\+O\+S\+\_\+\+S\+U\+P\+P\+O\+RT}~\hyperlink{os__port_8h_a73c228f87e038e8295ee8ea8eceaa5ac}{E\+N\+A\+B\+L\+ED}
\item 
\#define \hyperlink{net_8h_a116f850ebcb023ffa3e6b8de10c5cb35}{N\+E\+T\+\_\+\+I\+N\+T\+E\+R\+F\+A\+C\+E\+\_\+\+C\+O\+U\+NT}~1
\item 
\#define \hyperlink{net_8h_a7289c2e0c679602e8c145ad234870c77}{N\+E\+T\+\_\+\+L\+O\+O\+P\+B\+A\+C\+K\+\_\+\+I\+F\+\_\+\+S\+U\+P\+P\+O\+RT}~\hyperlink{os__port_8h_abd5c8ab57c190a6522ccdbf0ed7577da}{D\+I\+S\+A\+B\+L\+ED}
\item 
\#define \hyperlink{net_8h_a07a68d78a33b6bbdd2b5c9cf64d1abf8}{N\+E\+T\+\_\+\+C\+A\+L\+L\+B\+A\+C\+K\+\_\+\+T\+A\+B\+L\+E\+\_\+\+S\+I\+ZE}~6
\item 
\#define \hyperlink{net_8h_a2064ee62d318037f2c1168cab858c852}{N\+E\+T\+\_\+\+M\+A\+X\+\_\+\+I\+F\+\_\+\+N\+A\+M\+E\+\_\+\+L\+EN}~8
\item 
\#define \hyperlink{net_8h_a3f9223c8ef61451fec92d5354c93b34f}{N\+E\+T\+\_\+\+M\+A\+X\+\_\+\+H\+O\+S\+T\+N\+A\+M\+E\+\_\+\+L\+EN}~24
\item 
\#define \hyperlink{net_8h_ab0499e73f3380a2848bbfcd69dc109da}{N\+E\+T\+\_\+\+M\+A\+X\+\_\+\+P\+R\+O\+X\+Y\+\_\+\+N\+A\+M\+E\+\_\+\+L\+EN}~16
\item 
\#define \hyperlink{net_8h_a3f98baa90cab000a4d05d7b777588e54}{N\+E\+T\+\_\+\+S\+T\+A\+T\+I\+C\+\_\+\+O\+S\+\_\+\+R\+E\+S\+O\+U\+R\+C\+ES}~\hyperlink{os__port_8h_abd5c8ab57c190a6522ccdbf0ed7577da}{D\+I\+S\+A\+B\+L\+ED}
\item 
\#define \hyperlink{net_8h_a45e3beb061abbbefef96b890c3f2f86a}{N\+E\+T\+\_\+\+T\+A\+S\+K\+\_\+\+S\+T\+A\+C\+K\+\_\+\+S\+I\+ZE}~650
\item 
\#define \hyperlink{net_8h_a048a577cee19856c61a69a1089f835a3}{N\+E\+T\+\_\+\+T\+A\+S\+K\+\_\+\+P\+R\+I\+O\+R\+I\+TY}~\hyperlink{os__port__windows_8h_a8eef45f6634c776894a82bd6f284cbe3}{O\+S\+\_\+\+T\+A\+S\+K\+\_\+\+P\+R\+I\+O\+R\+I\+T\+Y\+\_\+\+H\+I\+GH}
\item 
\#define \hyperlink{net_8h_a41dfc66bfd02ca88053ec44e3fbc6b8c}{N\+E\+T\+\_\+\+T\+I\+C\+K\+\_\+\+I\+N\+T\+E\+R\+V\+AL}~100
\end{DoxyCompactItemize}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef void($\ast$ \hyperlink{net_8h_a58f78b4ded73c4a27994b9a31b2ed0aa}{Link\+Change\+Callback}) (\hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{Net\+Interface} $\ast$interface, \hyperlink{compiler__port_8h_a812d16e5494522586b3784e55d479912}{bool\+\_\+t} link\+State, void $\ast$param)
\begin{DoxyCompactList}\small\item\em Link change callback. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} \hyperlink{net_8h_abae9d4f2a52f4400bdeff0c3613a3758}{net\+Init} (void)
\begin{DoxyCompactList}\small\item\em T\+C\+P/\+IP stack initialization. \end{DoxyCompactList}\item 
\hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} \hyperlink{net_8h_a629406499aeb2ddf187d0b847fa44b29}{net\+Set\+Mac\+Addr} (\hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{Net\+Interface} $\ast$interface, const \hyperlink{ethernet_8h_a1e00ed3977e8a770e8b4ae4cb306d1c0}{Mac\+Addr} $\ast$mac\+Addr)
\begin{DoxyCompactList}\small\item\em Set M\+AC address. \end{DoxyCompactList}\item 
\hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} \hyperlink{net_8h_acc527284408ccd58935c24830fc00152}{net\+Get\+Mac\+Addr} (\hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{Net\+Interface} $\ast$interface, \hyperlink{ethernet_8h_a1e00ed3977e8a770e8b4ae4cb306d1c0}{Mac\+Addr} $\ast$mac\+Addr)
\begin{DoxyCompactList}\small\item\em Retrieve M\+AC address. \end{DoxyCompactList}\item 
\hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} \hyperlink{net_8h_abb44da7bf474bf68dda49a3f77f4ee9e}{net\+Set\+Eui64} (\hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{Net\+Interface} $\ast$interface, const \hyperlink{ethernet_8h_acbcae3afd042b3ce97e42f54013c8137}{Eui64} $\ast$eui64)
\begin{DoxyCompactList}\small\item\em Set E\+U\+I-\/64 interface identifier. \end{DoxyCompactList}\item 
\hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} \hyperlink{net_8h_a56da5665254ae75cdbc3c71c270cf060}{net\+Get\+Eui64} (\hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{Net\+Interface} $\ast$interface, \hyperlink{ethernet_8h_acbcae3afd042b3ce97e42f54013c8137}{Eui64} $\ast$eui64)
\begin{DoxyCompactList}\small\item\em Retrieve E\+U\+I-\/64 interface identifier. \end{DoxyCompactList}\item 
\hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} \hyperlink{net_8h_ad584937e2e925f0db71461c672fd03bc}{net\+Set\+Interface\+Id} (\hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{Net\+Interface} $\ast$interface, \hyperlink{stdint_8h_a435d1572bf3f880d55459d9805097f62}{uint32\+\_\+t} \hyperlink{nbns__common_8h_a4fc3a0c58dfbd1e68224521185cb9384}{id})
\begin{DoxyCompactList}\small\item\em Set interface identifier. \end{DoxyCompactList}\item 
\hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} \hyperlink{net_8h_a3a4dcc2007e250fb641c5a77443d1bb7}{net\+Set\+Interface\+Name} (\hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{Net\+Interface} $\ast$interface, const \hyperlink{compiler__port_8h_a40bb5262bf908c328fbcfbe5d29d0201}{char\+\_\+t} $\ast$\hyperlink{resource__manager_8h_a26532d7194d592ae8da35222073f36d6}{name})
\begin{DoxyCompactList}\small\item\em Set interface name. \end{DoxyCompactList}\item 
\hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} \hyperlink{net_8h_a778e7bcf036a8c830ee269c342b5f757}{net\+Set\+Hostname} (\hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{Net\+Interface} $\ast$interface, const \hyperlink{compiler__port_8h_a40bb5262bf908c328fbcfbe5d29d0201}{char\+\_\+t} $\ast$\hyperlink{resource__manager_8h_a26532d7194d592ae8da35222073f36d6}{name})
\begin{DoxyCompactList}\small\item\em Set host name. \end{DoxyCompactList}\item 
\hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} \hyperlink{net_8h_a64d0943b4fecc07107d82ac5102b9c16}{net\+Set\+Proxy} (\hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{Net\+Interface} $\ast$interface, const \hyperlink{compiler__port_8h_a40bb5262bf908c328fbcfbe5d29d0201}{char\+\_\+t} $\ast$\hyperlink{resource__manager_8h_a26532d7194d592ae8da35222073f36d6}{name}, \hyperlink{stdint_8h_a273cf69d639a59973b6019625df33e30}{uint16\+\_\+t} \hyperlink{dns__common_8h_a8e0798404bf2cf5dabb84c5ba9a4f236}{port})
\begin{DoxyCompactList}\small\item\em Set proxy server. \end{DoxyCompactList}\item 
\hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} \hyperlink{net_8h_a4d48c9a4935921bbd7b90bb31d7ae9fb}{net\+Set\+Vlan\+Id} (\hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{Net\+Interface} $\ast$interface, \hyperlink{stdint_8h_a273cf69d639a59973b6019625df33e30}{uint16\+\_\+t} vlan\+Id)
\begin{DoxyCompactList}\small\item\em Specify V\+L\+AN identifier (802.\+1q) \end{DoxyCompactList}\item 
\hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} \hyperlink{net_8h_acc19afa0a4a991dcd54d53518a809647}{net\+Set\+Vman\+Id} (\hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{Net\+Interface} $\ast$interface, \hyperlink{stdint_8h_a273cf69d639a59973b6019625df33e30}{uint16\+\_\+t} vman\+Id)
\begin{DoxyCompactList}\small\item\em Specify V\+M\+AN identifier (802.\+1ad) \end{DoxyCompactList}\item 
\hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} \hyperlink{net_8h_a81d9792bbcbf19009f1d2f57d6e41ecd}{net\+Set\+Switch\+Port} (\hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{Net\+Interface} $\ast$interface, \hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} \hyperlink{dns__common_8h_a8e0798404bf2cf5dabb84c5ba9a4f236}{port})
\begin{DoxyCompactList}\small\item\em Specify switch port. \end{DoxyCompactList}\item 
\hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} \hyperlink{net_8h_a0df59b1482cc30ac070682834026796f}{net\+Set\+Parent\+Interface} (\hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{Net\+Interface} $\ast$interface, \hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{Net\+Interface} $\ast$physical\+Interface)
\begin{DoxyCompactList}\small\item\em Attach a virtual interface to a given physical interface. \end{DoxyCompactList}\item 
\hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} \hyperlink{net_8h_a121c90cb72825dd4bacd3f2d1da7d2d6}{net\+Set\+Driver} (\hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{Net\+Interface} $\ast$interface, const \hyperlink{structNicDriver}{Nic\+Driver} $\ast$driver)
\begin{DoxyCompactList}\small\item\em Set Ethernet M\+AC driver. \end{DoxyCompactList}\item 
\hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} \hyperlink{net_8h_a5cf7ef20b23ad293b6994d1ce5115c0e}{net\+Set\+Phy\+Driver} (\hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{Net\+Interface} $\ast$interface, const \hyperlink{structPhyDriver}{Phy\+Driver} $\ast$driver)
\begin{DoxyCompactList}\small\item\em Set Ethernet P\+HY driver. \end{DoxyCompactList}\item 
\hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} \hyperlink{net_8h_a7a6ff39ff35e9d186eece12ca8d3fe8c}{net\+Set\+Phy\+Addr} (\hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{Net\+Interface} $\ast$interface, \hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} phy\+Addr)
\begin{DoxyCompactList}\small\item\em Set Ethernet P\+HY address. \end{DoxyCompactList}\item 
\hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} \hyperlink{net_8h_a4fb6d2cc8d46b498b0d3796c15b7a76f}{net\+Set\+Spi\+Driver} (\hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{Net\+Interface} $\ast$interface, const \hyperlink{structSpiDriver}{Spi\+Driver} $\ast$driver)
\begin{DoxyCompactList}\small\item\em Set S\+PI driver. \end{DoxyCompactList}\item 
\hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} \hyperlink{net_8h_a8096ee0a9642126f62b21e0f18de3a66}{net\+Set\+Uart\+Driver} (\hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{Net\+Interface} $\ast$interface, const \hyperlink{structUartDriver}{Uart\+Driver} $\ast$driver)
\begin{DoxyCompactList}\small\item\em Set U\+A\+RT driver. \end{DoxyCompactList}\item 
\hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} \hyperlink{net_8h_a3e6c19a265397865e72e97e49355f777}{net\+Set\+Ext\+Int\+Driver} (\hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{Net\+Interface} $\ast$interface, const \hyperlink{structExtIntDriver}{Ext\+Int\+Driver} $\ast$driver)
\begin{DoxyCompactList}\small\item\em Set external interrupt line driver. \end{DoxyCompactList}\item 
\hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} \hyperlink{net_8h_a9abc7ba244949a68a0a5ceb24215ef4d}{net\+Set\+Link\+State} (\hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{Net\+Interface} $\ast$interface, \hyperlink{nic_8h_a0febd18365446a71d375767b1e98af38}{Nic\+Link\+State} link\+State)
\begin{DoxyCompactList}\small\item\em Set link state (for virtual drivers only) \end{DoxyCompactList}\item 
\hyperlink{compiler__port_8h_a812d16e5494522586b3784e55d479912}{bool\+\_\+t} \hyperlink{net_8h_a03858e27be0effe83d9241e8ccba377c}{net\+Get\+Link\+State} (\hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{Net\+Interface} $\ast$interface)
\begin{DoxyCompactList}\small\item\em Get link state. \end{DoxyCompactList}\item 
\hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} \hyperlink{net_8h_a624e6492d3447833f5a5328bfca80bea}{net\+Config\+Interface} (\hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{Net\+Interface} $\ast$interface)
\begin{DoxyCompactList}\small\item\em Configure network interface. \end{DoxyCompactList}\item 
\hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} \hyperlink{net_8h_af6ad1b0ef3a459d75175539bca129ac1}{net\+Start\+Interface} (\hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{Net\+Interface} $\ast$interface)
\begin{DoxyCompactList}\small\item\em Start network interface. \end{DoxyCompactList}\item 
\hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} \hyperlink{net_8h_ab3e29572428599c40ccc703228e35438}{net\+Stop\+Interface} (\hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{Net\+Interface} $\ast$interface)
\begin{DoxyCompactList}\small\item\em Stop network interface. \end{DoxyCompactList}\item 
void \hyperlink{net_8h_a640aeb84055d730ae11aaa7aaab61d8e}{net\+Process\+Link\+Change} (\hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{Net\+Interface} $\ast$interface)
\begin{DoxyCompactList}\small\item\em Process link state change event. \end{DoxyCompactList}\item 
void \hyperlink{net_8h_a872255f8768898f1dd6e2a5f74f40d98}{net\+Task} (void)
\begin{DoxyCompactList}\small\item\em T\+C\+P/\+IP events handling. \end{DoxyCompactList}\item 
void \hyperlink{net_8h_af02442bb218092e0e6cfa4338acc1b01}{net\+Tick} (void)
\begin{DoxyCompactList}\small\item\em Manage T\+C\+P/\+IP timers. \end{DoxyCompactList}\item 
\hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{Net\+Interface} $\ast$ \hyperlink{net_8h_a991aba7eae4de79f30c6889d95cc6870}{net\+Get\+Default\+Interface} (void)
\begin{DoxyCompactList}\small\item\em Get default network interface. \end{DoxyCompactList}\item 
\hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} \hyperlink{net_8h_a4ea5894937acf76289c0cb2ab1e06f9e}{net\+Init\+Rand} (\hyperlink{stdint_8h_a435d1572bf3f880d55459d9805097f62}{uint32\+\_\+t} \hyperlink{demo_2microchip_2pic32mz__ef__curiosity_2wifi__http__server__demo_2src_2main_8c_ae5b6f47ec5afdb614046a54e45a39c69}{seed})
\begin{DoxyCompactList}\small\item\em Seed pseudo-\/random number generator. \end{DoxyCompactList}\item 
\hyperlink{stdint_8h_a435d1572bf3f880d55459d9805097f62}{uint32\+\_\+t} \hyperlink{net_8h_a7bb00b31d641749ac8ce742261eb1f6d}{net\+Get\+Rand} (void)
\begin{DoxyCompactList}\small\item\em Get a random value. \end{DoxyCompactList}\item 
\hyperlink{stdint_8h_ab1967d8591af1a4e48c37fd2b0f184d0}{int32\+\_\+t} \hyperlink{net_8h_af45ea0afc9806749114ec85e507014e1}{net\+Get\+Rand\+Range} (\hyperlink{stdint_8h_ab1967d8591af1a4e48c37fd2b0f184d0}{int32\+\_\+t} min, \hyperlink{stdint_8h_ab1967d8591af1a4e48c37fd2b0f184d0}{int32\+\_\+t} max)
\begin{DoxyCompactList}\small\item\em Get a random value in the specified range. \end{DoxyCompactList}\item 
\hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} \hyperlink{net_8h_a868f987124e1718f353a0e6fa88c5815}{net\+Attach\+Link\+Change\+Callback} (\hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{Net\+Interface} $\ast$interface, \hyperlink{net_8h_a58f78b4ded73c4a27994b9a31b2ed0aa}{Link\+Change\+Callback} callback, void $\ast$param, \hyperlink{compiler__port_8h_a12a1e9b3ce141648783a82445d02b58d}{uint\+\_\+t} $\ast$\hyperlink{dtls__misc_8h_a126a9f1c8e75ec207f319533d142c88d}{cookie})
\begin{DoxyCompactList}\small\item\em Register link change callback. \end{DoxyCompactList}\item 
\hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} \hyperlink{net_8h_a58f6aaf4909f0e35cfba83c7c954f727}{net\+Detach\+Link\+Change\+Callback} (\hyperlink{compiler__port_8h_a12a1e9b3ce141648783a82445d02b58d}{uint\+\_\+t} \hyperlink{dtls__misc_8h_a126a9f1c8e75ec207f319533d142c88d}{cookie})
\begin{DoxyCompactList}\small\item\em Unregister link change callback. \end{DoxyCompactList}\item 
void \hyperlink{net_8h_a3af1f02f709409c079cc673ae3f95a83}{net\+Invoke\+Link\+Change\+Callback} (\hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{Net\+Interface} $\ast$interface, \hyperlink{compiler__port_8h_a812d16e5494522586b3784e55d479912}{bool\+\_\+t} link\+State)
\begin{DoxyCompactList}\small\item\em Invoke link change callback. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\hyperlink{structOsTask}{Os\+Task} $\ast$ \hyperlink{net_8h_a93931693c83b6b416bfa6dcd5be8db40}{net\+Task\+Handle}
\item 
\hyperlink{structOsMutex}{Os\+Mutex} \hyperlink{net_8h_afe31551ad26115fae8e575654346d441}{net\+Mutex}
\item 
\hyperlink{structOsEvent}{Os\+Event} \hyperlink{net_8h_a4ad5a175123589d00e402e0c1c842fdc}{net\+Event}
\item 
\hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{Net\+Interface} \hyperlink{net_8h_a7ecafab0039ec54d1d7a1e9e7402379b}{net\+Interface} \mbox{[}\hyperlink{net__config_8h_a116f850ebcb023ffa3e6b8de10c5cb35}{N\+E\+T\+\_\+\+I\+N\+T\+E\+R\+F\+A\+C\+E\+\_\+\+C\+O\+U\+NT}\mbox{]}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
T\+C\+P/\+IP stack core. 

\hypertarget{pic32mz__ef__curiosity_8h_License}{}\subsection{License}\label{pic32mz__ef__curiosity_8h_License}
S\+P\+D\+X-\/\+License-\/\+Identifier\+: G\+P\+L-\/2.\+0-\/or-\/later

Copyright (C) 2010-\/2019 Oryx Embedded S\+A\+RL. All rights reserved.

This file is part of Cyclone\+T\+CP Open.

This program is free software; you can redistribute it and/or modify it under the terms of the G\+NU General Public License as published by the Free Software Foundation; either version 2 of the License, or (at your option) any later version.

This program is distributed in the hope that it will be useful, but W\+I\+T\+H\+O\+UT A\+NY W\+A\+R\+R\+A\+N\+TY; without even the implied warranty of M\+E\+R\+C\+H\+A\+N\+T\+A\+B\+I\+L\+I\+TY or F\+I\+T\+N\+E\+SS F\+OR A P\+A\+R\+T\+I\+C\+U\+L\+AR P\+U\+R\+P\+O\+SE. See the G\+NU General Public License for more details.

You should have received a copy of the G\+NU General Public License along with this program; if not, write to the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-\/1301, U\+SA.

\begin{DoxyAuthor}{Author}
Oryx Embedded S\+A\+RL (www.\+oryx-\/embedded.\+com) 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
1.\+9.\+6 
\end{DoxyVersion}


\subsection{Macro Definition Documentation}
\mbox{\Hypertarget{net_8h_a11ec187553c37a600f5b40ed2c1c913a}\label{net_8h_a11ec187553c37a600f5b40ed2c1c913a}} 
\index{net.\+h@{net.\+h}!C\+Y\+C\+L\+O\+N\+E\+\_\+\+T\+C\+P\+\_\+\+M\+A\+J\+O\+R\+\_\+\+V\+E\+R\+S\+I\+ON@{C\+Y\+C\+L\+O\+N\+E\+\_\+\+T\+C\+P\+\_\+\+M\+A\+J\+O\+R\+\_\+\+V\+E\+R\+S\+I\+ON}}
\index{C\+Y\+C\+L\+O\+N\+E\+\_\+\+T\+C\+P\+\_\+\+M\+A\+J\+O\+R\+\_\+\+V\+E\+R\+S\+I\+ON@{C\+Y\+C\+L\+O\+N\+E\+\_\+\+T\+C\+P\+\_\+\+M\+A\+J\+O\+R\+\_\+\+V\+E\+R\+S\+I\+ON}!net.\+h@{net.\+h}}
\subsubsection{\texorpdfstring{C\+Y\+C\+L\+O\+N\+E\+\_\+\+T\+C\+P\+\_\+\+M\+A\+J\+O\+R\+\_\+\+V\+E\+R\+S\+I\+ON}{CYCLONE\_TCP\_MAJOR\_VERSION}}
{\footnotesize\ttfamily \#define C\+Y\+C\+L\+O\+N\+E\+\_\+\+T\+C\+P\+\_\+\+M\+A\+J\+O\+R\+\_\+\+V\+E\+R\+S\+I\+ON~1}



Definition at line 94 of file net.\+h.

\mbox{\Hypertarget{net_8h_ab7a13b7d5f46575bda9117463d4b7f03}\label{net_8h_ab7a13b7d5f46575bda9117463d4b7f03}} 
\index{net.\+h@{net.\+h}!C\+Y\+C\+L\+O\+N\+E\+\_\+\+T\+C\+P\+\_\+\+M\+I\+N\+O\+R\+\_\+\+V\+E\+R\+S\+I\+ON@{C\+Y\+C\+L\+O\+N\+E\+\_\+\+T\+C\+P\+\_\+\+M\+I\+N\+O\+R\+\_\+\+V\+E\+R\+S\+I\+ON}}
\index{C\+Y\+C\+L\+O\+N\+E\+\_\+\+T\+C\+P\+\_\+\+M\+I\+N\+O\+R\+\_\+\+V\+E\+R\+S\+I\+ON@{C\+Y\+C\+L\+O\+N\+E\+\_\+\+T\+C\+P\+\_\+\+M\+I\+N\+O\+R\+\_\+\+V\+E\+R\+S\+I\+ON}!net.\+h@{net.\+h}}
\subsubsection{\texorpdfstring{C\+Y\+C\+L\+O\+N\+E\+\_\+\+T\+C\+P\+\_\+\+M\+I\+N\+O\+R\+\_\+\+V\+E\+R\+S\+I\+ON}{CYCLONE\_TCP\_MINOR\_VERSION}}
{\footnotesize\ttfamily \#define C\+Y\+C\+L\+O\+N\+E\+\_\+\+T\+C\+P\+\_\+\+M\+I\+N\+O\+R\+\_\+\+V\+E\+R\+S\+I\+ON~9}



Definition at line 96 of file net.\+h.

\mbox{\Hypertarget{net_8h_a3514492d2b6ccf51ecfbc7c45628b6fd}\label{net_8h_a3514492d2b6ccf51ecfbc7c45628b6fd}} 
\index{net.\+h@{net.\+h}!C\+Y\+C\+L\+O\+N\+E\+\_\+\+T\+C\+P\+\_\+\+R\+E\+V\+\_\+\+N\+U\+M\+B\+ER@{C\+Y\+C\+L\+O\+N\+E\+\_\+\+T\+C\+P\+\_\+\+R\+E\+V\+\_\+\+N\+U\+M\+B\+ER}}
\index{C\+Y\+C\+L\+O\+N\+E\+\_\+\+T\+C\+P\+\_\+\+R\+E\+V\+\_\+\+N\+U\+M\+B\+ER@{C\+Y\+C\+L\+O\+N\+E\+\_\+\+T\+C\+P\+\_\+\+R\+E\+V\+\_\+\+N\+U\+M\+B\+ER}!net.\+h@{net.\+h}}
\subsubsection{\texorpdfstring{C\+Y\+C\+L\+O\+N\+E\+\_\+\+T\+C\+P\+\_\+\+R\+E\+V\+\_\+\+N\+U\+M\+B\+ER}{CYCLONE\_TCP\_REV\_NUMBER}}
{\footnotesize\ttfamily \#define C\+Y\+C\+L\+O\+N\+E\+\_\+\+T\+C\+P\+\_\+\+R\+E\+V\+\_\+\+N\+U\+M\+B\+ER~6}



Definition at line 98 of file net.\+h.

\mbox{\Hypertarget{net_8h_a8e013ed955b131ea4c9b71463509e59a}\label{net_8h_a8e013ed955b131ea4c9b71463509e59a}} 
\index{net.\+h@{net.\+h}!C\+Y\+C\+L\+O\+N\+E\+\_\+\+T\+C\+P\+\_\+\+V\+E\+R\+S\+I\+O\+N\+\_\+\+S\+T\+R\+I\+NG@{C\+Y\+C\+L\+O\+N\+E\+\_\+\+T\+C\+P\+\_\+\+V\+E\+R\+S\+I\+O\+N\+\_\+\+S\+T\+R\+I\+NG}}
\index{C\+Y\+C\+L\+O\+N\+E\+\_\+\+T\+C\+P\+\_\+\+V\+E\+R\+S\+I\+O\+N\+\_\+\+S\+T\+R\+I\+NG@{C\+Y\+C\+L\+O\+N\+E\+\_\+\+T\+C\+P\+\_\+\+V\+E\+R\+S\+I\+O\+N\+\_\+\+S\+T\+R\+I\+NG}!net.\+h@{net.\+h}}
\subsubsection{\texorpdfstring{C\+Y\+C\+L\+O\+N\+E\+\_\+\+T\+C\+P\+\_\+\+V\+E\+R\+S\+I\+O\+N\+\_\+\+S\+T\+R\+I\+NG}{CYCLONE\_TCP\_VERSION\_STRING}}
{\footnotesize\ttfamily \#define C\+Y\+C\+L\+O\+N\+E\+\_\+\+T\+C\+P\+\_\+\+V\+E\+R\+S\+I\+O\+N\+\_\+\+S\+T\+R\+I\+NG~\char`\"{}1.\+9.\+6\char`\"{}}



Definition at line 92 of file net.\+h.

\mbox{\Hypertarget{net_8h_a07a68d78a33b6bbdd2b5c9cf64d1abf8}\label{net_8h_a07a68d78a33b6bbdd2b5c9cf64d1abf8}} 
\index{net.\+h@{net.\+h}!N\+E\+T\+\_\+\+C\+A\+L\+L\+B\+A\+C\+K\+\_\+\+T\+A\+B\+L\+E\+\_\+\+S\+I\+ZE@{N\+E\+T\+\_\+\+C\+A\+L\+L\+B\+A\+C\+K\+\_\+\+T\+A\+B\+L\+E\+\_\+\+S\+I\+ZE}}
\index{N\+E\+T\+\_\+\+C\+A\+L\+L\+B\+A\+C\+K\+\_\+\+T\+A\+B\+L\+E\+\_\+\+S\+I\+ZE@{N\+E\+T\+\_\+\+C\+A\+L\+L\+B\+A\+C\+K\+\_\+\+T\+A\+B\+L\+E\+\_\+\+S\+I\+ZE}!net.\+h@{net.\+h}}
\subsubsection{\texorpdfstring{N\+E\+T\+\_\+\+C\+A\+L\+L\+B\+A\+C\+K\+\_\+\+T\+A\+B\+L\+E\+\_\+\+S\+I\+ZE}{NET\_CALLBACK\_TABLE\_SIZE}}
{\footnotesize\ttfamily \#define N\+E\+T\+\_\+\+C\+A\+L\+L\+B\+A\+C\+K\+\_\+\+T\+A\+B\+L\+E\+\_\+\+S\+I\+ZE~6}



Definition at line 124 of file net.\+h.

\mbox{\Hypertarget{net_8h_a116f850ebcb023ffa3e6b8de10c5cb35}\label{net_8h_a116f850ebcb023ffa3e6b8de10c5cb35}} 
\index{net.\+h@{net.\+h}!N\+E\+T\+\_\+\+I\+N\+T\+E\+R\+F\+A\+C\+E\+\_\+\+C\+O\+U\+NT@{N\+E\+T\+\_\+\+I\+N\+T\+E\+R\+F\+A\+C\+E\+\_\+\+C\+O\+U\+NT}}
\index{N\+E\+T\+\_\+\+I\+N\+T\+E\+R\+F\+A\+C\+E\+\_\+\+C\+O\+U\+NT@{N\+E\+T\+\_\+\+I\+N\+T\+E\+R\+F\+A\+C\+E\+\_\+\+C\+O\+U\+NT}!net.\+h@{net.\+h}}
\subsubsection{\texorpdfstring{N\+E\+T\+\_\+\+I\+N\+T\+E\+R\+F\+A\+C\+E\+\_\+\+C\+O\+U\+NT}{NET\_INTERFACE\_COUNT}}
{\footnotesize\ttfamily \#define N\+E\+T\+\_\+\+I\+N\+T\+E\+R\+F\+A\+C\+E\+\_\+\+C\+O\+U\+NT~1}



Definition at line 109 of file net.\+h.

\mbox{\Hypertarget{net_8h_a7289c2e0c679602e8c145ad234870c77}\label{net_8h_a7289c2e0c679602e8c145ad234870c77}} 
\index{net.\+h@{net.\+h}!N\+E\+T\+\_\+\+L\+O\+O\+P\+B\+A\+C\+K\+\_\+\+I\+F\+\_\+\+S\+U\+P\+P\+O\+RT@{N\+E\+T\+\_\+\+L\+O\+O\+P\+B\+A\+C\+K\+\_\+\+I\+F\+\_\+\+S\+U\+P\+P\+O\+RT}}
\index{N\+E\+T\+\_\+\+L\+O\+O\+P\+B\+A\+C\+K\+\_\+\+I\+F\+\_\+\+S\+U\+P\+P\+O\+RT@{N\+E\+T\+\_\+\+L\+O\+O\+P\+B\+A\+C\+K\+\_\+\+I\+F\+\_\+\+S\+U\+P\+P\+O\+RT}!net.\+h@{net.\+h}}
\subsubsection{\texorpdfstring{N\+E\+T\+\_\+\+L\+O\+O\+P\+B\+A\+C\+K\+\_\+\+I\+F\+\_\+\+S\+U\+P\+P\+O\+RT}{NET\_LOOPBACK\_IF\_SUPPORT}}
{\footnotesize\ttfamily \#define N\+E\+T\+\_\+\+L\+O\+O\+P\+B\+A\+C\+K\+\_\+\+I\+F\+\_\+\+S\+U\+P\+P\+O\+RT~\hyperlink{os__port_8h_abd5c8ab57c190a6522ccdbf0ed7577da}{D\+I\+S\+A\+B\+L\+ED}}



Definition at line 116 of file net.\+h.

\mbox{\Hypertarget{net_8h_a3f9223c8ef61451fec92d5354c93b34f}\label{net_8h_a3f9223c8ef61451fec92d5354c93b34f}} 
\index{net.\+h@{net.\+h}!N\+E\+T\+\_\+\+M\+A\+X\+\_\+\+H\+O\+S\+T\+N\+A\+M\+E\+\_\+\+L\+EN@{N\+E\+T\+\_\+\+M\+A\+X\+\_\+\+H\+O\+S\+T\+N\+A\+M\+E\+\_\+\+L\+EN}}
\index{N\+E\+T\+\_\+\+M\+A\+X\+\_\+\+H\+O\+S\+T\+N\+A\+M\+E\+\_\+\+L\+EN@{N\+E\+T\+\_\+\+M\+A\+X\+\_\+\+H\+O\+S\+T\+N\+A\+M\+E\+\_\+\+L\+EN}!net.\+h@{net.\+h}}
\subsubsection{\texorpdfstring{N\+E\+T\+\_\+\+M\+A\+X\+\_\+\+H\+O\+S\+T\+N\+A\+M\+E\+\_\+\+L\+EN}{NET\_MAX\_HOSTNAME\_LEN}}
{\footnotesize\ttfamily \#define N\+E\+T\+\_\+\+M\+A\+X\+\_\+\+H\+O\+S\+T\+N\+A\+M\+E\+\_\+\+L\+EN~24}



Definition at line 138 of file net.\+h.

\mbox{\Hypertarget{net_8h_a2064ee62d318037f2c1168cab858c852}\label{net_8h_a2064ee62d318037f2c1168cab858c852}} 
\index{net.\+h@{net.\+h}!N\+E\+T\+\_\+\+M\+A\+X\+\_\+\+I\+F\+\_\+\+N\+A\+M\+E\+\_\+\+L\+EN@{N\+E\+T\+\_\+\+M\+A\+X\+\_\+\+I\+F\+\_\+\+N\+A\+M\+E\+\_\+\+L\+EN}}
\index{N\+E\+T\+\_\+\+M\+A\+X\+\_\+\+I\+F\+\_\+\+N\+A\+M\+E\+\_\+\+L\+EN@{N\+E\+T\+\_\+\+M\+A\+X\+\_\+\+I\+F\+\_\+\+N\+A\+M\+E\+\_\+\+L\+EN}!net.\+h@{net.\+h}}
\subsubsection{\texorpdfstring{N\+E\+T\+\_\+\+M\+A\+X\+\_\+\+I\+F\+\_\+\+N\+A\+M\+E\+\_\+\+L\+EN}{NET\_MAX\_IF\_NAME\_LEN}}
{\footnotesize\ttfamily \#define N\+E\+T\+\_\+\+M\+A\+X\+\_\+\+I\+F\+\_\+\+N\+A\+M\+E\+\_\+\+L\+EN~8}



Definition at line 131 of file net.\+h.

\mbox{\Hypertarget{net_8h_ab0499e73f3380a2848bbfcd69dc109da}\label{net_8h_ab0499e73f3380a2848bbfcd69dc109da}} 
\index{net.\+h@{net.\+h}!N\+E\+T\+\_\+\+M\+A\+X\+\_\+\+P\+R\+O\+X\+Y\+\_\+\+N\+A\+M\+E\+\_\+\+L\+EN@{N\+E\+T\+\_\+\+M\+A\+X\+\_\+\+P\+R\+O\+X\+Y\+\_\+\+N\+A\+M\+E\+\_\+\+L\+EN}}
\index{N\+E\+T\+\_\+\+M\+A\+X\+\_\+\+P\+R\+O\+X\+Y\+\_\+\+N\+A\+M\+E\+\_\+\+L\+EN@{N\+E\+T\+\_\+\+M\+A\+X\+\_\+\+P\+R\+O\+X\+Y\+\_\+\+N\+A\+M\+E\+\_\+\+L\+EN}!net.\+h@{net.\+h}}
\subsubsection{\texorpdfstring{N\+E\+T\+\_\+\+M\+A\+X\+\_\+\+P\+R\+O\+X\+Y\+\_\+\+N\+A\+M\+E\+\_\+\+L\+EN}{NET\_MAX\_PROXY\_NAME\_LEN}}
{\footnotesize\ttfamily \#define N\+E\+T\+\_\+\+M\+A\+X\+\_\+\+P\+R\+O\+X\+Y\+\_\+\+N\+A\+M\+E\+\_\+\+L\+EN~16}



Definition at line 145 of file net.\+h.

\mbox{\Hypertarget{net_8h_a1f57ba692f02089501463b1b99d8222a}\label{net_8h_a1f57ba692f02089501463b1b99d8222a}} 
\index{net.\+h@{net.\+h}!N\+E\+T\+\_\+\+R\+T\+O\+S\+\_\+\+S\+U\+P\+P\+O\+RT@{N\+E\+T\+\_\+\+R\+T\+O\+S\+\_\+\+S\+U\+P\+P\+O\+RT}}
\index{N\+E\+T\+\_\+\+R\+T\+O\+S\+\_\+\+S\+U\+P\+P\+O\+RT@{N\+E\+T\+\_\+\+R\+T\+O\+S\+\_\+\+S\+U\+P\+P\+O\+RT}!net.\+h@{net.\+h}}
\subsubsection{\texorpdfstring{N\+E\+T\+\_\+\+R\+T\+O\+S\+\_\+\+S\+U\+P\+P\+O\+RT}{NET\_RTOS\_SUPPORT}}
{\footnotesize\ttfamily \#define N\+E\+T\+\_\+\+R\+T\+O\+S\+\_\+\+S\+U\+P\+P\+O\+RT~\hyperlink{os__port_8h_a73c228f87e038e8295ee8ea8eceaa5ac}{E\+N\+A\+B\+L\+ED}}



Definition at line 102 of file net.\+h.

\mbox{\Hypertarget{net_8h_a3f98baa90cab000a4d05d7b777588e54}\label{net_8h_a3f98baa90cab000a4d05d7b777588e54}} 
\index{net.\+h@{net.\+h}!N\+E\+T\+\_\+\+S\+T\+A\+T\+I\+C\+\_\+\+O\+S\+\_\+\+R\+E\+S\+O\+U\+R\+C\+ES@{N\+E\+T\+\_\+\+S\+T\+A\+T\+I\+C\+\_\+\+O\+S\+\_\+\+R\+E\+S\+O\+U\+R\+C\+ES}}
\index{N\+E\+T\+\_\+\+S\+T\+A\+T\+I\+C\+\_\+\+O\+S\+\_\+\+R\+E\+S\+O\+U\+R\+C\+ES@{N\+E\+T\+\_\+\+S\+T\+A\+T\+I\+C\+\_\+\+O\+S\+\_\+\+R\+E\+S\+O\+U\+R\+C\+ES}!net.\+h@{net.\+h}}
\subsubsection{\texorpdfstring{N\+E\+T\+\_\+\+S\+T\+A\+T\+I\+C\+\_\+\+O\+S\+\_\+\+R\+E\+S\+O\+U\+R\+C\+ES}{NET\_STATIC\_OS\_RESOURCES}}
{\footnotesize\ttfamily \#define N\+E\+T\+\_\+\+S\+T\+A\+T\+I\+C\+\_\+\+O\+S\+\_\+\+R\+E\+S\+O\+U\+R\+C\+ES~\hyperlink{os__port_8h_abd5c8ab57c190a6522ccdbf0ed7577da}{D\+I\+S\+A\+B\+L\+ED}}



Definition at line 152 of file net.\+h.

\mbox{\Hypertarget{net_8h_a048a577cee19856c61a69a1089f835a3}\label{net_8h_a048a577cee19856c61a69a1089f835a3}} 
\index{net.\+h@{net.\+h}!N\+E\+T\+\_\+\+T\+A\+S\+K\+\_\+\+P\+R\+I\+O\+R\+I\+TY@{N\+E\+T\+\_\+\+T\+A\+S\+K\+\_\+\+P\+R\+I\+O\+R\+I\+TY}}
\index{N\+E\+T\+\_\+\+T\+A\+S\+K\+\_\+\+P\+R\+I\+O\+R\+I\+TY@{N\+E\+T\+\_\+\+T\+A\+S\+K\+\_\+\+P\+R\+I\+O\+R\+I\+TY}!net.\+h@{net.\+h}}
\subsubsection{\texorpdfstring{N\+E\+T\+\_\+\+T\+A\+S\+K\+\_\+\+P\+R\+I\+O\+R\+I\+TY}{NET\_TASK\_PRIORITY}}
{\footnotesize\ttfamily \#define N\+E\+T\+\_\+\+T\+A\+S\+K\+\_\+\+P\+R\+I\+O\+R\+I\+TY~\hyperlink{os__port__windows_8h_a8eef45f6634c776894a82bd6f284cbe3}{O\+S\+\_\+\+T\+A\+S\+K\+\_\+\+P\+R\+I\+O\+R\+I\+T\+Y\+\_\+\+H\+I\+GH}}



Definition at line 166 of file net.\+h.

\mbox{\Hypertarget{net_8h_a45e3beb061abbbefef96b890c3f2f86a}\label{net_8h_a45e3beb061abbbefef96b890c3f2f86a}} 
\index{net.\+h@{net.\+h}!N\+E\+T\+\_\+\+T\+A\+S\+K\+\_\+\+S\+T\+A\+C\+K\+\_\+\+S\+I\+ZE@{N\+E\+T\+\_\+\+T\+A\+S\+K\+\_\+\+S\+T\+A\+C\+K\+\_\+\+S\+I\+ZE}}
\index{N\+E\+T\+\_\+\+T\+A\+S\+K\+\_\+\+S\+T\+A\+C\+K\+\_\+\+S\+I\+ZE@{N\+E\+T\+\_\+\+T\+A\+S\+K\+\_\+\+S\+T\+A\+C\+K\+\_\+\+S\+I\+ZE}!net.\+h@{net.\+h}}
\subsubsection{\texorpdfstring{N\+E\+T\+\_\+\+T\+A\+S\+K\+\_\+\+S\+T\+A\+C\+K\+\_\+\+S\+I\+ZE}{NET\_TASK\_STACK\_SIZE}}
{\footnotesize\ttfamily \#define N\+E\+T\+\_\+\+T\+A\+S\+K\+\_\+\+S\+T\+A\+C\+K\+\_\+\+S\+I\+ZE~650}



Definition at line 159 of file net.\+h.

\mbox{\Hypertarget{net_8h_a41dfc66bfd02ca88053ec44e3fbc6b8c}\label{net_8h_a41dfc66bfd02ca88053ec44e3fbc6b8c}} 
\index{net.\+h@{net.\+h}!N\+E\+T\+\_\+\+T\+I\+C\+K\+\_\+\+I\+N\+T\+E\+R\+V\+AL@{N\+E\+T\+\_\+\+T\+I\+C\+K\+\_\+\+I\+N\+T\+E\+R\+V\+AL}}
\index{N\+E\+T\+\_\+\+T\+I\+C\+K\+\_\+\+I\+N\+T\+E\+R\+V\+AL@{N\+E\+T\+\_\+\+T\+I\+C\+K\+\_\+\+I\+N\+T\+E\+R\+V\+AL}!net.\+h@{net.\+h}}
\subsubsection{\texorpdfstring{N\+E\+T\+\_\+\+T\+I\+C\+K\+\_\+\+I\+N\+T\+E\+R\+V\+AL}{NET\_TICK\_INTERVAL}}
{\footnotesize\ttfamily \#define N\+E\+T\+\_\+\+T\+I\+C\+K\+\_\+\+I\+N\+T\+E\+R\+V\+AL~100}



Definition at line 171 of file net.\+h.

\mbox{\Hypertarget{net_8h_a2234db8911a1148c9159979d8f5e0d6b}\label{net_8h_a2234db8911a1148c9159979d8f5e0d6b}} 
\index{net.\+h@{net.\+h}!Net\+Interface@{Net\+Interface}}
\index{Net\+Interface@{Net\+Interface}!net.\+h@{net.\+h}}
\subsubsection{\texorpdfstring{Net\+Interface}{NetInterface}}
{\footnotesize\ttfamily \#define Net\+Interface~struct \hyperlink{struct__NetInterface}{\+\_\+\+Net\+Interface}}



Definition at line 36 of file net.\+h.



\subsection{Typedef Documentation}
\mbox{\Hypertarget{net_8h_a58f78b4ded73c4a27994b9a31b2ed0aa}\label{net_8h_a58f78b4ded73c4a27994b9a31b2ed0aa}} 
\index{net.\+h@{net.\+h}!Link\+Change\+Callback@{Link\+Change\+Callback}}
\index{Link\+Change\+Callback@{Link\+Change\+Callback}!net.\+h@{net.\+h}}
\subsubsection{\texorpdfstring{Link\+Change\+Callback}{LinkChangeCallback}}
{\footnotesize\ttfamily typedef void($\ast$ Link\+Change\+Callback) (\hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{Net\+Interface} $\ast$interface, \hyperlink{compiler__port_8h_a812d16e5494522586b3784e55d479912}{bool\+\_\+t} link\+State, void $\ast$param)}



Link change callback. 



Definition at line 280 of file net.\+h.



\subsection{Function Documentation}
\mbox{\Hypertarget{net_8h_a868f987124e1718f353a0e6fa88c5815}\label{net_8h_a868f987124e1718f353a0e6fa88c5815}} 
\index{net.\+h@{net.\+h}!net\+Attach\+Link\+Change\+Callback@{net\+Attach\+Link\+Change\+Callback}}
\index{net\+Attach\+Link\+Change\+Callback@{net\+Attach\+Link\+Change\+Callback}!net.\+h@{net.\+h}}
\subsubsection{\texorpdfstring{net\+Attach\+Link\+Change\+Callback()}{netAttachLinkChangeCallback()}}
{\footnotesize\ttfamily \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} net\+Attach\+Link\+Change\+Callback (\begin{DoxyParamCaption}\item[{\hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{Net\+Interface} $\ast$}]{interface,  }\item[{\hyperlink{net_8h_a58f78b4ded73c4a27994b9a31b2ed0aa}{Link\+Change\+Callback}}]{callback,  }\item[{void $\ast$}]{param,  }\item[{\hyperlink{compiler__port_8h_a12a1e9b3ce141648783a82445d02b58d}{uint\+\_\+t} $\ast$}]{cookie }\end{DoxyParamCaption})}



Register link change callback. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em interface} & Underlying network interface \\
\hline
\mbox{\tt in}  & {\em callback} & Callback function to be called when the link state changed \\
\hline
\mbox{\tt in}  & {\em param} & Callback function parameter (optional) \\
\hline
\mbox{\tt out}  & {\em cookie} & Identifier that can be used to unregister the callback function \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Error code 
\end{DoxyReturn}


Definition at line 1872 of file net.\+c.


\begin{DoxyCode}
1874 \{
1875    \hyperlink{compiler__port_8h_a12a1e9b3ce141648783a82445d02b58d}{uint\_t} i;
1876    \hyperlink{structLinkChangeCallbackDesc}{LinkChangeCallbackDesc} *entry;
1877 
1878    \textcolor{comment}{//Acquire exclusive access to the callback table}
1879    \hyperlink{os__port__chibios_8c_a58485224df4bfa522246d55b35bbd83a}{osAcquireMutex}(&\hyperlink{net_8c_aedcdae294603417243185fc8cfceebfb}{callbackTableMutex});
1880 
1881    \textcolor{comment}{//Loop through the table}
1882    \textcolor{keywordflow}{for}(i = 0; i < \hyperlink{net_8h_a07a68d78a33b6bbdd2b5c9cf64d1abf8}{NET\_CALLBACK\_TABLE\_SIZE}; i++)
1883    \{
1884       \textcolor{comment}{//Point to the current entry}
1885       entry = &\hyperlink{net_8c_a3cd9697b9a2c8ba5fe430ab8505b217a}{callbackTable}[i];
1886 
1887       \textcolor{comment}{//Check whether the entry is currently in used}
1888       \textcolor{keywordflow}{if}(entry->\hyperlink{structLinkChangeCallbackDesc_a1ba4a8df84d49e9817ea124d6e3f76e9}{callback} == \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
1889       \{
1890          \textcolor{comment}{//Create a new entry}
1891          entry->\hyperlink{structLinkChangeCallbackDesc_adc36a3ad331a45c3bde009cc476bd559}{interface} = interface;
1892          entry->\hyperlink{structLinkChangeCallbackDesc_a1ba4a8df84d49e9817ea124d6e3f76e9}{callback} = callback;
1893          entry->\hyperlink{structLinkChangeCallbackDesc_a109ef09876fabae6dad4286d1a105a00}{param} = param;
1894          \textcolor{comment}{//We are done}
1895          \textcolor{keywordflow}{break};
1896       \}
1897    \}
1898 
1899    \textcolor{comment}{//Release exclusive access to the callback table}
1900    \hyperlink{os__port__chibios_8c_a8e10e5b2c6d3877b5ba60e375ac45d79}{osReleaseMutex}(&\hyperlink{net_8c_aedcdae294603417243185fc8cfceebfb}{callbackTableMutex});
1901 
1902    \textcolor{comment}{//Failed to attach the specified user callback?}
1903    \textcolor{keywordflow}{if}(i >= NET\_CALLBACK\_TABLE\_SIZE)
1904       \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689ca528efe91b7a7e4bcc9a6de7d4b778c67}{ERROR\_OUT\_OF\_RESOURCES};
1905 
1906    \textcolor{comment}{//Return a cookie that can be used later to unregister the callback}
1907    \textcolor{keywordflow}{if}(\hyperlink{dtls__misc_8h_a126a9f1c8e75ec207f319533d142c88d}{cookie} != \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
1908       *\hyperlink{dtls__misc_8h_a126a9f1c8e75ec207f319533d142c88d}{cookie} = i;
1909 
1910    \textcolor{comment}{//Successful processing}
1911    \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94}{NO\_ERROR};
1912 \}
\end{DoxyCode}
\mbox{\Hypertarget{net_8h_a624e6492d3447833f5a5328bfca80bea}\label{net_8h_a624e6492d3447833f5a5328bfca80bea}} 
\index{net.\+h@{net.\+h}!net\+Config\+Interface@{net\+Config\+Interface}}
\index{net\+Config\+Interface@{net\+Config\+Interface}!net.\+h@{net.\+h}}
\subsubsection{\texorpdfstring{net\+Config\+Interface()}{netConfigInterface()}}
{\footnotesize\ttfamily \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} net\+Config\+Interface (\begin{DoxyParamCaption}\item[{\hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{Net\+Interface} $\ast$}]{interface }\end{DoxyParamCaption})}



Configure network interface. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em interface} & Network interface to configure \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Error code 
\end{DoxyReturn}


Definition at line 887 of file net.\+c.


\begin{DoxyCode}
888 \{
889    \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\_t} error;
890 
891    \textcolor{comment}{//Make sure the network interface is valid}
892    \textcolor{keywordflow}{if}(interface == \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
893       \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689caeae4b12e06d727d085f75f79a820f2e8}{ERROR\_INVALID\_PARAMETER};
894 
895    \textcolor{comment}{//Get exclusive access}
896    \hyperlink{os__port__chibios_8c_a58485224df4bfa522246d55b35bbd83a}{osAcquireMutex}(&\hyperlink{net_8c_afe31551ad26115fae8e575654346d441}{netMutex});
897 
898    \textcolor{comment}{//Disable hardware interrupts}
899    \textcolor{keywordflow}{if}(interface->nicDriver != \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
900       interface->nicDriver->disableIrq(interface);
901 
902    \textcolor{comment}{//Start of exception handling block}
903    \textcolor{keywordflow}{do}
904    \{
905       \textcolor{comment}{//Receive notifications when the transmitter is ready to send}
906       \textcolor{keywordflow}{if}(!\hyperlink{os__port__chibios_8c_ac1658f3fed1eb64efcd47e4503a9ef2e}{osCreateEvent}(&interface->nicTxEvent))
907       \{
908          \textcolor{comment}{//Failed to create event object}
909          error = \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689ca528efe91b7a7e4bcc9a6de7d4b778c67}{ERROR\_OUT\_OF\_RESOURCES};
910          \textcolor{comment}{//Stop immediately}
911          \textcolor{keywordflow}{break};
912       \}
913 
914       \textcolor{comment}{//Valid NIC driver?}
915       \textcolor{keywordflow}{if}(interface->nicDriver != \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
916       \{
917          \textcolor{comment}{//Network controller initialization}
918          error = interface->nicDriver->init(interface);
919          \textcolor{comment}{//Any error to report?}
920          \textcolor{keywordflow}{if}(error)
921             \textcolor{keywordflow}{break};
922       \}
923       \textcolor{keywordflow}{else}
924       \{
925 \textcolor{preprocessor}{#if (ETH\_VIRTUAL\_IF\_SUPPORT == ENABLED || ETH\_PORT\_TAGGING\_SUPPORT == ENABLED)}
926          \hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{NetInterface} *physicalInterface;
927 
928          \textcolor{comment}{//Point to the physical interface}
929          physicalInterface = \hyperlink{nic_8c_aa8f48265895dab1633056c2dcd796355}{nicGetPhysicalInterface}(interface);
930 
931          \textcolor{comment}{//Check whether the network interface is a virtual interface}
932          \textcolor{keywordflow}{if}(physicalInterface != interface)
933          \{
934             \textcolor{comment}{//Valid MAC address assigned to the virtual interface?}
935             \textcolor{keywordflow}{if}(!\hyperlink{ethernet_8h_a800d9f928930baf027e925976c44b9b2}{macCompAddr}(&interface->macAddr, &
      \hyperlink{ethernet_8c_a24b2ce78dd643fe028d2e18c3b503f1f}{MAC\_UNSPECIFIED\_ADDR}))
936             \{
937                \textcolor{comment}{//Configure the physical interface to accept the MAC address of}
938                \textcolor{comment}{//the virtual interface}
939                error = \hyperlink{ethernet_8c_abef0530e7b819b6f76765071b05152f9}{ethAcceptMacAddr}(physicalInterface, &interface->macAddr);
940                \textcolor{comment}{//Any error to report?}
941                \textcolor{keywordflow}{if}(error)
942                   \textcolor{keywordflow}{break};
943             \}
944          \}
945 \textcolor{preprocessor}{#endif}
946       \}
947 
948 \textcolor{preprocessor}{#if (ETH\_SUPPORT == ENABLED)}
949       \textcolor{comment}{//Ethernet related initialization}
950       error = \hyperlink{ethernet_8c_a29b4fb13088f845f4157692351eead5b}{ethInit}(interface);
951       \textcolor{comment}{//Any error to report?}
952       \textcolor{keywordflow}{if}(error)
953          \textcolor{keywordflow}{break};
954 \textcolor{preprocessor}{#endif}
955 
956 \textcolor{preprocessor}{#if (IPV4\_SUPPORT == ENABLED)}
957       \textcolor{comment}{//IPv4 initialization}
958       error = \hyperlink{ipv4_8c_a516c15fc3e90c2b0d8111151bfe7fce5}{ipv4Init}(interface);
959       \textcolor{comment}{//Any error to report?}
960       \textcolor{keywordflow}{if}(error)
961          \textcolor{keywordflow}{break};
962 
963 \textcolor{preprocessor}{#if (ETH\_SUPPORT == ENABLED)}
964       \textcolor{comment}{//ARP cache initialization}
965       error = \hyperlink{arp_8c_ad1390c72da5a2bed60298796ab7bb539}{arpInit}(interface);
966       \textcolor{comment}{//Any error to report?}
967       \textcolor{keywordflow}{if}(error)
968          \textcolor{keywordflow}{break};
969 \textcolor{preprocessor}{#endif}
970 
971 \textcolor{preprocessor}{#if (IGMP\_SUPPORT == ENABLED)}
972       \textcolor{comment}{//IGMP related initialization}
973       error = \hyperlink{igmp_8c_a00733854143421278db466a47576761a}{igmpInit}(interface);
974       \textcolor{comment}{//Any error to report?}
975       \textcolor{keywordflow}{if}(error)
976          \textcolor{keywordflow}{break};
977 
978       \textcolor{comment}{//Join the all-systems group}
979       error = \hyperlink{ipv4_8c_ab2a827c952b160ccc0afba106e865183}{ipv4JoinMulticastGroup}(interface, 
      \hyperlink{igmp_8h_ae2df9640f294bc95a5f646769b8930da}{IGMP\_ALL\_SYSTEMS\_ADDR});
980       \textcolor{comment}{//Any error to report?}
981       \textcolor{keywordflow}{if}(error)
982          \textcolor{keywordflow}{break};
983 \textcolor{preprocessor}{#endif}
984 
985 \textcolor{preprocessor}{#if (NBNS\_CLIENT\_SUPPORT == ENABLED || NBNS\_RESPONDER\_SUPPORT == ENABLED)}
986       \textcolor{comment}{//NetBIOS Name Service related initialization}
987       error = \hyperlink{nbns__common_8c_ad9e000b477fa3dc3c5022422fbd870a2}{nbnsInit}(interface);
988       \textcolor{comment}{//Any error to report?}
989       \textcolor{keywordflow}{if}(error)
990          \textcolor{keywordflow}{break};
991 \textcolor{preprocessor}{#endif}
992 \textcolor{preprocessor}{#endif}
993 
994 \textcolor{preprocessor}{#if (IPV6\_SUPPORT == ENABLED)}
995       \textcolor{comment}{//IPv6 initialization}
996       error = \hyperlink{ipv6_8c_a4cbb1b1dda5450b72c2657b10bd518f5}{ipv6Init}(interface);
997       \textcolor{comment}{//Any error to report?}
998       \textcolor{keywordflow}{if}(error)
999          \textcolor{keywordflow}{break};
1000 
1001 \textcolor{preprocessor}{#if (NDP\_SUPPORT == ENABLED)}
1002       \textcolor{comment}{//NDP related initialization}
1003       error = \hyperlink{ndp_8c_a4b0bf0cdfad666e147a1a29941127e67}{ndpInit}(interface);
1004       \textcolor{comment}{//Any error to report?}
1005       \textcolor{keywordflow}{if}(error)
1006          \textcolor{keywordflow}{break};
1007 \textcolor{preprocessor}{#endif}
1008 
1009 \textcolor{preprocessor}{#if (MLD\_SUPPORT == ENABLED)}
1010       \textcolor{comment}{//MLD related initialization}
1011       error = \hyperlink{mld_8c_ab8edb89c9d91649e626c61553d49a909}{mldInit}(interface);
1012       \textcolor{comment}{//Any error to report?}
1013       \textcolor{keywordflow}{if}(error)
1014          \textcolor{keywordflow}{break};
1015 \textcolor{preprocessor}{#endif}
1016 
1017       \textcolor{comment}{//Join the All-Nodes multicast address}
1018       error = \hyperlink{ipv6_8c_abbf3683ee76a53fdf931e58fabe6db6f}{ipv6JoinMulticastGroup}(interface, &
      \hyperlink{ipv6_8c_a8e2b9466528a5be6596c59cf94ac56a4}{IPV6\_LINK\_LOCAL\_ALL\_NODES\_ADDR});
1019       \textcolor{comment}{//Any error to report?}
1020       \textcolor{keywordflow}{if}(error)
1021          \textcolor{keywordflow}{break};
1022 \textcolor{preprocessor}{#endif}
1023 
1024 \textcolor{preprocessor}{#if (MDNS\_CLIENT\_SUPPORT == ENABLED || MDNS\_RESPONDER\_SUPPORT == ENABLED)}
1025       \textcolor{comment}{//mDNS related initialization}
1026       error = \hyperlink{mdns__common_8c_aeb137e5cf039c0b5effd9ea059e7fc88}{mdnsInit}(interface);
1027       \textcolor{comment}{//Any error to report?}
1028       \textcolor{keywordflow}{if}(error)
1029          \textcolor{keywordflow}{break};
1030 \textcolor{preprocessor}{#endif}
1031 
1032 \textcolor{preprocessor}{#if (LLMNR\_RESPONDER\_SUPPORT == ENABLED)}
1033       \textcolor{comment}{//LLMNR responder initialization}
1034       error = \hyperlink{llmnr__responder_8c_af59bcf0f53d8c8e1542ca0718fbb3843}{llmnrResponderInit}(interface);
1035       \textcolor{comment}{//Any error to report?}
1036       \textcolor{keywordflow}{if}(error)
1037          \textcolor{keywordflow}{break};
1038 \textcolor{preprocessor}{#endif}
1039 
1040       \textcolor{comment}{//End of exception handling block}
1041    \} \textcolor{keywordflow}{while}(0);
1042 
1043    \textcolor{comment}{//Check status code}
1044    \textcolor{keywordflow}{if}(!error)
1045    \{
1046       \textcolor{comment}{//The network interface is now fully configured}
1047       interface->configured = \hyperlink{os__port_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
1048 
1049       \textcolor{comment}{//Check whether the TCP/IP process is running}
1050       \textcolor{keywordflow}{if}(\hyperlink{net_8c_a760501605418d098b5bb4c03fd8db030}{netTaskRunning})
1051       \{
1052          \textcolor{comment}{//Interrupts can be safely enabled}
1053          \textcolor{keywordflow}{if}(interface->nicDriver != \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
1054             interface->nicDriver->enableIrq(interface);
1055       \}
1056    \}
1057    \textcolor{keywordflow}{else}
1058    \{
1059       \textcolor{comment}{//Clean up side effects before returning}
1060       \hyperlink{os__port__chibios_8c_a25827a49278bad6150b04b47165fda3d}{osDeleteEvent}(&interface->nicTxEvent);
1061    \}
1062 
1063    \textcolor{comment}{//Release exclusive access}
1064    \hyperlink{os__port__chibios_8c_a8e10e5b2c6d3877b5ba60e375ac45d79}{osReleaseMutex}(&\hyperlink{net_8c_afe31551ad26115fae8e575654346d441}{netMutex});
1065 
1066    \textcolor{comment}{//Return status code}
1067    \textcolor{keywordflow}{return} error;
1068 \}
\end{DoxyCode}
\mbox{\Hypertarget{net_8h_a58f6aaf4909f0e35cfba83c7c954f727}\label{net_8h_a58f6aaf4909f0e35cfba83c7c954f727}} 
\index{net.\+h@{net.\+h}!net\+Detach\+Link\+Change\+Callback@{net\+Detach\+Link\+Change\+Callback}}
\index{net\+Detach\+Link\+Change\+Callback@{net\+Detach\+Link\+Change\+Callback}!net.\+h@{net.\+h}}
\subsubsection{\texorpdfstring{net\+Detach\+Link\+Change\+Callback()}{netDetachLinkChangeCallback()}}
{\footnotesize\ttfamily \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} net\+Detach\+Link\+Change\+Callback (\begin{DoxyParamCaption}\item[{\hyperlink{compiler__port_8h_a12a1e9b3ce141648783a82445d02b58d}{uint\+\_\+t}}]{cookie }\end{DoxyParamCaption})}



Unregister link change callback. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em cookie} & Identifier specifying the callback to be unregistered \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Error code 
\end{DoxyReturn}


Definition at line 1921 of file net.\+c.


\begin{DoxyCode}
1922 \{
1923    \textcolor{comment}{//Make sure the cookie is valid}
1924    \textcolor{keywordflow}{if}(\hyperlink{dtls__misc_8h_a126a9f1c8e75ec207f319533d142c88d}{cookie} >= \hyperlink{net_8h_a07a68d78a33b6bbdd2b5c9cf64d1abf8}{NET\_CALLBACK\_TABLE\_SIZE})
1925       \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689caeae4b12e06d727d085f75f79a820f2e8}{ERROR\_INVALID\_PARAMETER};
1926 
1927    \textcolor{comment}{//Acquire exclusive access to the callback table}
1928    \hyperlink{os__port__chibios_8c_a58485224df4bfa522246d55b35bbd83a}{osAcquireMutex}(&\hyperlink{net_8c_aedcdae294603417243185fc8cfceebfb}{callbackTableMutex});
1929    \textcolor{comment}{//Unregister user callback}
1930    \hyperlink{net_8c_a3cd9697b9a2c8ba5fe430ab8505b217a}{callbackTable}[\hyperlink{dtls__misc_8h_a126a9f1c8e75ec207f319533d142c88d}{cookie}].\hyperlink{structLinkChangeCallbackDesc_a1ba4a8df84d49e9817ea124d6e3f76e9}{callback} = \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
1931    \textcolor{comment}{//Release exclusive access to the callback table}
1932    \hyperlink{os__port__chibios_8c_a8e10e5b2c6d3877b5ba60e375ac45d79}{osReleaseMutex}(&\hyperlink{net_8c_aedcdae294603417243185fc8cfceebfb}{callbackTableMutex});
1933 
1934    \textcolor{comment}{//Successful processing}
1935    \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94}{NO\_ERROR};
1936 \}
\end{DoxyCode}
\mbox{\Hypertarget{net_8h_a991aba7eae4de79f30c6889d95cc6870}\label{net_8h_a991aba7eae4de79f30c6889d95cc6870}} 
\index{net.\+h@{net.\+h}!net\+Get\+Default\+Interface@{net\+Get\+Default\+Interface}}
\index{net\+Get\+Default\+Interface@{net\+Get\+Default\+Interface}!net.\+h@{net.\+h}}
\subsubsection{\texorpdfstring{net\+Get\+Default\+Interface()}{netGetDefaultInterface()}}
{\footnotesize\ttfamily \hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{Net\+Interface}$\ast$ net\+Get\+Default\+Interface (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Get default network interface. 

\begin{DoxyReturn}{Returns}
Pointer to the default network interface to be used 
\end{DoxyReturn}


Definition at line 1783 of file net.\+c.


\begin{DoxyCode}
1784 \{
1785    \textcolor{comment}{//Default network interface}
1786    \textcolor{keywordflow}{return} &\hyperlink{net_8c_a7ecafab0039ec54d1d7a1e9e7402379b}{netInterface}[0];
1787 \}
\end{DoxyCode}
\mbox{\Hypertarget{net_8h_a56da5665254ae75cdbc3c71c270cf060}\label{net_8h_a56da5665254ae75cdbc3c71c270cf060}} 
\index{net.\+h@{net.\+h}!net\+Get\+Eui64@{net\+Get\+Eui64}}
\index{net\+Get\+Eui64@{net\+Get\+Eui64}!net.\+h@{net.\+h}}
\subsubsection{\texorpdfstring{net\+Get\+Eui64()}{netGetEui64()}}
{\footnotesize\ttfamily \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} net\+Get\+Eui64 (\begin{DoxyParamCaption}\item[{\hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{Net\+Interface} $\ast$}]{interface,  }\item[{\hyperlink{ethernet_8h_acbcae3afd042b3ce97e42f54013c8137}{Eui64} $\ast$}]{eui64 }\end{DoxyParamCaption})}



Retrieve E\+U\+I-\/64 interface identifier. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em interface} & Pointer to the desired network interface \\
\hline
\mbox{\tt out}  & {\em eui64} & Interface identifier \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Error code 
\end{DoxyReturn}


Definition at line 402 of file net.\+c.


\begin{DoxyCode}
403 \{
404    \hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{NetInterface} *logicalInterface;
405 
406    \textcolor{comment}{//Check parameters}
407    \textcolor{keywordflow}{if}(interface == \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} || eui64 == \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
408       \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689caeae4b12e06d727d085f75f79a820f2e8}{ERROR\_INVALID\_PARAMETER};
409 
410    \textcolor{comment}{//Get exclusive access}
411    \hyperlink{os__port__chibios_8c_a58485224df4bfa522246d55b35bbd83a}{osAcquireMutex}(&\hyperlink{net_8c_afe31551ad26115fae8e575654346d441}{netMutex});
412 
413    \textcolor{comment}{//Point to the logical interface}
414    logicalInterface = \hyperlink{nic_8c_a650d776d6513c3bb88671c3aedd782f0}{nicGetLogicalInterface}(interface);
415 
416    \textcolor{comment}{//Get interface identifier}
417    *eui64 = logicalInterface->eui64;
418 
419    \textcolor{comment}{//Release exclusive access}
420    \hyperlink{os__port__chibios_8c_a8e10e5b2c6d3877b5ba60e375ac45d79}{osReleaseMutex}(&\hyperlink{net_8c_afe31551ad26115fae8e575654346d441}{netMutex});
421 
422    \textcolor{comment}{//Successful processing}
423    \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94}{NO\_ERROR};
424 \}
\end{DoxyCode}
\mbox{\Hypertarget{net_8h_a03858e27be0effe83d9241e8ccba377c}\label{net_8h_a03858e27be0effe83d9241e8ccba377c}} 
\index{net.\+h@{net.\+h}!net\+Get\+Link\+State@{net\+Get\+Link\+State}}
\index{net\+Get\+Link\+State@{net\+Get\+Link\+State}!net.\+h@{net.\+h}}
\subsubsection{\texorpdfstring{net\+Get\+Link\+State()}{netGetLinkState()}}
{\footnotesize\ttfamily \hyperlink{compiler__port_8h_a812d16e5494522586b3784e55d479912}{bool\+\_\+t} net\+Get\+Link\+State (\begin{DoxyParamCaption}\item[{\hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{Net\+Interface} $\ast$}]{interface }\end{DoxyParamCaption})}



Get link state. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em interface} & Pointer to the desired network interface \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Link state 
\end{DoxyReturn}


Definition at line 861 of file net.\+c.


\begin{DoxyCode}
862 \{
863    \hyperlink{compiler__port_8h_a812d16e5494522586b3784e55d479912}{bool\_t} linkState;
864 
865    \textcolor{comment}{//Make sure the network interface is valid}
866    \textcolor{keywordflow}{if}(interface == \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
867       \textcolor{keywordflow}{return} \hyperlink{os__port_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
868 
869    \textcolor{comment}{//Get exclusive access}
870    \hyperlink{os__port__chibios_8c_a58485224df4bfa522246d55b35bbd83a}{osAcquireMutex}(&\hyperlink{net_8c_afe31551ad26115fae8e575654346d441}{netMutex});
871    \textcolor{comment}{//Retrieve link state}
872    linkState = interface->linkState;
873    \textcolor{comment}{//Release exclusive access}
874    \hyperlink{os__port__chibios_8c_a8e10e5b2c6d3877b5ba60e375ac45d79}{osReleaseMutex}(&\hyperlink{net_8c_afe31551ad26115fae8e575654346d441}{netMutex});
875 
876    \textcolor{comment}{//Return link state}
877    \textcolor{keywordflow}{return} linkState;
878 \}
\end{DoxyCode}
\mbox{\Hypertarget{net_8h_acc527284408ccd58935c24830fc00152}\label{net_8h_acc527284408ccd58935c24830fc00152}} 
\index{net.\+h@{net.\+h}!net\+Get\+Mac\+Addr@{net\+Get\+Mac\+Addr}}
\index{net\+Get\+Mac\+Addr@{net\+Get\+Mac\+Addr}!net.\+h@{net.\+h}}
\subsubsection{\texorpdfstring{net\+Get\+Mac\+Addr()}{netGetMacAddr()}}
{\footnotesize\ttfamily \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} net\+Get\+Mac\+Addr (\begin{DoxyParamCaption}\item[{\hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{Net\+Interface} $\ast$}]{interface,  }\item[{\hyperlink{ethernet_8h_a1e00ed3977e8a770e8b4ae4cb306d1c0}{Mac\+Addr} $\ast$}]{mac\+Addr }\end{DoxyParamCaption})}



Retrieve M\+AC address. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em interface} & Pointer to the desired network interface \\
\hline
\mbox{\tt out}  & {\em mac\+Addr} & M\+AC address \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Error code 
\end{DoxyReturn}


Definition at line 340 of file net.\+c.


\begin{DoxyCode}
341 \{
342 \textcolor{preprocessor}{#if (ETH\_SUPPORT == ENABLED)}
343    \hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{NetInterface} *logicalInterface;
344 
345    \textcolor{comment}{//Check parameters}
346    \textcolor{keywordflow}{if}(interface == \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} || macAddr == \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
347       \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689caeae4b12e06d727d085f75f79a820f2e8}{ERROR\_INVALID\_PARAMETER};
348 
349    \textcolor{comment}{//Get exclusive access}
350    \hyperlink{os__port__chibios_8c_a58485224df4bfa522246d55b35bbd83a}{osAcquireMutex}(&\hyperlink{net_8c_afe31551ad26115fae8e575654346d441}{netMutex});
351 
352    \textcolor{comment}{//Point to the logical interface}
353    logicalInterface = \hyperlink{nic_8c_a650d776d6513c3bb88671c3aedd782f0}{nicGetLogicalInterface}(interface);
354 
355    \textcolor{comment}{//Get MAC address}
356    *macAddr = logicalInterface->macAddr;
357 
358    \textcolor{comment}{//Release exclusive access}
359    \hyperlink{os__port__chibios_8c_a8e10e5b2c6d3877b5ba60e375ac45d79}{osReleaseMutex}(&\hyperlink{net_8c_afe31551ad26115fae8e575654346d441}{netMutex});
360 
361    \textcolor{comment}{//Successful processing}
362    \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94}{NO\_ERROR};
363 \textcolor{preprocessor}{#else}
364    \textcolor{comment}{//Not implemented}
365    \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689cab61c5ef368fbf03fdc1fb566c63f2f9a}{ERROR\_NOT\_IMPLEMENTED};
366 \textcolor{preprocessor}{#endif}
367 \}
\end{DoxyCode}
\mbox{\Hypertarget{net_8h_a7bb00b31d641749ac8ce742261eb1f6d}\label{net_8h_a7bb00b31d641749ac8ce742261eb1f6d}} 
\index{net.\+h@{net.\+h}!net\+Get\+Rand@{net\+Get\+Rand}}
\index{net\+Get\+Rand@{net\+Get\+Rand}!net.\+h@{net.\+h}}
\subsubsection{\texorpdfstring{net\+Get\+Rand()}{netGetRand()}}
{\footnotesize\ttfamily \hyperlink{stdint_8h_a435d1572bf3f880d55459d9805097f62}{uint32\+\_\+t} net\+Get\+Rand (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Get a random value. 

\begin{DoxyReturn}{Returns}
Random value 
\end{DoxyReturn}


Definition at line 1811 of file net.\+c.


\begin{DoxyCode}
1812 \{
1813    \hyperlink{stdint_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t} \hyperlink{dtls__misc_8h_a74bce8e92ccabd0c885447114a48b80e}{value};
1814 
1815    \textcolor{comment}{//Use a linear congruential generator (LCG) to update the state of the PRNG}
1816    \hyperlink{net_8c_acf31bb22420fd9f9be41eff9035c3990}{prngState} *= 1103515245;
1817    \hyperlink{net_8c_acf31bb22420fd9f9be41eff9035c3990}{prngState} += 12345;
1818    value = (\hyperlink{net_8c_acf31bb22420fd9f9be41eff9035c3990}{prngState} >> 16) & 0x07FF;
1819 
1820    \hyperlink{net_8c_acf31bb22420fd9f9be41eff9035c3990}{prngState} *= 1103515245;
1821    \hyperlink{net_8c_acf31bb22420fd9f9be41eff9035c3990}{prngState} += 12345;
1822    value <<= 10;
1823    value |= (\hyperlink{net_8c_acf31bb22420fd9f9be41eff9035c3990}{prngState} >> 16) & 0x03FF;
1824 
1825    \hyperlink{net_8c_acf31bb22420fd9f9be41eff9035c3990}{prngState} *= 1103515245;
1826    \hyperlink{net_8c_acf31bb22420fd9f9be41eff9035c3990}{prngState} += 12345;
1827    value <<= 10;
1828    value |= (\hyperlink{net_8c_acf31bb22420fd9f9be41eff9035c3990}{prngState} >> 16) & 0x03FF;
1829 
1830    \textcolor{comment}{//Return the random value}
1831    \textcolor{keywordflow}{return} \hyperlink{dtls__misc_8h_a74bce8e92ccabd0c885447114a48b80e}{value};
1832 \}
\end{DoxyCode}
\mbox{\Hypertarget{net_8h_af45ea0afc9806749114ec85e507014e1}\label{net_8h_af45ea0afc9806749114ec85e507014e1}} 
\index{net.\+h@{net.\+h}!net\+Get\+Rand\+Range@{net\+Get\+Rand\+Range}}
\index{net\+Get\+Rand\+Range@{net\+Get\+Rand\+Range}!net.\+h@{net.\+h}}
\subsubsection{\texorpdfstring{net\+Get\+Rand\+Range()}{netGetRandRange()}}
{\footnotesize\ttfamily \hyperlink{stdint_8h_ab1967d8591af1a4e48c37fd2b0f184d0}{int32\+\_\+t} net\+Get\+Rand\+Range (\begin{DoxyParamCaption}\item[{\hyperlink{stdint_8h_ab1967d8591af1a4e48c37fd2b0f184d0}{int32\+\_\+t}}]{min,  }\item[{\hyperlink{stdint_8h_ab1967d8591af1a4e48c37fd2b0f184d0}{int32\+\_\+t}}]{max }\end{DoxyParamCaption})}



Get a random value in the specified range. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em min} & Lower bound \\
\hline
\mbox{\tt in}  & {\em max} & Upper bound \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Random value in the specified range 
\end{DoxyReturn}


Definition at line 1842 of file net.\+c.


\begin{DoxyCode}
1843 \{
1844    \hyperlink{stdint_8h_ab1967d8591af1a4e48c37fd2b0f184d0}{int32\_t} \hyperlink{dtls__misc_8h_a74bce8e92ccabd0c885447114a48b80e}{value};
1845 
1846    \textcolor{comment}{//Valid parameters?}
1847    \textcolor{keywordflow}{if}(max > min)
1848    \{
1849       \textcolor{comment}{//Pick up a random value in the given range}
1850       value = min + (\hyperlink{net_8c_a7bb00b31d641749ac8ce742261eb1f6d}{netGetRand}() % (max - min + 1));
1851    \}
1852    \textcolor{keywordflow}{else}
1853    \{
1854       \textcolor{comment}{//Use default value}
1855       value = min;
1856    \}
1857 
1858    \textcolor{comment}{//Return the random value}
1859    \textcolor{keywordflow}{return} \hyperlink{dtls__misc_8h_a74bce8e92ccabd0c885447114a48b80e}{value};
1860 \}
\end{DoxyCode}
\mbox{\Hypertarget{net_8h_abae9d4f2a52f4400bdeff0c3613a3758}\label{net_8h_abae9d4f2a52f4400bdeff0c3613a3758}} 
\index{net.\+h@{net.\+h}!net\+Init@{net\+Init}}
\index{net\+Init@{net\+Init}!net.\+h@{net.\+h}}
\subsubsection{\texorpdfstring{net\+Init()}{netInit()}}
{\footnotesize\ttfamily \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} net\+Init (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



T\+C\+P/\+IP stack initialization. 

\begin{DoxyReturn}{Returns}
Error code 
\end{DoxyReturn}


Definition at line 108 of file net.\+c.


\begin{DoxyCode}
109 \{
110    \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\_t} error;
111    \hyperlink{compiler__port_8h_a12a1e9b3ce141648783a82445d02b58d}{uint\_t} i;
112    \hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{NetInterface} *interface;
113 
114    \textcolor{comment}{//The TCP/IP process is currently suspended}
115    \hyperlink{net_8c_a760501605418d098b5bb4c03fd8db030}{netTaskRunning} = \hyperlink{os__port_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
116    \textcolor{comment}{//Get current time}
117    \hyperlink{net_8c_a553ac9663b1c4b086f4e49419c947080}{netTimestamp} = \hyperlink{os__port__chibios_8c_ab66a11272d40a916fa69dd8e4dc443d4}{osGetSystemTime}();
118 
119    \textcolor{comment}{//Create a mutex to prevent simultaneous access to the TCP/IP stack}
120    \textcolor{keywordflow}{if}(!\hyperlink{os__port__chibios_8c_a16627f901c807c29adf29a38fb1af16a}{osCreateMutex}(&\hyperlink{net_8c_afe31551ad26115fae8e575654346d441}{netMutex}))
121    \{
122       \textcolor{comment}{//Failed to create mutex}
123       \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689ca528efe91b7a7e4bcc9a6de7d4b778c67}{ERROR\_OUT\_OF\_RESOURCES};
124    \}
125 
126    \textcolor{comment}{//Create a event object to receive notifications from device drivers}
127    \textcolor{keywordflow}{if}(!\hyperlink{os__port__chibios_8c_ac1658f3fed1eb64efcd47e4503a9ef2e}{osCreateEvent}(&\hyperlink{net_8c_a4ad5a175123589d00e402e0c1c842fdc}{netEvent}))
128    \{
129       \textcolor{comment}{//Failed to create mutex}
130       \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689ca528efe91b7a7e4bcc9a6de7d4b778c67}{ERROR\_OUT\_OF\_RESOURCES};
131    \}
132 
133    \textcolor{comment}{//Memory pool initialization}
134    error = \hyperlink{net__mem_8c_a0c7065e3d9c41e36d2b0f3411269578c}{memPoolInit}();
135    \textcolor{comment}{//Any error to report?}
136    \textcolor{keywordflow}{if}(error)
137       \textcolor{keywordflow}{return} error;
138 
139    \textcolor{comment}{//Clear configuration data for each interface}
140    memset(\hyperlink{net_8c_a7ecafab0039ec54d1d7a1e9e7402379b}{netInterface}, 0, \textcolor{keyword}{sizeof}(\hyperlink{net_8c_a7ecafab0039ec54d1d7a1e9e7402379b}{netInterface}));
141 
142    \textcolor{comment}{//Loop through network interfaces}
143    \textcolor{keywordflow}{for}(i = 0; i < \hyperlink{net_8h_a116f850ebcb023ffa3e6b8de10c5cb35}{NET\_INTERFACE\_COUNT}; i++)
144    \{
145       \textcolor{comment}{//Point to the current interface}
146       \textcolor{keyword}{interface }= &\hyperlink{net_8c_a7ecafab0039ec54d1d7a1e9e7402379b}{netInterface}[i];
147 
148       \textcolor{comment}{//Default interface name}
149       sprintf(interface->name, \textcolor{stringliteral}{"eth%u"}, i);
150 
151       \textcolor{comment}{//Zero-based index}
152       interface->index = i;
153       \textcolor{comment}{//Unique number identifying the interface}
154       interface->id = i;
155       \textcolor{comment}{//Default PHY address}
156       interface->phyAddr = \hyperlink{stdint_8h_aeb4e270a084ee26fe73e799861bd0252}{UINT8\_MAX};
157    \}
158 
159    \textcolor{comment}{//Create a mutex to prevent simultaneous access to the callback table}
160    \textcolor{keywordflow}{if}(!\hyperlink{os__port__chibios_8c_a16627f901c807c29adf29a38fb1af16a}{osCreateMutex}(&\hyperlink{net_8c_aedcdae294603417243185fc8cfceebfb}{callbackTableMutex}))
161    \{
162       \textcolor{comment}{//Failed to create mutex}
163       \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689ca528efe91b7a7e4bcc9a6de7d4b778c67}{ERROR\_OUT\_OF\_RESOURCES};
164    \}
165 
166    \textcolor{comment}{//Initialize callback table}
167    memset(\hyperlink{net_8c_a3cd9697b9a2c8ba5fe430ab8505b217a}{callbackTable}, 0, \textcolor{keyword}{sizeof}(\hyperlink{net_8c_a3cd9697b9a2c8ba5fe430ab8505b217a}{callbackTable}));
168 
169    \textcolor{comment}{//Socket related initialization}
170    error = \hyperlink{socket_8c_a0d875c0cf5ad68f72f23e982602f5aa2}{socketInit}();
171    \textcolor{comment}{//Any error to report?}
172    \textcolor{keywordflow}{if}(error)
173       \textcolor{keywordflow}{return} error;
174 
175 \textcolor{preprocessor}{#if (WEB\_SOCKET\_SUPPORT == ENABLED)}
176    \textcolor{comment}{//WebSocket related initialization}
177    \hyperlink{web__socket_8c_a5e1adda08b97654f980d5fdb39db17ce}{webSocketInit}();
178 \textcolor{preprocessor}{#endif}
179 
180 \textcolor{preprocessor}{#if (IPV4\_SUPPORT == ENABLED && IPV4\_ROUTING\_SUPPORT == ENABLED)}
181    \textcolor{comment}{//Initialize IPv4 routing table}
182    error = \hyperlink{ipv4__routing_8h_a877c3598e83fe07dcd3b7a1fa4907925}{ipv4InitRouting}();
183    \textcolor{comment}{//Any error to report?}
184    \textcolor{keywordflow}{if}(error)
185       \textcolor{keywordflow}{return} error;
186 \textcolor{preprocessor}{#endif}
187 
188 \textcolor{preprocessor}{#if (IPV6\_SUPPORT == ENABLED && IPV6\_ROUTING\_SUPPORT == ENABLED)}
189    \textcolor{comment}{//Initialize IPv6 routing table}
190    error = \hyperlink{ipv6__routing_8c_aa899a8d0b19a336c88b265a77849c312}{ipv6InitRouting}();
191    \textcolor{comment}{//Any error to report?}
192    \textcolor{keywordflow}{if}(error)
193       \textcolor{keywordflow}{return} error;
194 \textcolor{preprocessor}{#endif}
195 
196 \textcolor{preprocessor}{#if (UDP\_SUPPORT == ENABLED)}
197    \textcolor{comment}{//UDP related initialization}
198    error = \hyperlink{udp_8c_a211158b9656e3594bd076b2a3104c185}{udpInit}();
199    \textcolor{comment}{//Any error to report?}
200    \textcolor{keywordflow}{if}(error)
201       \textcolor{keywordflow}{return} error;
202 \textcolor{preprocessor}{#endif}
203 
204 \textcolor{preprocessor}{#if (TCP\_SUPPORT == ENABLED)}
205    \textcolor{comment}{//TCP related initialization}
206    error = \hyperlink{tcp_8c_ac9b0a9b949c8a39e3dfb4e54f4babb90}{tcpInit}();
207    \textcolor{comment}{//Any error to report?}
208    \textcolor{keywordflow}{if}(error)
209       \textcolor{keywordflow}{return} error;
210 \textcolor{preprocessor}{#endif}
211 
212 \textcolor{preprocessor}{#if (DNS\_CLIENT\_SUPPORT == ENABLED || MDNS\_CLIENT\_SUPPORT == ENABLED || \(\backslash\)}
213 \textcolor{preprocessor}{   NBNS\_CLIENT\_SUPPORT == ENABLED)}
214    \textcolor{comment}{//DNS cache initialization}
215    error = \hyperlink{dns__cache_8c_a672cf751d2b462aa4ff1c9809dc93f79}{dnsInit}();
216    \textcolor{comment}{//Any error to report?}
217    \textcolor{keywordflow}{if}(error)
218       \textcolor{keywordflow}{return} error;
219 \textcolor{preprocessor}{#endif}
220 
221    \textcolor{comment}{//Initialize tick counters}
222    \hyperlink{nic_8c_a1dd89f7555db6c62a9228c8a0f0c9806}{nicTickCounter} = 0;
223 
224 \textcolor{preprocessor}{#if (PPP\_SUPPORT == ENABLED)}
225    \hyperlink{ppp_8c_ae978e425325a88275be9719a4cf28a01}{pppTickCounter} = 0;
226 \textcolor{preprocessor}{#endif}
227 \textcolor{preprocessor}{#if (IPV4\_SUPPORT == ENABLED && ETH\_SUPPORT == ENABLED)}
228    \hyperlink{arp_8c_aa0adbd8d7d464b063104f6457979643e}{arpTickCounter} = 0;
229 \textcolor{preprocessor}{#endif}
230 \textcolor{preprocessor}{#if (IPV4\_SUPPORT == ENABLED && IPV4\_FRAG\_SUPPORT == ENABLED)}
231    \hyperlink{ipv4__frag_8c_a9746ee5d6e5f0f3c6a9bd554f1a6f509}{ipv4FragTickCounter} = 0;
232 \textcolor{preprocessor}{#endif}
233 \textcolor{preprocessor}{#if (IPV4\_SUPPORT == ENABLED && IGMP\_SUPPORT == ENABLED)}
234    \hyperlink{igmp_8c_a04bf70fce2f50dde04956ed9b26c49f8}{igmpTickCounter} = 0;
235 \textcolor{preprocessor}{#endif}
236 \textcolor{preprocessor}{#if (IPV4\_SUPPORT == ENABLED && AUTO\_IP\_SUPPORT == ENABLED)}
237    \hyperlink{auto__ip_8c_afbac3aaeb3fcc69c77093feeb75330fa}{autoIpTickCounter} = 0;
238 \textcolor{preprocessor}{#endif}
239 \textcolor{preprocessor}{#if (IPV4\_SUPPORT == ENABLED && DHCP\_CLIENT\_SUPPORT == ENABLED)}
240    \hyperlink{dhcp__client_8c_a480f65029706f0428cd3f999e97c7ea8}{dhcpClientTickCounter} = 0;
241 \textcolor{preprocessor}{#endif}
242 \textcolor{preprocessor}{#if (IPV4\_SUPPORT == ENABLED && DHCP\_SERVER\_SUPPORT == ENABLED)}
243    \hyperlink{dhcp__server_8c_a30af78630b1445a4a54a8b6a27db2918}{dhcpServerTickCounter} = 0;
244 \textcolor{preprocessor}{#endif}
245 \textcolor{preprocessor}{#if (IPV6\_SUPPORT == ENABLED && IPV6\_FRAG\_SUPPORT == ENABLED)}
246    \hyperlink{ipv6__frag_8c_af16e836bc6a4132381b1eaf2fa7a0564}{ipv6FragTickCounter} = 0;
247 \textcolor{preprocessor}{#endif}
248 \textcolor{preprocessor}{#if (IPV6\_SUPPORT == ENABLED && MLD\_SUPPORT == ENABLED)}
249    \hyperlink{mld_8c_abe446b43462e812f8106e2a5e51c86bf}{mldTickCounter} = 0;
250 \textcolor{preprocessor}{#endif}
251 \textcolor{preprocessor}{#if (IPV6\_SUPPORT == ENABLED && NDP\_SUPPORT == ENABLED)}
252    \hyperlink{ndp_8c_ac0dbbb540cd7f7eb6e8f42b820ef5407}{ndpTickCounter} = 0;
253 \textcolor{preprocessor}{#endif}
254 \textcolor{preprocessor}{#if (IPV6\_SUPPORT == ENABLED && NDP\_ROUTER\_ADV\_SUPPORT == ENABLED)}
255    \hyperlink{ndp__router__adv_8c_a7a7361c53c62d0008b3c45351ab44e8e}{ndpRouterAdvTickCounter} = 0;
256 \textcolor{preprocessor}{#endif}
257 \textcolor{preprocessor}{#if (IPV6\_SUPPORT == ENABLED && DHCPV6\_CLIENT\_SUPPORT == ENABLED)}
258    \hyperlink{dhcpv6__client_8c_a0ad2c17a8d547e75d579b9763ace80bb}{dhcpv6ClientTickCounter} = 0;
259 \textcolor{preprocessor}{#endif}
260 \textcolor{preprocessor}{#if (TCP\_SUPPORT == ENABLED)}
261    \hyperlink{tcp_8c_ac8a0b26b68c9a94f4886ec15a6d11498}{tcpTickCounter} = 0;
262 \textcolor{preprocessor}{#endif}
263 \textcolor{preprocessor}{#if (DNS\_CLIENT\_SUPPORT == ENABLED || MDNS\_CLIENT\_SUPPORT == ENABLED || \(\backslash\)}
264 \textcolor{preprocessor}{   NBNS\_CLIENT\_SUPPORT == ENABLED)}
265    \hyperlink{dns__cache_8c_ab78a95b8097e57c5ea2c75ffa37ade69}{dnsTickCounter} = 0;
266 \textcolor{preprocessor}{#endif}
267 \textcolor{preprocessor}{#if (MDNS\_RESPONDER\_SUPPORT == ENABLED)}
268    \hyperlink{mdns__responder_8c_a1b24a54d278d510b4af4eea8b2f44855}{mdnsResponderTickCounter} = 0;
269 \textcolor{preprocessor}{#endif}
270 \textcolor{preprocessor}{#if (DNS\_SD\_SUPPORT == ENABLED)}
271    \hyperlink{dns__sd_8c_af478f9554cd38e6072cdfed76fc59e61}{dnsSdTickCounter} = 0;
272 \textcolor{preprocessor}{#endif}
273 
274 \textcolor{preprocessor}{#if (NET\_STATIC\_OS\_RESOURCES == ENABLED)}
275    \textcolor{comment}{//Create a task to handle TCP/IP events}
276    \hyperlink{os__port__chibios_8c_a98ad250c8e669354f7b273e37d8843d6}{osCreateStaticTask}(&\hyperlink{net_8c_add83b06b74c75c4754a4f4ba26c236b3}{netTaskInstance}, \textcolor{stringliteral}{"TCP/IP Stack"}, (
      \hyperlink{os__port__chibios_8h_a52a4e1975bb554c2ce70aaac35b752d2}{OsTaskCode}) \hyperlink{net_8c_a872255f8768898f1dd6e2a5f74f40d98}{netTask},
277       \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}, \hyperlink{net_8c_a852a4c6b97d99e7aff1af06be25da08c}{netTaskStack}, \hyperlink{net_8h_a45e3beb061abbbefef96b890c3f2f86a}{NET\_TASK\_STACK\_SIZE}, 
      \hyperlink{net_8h_a048a577cee19856c61a69a1089f835a3}{NET\_TASK\_PRIORITY});
278 \textcolor{preprocessor}{#else}
279    \textcolor{comment}{//Create a task to handle TCP/IP events}
280    \hyperlink{net_8c_a93931693c83b6b416bfa6dcd5be8db40}{netTaskHandle} = \hyperlink{os__port__chibios_8c_aef8c6fe13a0df9e5cfaeb0501ecbac3e}{osCreateTask}(\textcolor{stringliteral}{"TCP/IP Stack"}, (
      \hyperlink{os__port__chibios_8h_a52a4e1975bb554c2ce70aaac35b752d2}{OsTaskCode}) \hyperlink{net_8c_a872255f8768898f1dd6e2a5f74f40d98}{netTask},
281       \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}, \hyperlink{net_8h_a45e3beb061abbbefef96b890c3f2f86a}{NET\_TASK\_STACK\_SIZE}, \hyperlink{net_8h_a048a577cee19856c61a69a1089f835a3}{NET\_TASK\_PRIORITY});
282 
283    \textcolor{comment}{//Unable to create the task?}
284    \textcolor{keywordflow}{if}(\hyperlink{net_8c_a93931693c83b6b416bfa6dcd5be8db40}{netTaskHandle} == \hyperlink{os__port_8h_aa673e52d8b286c3b613ad127aa85d536}{OS\_INVALID\_HANDLE})
285       \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689ca528efe91b7a7e4bcc9a6de7d4b778c67}{ERROR\_OUT\_OF\_RESOURCES};
286 \textcolor{preprocessor}{#endif}
287 
288 \textcolor{preprocessor}{#if (NET\_RTOS\_SUPPORT == DISABLED)}
289    \textcolor{comment}{//The TCP/IP process is now running}
290    \hyperlink{net_8c_a760501605418d098b5bb4c03fd8db030}{netTaskRunning} = \hyperlink{os__port_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
291 \textcolor{preprocessor}{#endif}
292 
293    \textcolor{comment}{//Successful initialization}
294    \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94}{NO\_ERROR};
295 \}
\end{DoxyCode}
\mbox{\Hypertarget{net_8h_a4ea5894937acf76289c0cb2ab1e06f9e}\label{net_8h_a4ea5894937acf76289c0cb2ab1e06f9e}} 
\index{net.\+h@{net.\+h}!net\+Init\+Rand@{net\+Init\+Rand}}
\index{net\+Init\+Rand@{net\+Init\+Rand}!net.\+h@{net.\+h}}
\subsubsection{\texorpdfstring{net\+Init\+Rand()}{netInitRand()}}
{\footnotesize\ttfamily \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} net\+Init\+Rand (\begin{DoxyParamCaption}\item[{\hyperlink{stdint_8h_a435d1572bf3f880d55459d9805097f62}{uint32\+\_\+t}}]{seed }\end{DoxyParamCaption})}



Seed pseudo-\/random number generator. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em seed} & An integer value to be used as seed by the pseudo-\/random number generator \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Error code 
\end{DoxyReturn}


Definition at line 1796 of file net.\+c.


\begin{DoxyCode}
1797 \{
1798    \textcolor{comment}{//Seed the pseudo-random number generator}
1799    \hyperlink{net_8c_acf31bb22420fd9f9be41eff9035c3990}{prngState} += \hyperlink{demo_2microchip_2pic32mz__ef__curiosity_2wifi__http__server__demo_2src_2main_8c_ae5b6f47ec5afdb614046a54e45a39c69}{seed};
1800 
1801    \textcolor{comment}{//Successful processing}
1802    \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94}{NO\_ERROR};
1803 \}
\end{DoxyCode}
\mbox{\Hypertarget{net_8h_a3af1f02f709409c079cc673ae3f95a83}\label{net_8h_a3af1f02f709409c079cc673ae3f95a83}} 
\index{net.\+h@{net.\+h}!net\+Invoke\+Link\+Change\+Callback@{net\+Invoke\+Link\+Change\+Callback}}
\index{net\+Invoke\+Link\+Change\+Callback@{net\+Invoke\+Link\+Change\+Callback}!net.\+h@{net.\+h}}
\subsubsection{\texorpdfstring{net\+Invoke\+Link\+Change\+Callback()}{netInvokeLinkChangeCallback()}}
{\footnotesize\ttfamily void net\+Invoke\+Link\+Change\+Callback (\begin{DoxyParamCaption}\item[{\hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{Net\+Interface} $\ast$}]{interface,  }\item[{\hyperlink{compiler__port_8h_a812d16e5494522586b3784e55d479912}{bool\+\_\+t}}]{link\+State }\end{DoxyParamCaption})}



Invoke link change callback. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em interface} & Underlying network interface \\
\hline
\mbox{\tt in}  & {\em link\+State} & Link state \\
\hline
\end{DoxyParams}


Definition at line 1945 of file net.\+c.


\begin{DoxyCode}
1946 \{
1947    \hyperlink{compiler__port_8h_a12a1e9b3ce141648783a82445d02b58d}{uint\_t} i;
1948    \hyperlink{structLinkChangeCallbackDesc}{LinkChangeCallbackDesc} *entry;
1949 
1950    \textcolor{comment}{//Acquire exclusive access to the callback table}
1951    \hyperlink{os__port__chibios_8c_a58485224df4bfa522246d55b35bbd83a}{osAcquireMutex}(&\hyperlink{net_8c_aedcdae294603417243185fc8cfceebfb}{callbackTableMutex});
1952 
1953    \textcolor{comment}{//Loop through the table}
1954    \textcolor{keywordflow}{for}(i = 0; i < \hyperlink{net_8h_a07a68d78a33b6bbdd2b5c9cf64d1abf8}{NET\_CALLBACK\_TABLE\_SIZE}; i++)
1955    \{
1956       \textcolor{comment}{//Point to the current entry}
1957       entry = &\hyperlink{net_8c_a3cd9697b9a2c8ba5fe430ab8505b217a}{callbackTable}[i];
1958 
1959       \textcolor{comment}{//Any registered callback?}
1960       \textcolor{keywordflow}{if}(entry->\hyperlink{structLinkChangeCallbackDesc_a1ba4a8df84d49e9817ea124d6e3f76e9}{callback} != \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
1961       \{
1962          \textcolor{comment}{//Check whether the network interface matches the current entry}
1963          \textcolor{keywordflow}{if}(entry->\hyperlink{structLinkChangeCallbackDesc_adc36a3ad331a45c3bde009cc476bd559}{interface} == \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} || entry->\hyperlink{structLinkChangeCallbackDesc_adc36a3ad331a45c3bde009cc476bd559}{interface} == interface)
1964          \{
1965             \textcolor{comment}{//Invoke user callback function}
1966             entry->\hyperlink{structLinkChangeCallbackDesc_a1ba4a8df84d49e9817ea124d6e3f76e9}{callback}(interface, linkState, entry->\hyperlink{structLinkChangeCallbackDesc_a109ef09876fabae6dad4286d1a105a00}{param});
1967          \}
1968       \}
1969    \}
1970 
1971    \textcolor{comment}{//Release exclusive access to the callback table}
1972    \hyperlink{os__port__chibios_8c_a8e10e5b2c6d3877b5ba60e375ac45d79}{osReleaseMutex}(&\hyperlink{net_8c_aedcdae294603417243185fc8cfceebfb}{callbackTableMutex});
1973 \}
\end{DoxyCode}
\mbox{\Hypertarget{net_8h_a640aeb84055d730ae11aaa7aaab61d8e}\label{net_8h_a640aeb84055d730ae11aaa7aaab61d8e}} 
\index{net.\+h@{net.\+h}!net\+Process\+Link\+Change@{net\+Process\+Link\+Change}}
\index{net\+Process\+Link\+Change@{net\+Process\+Link\+Change}!net.\+h@{net.\+h}}
\subsubsection{\texorpdfstring{net\+Process\+Link\+Change()}{netProcessLinkChange()}}
{\footnotesize\ttfamily void net\+Process\+Link\+Change (\begin{DoxyParamCaption}\item[{\hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{Net\+Interface} $\ast$}]{interface }\end{DoxyParamCaption})}



Process link state change event. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em interface} & Underlying network interface \\
\hline
\end{DoxyParams}


Definition at line 1215 of file net.\+c.


\begin{DoxyCode}
1216 \{
1217    \hyperlink{compiler__port_8h_a12a1e9b3ce141648783a82445d02b58d}{uint\_t} i;
1218    \hyperlink{socket_8h_aa85acfb0fa336ef495e6ba87fb88fc48}{Socket} *\hyperlink{bsd__socket_8c_a3f8f3a2707fbc87fc30aa70f31f53218}{socket};
1219 
1220    \textcolor{comment}{//Check link state}
1221    \textcolor{keywordflow}{if}(interface->linkState)
1222    \{
1223       \textcolor{comment}{//Display link state}
1224       \hyperlink{debug_8h_a7339bfd784193a5c79efcef2eeb2d6df}{TRACE\_INFO}(\textcolor{stringliteral}{"Link is up (%s)...\(\backslash\)r\(\backslash\)n"}, interface->name);
1225 
1226       \textcolor{comment}{//Display link speed}
1227       \textcolor{keywordflow}{if}(interface->linkSpeed == \hyperlink{nic_8h_afef666155a43e0a2a3a1f0df9e50bab4a80d2206215bf4b2f0c40c2fb44291380}{NIC\_LINK\_SPEED\_1GBPS})
1228       \{
1229          \textcolor{comment}{//1000BASE-T}
1230          \hyperlink{debug_8h_a7339bfd784193a5c79efcef2eeb2d6df}{TRACE\_INFO}(\textcolor{stringliteral}{"  Link speed = 1000 Mbps\(\backslash\)r\(\backslash\)n"});
1231       \}
1232       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(interface->linkSpeed == \hyperlink{nic_8h_afef666155a43e0a2a3a1f0df9e50bab4a3001394d2b59b22c97f6957e07ca28fd}{NIC\_LINK\_SPEED\_100MBPS})
1233       \{
1234          \textcolor{comment}{//100BASE-TX}
1235          \hyperlink{debug_8h_a7339bfd784193a5c79efcef2eeb2d6df}{TRACE\_INFO}(\textcolor{stringliteral}{"  Link speed = 100 Mbps\(\backslash\)r\(\backslash\)n"});
1236       \}
1237       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(interface->linkSpeed == \hyperlink{nic_8h_afef666155a43e0a2a3a1f0df9e50bab4a43656b0244470a43d497c77353f3da84}{NIC\_LINK\_SPEED\_10MBPS})
1238       \{
1239          \textcolor{comment}{//10BASE-T}
1240          \hyperlink{debug_8h_a7339bfd784193a5c79efcef2eeb2d6df}{TRACE\_INFO}(\textcolor{stringliteral}{"  Link speed = 10 Mbps\(\backslash\)r\(\backslash\)n"});
1241       \}
1242       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(interface->linkSpeed != \hyperlink{nic_8h_afef666155a43e0a2a3a1f0df9e50bab4a77e6c81652333fac98361950c2b6a4f8}{NIC\_LINK\_SPEED\_UNKNOWN})
1243       \{
1244          \textcolor{comment}{//10BASE-T}
1245          \hyperlink{debug_8h_a7339bfd784193a5c79efcef2eeb2d6df}{TRACE\_INFO}(\textcolor{stringliteral}{"  Link speed = %"} PRIu32 \textcolor{stringliteral}{" bps\(\backslash\)r\(\backslash\)n"},
1246             interface->linkSpeed);
1247       \}
1248 
1249       \textcolor{comment}{//Display duplex mode}
1250       \textcolor{keywordflow}{if}(interface->duplexMode == \hyperlink{nic_8h_ae96e77ca948a3796e2d1900a73f133daa2c75584234136d8fd79f372116d26340}{NIC\_FULL\_DUPLEX\_MODE})
1251       \{
1252          \textcolor{comment}{//1000BASE-T}
1253          \hyperlink{debug_8h_a7339bfd784193a5c79efcef2eeb2d6df}{TRACE\_INFO}(\textcolor{stringliteral}{"  Duplex mode = Full-Duplex\(\backslash\)r\(\backslash\)n"});
1254       \}
1255       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(interface->duplexMode == \hyperlink{nic_8h_ae96e77ca948a3796e2d1900a73f133daa60856f1c6ecbcb1227b653fb48205f41}{NIC\_HALF\_DUPLEX\_MODE})
1256       \{
1257          \textcolor{comment}{//100BASE-TX}
1258          \hyperlink{debug_8h_a7339bfd784193a5c79efcef2eeb2d6df}{TRACE\_INFO}(\textcolor{stringliteral}{"  Duplex mode = Half-Duplex\(\backslash\)r\(\backslash\)n"});
1259       \}
1260    \}
1261    \textcolor{keywordflow}{else}
1262    \{
1263       \textcolor{comment}{//Display link state}
1264       \hyperlink{debug_8h_a7339bfd784193a5c79efcef2eeb2d6df}{TRACE\_INFO}(\textcolor{stringliteral}{"Link is down (%s)...\(\backslash\)r\(\backslash\)n"}, interface->name);
1265    \}
1266 
1267    \textcolor{comment}{//The time at which the interface entered its current operational state}
1268    \hyperlink{mib2__module_8h_a4075dd267b46ef08c87e82d9960928c6}{MIB2\_SET\_TIME\_TICKS}(ifGroup.ifTable[interface->index].ifLastChange,
1269       \hyperlink{os__port__chibios_8c_ab66a11272d40a916fa69dd8e4dc443d4}{osGetSystemTime}() / 10);
1270    \hyperlink{if__mib__module_8h_aae6a3fc53be7de212b60cde4ee1aa5dc}{IF\_MIB\_SET\_TIME\_TICKS}(ifTable[interface->index].ifLastChange,
1271       \hyperlink{os__port__chibios_8c_ab66a11272d40a916fa69dd8e4dc443d4}{osGetSystemTime}() / 10);
1272 
1273 \textcolor{preprocessor}{#if (IPV4\_SUPPORT == ENABLED)}
1274    \textcolor{comment}{//Notify IPv4 of link state changes}
1275    \hyperlink{ipv4_8c_a07a8905fd26986a0d6df2d207c14b4ca}{ipv4LinkChangeEvent}(interface);
1276 \textcolor{preprocessor}{#endif}
1277 
1278 \textcolor{preprocessor}{#if (IPV6\_SUPPORT == ENABLED)}
1279    \textcolor{comment}{//Notify IPv6 of link state changes}
1280    \hyperlink{ipv6_8c_ac8b0ec87ae6c0f7c8b37e5d225b0c972}{ipv6LinkChangeEvent}(interface);
1281 \textcolor{preprocessor}{#endif}
1282 
1283 \textcolor{preprocessor}{#if (DNS\_CLIENT\_SUPPORT == ENABLED || MDNS\_CLIENT\_SUPPORT == ENABLED || \(\backslash\)}
1284 \textcolor{preprocessor}{   NBNS\_CLIENT\_SUPPORT == ENABLED)}
1285    \textcolor{comment}{//Flush DNS cache}
1286    \hyperlink{dns__cache_8c_a5304462a0585074999dcecb20f8ae912}{dnsFlushCache}(interface);
1287 \textcolor{preprocessor}{#endif}
1288 
1289 \textcolor{preprocessor}{#if (MDNS\_RESPONDER\_SUPPORT == ENABLED)}
1290    \textcolor{comment}{//Perform probing and announcing}
1291    \hyperlink{mdns__responder_8c_aeaff2b8b254457a219a8d19484d94227}{mdnsResponderLinkChangeEvent}(interface->mdnsResponderContext);
1292 \textcolor{preprocessor}{#endif}
1293 
1294 \textcolor{preprocessor}{#if (DNS\_SD\_SUPPORT == ENABLED)}
1295    \textcolor{comment}{//Perform probing and announcing}
1296    \hyperlink{dns__sd_8c_a6aeb243478f2d1878c585bc0743a3221}{dnsSdLinkChangeEvent}(interface->dnsSdContext);
1297 \textcolor{preprocessor}{#endif}
1298    \textcolor{comment}{//Notify registered users of link state changes}
1299    \hyperlink{net_8c_a3af1f02f709409c079cc673ae3f95a83}{netInvokeLinkChangeCallback}(interface, interface->linkState);
1300 
1301    \textcolor{comment}{//Loop through opened sockets}
1302    \textcolor{keywordflow}{for}(i = 0; i < \hyperlink{socket_8h_ab793a8c76592a00fa3ea0510cd2ffe3a}{SOCKET\_MAX\_COUNT}; i++)
1303    \{
1304       \textcolor{comment}{//Point to the current socket}
1305       socket = \hyperlink{socket_8c_acdd76d8e01b4715c774c404b10f958da}{socketTable} + i;
1306 
1307 \textcolor{preprocessor}{#if (TCP\_SUPPORT == ENABLED)}
1308       \textcolor{comment}{//Connection-oriented socket?}
1309       \textcolor{keywordflow}{if}(socket->type == \hyperlink{socket_8h_aa78c7398fa81f7f62aa233159d4d8d97a9dab003c4dc9f7279e806241534d4859}{SOCKET\_TYPE\_STREAM})
1310       \{
1311          \hyperlink{tcp__misc_8c_a1d69d8ed2662a74417c757291f540077}{tcpUpdateEvents}(socket);
1312       \}
1313 \textcolor{preprocessor}{#endif}
1314 
1315 \textcolor{preprocessor}{#if (UDP\_SUPPORT == ENABLED)}
1316       \textcolor{comment}{//Connectionless socket?}
1317       \textcolor{keywordflow}{if}(socket->type == \hyperlink{socket_8h_aa78c7398fa81f7f62aa233159d4d8d97a26963b01dac3a99a930779035d3796a7}{SOCKET\_TYPE\_DGRAM})
1318       \{
1319          \hyperlink{udp_8c_a9602ce39b27bfab384388170f1a25eab}{udpUpdateEvents}(socket);
1320       \}
1321 \textcolor{preprocessor}{#endif}
1322 
1323 \textcolor{preprocessor}{#if (RAW\_SOCKET\_SUPPORT == ENABLED)}
1324       \textcolor{comment}{//Raw socket?}
1325       \textcolor{keywordflow}{if}(socket->type == \hyperlink{socket_8h_aa78c7398fa81f7f62aa233159d4d8d97a3db886c9e1e99cf877623ee040af71c5}{SOCKET\_TYPE\_RAW\_IP} ||
1326          socket->type == \hyperlink{socket_8h_aa78c7398fa81f7f62aa233159d4d8d97a4cdd66d5c35beeed721c6b43a779315c}{SOCKET\_TYPE\_RAW\_ETH})
1327       \{
1328          \hyperlink{raw__socket_8c_ad2549c2b0b0ee5cdab3fb45dbb5770d4}{rawSocketUpdateEvents}(socket);
1329       \}
1330 \textcolor{preprocessor}{#endif}
1331    \}
1332 \}
\end{DoxyCode}
\mbox{\Hypertarget{net_8h_a121c90cb72825dd4bacd3f2d1da7d2d6}\label{net_8h_a121c90cb72825dd4bacd3f2d1da7d2d6}} 
\index{net.\+h@{net.\+h}!net\+Set\+Driver@{net\+Set\+Driver}}
\index{net\+Set\+Driver@{net\+Set\+Driver}!net.\+h@{net.\+h}}
\subsubsection{\texorpdfstring{net\+Set\+Driver()}{netSetDriver()}}
{\footnotesize\ttfamily \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} net\+Set\+Driver (\begin{DoxyParamCaption}\item[{\hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{Net\+Interface} $\ast$}]{interface,  }\item[{const \hyperlink{structNicDriver}{Nic\+Driver} $\ast$}]{driver }\end{DoxyParamCaption})}



Set Ethernet M\+AC driver. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em interface} & Pointer to the desired network interface \\
\hline
\mbox{\tt in}  & {\em driver} & Ethernet M\+AC driver \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Error code 
\end{DoxyReturn}


Definition at line 674 of file net.\+c.


\begin{DoxyCode}
675 \{
676    \textcolor{comment}{//Check parameters}
677    \textcolor{keywordflow}{if}(interface == \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} || driver == \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
678       \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689caeae4b12e06d727d085f75f79a820f2e8}{ERROR\_INVALID\_PARAMETER};
679 
680    \textcolor{comment}{//Get exclusive access}
681    \hyperlink{os__port__chibios_8c_a58485224df4bfa522246d55b35bbd83a}{osAcquireMutex}(&\hyperlink{net_8c_afe31551ad26115fae8e575654346d441}{netMutex});
682    \textcolor{comment}{//Set Ethernet MAC driver}
683    interface->nicDriver = driver;
684    \textcolor{comment}{//Release exclusive access}
685    \hyperlink{os__port__chibios_8c_a8e10e5b2c6d3877b5ba60e375ac45d79}{osReleaseMutex}(&\hyperlink{net_8c_afe31551ad26115fae8e575654346d441}{netMutex});
686 
687    \textcolor{comment}{//Successful processing}
688    \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94}{NO\_ERROR};
689 \}
\end{DoxyCode}
\mbox{\Hypertarget{net_8h_abb44da7bf474bf68dda49a3f77f4ee9e}\label{net_8h_abb44da7bf474bf68dda49a3f77f4ee9e}} 
\index{net.\+h@{net.\+h}!net\+Set\+Eui64@{net\+Set\+Eui64}}
\index{net\+Set\+Eui64@{net\+Set\+Eui64}!net.\+h@{net.\+h}}
\subsubsection{\texorpdfstring{net\+Set\+Eui64()}{netSetEui64()}}
{\footnotesize\ttfamily \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} net\+Set\+Eui64 (\begin{DoxyParamCaption}\item[{\hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{Net\+Interface} $\ast$}]{interface,  }\item[{const \hyperlink{ethernet_8h_acbcae3afd042b3ce97e42f54013c8137}{Eui64} $\ast$}]{eui64 }\end{DoxyParamCaption})}



Set E\+U\+I-\/64 interface identifier. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em interface} & Pointer to the desired network interface \\
\hline
\mbox{\tt in}  & {\em eui64} & Interface identifier \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Error code 
\end{DoxyReturn}


Definition at line 377 of file net.\+c.


\begin{DoxyCode}
378 \{
379    \textcolor{comment}{//Check parameters}
380    \textcolor{keywordflow}{if}(interface == \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} || eui64 == \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
381       \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689caeae4b12e06d727d085f75f79a820f2e8}{ERROR\_INVALID\_PARAMETER};
382 
383    \textcolor{comment}{//Get exclusive access}
384    \hyperlink{os__port__chibios_8c_a58485224df4bfa522246d55b35bbd83a}{osAcquireMutex}(&\hyperlink{net_8c_afe31551ad26115fae8e575654346d441}{netMutex});
385    \textcolor{comment}{//Set interface identifier}
386    interface->eui64 = *eui64;
387    \textcolor{comment}{//Release exclusive access}
388    \hyperlink{os__port__chibios_8c_a8e10e5b2c6d3877b5ba60e375ac45d79}{osReleaseMutex}(&\hyperlink{net_8c_afe31551ad26115fae8e575654346d441}{netMutex});
389 
390    \textcolor{comment}{//Successful processing}
391    \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94}{NO\_ERROR};
392 \}
\end{DoxyCode}
\mbox{\Hypertarget{net_8h_a3e6c19a265397865e72e97e49355f777}\label{net_8h_a3e6c19a265397865e72e97e49355f777}} 
\index{net.\+h@{net.\+h}!net\+Set\+Ext\+Int\+Driver@{net\+Set\+Ext\+Int\+Driver}}
\index{net\+Set\+Ext\+Int\+Driver@{net\+Set\+Ext\+Int\+Driver}!net.\+h@{net.\+h}}
\subsubsection{\texorpdfstring{net\+Set\+Ext\+Int\+Driver()}{netSetExtIntDriver()}}
{\footnotesize\ttfamily \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} net\+Set\+Ext\+Int\+Driver (\begin{DoxyParamCaption}\item[{\hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{Net\+Interface} $\ast$}]{interface,  }\item[{const \hyperlink{structExtIntDriver}{Ext\+Int\+Driver} $\ast$}]{driver }\end{DoxyParamCaption})}



Set external interrupt line driver. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em interface} & Pointer to the desired network interface \\
\hline
\mbox{\tt in}  & {\em driver} & Underlying S\+PI driver \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Error code 
\end{DoxyReturn}


Definition at line 803 of file net.\+c.


\begin{DoxyCode}
804 \{
805    \textcolor{comment}{//Check parameters}
806    \textcolor{keywordflow}{if}(interface == \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} || driver == \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
807       \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689caeae4b12e06d727d085f75f79a820f2e8}{ERROR\_INVALID\_PARAMETER};
808 
809    \textcolor{comment}{//Get exclusive access}
810    \hyperlink{os__port__chibios_8c_a58485224df4bfa522246d55b35bbd83a}{osAcquireMutex}(&\hyperlink{net_8c_afe31551ad26115fae8e575654346d441}{netMutex});
811    \textcolor{comment}{//Set external interrupt line driver}
812    interface->extIntDriver = driver;
813    \textcolor{comment}{//Release exclusive access}
814    \hyperlink{os__port__chibios_8c_a8e10e5b2c6d3877b5ba60e375ac45d79}{osReleaseMutex}(&\hyperlink{net_8c_afe31551ad26115fae8e575654346d441}{netMutex});
815 
816    \textcolor{comment}{//Successful processing}
817    \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94}{NO\_ERROR};
818 \}
\end{DoxyCode}
\mbox{\Hypertarget{net_8h_a778e7bcf036a8c830ee269c342b5f757}\label{net_8h_a778e7bcf036a8c830ee269c342b5f757}} 
\index{net.\+h@{net.\+h}!net\+Set\+Hostname@{net\+Set\+Hostname}}
\index{net\+Set\+Hostname@{net\+Set\+Hostname}!net.\+h@{net.\+h}}
\subsubsection{\texorpdfstring{net\+Set\+Hostname()}{netSetHostname()}}
{\footnotesize\ttfamily \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} net\+Set\+Hostname (\begin{DoxyParamCaption}\item[{\hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{Net\+Interface} $\ast$}]{interface,  }\item[{const \hyperlink{compiler__port_8h_a40bb5262bf908c328fbcfbe5d29d0201}{char\+\_\+t} $\ast$}]{name }\end{DoxyParamCaption})}



Set host name. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em interface} & Pointer to the desired network interface \\
\hline
\mbox{\tt in}  & {\em name} & N\+U\+L\+L-\/terminated string that contains the host name \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Error code 
\end{DoxyReturn}


Definition at line 486 of file net.\+c.


\begin{DoxyCode}
487 \{
488    \textcolor{comment}{//Check parameters}
489    \textcolor{keywordflow}{if}(interface == \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} || \hyperlink{resource__manager_8h_a26532d7194d592ae8da35222073f36d6}{name} == \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
490       \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689caeae4b12e06d727d085f75f79a820f2e8}{ERROR\_INVALID\_PARAMETER};
491 
492    \textcolor{comment}{//Get exclusive access}
493    \hyperlink{os__port__chibios_8c_a58485224df4bfa522246d55b35bbd83a}{osAcquireMutex}(&\hyperlink{net_8c_afe31551ad26115fae8e575654346d441}{netMutex});
494 
495    \textcolor{comment}{//Set host name}
496    \hyperlink{str_8c_ac10cb0bca1fb0c39b2c765afd068486d}{strSafeCopy}(interface->hostname, \hyperlink{resource__manager_8h_a26532d7194d592ae8da35222073f36d6}{name}, \hyperlink{net_8h_a3f9223c8ef61451fec92d5354c93b34f}{NET\_MAX\_HOSTNAME\_LEN});
497 
498    \textcolor{comment}{//Release exclusive access}
499    \hyperlink{os__port__chibios_8c_a8e10e5b2c6d3877b5ba60e375ac45d79}{osReleaseMutex}(&\hyperlink{net_8c_afe31551ad26115fae8e575654346d441}{netMutex});
500 
501    \textcolor{comment}{//Successful processing}
502    \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94}{NO\_ERROR};
503 \}
\end{DoxyCode}
\mbox{\Hypertarget{net_8h_ad584937e2e925f0db71461c672fd03bc}\label{net_8h_ad584937e2e925f0db71461c672fd03bc}} 
\index{net.\+h@{net.\+h}!net\+Set\+Interface\+Id@{net\+Set\+Interface\+Id}}
\index{net\+Set\+Interface\+Id@{net\+Set\+Interface\+Id}!net.\+h@{net.\+h}}
\subsubsection{\texorpdfstring{net\+Set\+Interface\+Id()}{netSetInterfaceId()}}
{\footnotesize\ttfamily \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} net\+Set\+Interface\+Id (\begin{DoxyParamCaption}\item[{\hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{Net\+Interface} $\ast$}]{interface,  }\item[{\hyperlink{stdint_8h_a435d1572bf3f880d55459d9805097f62}{uint32\+\_\+t}}]{id }\end{DoxyParamCaption})}



Set interface identifier. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em interface} & Pointer to the desired network interface \\
\hline
\mbox{\tt in}  & {\em id} & Unique number identifying the interface \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Error code 
\end{DoxyReturn}


Definition at line 434 of file net.\+c.


\begin{DoxyCode}
435 \{
436    \textcolor{comment}{//Check parameters}
437    \textcolor{keywordflow}{if}(interface == \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
438       \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689caeae4b12e06d727d085f75f79a820f2e8}{ERROR\_INVALID\_PARAMETER};
439 
440    \textcolor{comment}{//Get exclusive access}
441    \hyperlink{os__port__chibios_8c_a58485224df4bfa522246d55b35bbd83a}{osAcquireMutex}(&\hyperlink{net_8c_afe31551ad26115fae8e575654346d441}{netMutex});
442    \textcolor{comment}{//Set interface identifier}
443    interface->id = \hyperlink{dns__common_8h_a4fc3a0c58dfbd1e68224521185cb9384}{id};
444    \textcolor{comment}{//Release exclusive access}
445    \hyperlink{os__port__chibios_8c_a8e10e5b2c6d3877b5ba60e375ac45d79}{osReleaseMutex}(&\hyperlink{net_8c_afe31551ad26115fae8e575654346d441}{netMutex});
446 
447    \textcolor{comment}{//Successful processing}
448    \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94}{NO\_ERROR};
449 \}
\end{DoxyCode}
\mbox{\Hypertarget{net_8h_a3a4dcc2007e250fb641c5a77443d1bb7}\label{net_8h_a3a4dcc2007e250fb641c5a77443d1bb7}} 
\index{net.\+h@{net.\+h}!net\+Set\+Interface\+Name@{net\+Set\+Interface\+Name}}
\index{net\+Set\+Interface\+Name@{net\+Set\+Interface\+Name}!net.\+h@{net.\+h}}
\subsubsection{\texorpdfstring{net\+Set\+Interface\+Name()}{netSetInterfaceName()}}
{\footnotesize\ttfamily \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} net\+Set\+Interface\+Name (\begin{DoxyParamCaption}\item[{\hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{Net\+Interface} $\ast$}]{interface,  }\item[{const \hyperlink{compiler__port_8h_a40bb5262bf908c328fbcfbe5d29d0201}{char\+\_\+t} $\ast$}]{name }\end{DoxyParamCaption})}



Set interface name. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em interface} & Pointer to the desired network interface \\
\hline
\mbox{\tt in}  & {\em name} & N\+U\+L\+L-\/terminated string that contains the interface name \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Error code 
\end{DoxyReturn}


Definition at line 459 of file net.\+c.


\begin{DoxyCode}
460 \{
461    \textcolor{comment}{//Check parameters}
462    \textcolor{keywordflow}{if}(interface == \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} || \hyperlink{resource__manager_8h_a26532d7194d592ae8da35222073f36d6}{name} == \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
463       \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689caeae4b12e06d727d085f75f79a820f2e8}{ERROR\_INVALID\_PARAMETER};
464 
465    \textcolor{comment}{//Get exclusive access}
466    \hyperlink{os__port__chibios_8c_a58485224df4bfa522246d55b35bbd83a}{osAcquireMutex}(&\hyperlink{net_8c_afe31551ad26115fae8e575654346d441}{netMutex});
467 
468    \textcolor{comment}{//Set interface name}
469    \hyperlink{str_8c_ac10cb0bca1fb0c39b2c765afd068486d}{strSafeCopy}(interface->name, \hyperlink{resource__manager_8h_a26532d7194d592ae8da35222073f36d6}{name}, \hyperlink{net_8h_a2064ee62d318037f2c1168cab858c852}{NET\_MAX\_IF\_NAME\_LEN});
470 
471    \textcolor{comment}{//Release exclusive access}
472    \hyperlink{os__port__chibios_8c_a8e10e5b2c6d3877b5ba60e375ac45d79}{osReleaseMutex}(&\hyperlink{net_8c_afe31551ad26115fae8e575654346d441}{netMutex});
473 
474    \textcolor{comment}{//Successful processing}
475    \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94}{NO\_ERROR};
476 \}
\end{DoxyCode}
\mbox{\Hypertarget{net_8h_a9abc7ba244949a68a0a5ceb24215ef4d}\label{net_8h_a9abc7ba244949a68a0a5ceb24215ef4d}} 
\index{net.\+h@{net.\+h}!net\+Set\+Link\+State@{net\+Set\+Link\+State}}
\index{net\+Set\+Link\+State@{net\+Set\+Link\+State}!net.\+h@{net.\+h}}
\subsubsection{\texorpdfstring{net\+Set\+Link\+State()}{netSetLinkState()}}
{\footnotesize\ttfamily \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} net\+Set\+Link\+State (\begin{DoxyParamCaption}\item[{\hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{Net\+Interface} $\ast$}]{interface,  }\item[{\hyperlink{nic_8h_a0febd18365446a71d375767b1e98af38}{Nic\+Link\+State}}]{link\+State }\end{DoxyParamCaption})}



Set link state (for virtual drivers only) 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em interface} & Pointer to the desired network interface \\
\hline
\mbox{\tt in}  & {\em link\+State} & Link state \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Error code 
\end{DoxyReturn}


Definition at line 828 of file net.\+c.


\begin{DoxyCode}
829 \{
830     \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\_t} error = \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94}{NO\_ERROR};
831    \textcolor{comment}{//Make sure the network interface is valid}
832    \textcolor{keywordflow}{if}(interface == \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
833       \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689caeae4b12e06d727d085f75f79a820f2e8}{ERROR\_INVALID\_PARAMETER};
834 
835    \textcolor{comment}{//Get exclusive access}
836    \hyperlink{os__port__chibios_8c_a58485224df4bfa522246d55b35bbd83a}{osAcquireMutex}(&\hyperlink{net_8c_afe31551ad26115fae8e575654346d441}{netMutex});
837 
838    \textcolor{comment}{//Link state changed?}
839    \textcolor{keywordflow}{if}(linkState != interface->linkState)
840    \{
841       \textcolor{comment}{//Update link state}
842       interface->linkState = linkState;
843       \textcolor{comment}{//Process link state change event}
844       \hyperlink{net_8c_a640aeb84055d730ae11aaa7aaab61d8e}{netProcessLinkChange}(interface);
845    \}
846 
847    \textcolor{comment}{//Release exclusive access}
848    \hyperlink{os__port__chibios_8c_a8e10e5b2c6d3877b5ba60e375ac45d79}{osReleaseMutex}(&\hyperlink{net_8c_afe31551ad26115fae8e575654346d441}{netMutex});
849 
850    \textcolor{comment}{//Successful processing}
851    \textcolor{keywordflow}{return} error;
852 \}
\end{DoxyCode}
\mbox{\Hypertarget{net_8h_a629406499aeb2ddf187d0b847fa44b29}\label{net_8h_a629406499aeb2ddf187d0b847fa44b29}} 
\index{net.\+h@{net.\+h}!net\+Set\+Mac\+Addr@{net\+Set\+Mac\+Addr}}
\index{net\+Set\+Mac\+Addr@{net\+Set\+Mac\+Addr}!net.\+h@{net.\+h}}
\subsubsection{\texorpdfstring{net\+Set\+Mac\+Addr()}{netSetMacAddr()}}
{\footnotesize\ttfamily \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} net\+Set\+Mac\+Addr (\begin{DoxyParamCaption}\item[{\hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{Net\+Interface} $\ast$}]{interface,  }\item[{const \hyperlink{ethernet_8h_a1e00ed3977e8a770e8b4ae4cb306d1c0}{Mac\+Addr} $\ast$}]{mac\+Addr }\end{DoxyParamCaption})}



Set M\+AC address. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em interface} & Pointer to the desired network interface \\
\hline
\mbox{\tt in}  & {\em mac\+Addr} & M\+AC address \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Error code 
\end{DoxyReturn}


Definition at line 305 of file net.\+c.


\begin{DoxyCode}
306 \{
307 \textcolor{preprocessor}{#if (ETH\_SUPPORT == ENABLED)}
308    \textcolor{comment}{//Check parameters}
309    \textcolor{keywordflow}{if}(interface == \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} || macAddr == \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
310       \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689caeae4b12e06d727d085f75f79a820f2e8}{ERROR\_INVALID\_PARAMETER};
311 
312    \textcolor{comment}{//Get exclusive access}
313    \hyperlink{os__port__chibios_8c_a58485224df4bfa522246d55b35bbd83a}{osAcquireMutex}(&\hyperlink{net_8c_afe31551ad26115fae8e575654346d441}{netMutex});
314 
315    \textcolor{comment}{//Set MAC address}
316    interface->macAddr = *macAddr;
317 
318    \textcolor{comment}{//Generate the 64-bit interface identifier}
319    \hyperlink{ethernet_8c_abbe0cae70748acbaa8c4d840ee764424}{macAddrToEui64}(macAddr, &interface->eui64);
320 
321    \textcolor{comment}{//Release exclusive access}
322    \hyperlink{os__port__chibios_8c_a8e10e5b2c6d3877b5ba60e375ac45d79}{osReleaseMutex}(&\hyperlink{net_8c_afe31551ad26115fae8e575654346d441}{netMutex});
323 
324    \textcolor{comment}{//Successful processing}
325    \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94}{NO\_ERROR};
326 \textcolor{preprocessor}{#else}
327    \textcolor{comment}{//Not implemented}
328    \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689cab61c5ef368fbf03fdc1fb566c63f2f9a}{ERROR\_NOT\_IMPLEMENTED};
329 \textcolor{preprocessor}{#endif}
330 \}
\end{DoxyCode}
\mbox{\Hypertarget{net_8h_a0df59b1482cc30ac070682834026796f}\label{net_8h_a0df59b1482cc30ac070682834026796f}} 
\index{net.\+h@{net.\+h}!net\+Set\+Parent\+Interface@{net\+Set\+Parent\+Interface}}
\index{net\+Set\+Parent\+Interface@{net\+Set\+Parent\+Interface}!net.\+h@{net.\+h}}
\subsubsection{\texorpdfstring{net\+Set\+Parent\+Interface()}{netSetParentInterface()}}
{\footnotesize\ttfamily \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} net\+Set\+Parent\+Interface (\begin{DoxyParamCaption}\item[{\hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{Net\+Interface} $\ast$}]{interface,  }\item[{\hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{Net\+Interface} $\ast$}]{physical\+Interface }\end{DoxyParamCaption})}



Attach a virtual interface to a given physical interface. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em interface} & Pointer to the virtual interface \\
\hline
\mbox{\tt in}  & {\em physical\+Interface} & physical interface on top of which the virtual interface will run \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Error code 
\end{DoxyReturn}


Definition at line 642 of file net.\+c.


\begin{DoxyCode}
644 \{
645 \textcolor{preprocessor}{#if (ETH\_VIRTUAL\_IF\_SUPPORT == ENABLED || ETH\_VLAN\_SUPPORT == ENABLED || \(\backslash\)}
646 \textcolor{preprocessor}{   ETH\_PORT\_TAGGING\_SUPPORT == ENABLED)}
647    \textcolor{comment}{//Make sure the network interface is valid}
648    \textcolor{keywordflow}{if}(interface == \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
649       \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689caeae4b12e06d727d085f75f79a820f2e8}{ERROR\_INVALID\_PARAMETER};
650 
651    \textcolor{comment}{//Get exclusive access}
652    \hyperlink{os__port__chibios_8c_a58485224df4bfa522246d55b35bbd83a}{osAcquireMutex}(&\hyperlink{net_8c_afe31551ad26115fae8e575654346d441}{netMutex});
653    \textcolor{comment}{//Bind the virtual interface to the physical interface}
654    interface->parent = physicalInterface;
655    \textcolor{comment}{//Release exclusive access}
656    \hyperlink{os__port__chibios_8c_a8e10e5b2c6d3877b5ba60e375ac45d79}{osReleaseMutex}(&\hyperlink{net_8c_afe31551ad26115fae8e575654346d441}{netMutex});
657 
658    \textcolor{comment}{//Successful processing}
659    \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94}{NO\_ERROR};
660 \textcolor{preprocessor}{#else}
661    \textcolor{comment}{//Not implemented}
662    \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689cab61c5ef368fbf03fdc1fb566c63f2f9a}{ERROR\_NOT\_IMPLEMENTED};
663 \textcolor{preprocessor}{#endif}
664 \}
\end{DoxyCode}
\mbox{\Hypertarget{net_8h_a7a6ff39ff35e9d186eece12ca8d3fe8c}\label{net_8h_a7a6ff39ff35e9d186eece12ca8d3fe8c}} 
\index{net.\+h@{net.\+h}!net\+Set\+Phy\+Addr@{net\+Set\+Phy\+Addr}}
\index{net\+Set\+Phy\+Addr@{net\+Set\+Phy\+Addr}!net.\+h@{net.\+h}}
\subsubsection{\texorpdfstring{net\+Set\+Phy\+Addr()}{netSetPhyAddr()}}
{\footnotesize\ttfamily \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} net\+Set\+Phy\+Addr (\begin{DoxyParamCaption}\item[{\hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{Net\+Interface} $\ast$}]{interface,  }\item[{\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t}}]{phy\+Addr }\end{DoxyParamCaption})}



Set Ethernet P\+HY address. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em interface} & Pointer to the desired network interface \\
\hline
\mbox{\tt in}  & {\em phy\+Addr} & P\+HY address \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Error code 
\end{DoxyReturn}


Definition at line 724 of file net.\+c.


\begin{DoxyCode}
725 \{
726    \textcolor{comment}{//Make sure the network interface is valid}
727    \textcolor{keywordflow}{if}(interface == \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
728       \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689caeae4b12e06d727d085f75f79a820f2e8}{ERROR\_INVALID\_PARAMETER};
729 
730    \textcolor{comment}{//Make sure the PHY address is valid}
731    \textcolor{keywordflow}{if}(phyAddr >= 32)
732       \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689ca796107c17e41c601d633f670e5e29800}{ERROR\_OUT\_OF\_RANGE};
733 
734    \textcolor{comment}{//Get exclusive access}
735    \hyperlink{os__port__chibios_8c_a58485224df4bfa522246d55b35bbd83a}{osAcquireMutex}(&\hyperlink{net_8c_afe31551ad26115fae8e575654346d441}{netMutex});
736    \textcolor{comment}{//Set PHY address}
737    interface->phyAddr = phyAddr;
738    \textcolor{comment}{//Release exclusive access}
739    \hyperlink{os__port__chibios_8c_a8e10e5b2c6d3877b5ba60e375ac45d79}{osReleaseMutex}(&\hyperlink{net_8c_afe31551ad26115fae8e575654346d441}{netMutex});
740 
741    \textcolor{comment}{//Successful processing}
742    \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94}{NO\_ERROR};
743 \}
\end{DoxyCode}
\mbox{\Hypertarget{net_8h_a5cf7ef20b23ad293b6994d1ce5115c0e}\label{net_8h_a5cf7ef20b23ad293b6994d1ce5115c0e}} 
\index{net.\+h@{net.\+h}!net\+Set\+Phy\+Driver@{net\+Set\+Phy\+Driver}}
\index{net\+Set\+Phy\+Driver@{net\+Set\+Phy\+Driver}!net.\+h@{net.\+h}}
\subsubsection{\texorpdfstring{net\+Set\+Phy\+Driver()}{netSetPhyDriver()}}
{\footnotesize\ttfamily \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} net\+Set\+Phy\+Driver (\begin{DoxyParamCaption}\item[{\hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{Net\+Interface} $\ast$}]{interface,  }\item[{const \hyperlink{structPhyDriver}{Phy\+Driver} $\ast$}]{driver }\end{DoxyParamCaption})}



Set Ethernet P\+HY driver. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em interface} & Pointer to the desired network interface \\
\hline
\mbox{\tt in}  & {\em driver} & Ethernet P\+HY driver (can be N\+U\+LL for M\+AC + P\+HY controller) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Error code 
\end{DoxyReturn}


Definition at line 699 of file net.\+c.


\begin{DoxyCode}
700 \{
701    \textcolor{comment}{//Check parameters}
702    \textcolor{keywordflow}{if}(interface == \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} || driver == \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
703       \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689caeae4b12e06d727d085f75f79a820f2e8}{ERROR\_INVALID\_PARAMETER};
704 
705    \textcolor{comment}{//Get exclusive access}
706    \hyperlink{os__port__chibios_8c_a58485224df4bfa522246d55b35bbd83a}{osAcquireMutex}(&\hyperlink{net_8c_afe31551ad26115fae8e575654346d441}{netMutex});
707    \textcolor{comment}{//Set Ethernet PHY driver}
708    interface->phyDriver = driver;
709    \textcolor{comment}{//Release exclusive access}
710    \hyperlink{os__port__chibios_8c_a8e10e5b2c6d3877b5ba60e375ac45d79}{osReleaseMutex}(&\hyperlink{net_8c_afe31551ad26115fae8e575654346d441}{netMutex});
711 
712    \textcolor{comment}{//Successful processing}
713    \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94}{NO\_ERROR};
714 \}
\end{DoxyCode}
\mbox{\Hypertarget{net_8h_a64d0943b4fecc07107d82ac5102b9c16}\label{net_8h_a64d0943b4fecc07107d82ac5102b9c16}} 
\index{net.\+h@{net.\+h}!net\+Set\+Proxy@{net\+Set\+Proxy}}
\index{net\+Set\+Proxy@{net\+Set\+Proxy}!net.\+h@{net.\+h}}
\subsubsection{\texorpdfstring{net\+Set\+Proxy()}{netSetProxy()}}
{\footnotesize\ttfamily \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} net\+Set\+Proxy (\begin{DoxyParamCaption}\item[{\hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{Net\+Interface} $\ast$}]{interface,  }\item[{const \hyperlink{compiler__port_8h_a40bb5262bf908c328fbcfbe5d29d0201}{char\+\_\+t} $\ast$}]{name,  }\item[{\hyperlink{stdint_8h_a273cf69d639a59973b6019625df33e30}{uint16\+\_\+t}}]{port }\end{DoxyParamCaption})}



Set proxy server. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em interface} & Pointer to the desired network interface \\
\hline
\mbox{\tt in}  & {\em name} & Proxy server name \\
\hline
\mbox{\tt in}  & {\em port} & Proxy server port \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Error code 
\end{DoxyReturn}


Definition at line 514 of file net.\+c.


\begin{DoxyCode}
515 \{
516    \textcolor{comment}{//Check parameters}
517    \textcolor{keywordflow}{if}(interface == \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} || \hyperlink{resource__manager_8h_a26532d7194d592ae8da35222073f36d6}{name} == \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
518       \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689caeae4b12e06d727d085f75f79a820f2e8}{ERROR\_INVALID\_PARAMETER};
519 
520    \textcolor{comment}{//Get exclusive access}
521    \hyperlink{os__port__chibios_8c_a58485224df4bfa522246d55b35bbd83a}{osAcquireMutex}(&\hyperlink{net_8c_afe31551ad26115fae8e575654346d441}{netMutex});
522 
523    \textcolor{comment}{//Set proxy server name}
524    \hyperlink{str_8c_ac10cb0bca1fb0c39b2c765afd068486d}{strSafeCopy}(interface->proxyName, \hyperlink{resource__manager_8h_a26532d7194d592ae8da35222073f36d6}{name}, \hyperlink{net_8h_ab0499e73f3380a2848bbfcd69dc109da}{NET\_MAX\_PROXY\_NAME\_LEN});
525    \textcolor{comment}{//Set proxy server port}
526    interface->proxyPort = \hyperlink{dns__common_8h_a8e0798404bf2cf5dabb84c5ba9a4f236}{port};
527 
528    \textcolor{comment}{//Release exclusive access}
529    \hyperlink{os__port__chibios_8c_a8e10e5b2c6d3877b5ba60e375ac45d79}{osReleaseMutex}(&\hyperlink{net_8c_afe31551ad26115fae8e575654346d441}{netMutex});
530 
531    \textcolor{comment}{//Successful processing}
532    \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94}{NO\_ERROR};
533 \}
\end{DoxyCode}
\mbox{\Hypertarget{net_8h_a4fb6d2cc8d46b498b0d3796c15b7a76f}\label{net_8h_a4fb6d2cc8d46b498b0d3796c15b7a76f}} 
\index{net.\+h@{net.\+h}!net\+Set\+Spi\+Driver@{net\+Set\+Spi\+Driver}}
\index{net\+Set\+Spi\+Driver@{net\+Set\+Spi\+Driver}!net.\+h@{net.\+h}}
\subsubsection{\texorpdfstring{net\+Set\+Spi\+Driver()}{netSetSpiDriver()}}
{\footnotesize\ttfamily \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} net\+Set\+Spi\+Driver (\begin{DoxyParamCaption}\item[{\hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{Net\+Interface} $\ast$}]{interface,  }\item[{const \hyperlink{structSpiDriver}{Spi\+Driver} $\ast$}]{driver }\end{DoxyParamCaption})}



Set S\+PI driver. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em interface} & Pointer to the desired network interface \\
\hline
\mbox{\tt in}  & {\em driver} & Underlying S\+PI driver \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Error code 
\end{DoxyReturn}


Definition at line 753 of file net.\+c.


\begin{DoxyCode}
754 \{
755    \textcolor{comment}{//Check parameters}
756    \textcolor{keywordflow}{if}(interface == \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} || driver == \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
757       \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689caeae4b12e06d727d085f75f79a820f2e8}{ERROR\_INVALID\_PARAMETER};
758 
759    \textcolor{comment}{//Get exclusive access}
760    \hyperlink{os__port__chibios_8c_a58485224df4bfa522246d55b35bbd83a}{osAcquireMutex}(&\hyperlink{net_8c_afe31551ad26115fae8e575654346d441}{netMutex});
761    \textcolor{comment}{//Set SPI driver}
762    interface->spiDriver = driver;
763    \textcolor{comment}{//Release exclusive access}
764    \hyperlink{os__port__chibios_8c_a8e10e5b2c6d3877b5ba60e375ac45d79}{osReleaseMutex}(&\hyperlink{net_8c_afe31551ad26115fae8e575654346d441}{netMutex});
765 
766    \textcolor{comment}{//Successful processing}
767    \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94}{NO\_ERROR};
768 \}
\end{DoxyCode}
\mbox{\Hypertarget{net_8h_a81d9792bbcbf19009f1d2f57d6e41ecd}\label{net_8h_a81d9792bbcbf19009f1d2f57d6e41ecd}} 
\index{net.\+h@{net.\+h}!net\+Set\+Switch\+Port@{net\+Set\+Switch\+Port}}
\index{net\+Set\+Switch\+Port@{net\+Set\+Switch\+Port}!net.\+h@{net.\+h}}
\subsubsection{\texorpdfstring{net\+Set\+Switch\+Port()}{netSetSwitchPort()}}
{\footnotesize\ttfamily \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} net\+Set\+Switch\+Port (\begin{DoxyParamCaption}\item[{\hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{Net\+Interface} $\ast$}]{interface,  }\item[{\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t}}]{port }\end{DoxyParamCaption})}



Specify switch port. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em interface} & Pointer to the desired network interface \\
\hline
\mbox{\tt in}  & {\em port} & Switch port identifier \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Error code 
\end{DoxyReturn}


Definition at line 611 of file net.\+c.


\begin{DoxyCode}
612 \{
613 \textcolor{preprocessor}{#if (ETH\_PORT\_TAGGING\_SUPPORT == ENABLED)}
614    \textcolor{comment}{//Make sure the network interface is valid}
615    \textcolor{keywordflow}{if}(interface == \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
616       \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689caeae4b12e06d727d085f75f79a820f2e8}{ERROR\_INVALID\_PARAMETER};
617 
618    \textcolor{comment}{//Get exclusive access}
619    \hyperlink{os__port__chibios_8c_a58485224df4bfa522246d55b35bbd83a}{osAcquireMutex}(&\hyperlink{net_8c_afe31551ad26115fae8e575654346d441}{netMutex});
620    \textcolor{comment}{//Set switch port identifier}
621    interface->port = \hyperlink{dns__common_8h_a8e0798404bf2cf5dabb84c5ba9a4f236}{port};
622    \textcolor{comment}{//Release exclusive access}
623    \hyperlink{os__port__chibios_8c_a8e10e5b2c6d3877b5ba60e375ac45d79}{osReleaseMutex}(&\hyperlink{net_8c_afe31551ad26115fae8e575654346d441}{netMutex});
624 
625    \textcolor{comment}{//Successful processing}
626    \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94}{NO\_ERROR};
627 \textcolor{preprocessor}{#else}
628    \textcolor{comment}{//Not implemented}
629    \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689cab61c5ef368fbf03fdc1fb566c63f2f9a}{ERROR\_NOT\_IMPLEMENTED};
630 \textcolor{preprocessor}{#endif}
631 \}
\end{DoxyCode}
\mbox{\Hypertarget{net_8h_a8096ee0a9642126f62b21e0f18de3a66}\label{net_8h_a8096ee0a9642126f62b21e0f18de3a66}} 
\index{net.\+h@{net.\+h}!net\+Set\+Uart\+Driver@{net\+Set\+Uart\+Driver}}
\index{net\+Set\+Uart\+Driver@{net\+Set\+Uart\+Driver}!net.\+h@{net.\+h}}
\subsubsection{\texorpdfstring{net\+Set\+Uart\+Driver()}{netSetUartDriver()}}
{\footnotesize\ttfamily \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} net\+Set\+Uart\+Driver (\begin{DoxyParamCaption}\item[{\hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{Net\+Interface} $\ast$}]{interface,  }\item[{const \hyperlink{structUartDriver}{Uart\+Driver} $\ast$}]{driver }\end{DoxyParamCaption})}



Set U\+A\+RT driver. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em interface} & Pointer to the desired network interface \\
\hline
\mbox{\tt in}  & {\em driver} & Underlying U\+A\+RT driver \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Error code 
\end{DoxyReturn}


Definition at line 778 of file net.\+c.


\begin{DoxyCode}
779 \{
780    \textcolor{comment}{//Check parameters}
781    \textcolor{keywordflow}{if}(interface == \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} || driver == \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
782       \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689caeae4b12e06d727d085f75f79a820f2e8}{ERROR\_INVALID\_PARAMETER};
783 
784    \textcolor{comment}{//Get exclusive access}
785    \hyperlink{os__port__chibios_8c_a58485224df4bfa522246d55b35bbd83a}{osAcquireMutex}(&\hyperlink{net_8c_afe31551ad26115fae8e575654346d441}{netMutex});
786    \textcolor{comment}{//Set UART driver}
787    interface->uartDriver = driver;
788    \textcolor{comment}{//Release exclusive access}
789    \hyperlink{os__port__chibios_8c_a8e10e5b2c6d3877b5ba60e375ac45d79}{osReleaseMutex}(&\hyperlink{net_8c_afe31551ad26115fae8e575654346d441}{netMutex});
790 
791    \textcolor{comment}{//Successful processing}
792    \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94}{NO\_ERROR};
793 \}
\end{DoxyCode}
\mbox{\Hypertarget{net_8h_a4d48c9a4935921bbd7b90bb31d7ae9fb}\label{net_8h_a4d48c9a4935921bbd7b90bb31d7ae9fb}} 
\index{net.\+h@{net.\+h}!net\+Set\+Vlan\+Id@{net\+Set\+Vlan\+Id}}
\index{net\+Set\+Vlan\+Id@{net\+Set\+Vlan\+Id}!net.\+h@{net.\+h}}
\subsubsection{\texorpdfstring{net\+Set\+Vlan\+Id()}{netSetVlanId()}}
{\footnotesize\ttfamily \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} net\+Set\+Vlan\+Id (\begin{DoxyParamCaption}\item[{\hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{Net\+Interface} $\ast$}]{interface,  }\item[{\hyperlink{stdint_8h_a273cf69d639a59973b6019625df33e30}{uint16\+\_\+t}}]{vlan\+Id }\end{DoxyParamCaption})}



Specify V\+L\+AN identifier (802.\+1q) 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em interface} & Pointer to the desired network interface \\
\hline
\mbox{\tt in}  & {\em vlan\+Id} & V\+L\+AN identifier \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Error code 
\end{DoxyReturn}


Definition at line 543 of file net.\+c.


\begin{DoxyCode}
544 \{
545 \textcolor{preprocessor}{#if (ETH\_VLAN\_SUPPORT == ENABLED)}
546    \textcolor{comment}{//Make sure the network interface is valid}
547    \textcolor{keywordflow}{if}(interface == \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
548       \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689caeae4b12e06d727d085f75f79a820f2e8}{ERROR\_INVALID\_PARAMETER};
549 
550    \textcolor{comment}{//The VID value FFF is reserved}
551    \textcolor{keywordflow}{if}((vlanId & \hyperlink{ethernet_8h_aed074544b771eb808f1cd02a9f3c8b46}{VLAN\_VID\_MASK}) == VLAN\_VID\_MASK)
552       \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689caeae4b12e06d727d085f75f79a820f2e8}{ERROR\_INVALID\_PARAMETER};
553 
554    \textcolor{comment}{//Get exclusive access}
555    \hyperlink{os__port__chibios_8c_a58485224df4bfa522246d55b35bbd83a}{osAcquireMutex}(&\hyperlink{net_8c_afe31551ad26115fae8e575654346d441}{netMutex});
556    \textcolor{comment}{//Set VLAN identifier}
557    interface->vlanId = vlanId;
558    \textcolor{comment}{//Release exclusive access}
559    \hyperlink{os__port__chibios_8c_a8e10e5b2c6d3877b5ba60e375ac45d79}{osReleaseMutex}(&\hyperlink{net_8c_afe31551ad26115fae8e575654346d441}{netMutex});
560 
561    \textcolor{comment}{//Successful processing}
562    \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94}{NO\_ERROR};
563 \textcolor{preprocessor}{#else}
564    \textcolor{comment}{//Not implemented}
565    \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689cab61c5ef368fbf03fdc1fb566c63f2f9a}{ERROR\_NOT\_IMPLEMENTED};
566 \textcolor{preprocessor}{#endif}
567 \}
\end{DoxyCode}
\mbox{\Hypertarget{net_8h_acc19afa0a4a991dcd54d53518a809647}\label{net_8h_acc19afa0a4a991dcd54d53518a809647}} 
\index{net.\+h@{net.\+h}!net\+Set\+Vman\+Id@{net\+Set\+Vman\+Id}}
\index{net\+Set\+Vman\+Id@{net\+Set\+Vman\+Id}!net.\+h@{net.\+h}}
\subsubsection{\texorpdfstring{net\+Set\+Vman\+Id()}{netSetVmanId()}}
{\footnotesize\ttfamily \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} net\+Set\+Vman\+Id (\begin{DoxyParamCaption}\item[{\hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{Net\+Interface} $\ast$}]{interface,  }\item[{\hyperlink{stdint_8h_a273cf69d639a59973b6019625df33e30}{uint16\+\_\+t}}]{vman\+Id }\end{DoxyParamCaption})}



Specify V\+M\+AN identifier (802.\+1ad) 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em interface} & Pointer to the desired network interface \\
\hline
\mbox{\tt in}  & {\em vman\+Id} & V\+M\+AN identifier \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Error code 
\end{DoxyReturn}


Definition at line 577 of file net.\+c.


\begin{DoxyCode}
578 \{
579 \textcolor{preprocessor}{#if (ETH\_VMAN\_SUPPORT == ENABLED)}
580    \textcolor{comment}{//Make sure the network interface is valid}
581    \textcolor{keywordflow}{if}(interface == \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
582       \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689caeae4b12e06d727d085f75f79a820f2e8}{ERROR\_INVALID\_PARAMETER};
583 
584    \textcolor{comment}{//The VID value FFF is reserved}
585    \textcolor{keywordflow}{if}((vmanId & \hyperlink{ethernet_8h_aed074544b771eb808f1cd02a9f3c8b46}{VLAN\_VID\_MASK}) == VLAN\_VID\_MASK)
586       \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689caeae4b12e06d727d085f75f79a820f2e8}{ERROR\_INVALID\_PARAMETER};
587 
588    \textcolor{comment}{//Get exclusive access}
589    \hyperlink{os__port__chibios_8c_a58485224df4bfa522246d55b35bbd83a}{osAcquireMutex}(&\hyperlink{net_8c_afe31551ad26115fae8e575654346d441}{netMutex});
590    \textcolor{comment}{//Set VMAN identifier}
591    interface->vmanId = vmanId;
592    \textcolor{comment}{//Release exclusive access}
593    \hyperlink{os__port__chibios_8c_a8e10e5b2c6d3877b5ba60e375ac45d79}{osReleaseMutex}(&\hyperlink{net_8c_afe31551ad26115fae8e575654346d441}{netMutex});
594 
595    \textcolor{comment}{//Successful processing}
596    \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94}{NO\_ERROR};
597 \textcolor{preprocessor}{#else}
598    \textcolor{comment}{//Not implemented}
599    \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689cab61c5ef368fbf03fdc1fb566c63f2f9a}{ERROR\_NOT\_IMPLEMENTED};
600 \textcolor{preprocessor}{#endif}
601 \}
\end{DoxyCode}
\mbox{\Hypertarget{net_8h_af6ad1b0ef3a459d75175539bca129ac1}\label{net_8h_af6ad1b0ef3a459d75175539bca129ac1}} 
\index{net.\+h@{net.\+h}!net\+Start\+Interface@{net\+Start\+Interface}}
\index{net\+Start\+Interface@{net\+Start\+Interface}!net.\+h@{net.\+h}}
\subsubsection{\texorpdfstring{net\+Start\+Interface()}{netStartInterface()}}
{\footnotesize\ttfamily \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} net\+Start\+Interface (\begin{DoxyParamCaption}\item[{\hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{Net\+Interface} $\ast$}]{interface }\end{DoxyParamCaption})}



Start network interface. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em interface} & Network interface to start \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Error code 
\end{DoxyReturn}


Definition at line 1077 of file net.\+c.


\begin{DoxyCode}
1078 \{
1079    \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\_t} error;
1080    \hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{NetInterface} *physicalInterface;
1081 
1082    \textcolor{comment}{//Make sure the network interface is valid}
1083    \textcolor{keywordflow}{if}(interface == \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
1084       \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689caeae4b12e06d727d085f75f79a820f2e8}{ERROR\_INVALID\_PARAMETER};
1085 
1086    \textcolor{comment}{//Initialize status code}
1087    error = \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94}{NO\_ERROR};
1088 
1089    \textcolor{comment}{//Get exclusive access}
1090    \hyperlink{os__port__chibios_8c_a58485224df4bfa522246d55b35bbd83a}{osAcquireMutex}(&\hyperlink{net_8c_afe31551ad26115fae8e575654346d441}{netMutex});
1091 
1092    \textcolor{comment}{//Point to the physical interface}
1093    physicalInterface = \hyperlink{nic_8c_aa8f48265895dab1633056c2dcd796355}{nicGetPhysicalInterface}(interface);
1094 
1095    \textcolor{comment}{//Check whether the interface is enabled for operation}
1096    \textcolor{keywordflow}{if}(!interface->configured)
1097    \{
1098       \textcolor{comment}{//Virtual interface?}
1099       \textcolor{keywordflow}{if}(interface != physicalInterface)
1100       \{
1101 \textcolor{preprocessor}{#if (ETH\_SUPPORT == ENABLED)}
1102          \textcolor{comment}{//Valid MAC address assigned to the virtual interface?}
1103          \textcolor{keywordflow}{if}(!\hyperlink{ethernet_8h_a800d9f928930baf027e925976c44b9b2}{macCompAddr}(&interface->macAddr, &\hyperlink{ethernet_8c_a24b2ce78dd643fe028d2e18c3b503f1f}{MAC\_UNSPECIFIED\_ADDR}))
1104          \{
1105             \textcolor{comment}{//Configure the physical interface to accept the MAC address of}
1106             \textcolor{comment}{//the virtual interface}
1107             error = \hyperlink{ethernet_8c_abef0530e7b819b6f76765071b05152f9}{ethAcceptMacAddr}(physicalInterface, &interface->macAddr);
1108          \}
1109 \textcolor{preprocessor}{#endif}
1110       \}
1111       \textcolor{keywordflow}{else}
1112       \{
1113 \textcolor{preprocessor}{#if (ETH\_PORT\_TAGGING\_SUPPORT == ENABLED)}
1114          \textcolor{comment}{//Valid switch driver?}
1115          \textcolor{keywordflow}{if}(interface->phyDriver != \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} &&
1116             interface->phyDriver->init != \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} &&
1117             interface->phyDriver->tagFrame != \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} &&
1118             interface->phyDriver->untagFrame != \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
1119          \{
1120             \textcolor{comment}{//Reconfigure switch operation}
1121             error = interface->phyDriver->init(interface);
1122          \}
1123 \textcolor{preprocessor}{#endif}
1124          \textcolor{comment}{//Check status code}
1125          \textcolor{keywordflow}{if}(!error)
1126          \{
1127             \textcolor{comment}{//Update the MAC filter}
1128             error = \hyperlink{nic_8c_a9aa22ecc6ff76481bd33224fda34cb90}{nicUpdateMacAddrFilter}(interface);
1129          \}
1130       \}
1131    \}
1132 
1133    \textcolor{comment}{//Enable network interface}
1134    interface->configured = \hyperlink{os__port_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
1135 
1136    \textcolor{comment}{//Check whether the TCP/IP process is running}
1137    \textcolor{keywordflow}{if}(\hyperlink{net_8c_a760501605418d098b5bb4c03fd8db030}{netTaskRunning})
1138    \{
1139       \textcolor{comment}{//Interrupts can be safely enabled}
1140       \textcolor{keywordflow}{if}(interface->nicDriver != \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
1141          interface->nicDriver->enableIrq(interface);
1142    \}
1143 
1144    \textcolor{comment}{//Release exclusive access}
1145    \hyperlink{os__port__chibios_8c_a8e10e5b2c6d3877b5ba60e375ac45d79}{osReleaseMutex}(&\hyperlink{net_8c_afe31551ad26115fae8e575654346d441}{netMutex});
1146 
1147    \textcolor{comment}{//Return status code}
1148    \textcolor{keywordflow}{return} error;
1149 \}
\end{DoxyCode}
\mbox{\Hypertarget{net_8h_ab3e29572428599c40ccc703228e35438}\label{net_8h_ab3e29572428599c40ccc703228e35438}} 
\index{net.\+h@{net.\+h}!net\+Stop\+Interface@{net\+Stop\+Interface}}
\index{net\+Stop\+Interface@{net\+Stop\+Interface}!net.\+h@{net.\+h}}
\subsubsection{\texorpdfstring{net\+Stop\+Interface()}{netStopInterface()}}
{\footnotesize\ttfamily \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} net\+Stop\+Interface (\begin{DoxyParamCaption}\item[{\hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{Net\+Interface} $\ast$}]{interface }\end{DoxyParamCaption})}



Stop network interface. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em interface} & Network interface to stop \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Error code 
\end{DoxyReturn}


Definition at line 1158 of file net.\+c.


\begin{DoxyCode}
1159 \{
1160    \hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{NetInterface} *physicalInterface;
1161 
1162    \textcolor{comment}{//Make sure the network interface is valid}
1163    \textcolor{keywordflow}{if}(interface == \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
1164       \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689caeae4b12e06d727d085f75f79a820f2e8}{ERROR\_INVALID\_PARAMETER};
1165 
1166    \textcolor{comment}{//Get exclusive access}
1167    \hyperlink{os__port__chibios_8c_a58485224df4bfa522246d55b35bbd83a}{osAcquireMutex}(&\hyperlink{net_8c_afe31551ad26115fae8e575654346d441}{netMutex});
1168 
1169    \textcolor{comment}{//Point to the physical interface}
1170    physicalInterface = \hyperlink{nic_8c_aa8f48265895dab1633056c2dcd796355}{nicGetPhysicalInterface}(interface);
1171 
1172    \textcolor{comment}{//Check whether the interface is enabled for operation}
1173    \textcolor{keywordflow}{if}(interface->configured)
1174    \{
1175       \textcolor{comment}{//Update link state}
1176       interface->linkState = \hyperlink{os__port_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
1177       \textcolor{comment}{//Process link state change event}
1178       \hyperlink{net_8c_a640aeb84055d730ae11aaa7aaab61d8e}{netProcessLinkChange}(interface);
1179       
1180       \textcolor{comment}{//Disable hardware interrupts}
1181       \textcolor{keywordflow}{if}(interface->nicDriver != \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
1182          interface->nicDriver->disableIrq(interface);
1183 
1184       \textcolor{comment}{//Disable network interface}
1185       interface->configured = \hyperlink{os__port_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
1186 
1187       \textcolor{comment}{//Virtual interface?}
1188       \textcolor{keywordflow}{if}(interface != physicalInterface)
1189       \{
1190 \textcolor{preprocessor}{#if (ETH\_SUPPORT == ENABLED)}
1191          \textcolor{comment}{//Valid MAC address assigned to the virtual interface?}
1192          \textcolor{keywordflow}{if}(!\hyperlink{ethernet_8h_a800d9f928930baf027e925976c44b9b2}{macCompAddr}(&interface->macAddr, &\hyperlink{ethernet_8c_a24b2ce78dd643fe028d2e18c3b503f1f}{MAC\_UNSPECIFIED\_ADDR}))
1193          \{
1194             \textcolor{comment}{//Drop the corresponding address from the MAC filter table of}
1195             \textcolor{comment}{//the physical interface}
1196             \hyperlink{ethernet_8c_a06dda5c104586292d953537d01c9c0ce}{ethDropMacAddr}(physicalInterface, &interface->macAddr);
1197          \}
1198 \textcolor{preprocessor}{#endif}
1199       \}
1200    \}
1201 
1202    \textcolor{comment}{//Release exclusive access}
1203    \hyperlink{os__port__chibios_8c_a8e10e5b2c6d3877b5ba60e375ac45d79}{osReleaseMutex}(&\hyperlink{net_8c_afe31551ad26115fae8e575654346d441}{netMutex});
1204 
1205    \textcolor{comment}{//Successful operation}
1206    \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94}{NO\_ERROR};
1207 \}
\end{DoxyCode}
\mbox{\Hypertarget{net_8h_a872255f8768898f1dd6e2a5f74f40d98}\label{net_8h_a872255f8768898f1dd6e2a5f74f40d98}} 
\index{net.\+h@{net.\+h}!net\+Task@{net\+Task}}
\index{net\+Task@{net\+Task}!net.\+h@{net.\+h}}
\subsubsection{\texorpdfstring{net\+Task()}{netTask()}}
{\footnotesize\ttfamily void net\+Task (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



T\+C\+P/\+IP events handling. 



Definition at line 1339 of file net.\+c.


\begin{DoxyCode}
1340 \{
1341    \hyperlink{compiler__port_8h_a12a1e9b3ce141648783a82445d02b58d}{uint\_t} i;
1342    \hyperlink{compiler__port_8h_a812d16e5494522586b3784e55d479912}{bool\_t} status;
1343    \hyperlink{compiler__port_8h_ae3e32a98d431a02106616da3071832dd}{systime\_t} \hyperlink{dhcpv6__common_8h_ae73654f333e4363463ad8c594eca1905}{time};
1344    \hyperlink{compiler__port_8h_ae3e32a98d431a02106616da3071832dd}{systime\_t} timeout;
1345    \hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{NetInterface} *interface;
1346 
1347 \textcolor{preprocessor}{#if (NET\_RTOS\_SUPPORT == ENABLED)}
1348    \textcolor{comment}{//Task prologue}
1349    \hyperlink{os__port__chibios_8h_abd3485ee30ab6a2de1208b0498a449cf}{osEnterTask}();
1350 
1351    \textcolor{comment}{//Get exclusive access}
1352    \hyperlink{os__port__chibios_8c_a58485224df4bfa522246d55b35bbd83a}{osAcquireMutex}(&\hyperlink{net_8c_afe31551ad26115fae8e575654346d441}{netMutex});
1353 
1354    \textcolor{comment}{//The TCP/IP process is now running}
1355    \hyperlink{net_8c_a760501605418d098b5bb4c03fd8db030}{netTaskRunning} = \hyperlink{os__port_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
1356 
1357    \textcolor{comment}{//Loop through network interfaces}
1358    \textcolor{keywordflow}{for}(i = 0; i < \hyperlink{net_8h_a116f850ebcb023ffa3e6b8de10c5cb35}{NET\_INTERFACE\_COUNT}; i++)
1359    \{
1360       \textcolor{comment}{//Point to the current network interface}
1361       \textcolor{keyword}{interface }= &\hyperlink{net_8c_a7ecafab0039ec54d1d7a1e9e7402379b}{netInterface}[i];
1362 
1363       \textcolor{comment}{//Check whether the interface is fully configured}
1364       \textcolor{keywordflow}{if}(interface->configured)
1365       \{
1366          \textcolor{comment}{//Interrupts can be safely enabled}
1367          \textcolor{keywordflow}{if}(interface->nicDriver != \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
1368          \{
1369             interface->nicDriver->enableIrq(interface);
1370          \}
1371       \}
1372    \}
1373 
1374    \textcolor{comment}{//Release exclusive access}
1375    \hyperlink{os__port__chibios_8c_a8e10e5b2c6d3877b5ba60e375ac45d79}{osReleaseMutex}(&\hyperlink{net_8c_afe31551ad26115fae8e575654346d441}{netMutex});
1376 
1377    \textcolor{comment}{//Main loop}
1378    \textcolor{keywordflow}{while}(1)
1379    \{
1380 \textcolor{preprocessor}{#endif}
1381       \textcolor{comment}{//Get current time}
1382       time = \hyperlink{os__port__chibios_8c_ab66a11272d40a916fa69dd8e4dc443d4}{osGetSystemTime}();
1383 
1384       \textcolor{comment}{//Compute the maximum blocking time when waiting for an event}
1385       \textcolor{keywordflow}{if}(\hyperlink{os__port_8h_a25c13833ef003da02045a91b1080263a}{timeCompare}(time, \hyperlink{net_8c_a553ac9663b1c4b086f4e49419c947080}{netTimestamp}) < 0)
1386          timeout = \hyperlink{net_8c_a553ac9663b1c4b086f4e49419c947080}{netTimestamp} - \hyperlink{dhcpv6__common_8h_ae73654f333e4363463ad8c594eca1905}{time};
1387       \textcolor{keywordflow}{else}
1388          timeout = 0;
1389 
1390       \textcolor{comment}{//Receive notifications when a frame has been received, or the}
1391       \textcolor{comment}{//link state of any network interfaces has changed}
1392       status = \hyperlink{os__port__chibios_8c_a1dc707247e44dfefae5bec4a322fc78a}{osWaitForEvent}(&\hyperlink{net_8c_a4ad5a175123589d00e402e0c1c842fdc}{netEvent}, timeout);
1393 
1394       \textcolor{comment}{//Check whether the specified event is in signaled state}
1395       \textcolor{keywordflow}{if}(status)
1396       \{
1397          \textcolor{comment}{//Get exclusive access}
1398          \hyperlink{os__port__chibios_8c_a58485224df4bfa522246d55b35bbd83a}{osAcquireMutex}(&\hyperlink{net_8c_afe31551ad26115fae8e575654346d441}{netMutex});
1399 
1400          \textcolor{comment}{//Process events}
1401          \textcolor{keywordflow}{for}(i = 0; i < \hyperlink{net_8h_a116f850ebcb023ffa3e6b8de10c5cb35}{NET\_INTERFACE\_COUNT}; i++)
1402          \{
1403             \textcolor{comment}{//Point to the current network interface}
1404             \textcolor{keyword}{interface }= &netInterface[i];
1405 
1406             \textcolor{comment}{//Check whether a NIC event is pending}
1407             \textcolor{keywordflow}{if}(interface->nicEvent)
1408             \{
1409                \textcolor{comment}{//Acknowledge the event by clearing the flag}
1410                interface->nicEvent = \hyperlink{os__port_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
1411 
1412                \textcolor{comment}{//Valid NIC driver?}
1413                \textcolor{keywordflow}{if}(interface->nicDriver != \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
1414                \{
1415                   \textcolor{comment}{//Disable hardware interrupts}
1416                   interface->nicDriver->disableIrq(interface);
1417                   \textcolor{comment}{//Handle NIC events}
1418                   interface->nicDriver->eventHandler(interface);
1419                   \textcolor{comment}{//Re-enable hardware interrupts}
1420                   interface->nicDriver->enableIrq(interface);
1421                \}
1422             \}
1423 
1424             \textcolor{comment}{//Check whether a PHY event is pending}
1425             \textcolor{keywordflow}{if}(interface->phyEvent)
1426             \{
1427                \textcolor{comment}{//Acknowledge the event by clearing the flag}
1428                interface->phyEvent = \hyperlink{os__port_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
1429 
1430                \textcolor{comment}{//Valid NIC driver?}
1431                \textcolor{keywordflow}{if}(interface->nicDriver != \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
1432                \{
1433                   \textcolor{comment}{//Disable hardware interrupts}
1434                   interface->nicDriver->disableIrq(interface);
1435                   \textcolor{comment}{//Handle PHY events}
1436                   interface->phyDriver->eventHandler(interface);
1437                   \textcolor{comment}{//Re-enable hardware interrupts}
1438                   interface->nicDriver->enableIrq(interface);
1439                \}
1440             \}
1441          \}
1442 
1443          \textcolor{comment}{//Release exclusive access}
1444          \hyperlink{os__port__chibios_8c_a8e10e5b2c6d3877b5ba60e375ac45d79}{osReleaseMutex}(&\hyperlink{net_8c_afe31551ad26115fae8e575654346d441}{netMutex});
1445       \}
1446 
1447       \textcolor{comment}{//Get current time}
1448       time = \hyperlink{os__port__chibios_8c_ab66a11272d40a916fa69dd8e4dc443d4}{osGetSystemTime}();
1449 
1450       \textcolor{comment}{//Check current time}
1451       \textcolor{keywordflow}{if}(\hyperlink{os__port_8h_a25c13833ef003da02045a91b1080263a}{timeCompare}(time, \hyperlink{net_8c_a553ac9663b1c4b086f4e49419c947080}{netTimestamp}) >= 0)
1452       \{
1453          \textcolor{comment}{//Get exclusive access}
1454          \hyperlink{os__port__chibios_8c_a58485224df4bfa522246d55b35bbd83a}{osAcquireMutex}(&\hyperlink{net_8c_afe31551ad26115fae8e575654346d441}{netMutex});
1455          \textcolor{comment}{//Handle periodic operations}
1456          \hyperlink{net_8c_af02442bb218092e0e6cfa4338acc1b01}{netTick}();
1457          \textcolor{comment}{//Release exclusive access}
1458          \hyperlink{os__port__chibios_8c_a8e10e5b2c6d3877b5ba60e375ac45d79}{osReleaseMutex}(&\hyperlink{net_8c_afe31551ad26115fae8e575654346d441}{netMutex});
1459 
1460          \textcolor{comment}{//Next event}
1461          \hyperlink{net_8c_a553ac9663b1c4b086f4e49419c947080}{netTimestamp} = time + \hyperlink{net_8h_a41dfc66bfd02ca88053ec44e3fbc6b8c}{NET\_TICK\_INTERVAL};
1462       \}
1463 \textcolor{preprocessor}{#if (NET\_RTOS\_SUPPORT == ENABLED)}
1464    \}
1465 \textcolor{preprocessor}{#endif}
1466 \}
\end{DoxyCode}
\mbox{\Hypertarget{net_8h_af02442bb218092e0e6cfa4338acc1b01}\label{net_8h_af02442bb218092e0e6cfa4338acc1b01}} 
\index{net.\+h@{net.\+h}!net\+Tick@{net\+Tick}}
\index{net\+Tick@{net\+Tick}!net.\+h@{net.\+h}}
\subsubsection{\texorpdfstring{net\+Tick()}{netTick()}}
{\footnotesize\ttfamily void net\+Tick (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Manage T\+C\+P/\+IP timers. 



Definition at line 1473 of file net.\+c.


\begin{DoxyCode}
1474 \{
1475    \hyperlink{compiler__port_8h_a12a1e9b3ce141648783a82445d02b58d}{uint\_t} i;
1476 
1477    \textcolor{comment}{//Increment tick counter}
1478    \hyperlink{nic_8c_a1dd89f7555db6c62a9228c8a0f0c9806}{nicTickCounter} += \hyperlink{net_8h_a41dfc66bfd02ca88053ec44e3fbc6b8c}{NET\_TICK\_INTERVAL};
1479 
1480    \textcolor{comment}{//Handle periodic operations such as polling the link state}
1481    \textcolor{keywordflow}{if}(\hyperlink{nic_8c_a1dd89f7555db6c62a9228c8a0f0c9806}{nicTickCounter} >= \hyperlink{nic_8h_a7d7bc2ec255de745e3116552ea3218bb}{NIC\_TICK\_INTERVAL})
1482    \{
1483       \textcolor{comment}{//Loop through network interfaces}
1484       \textcolor{keywordflow}{for}(i = 0; i < \hyperlink{net_8h_a116f850ebcb023ffa3e6b8de10c5cb35}{NET\_INTERFACE\_COUNT}; i++)
1485       \{
1486          \textcolor{comment}{//Make sure the interface has been properly configured}
1487          \textcolor{keywordflow}{if}(\hyperlink{net_8c_a7ecafab0039ec54d1d7a1e9e7402379b}{netInterface}[i].configured)
1488             \hyperlink{nic_8c_aa357a772d6985d2516db87e35c39d148}{nicTick}(&\hyperlink{net_8c_a7ecafab0039ec54d1d7a1e9e7402379b}{netInterface}[i]);
1489       \}
1490 
1491       \textcolor{comment}{//Reset tick counter}
1492       \hyperlink{nic_8c_a1dd89f7555db6c62a9228c8a0f0c9806}{nicTickCounter} = 0;
1493    \}
1494 
1495 \textcolor{preprocessor}{#if (PPP\_SUPPORT == ENABLED)}
1496    \textcolor{comment}{//Increment tick counter}
1497    \hyperlink{ppp_8c_ae978e425325a88275be9719a4cf28a01}{pppTickCounter} += \hyperlink{net_8h_a41dfc66bfd02ca88053ec44e3fbc6b8c}{NET\_TICK\_INTERVAL};
1498 
1499    \textcolor{comment}{//Manage PPP related timers}
1500    \textcolor{keywordflow}{if}(\hyperlink{ppp_8c_ae978e425325a88275be9719a4cf28a01}{pppTickCounter} >= \hyperlink{ppp_8h_a70a390555876ac075c004119b5a81dbb}{PPP\_TICK\_INTERVAL})
1501    \{
1502       \textcolor{comment}{//Loop through network interfaces}
1503       \textcolor{keywordflow}{for}(i = 0; i < \hyperlink{net_8h_a116f850ebcb023ffa3e6b8de10c5cb35}{NET\_INTERFACE\_COUNT}; i++)
1504       \{
1505          \textcolor{comment}{//Make sure the interface has been properly configured}
1506          \textcolor{keywordflow}{if}(\hyperlink{net_8c_a7ecafab0039ec54d1d7a1e9e7402379b}{netInterface}[i].configured)
1507             \hyperlink{ppp_8c_a84c6cb03237408546372831dd59c3c52}{pppTick}(&\hyperlink{net_8c_a7ecafab0039ec54d1d7a1e9e7402379b}{netInterface}[i]);
1508       \}
1509 
1510       \textcolor{comment}{//Reset tick counter}
1511       \hyperlink{ppp_8c_ae978e425325a88275be9719a4cf28a01}{pppTickCounter} = 0;
1512    \}
1513 \textcolor{preprocessor}{#endif}
1514 
1515 \textcolor{preprocessor}{#if (IPV4\_SUPPORT == ENABLED && ETH\_SUPPORT == ENABLED)}
1516    \textcolor{comment}{//Increment tick counter}
1517    \hyperlink{arp_8c_aa0adbd8d7d464b063104f6457979643e}{arpTickCounter} += \hyperlink{net_8h_a41dfc66bfd02ca88053ec44e3fbc6b8c}{NET\_TICK\_INTERVAL};
1518 
1519    \textcolor{comment}{//Manage ARP cache}
1520    \textcolor{keywordflow}{if}(\hyperlink{arp_8c_aa0adbd8d7d464b063104f6457979643e}{arpTickCounter} >= \hyperlink{arp_8h_a21de30ab121f628260cd4be901c594bb}{ARP\_TICK\_INTERVAL})
1521    \{
1522       \textcolor{comment}{//Loop through network interfaces}
1523       \textcolor{keywordflow}{for}(i = 0; i < \hyperlink{net_8h_a116f850ebcb023ffa3e6b8de10c5cb35}{NET\_INTERFACE\_COUNT}; i++)
1524       \{
1525          \textcolor{comment}{//Make sure the interface has been properly configured}
1526          \textcolor{keywordflow}{if}(\hyperlink{net_8c_a7ecafab0039ec54d1d7a1e9e7402379b}{netInterface}[i].configured)
1527             \hyperlink{arp_8c_ae1a76e2e34dfe2c12c05d64a8b8526ec}{arpTick}(&\hyperlink{net_8c_a7ecafab0039ec54d1d7a1e9e7402379b}{netInterface}[i]);
1528       \}
1529 
1530       \textcolor{comment}{//Reset tick counter}
1531       \hyperlink{arp_8c_aa0adbd8d7d464b063104f6457979643e}{arpTickCounter} = 0;
1532    \}
1533 \textcolor{preprocessor}{#endif}
1534 
1535 \textcolor{preprocessor}{#if (IPV4\_SUPPORT == ENABLED && IPV4\_FRAG\_SUPPORT == ENABLED)}
1536    \textcolor{comment}{//Increment tick counter}
1537    \hyperlink{ipv4__frag_8c_a9746ee5d6e5f0f3c6a9bd554f1a6f509}{ipv4FragTickCounter} += \hyperlink{net_8h_a41dfc66bfd02ca88053ec44e3fbc6b8c}{NET\_TICK\_INTERVAL};
1538 
1539    \textcolor{comment}{//Handle IPv4 fragment reassembly timeout}
1540    \textcolor{keywordflow}{if}(\hyperlink{ipv4__frag_8c_a9746ee5d6e5f0f3c6a9bd554f1a6f509}{ipv4FragTickCounter} >= \hyperlink{ipv4__frag_8h_a0517742d72f99a513d82f72fdf347aa2}{IPV4\_FRAG\_TICK\_INTERVAL})
1541    \{
1542       \textcolor{comment}{//Loop through network interfaces}
1543       \textcolor{keywordflow}{for}(i = 0; i < \hyperlink{net_8h_a116f850ebcb023ffa3e6b8de10c5cb35}{NET\_INTERFACE\_COUNT}; i++)
1544       \{
1545          \textcolor{comment}{//Make sure the interface has been properly configured}
1546          \textcolor{keywordflow}{if}(\hyperlink{net_8c_a7ecafab0039ec54d1d7a1e9e7402379b}{netInterface}[i].configured)
1547             \hyperlink{ipv4__frag_8c_a86806a9fdc060c28f608f9f6200aaf85}{ipv4FragTick}(&\hyperlink{net_8c_a7ecafab0039ec54d1d7a1e9e7402379b}{netInterface}[i]);
1548       \}
1549 
1550       \textcolor{comment}{//Reset tick counter}
1551       \hyperlink{ipv4__frag_8c_a9746ee5d6e5f0f3c6a9bd554f1a6f509}{ipv4FragTickCounter} = 0;
1552    \}
1553 \textcolor{preprocessor}{#endif}
1554 
1555 \textcolor{preprocessor}{#if (IPV4\_SUPPORT == ENABLED && IGMP\_SUPPORT == ENABLED)}
1556    \textcolor{comment}{//Increment tick counter}
1557    \hyperlink{igmp_8c_a04bf70fce2f50dde04956ed9b26c49f8}{igmpTickCounter} += \hyperlink{net_8h_a41dfc66bfd02ca88053ec44e3fbc6b8c}{NET\_TICK\_INTERVAL};
1558 
1559    \textcolor{comment}{//Handle IGMP related timers}
1560    \textcolor{keywordflow}{if}(\hyperlink{igmp_8c_a04bf70fce2f50dde04956ed9b26c49f8}{igmpTickCounter} >= \hyperlink{igmp_8h_a13464bc6c74613cbec334cc48367b0ca}{IGMP\_TICK\_INTERVAL})
1561    \{
1562       \textcolor{comment}{//Loop through network interfaces}
1563       \textcolor{keywordflow}{for}(i = 0; i < \hyperlink{net_8h_a116f850ebcb023ffa3e6b8de10c5cb35}{NET\_INTERFACE\_COUNT}; i++)
1564       \{
1565          \textcolor{comment}{//Make sure the interface has been properly configured}
1566          \textcolor{keywordflow}{if}(\hyperlink{net_8c_a7ecafab0039ec54d1d7a1e9e7402379b}{netInterface}[i].configured)
1567             \hyperlink{igmp_8c_af842aaa35305590982d9db0e762ccdb7}{igmpTick}(&\hyperlink{net_8c_a7ecafab0039ec54d1d7a1e9e7402379b}{netInterface}[i]);
1568       \}
1569 
1570       \textcolor{comment}{//Reset tick counter}
1571       \hyperlink{igmp_8c_a04bf70fce2f50dde04956ed9b26c49f8}{igmpTickCounter} = 0;
1572    \}
1573 \textcolor{preprocessor}{#endif}
1574 
1575 \textcolor{preprocessor}{#if (IPV4\_SUPPORT == ENABLED && AUTO\_IP\_SUPPORT == ENABLED)}
1576    \textcolor{comment}{//Increment tick counter}
1577    \hyperlink{auto__ip_8c_afbac3aaeb3fcc69c77093feeb75330fa}{autoIpTickCounter} += \hyperlink{net_8h_a41dfc66bfd02ca88053ec44e3fbc6b8c}{NET\_TICK\_INTERVAL};
1578 
1579    \textcolor{comment}{//Handle Auto-IP related timers}
1580    \textcolor{keywordflow}{if}(\hyperlink{auto__ip_8c_afbac3aaeb3fcc69c77093feeb75330fa}{autoIpTickCounter} >= \hyperlink{auto__ip_8h_a1298af56c7636eec12f7d40a675fd76c}{AUTO\_IP\_TICK\_INTERVAL})
1581    \{
1582       \textcolor{comment}{//Loop through network interfaces}
1583       \textcolor{keywordflow}{for}(i = 0; i < \hyperlink{net_8h_a116f850ebcb023ffa3e6b8de10c5cb35}{NET\_INTERFACE\_COUNT}; i++)
1584          \hyperlink{auto__ip_8c_afb27f1c08eabbf3f68dd8ad85d9d8168}{autoIpTick}(\hyperlink{net_8c_a7ecafab0039ec54d1d7a1e9e7402379b}{netInterface}[i].autoIpContext);
1585 
1586       \textcolor{comment}{//Reset tick counter}
1587       \hyperlink{auto__ip_8c_afbac3aaeb3fcc69c77093feeb75330fa}{autoIpTickCounter} = 0;
1588    \}
1589 \textcolor{preprocessor}{#endif}
1590 
1591 \textcolor{preprocessor}{#if (IPV4\_SUPPORT == ENABLED && DHCP\_CLIENT\_SUPPORT == ENABLED)}
1592    \textcolor{comment}{//Increment tick counter}
1593    \hyperlink{dhcp__client_8c_a480f65029706f0428cd3f999e97c7ea8}{dhcpClientTickCounter} += \hyperlink{net_8h_a41dfc66bfd02ca88053ec44e3fbc6b8c}{NET\_TICK\_INTERVAL};
1594 
1595    \textcolor{comment}{//Handle DHCP client related timers}
1596    \textcolor{keywordflow}{if}(\hyperlink{dhcp__client_8c_a480f65029706f0428cd3f999e97c7ea8}{dhcpClientTickCounter} >= \hyperlink{dhcp__client_8h_ad8b1c6d64b71969cc3346b8df406ab4e}{DHCP\_CLIENT\_TICK\_INTERVAL})
1597    \{
1598       \textcolor{comment}{//Loop through network interfaces}
1599       \textcolor{keywordflow}{for}(i = 0; i < \hyperlink{net_8h_a116f850ebcb023ffa3e6b8de10c5cb35}{NET\_INTERFACE\_COUNT}; i++)
1600          \hyperlink{dhcp__client_8c_a0020cf708c5f8cef8a7c85af945e036c}{dhcpClientTick}(\hyperlink{net_8c_a7ecafab0039ec54d1d7a1e9e7402379b}{netInterface}[i].dhcpClientContext);
1601 
1602       \textcolor{comment}{//Reset tick counter}
1603       \hyperlink{dhcp__client_8c_a480f65029706f0428cd3f999e97c7ea8}{dhcpClientTickCounter} = 0;
1604    \}
1605 \textcolor{preprocessor}{#endif}
1606 
1607 \textcolor{preprocessor}{#if (IPV4\_SUPPORT == ENABLED && DHCP\_SERVER\_SUPPORT == ENABLED)}
1608    \textcolor{comment}{//Increment tick counter}
1609    \hyperlink{dhcp__server_8c_a30af78630b1445a4a54a8b6a27db2918}{dhcpServerTickCounter} += \hyperlink{net_8h_a41dfc66bfd02ca88053ec44e3fbc6b8c}{NET\_TICK\_INTERVAL};
1610 
1611    \textcolor{comment}{//Handle DHCP server related timers}
1612    \textcolor{keywordflow}{if}(\hyperlink{dhcp__server_8c_a30af78630b1445a4a54a8b6a27db2918}{dhcpServerTickCounter} >= \hyperlink{dhcp__server_8h_a2b2123d1357a832e0ac49845dab9db76}{DHCP\_SERVER\_TICK\_INTERVAL})
1613    \{
1614       \textcolor{comment}{//Loop through network interfaces}
1615       \textcolor{keywordflow}{for}(i = 0; i < \hyperlink{net_8h_a116f850ebcb023ffa3e6b8de10c5cb35}{NET\_INTERFACE\_COUNT}; i++)
1616          \hyperlink{dhcp__server_8c_a3f86bf18208648251991792f8477cb1e}{dhcpServerTick}(\hyperlink{net_8c_a7ecafab0039ec54d1d7a1e9e7402379b}{netInterface}[i].
      \hyperlink{demo_2microchip_2pic32mz__ef__curiosity_2wifi__http__server__demo_2src_2main_8c_a3efbccd77ea16771d98ad6be71622df9}{dhcpServerContext});
1617 
1618       \textcolor{comment}{//Reset tick counter}
1619       \hyperlink{dhcp__server_8c_a30af78630b1445a4a54a8b6a27db2918}{dhcpServerTickCounter} = 0;
1620    \}
1621 \textcolor{preprocessor}{#endif}
1622 
1623 \textcolor{preprocessor}{#if (IPV6\_SUPPORT == ENABLED && IPV6\_FRAG\_SUPPORT == ENABLED)}
1624    \textcolor{comment}{//Increment tick counter}
1625    \hyperlink{ipv6__frag_8c_af16e836bc6a4132381b1eaf2fa7a0564}{ipv6FragTickCounter} += \hyperlink{net_8h_a41dfc66bfd02ca88053ec44e3fbc6b8c}{NET\_TICK\_INTERVAL};
1626 
1627    \textcolor{comment}{//Handle IPv6 fragment reassembly timeout}
1628    \textcolor{keywordflow}{if}(\hyperlink{ipv6__frag_8c_af16e836bc6a4132381b1eaf2fa7a0564}{ipv6FragTickCounter} >= \hyperlink{ipv6__frag_8h_a8982ccaff9d25b43041eb0da95b93700}{IPV6\_FRAG\_TICK\_INTERVAL})
1629    \{
1630       \textcolor{comment}{//Loop through network interfaces}
1631       \textcolor{keywordflow}{for}(i = 0; i < \hyperlink{net_8h_a116f850ebcb023ffa3e6b8de10c5cb35}{NET\_INTERFACE\_COUNT}; i++)
1632       \{
1633          \textcolor{comment}{//Make sure the interface has been properly configured}
1634          \textcolor{keywordflow}{if}(\hyperlink{net_8c_a7ecafab0039ec54d1d7a1e9e7402379b}{netInterface}[i].configured)
1635             \hyperlink{ipv6__frag_8c_adf90e1f10b8402f9ec7b4afa09458f7f}{ipv6FragTick}(&\hyperlink{net_8c_a7ecafab0039ec54d1d7a1e9e7402379b}{netInterface}[i]);
1636       \}
1637 
1638       \textcolor{comment}{//Reset tick counter}
1639       \hyperlink{ipv6__frag_8c_af16e836bc6a4132381b1eaf2fa7a0564}{ipv6FragTickCounter} = 0;
1640    \}
1641 \textcolor{preprocessor}{#endif}
1642 
1643 \textcolor{preprocessor}{#if (IPV6\_SUPPORT == ENABLED && MLD\_SUPPORT == ENABLED)}
1644    \textcolor{comment}{//Increment tick counter}
1645    \hyperlink{mld_8c_abe446b43462e812f8106e2a5e51c86bf}{mldTickCounter} += \hyperlink{net_8h_a41dfc66bfd02ca88053ec44e3fbc6b8c}{NET\_TICK\_INTERVAL};
1646 
1647    \textcolor{comment}{//Handle MLD related timers}
1648    \textcolor{keywordflow}{if}(\hyperlink{mld_8c_abe446b43462e812f8106e2a5e51c86bf}{mldTickCounter} >= \hyperlink{mld_8h_a12451bdef167fd504b5df9e2cd97d288}{MLD\_TICK\_INTERVAL})
1649    \{
1650       \textcolor{comment}{//Loop through network interfaces}
1651       \textcolor{keywordflow}{for}(i = 0; i < \hyperlink{net_8h_a116f850ebcb023ffa3e6b8de10c5cb35}{NET\_INTERFACE\_COUNT}; i++)
1652       \{
1653          \textcolor{comment}{//Make sure the interface has been properly configured}
1654          \textcolor{keywordflow}{if}(\hyperlink{net_8c_a7ecafab0039ec54d1d7a1e9e7402379b}{netInterface}[i].configured)
1655             \hyperlink{mld_8c_a47b1f4c15523d8f5284a92b01a57dae2}{mldTick}(&\hyperlink{net_8c_a7ecafab0039ec54d1d7a1e9e7402379b}{netInterface}[i]);
1656       \}
1657 
1658       \textcolor{comment}{//Reset tick counter}
1659       \hyperlink{mld_8c_abe446b43462e812f8106e2a5e51c86bf}{mldTickCounter} = 0;
1660    \}
1661 \textcolor{preprocessor}{#endif}
1662 
1663 \textcolor{preprocessor}{#if (IPV6\_SUPPORT == ENABLED && NDP\_SUPPORT == ENABLED)}
1664    \textcolor{comment}{//Increment tick counter}
1665    \hyperlink{ndp_8c_ac0dbbb540cd7f7eb6e8f42b820ef5407}{ndpTickCounter} += \hyperlink{net_8h_a41dfc66bfd02ca88053ec44e3fbc6b8c}{NET\_TICK\_INTERVAL};
1666 
1667    \textcolor{comment}{//Handle NDP related timers}
1668    \textcolor{keywordflow}{if}(\hyperlink{ndp_8c_ac0dbbb540cd7f7eb6e8f42b820ef5407}{ndpTickCounter} >= \hyperlink{ndp_8h_a6181675fb0ab4b727505e1496d2eab32}{NDP\_TICK\_INTERVAL})
1669    \{
1670       \textcolor{comment}{//Loop through network interfaces}
1671       \textcolor{keywordflow}{for}(i = 0; i < \hyperlink{net_8h_a116f850ebcb023ffa3e6b8de10c5cb35}{NET\_INTERFACE\_COUNT}; i++)
1672       \{
1673          \textcolor{comment}{//Make sure the interface has been properly configured}
1674          \textcolor{keywordflow}{if}(\hyperlink{net_8c_a7ecafab0039ec54d1d7a1e9e7402379b}{netInterface}[i].configured)
1675             \hyperlink{ndp_8c_ae1a7cfa93be8d2ff1c062d278796ddc1}{ndpTick}(&\hyperlink{net_8c_a7ecafab0039ec54d1d7a1e9e7402379b}{netInterface}[i]);
1676       \}
1677 
1678       \textcolor{comment}{//Reset tick counter}
1679       \hyperlink{ndp_8c_ac0dbbb540cd7f7eb6e8f42b820ef5407}{ndpTickCounter} = 0;
1680    \}
1681 \textcolor{preprocessor}{#endif}
1682 
1683 \textcolor{preprocessor}{#if (IPV6\_SUPPORT == ENABLED && NDP\_ROUTER\_ADV\_SUPPORT == ENABLED)}
1684    \textcolor{comment}{//Increment tick counter}
1685    \hyperlink{ndp__router__adv_8c_a7a7361c53c62d0008b3c45351ab44e8e}{ndpRouterAdvTickCounter} += \hyperlink{net_8h_a41dfc66bfd02ca88053ec44e3fbc6b8c}{NET\_TICK\_INTERVAL};
1686 
1687    \textcolor{comment}{//Handle RA service related timers}
1688    \textcolor{keywordflow}{if}(\hyperlink{ndp__router__adv_8c_a7a7361c53c62d0008b3c45351ab44e8e}{ndpRouterAdvTickCounter} >= 
      \hyperlink{ndp__router__adv_8h_a093d7c59d469189f222132f9e9fd092e}{NDP\_ROUTER\_ADV\_TICK\_INTERVAL})
1689    \{
1690       \textcolor{comment}{//Loop through network interfaces}
1691       \textcolor{keywordflow}{for}(i = 0; i < \hyperlink{net_8h_a116f850ebcb023ffa3e6b8de10c5cb35}{NET\_INTERFACE\_COUNT}; i++)
1692          \hyperlink{ndp__router__adv_8c_a65d87dfbf69457b2ae5072e2c2820a1e}{ndpRouterAdvTick}(\hyperlink{net_8c_a7ecafab0039ec54d1d7a1e9e7402379b}{netInterface}[i].
      \hyperlink{demo_2microchip_2pic32mz__ef__curiosity_2wifi__http__server__demo_2src_2main_8c_af43142a8f0d8f95b69629a3300b9ed30}{ndpRouterAdvContext});
1693 
1694       \textcolor{comment}{//Reset tick counter}
1695       \hyperlink{ndp__router__adv_8c_a7a7361c53c62d0008b3c45351ab44e8e}{ndpRouterAdvTickCounter} = 0;
1696    \}
1697 \textcolor{preprocessor}{#endif}
1698 
1699 \textcolor{preprocessor}{#if (IPV6\_SUPPORT == ENABLED && DHCPV6\_CLIENT\_SUPPORT == ENABLED)}
1700    \textcolor{comment}{//Increment tick counter}
1701    \hyperlink{dhcpv6__client_8c_a0ad2c17a8d547e75d579b9763ace80bb}{dhcpv6ClientTickCounter} += \hyperlink{net_8h_a41dfc66bfd02ca88053ec44e3fbc6b8c}{NET\_TICK\_INTERVAL};
1702 
1703    \textcolor{comment}{//Handle DHCPv6 client related timers}
1704    \textcolor{keywordflow}{if}(\hyperlink{dhcpv6__client_8c_a0ad2c17a8d547e75d579b9763ace80bb}{dhcpv6ClientTickCounter} >= 
      \hyperlink{dhcpv6__client_8h_a2b6879b728153909d57ffe075af6c937}{DHCPV6\_CLIENT\_TICK\_INTERVAL})
1705    \{
1706       \textcolor{comment}{//Loop through network interfaces}
1707       \textcolor{keywordflow}{for}(i = 0; i < \hyperlink{net_8h_a116f850ebcb023ffa3e6b8de10c5cb35}{NET\_INTERFACE\_COUNT}; i++)
1708          \hyperlink{dhcpv6__client_8c_a0856bc5fef6b68be0c8780ab0b25ae5c}{dhcpv6ClientTick}(\hyperlink{net_8c_a7ecafab0039ec54d1d7a1e9e7402379b}{netInterface}[i].dhcpv6ClientContext);
1709 
1710       \textcolor{comment}{//Reset tick counter}
1711       \hyperlink{dhcpv6__client_8c_a0ad2c17a8d547e75d579b9763ace80bb}{dhcpv6ClientTickCounter} = 0;
1712    \}
1713 \textcolor{preprocessor}{#endif}
1714 
1715 \textcolor{preprocessor}{#if (TCP\_SUPPORT == ENABLED)}
1716    \textcolor{comment}{//Increment tick counter}
1717    \hyperlink{tcp_8c_ac8a0b26b68c9a94f4886ec15a6d11498}{tcpTickCounter} += \hyperlink{net_8h_a41dfc66bfd02ca88053ec44e3fbc6b8c}{NET\_TICK\_INTERVAL};
1718 
1719    \textcolor{comment}{//Manage TCP related timers}
1720    \textcolor{keywordflow}{if}(\hyperlink{tcp_8c_ac8a0b26b68c9a94f4886ec15a6d11498}{tcpTickCounter} >= \hyperlink{tcp_8h_a4286cfd9edc274047735b30f2b2f7607}{TCP\_TICK\_INTERVAL})
1721    \{
1722       \textcolor{comment}{//TCP timer handler}
1723       \hyperlink{tcp__timer_8c_afd5865aa3390d462ed15a1986f0e37b8}{tcpTick}();
1724       \textcolor{comment}{//Reset tick counter}
1725       \hyperlink{tcp_8c_ac8a0b26b68c9a94f4886ec15a6d11498}{tcpTickCounter} = 0;
1726    \}
1727 \textcolor{preprocessor}{#endif}
1728 
1729 \textcolor{preprocessor}{#if (DNS\_CLIENT\_SUPPORT == ENABLED || MDNS\_CLIENT\_SUPPORT == ENABLED || \(\backslash\)}
1730 \textcolor{preprocessor}{   NBNS\_CLIENT\_SUPPORT == ENABLED)}
1731    \textcolor{comment}{//Increment tick counter}
1732    \hyperlink{dns__cache_8c_ab78a95b8097e57c5ea2c75ffa37ade69}{dnsTickCounter} += \hyperlink{net_8h_a41dfc66bfd02ca88053ec44e3fbc6b8c}{NET\_TICK\_INTERVAL};
1733 
1734    \textcolor{comment}{//Manage DNS cache}
1735    \textcolor{keywordflow}{if}(\hyperlink{dns__cache_8c_ab78a95b8097e57c5ea2c75ffa37ade69}{dnsTickCounter} >= \hyperlink{dns__cache_8h_ad1aca539517e21352efdfea9d984114f}{DNS\_TICK\_INTERVAL})
1736    \{
1737       \textcolor{comment}{//DNS timer handler}
1738       \hyperlink{dns__cache_8c_afbc1265d7d5cc5ce346f187ff7f6de10}{dnsTick}();
1739       \textcolor{comment}{//Reset tick counter}
1740       \hyperlink{dns__cache_8c_ab78a95b8097e57c5ea2c75ffa37ade69}{dnsTickCounter} = 0;
1741    \}
1742 \textcolor{preprocessor}{#endif}
1743 
1744 \textcolor{preprocessor}{#if (MDNS\_RESPONDER\_SUPPORT == ENABLED)}
1745    \textcolor{comment}{//Increment tick counter}
1746    \hyperlink{mdns__responder_8c_a1b24a54d278d510b4af4eea8b2f44855}{mdnsResponderTickCounter} += \hyperlink{net_8h_a41dfc66bfd02ca88053ec44e3fbc6b8c}{NET\_TICK\_INTERVAL};
1747 
1748    \textcolor{comment}{//Manage mDNS probing and announcing}
1749    \textcolor{keywordflow}{if}(\hyperlink{mdns__responder_8c_a1b24a54d278d510b4af4eea8b2f44855}{mdnsResponderTickCounter} >= 
      \hyperlink{mdns__responder_8h_aef9b3005c4d1decc199ad88712d55384}{MDNS\_RESPONDER\_TICK\_INTERVAL})
1750    \{
1751       \textcolor{comment}{//Loop through network interfaces}
1752       \textcolor{keywordflow}{for}(i = 0; i < \hyperlink{net_8h_a116f850ebcb023ffa3e6b8de10c5cb35}{NET\_INTERFACE\_COUNT}; i++)
1753          \hyperlink{mdns__responder_8c_a54a08294cdc64f15a41da79a319f6ed5}{mdnsResponderTick}(\hyperlink{net_8c_a7ecafab0039ec54d1d7a1e9e7402379b}{netInterface}[i].mdnsResponderContext);
1754 
1755       \textcolor{comment}{//Reset tick counter}
1756       \hyperlink{mdns__responder_8c_a1b24a54d278d510b4af4eea8b2f44855}{mdnsResponderTickCounter} = 0;
1757    \}
1758 \textcolor{preprocessor}{#endif}
1759 
1760 \textcolor{preprocessor}{#if (DNS\_SD\_SUPPORT == ENABLED)}
1761    \textcolor{comment}{//Increment tick counter}
1762    \hyperlink{dns__sd_8c_af478f9554cd38e6072cdfed76fc59e61}{dnsSdTickCounter} += \hyperlink{net_8h_a41dfc66bfd02ca88053ec44e3fbc6b8c}{NET\_TICK\_INTERVAL};
1763 
1764    \textcolor{comment}{//Manage DNS-SD probing and announcing}
1765    \textcolor{keywordflow}{if}(\hyperlink{dns__sd_8c_af478f9554cd38e6072cdfed76fc59e61}{dnsSdTickCounter} >= \hyperlink{dns__sd_8h_a0ca57195452cb273b7af6a19432c74a8}{DNS\_SD\_TICK\_INTERVAL})
1766    \{
1767       \textcolor{comment}{//Loop through network interfaces}
1768       \textcolor{keywordflow}{for}(i = 0; i < \hyperlink{net_8h_a116f850ebcb023ffa3e6b8de10c5cb35}{NET\_INTERFACE\_COUNT}; i++)
1769          \hyperlink{dns__sd_8c_ac68d11ba729d01dbd0957b4cc09bb5cc}{dnsSdTick}(\hyperlink{net_8c_a7ecafab0039ec54d1d7a1e9e7402379b}{netInterface}[i].dnsSdContext);
1770 
1771       \textcolor{comment}{//Reset tick counter}
1772       \hyperlink{dns__sd_8c_af478f9554cd38e6072cdfed76fc59e61}{dnsSdTickCounter} = 0;
1773    \}
1774 \textcolor{preprocessor}{#endif}
1775 \}
\end{DoxyCode}


\subsection{Variable Documentation}
\mbox{\Hypertarget{net_8h_a4ad5a175123589d00e402e0c1c842fdc}\label{net_8h_a4ad5a175123589d00e402e0c1c842fdc}} 
\index{net.\+h@{net.\+h}!net\+Event@{net\+Event}}
\index{net\+Event@{net\+Event}!net.\+h@{net.\+h}}
\subsubsection{\texorpdfstring{net\+Event}{netEvent}}
{\footnotesize\ttfamily \hyperlink{structOsEvent}{Os\+Event} net\+Event}



Definition at line 77 of file net.\+c.

\mbox{\Hypertarget{net_8h_a7ecafab0039ec54d1d7a1e9e7402379b}\label{net_8h_a7ecafab0039ec54d1d7a1e9e7402379b}} 
\index{net.\+h@{net.\+h}!net\+Interface@{net\+Interface}}
\index{net\+Interface@{net\+Interface}!net.\+h@{net.\+h}}
\subsubsection{\texorpdfstring{net\+Interface}{netInterface}}
{\footnotesize\ttfamily \hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{Net\+Interface} net\+Interface\mbox{[}\hyperlink{net__config_8h_a116f850ebcb023ffa3e6b8de10c5cb35}{N\+E\+T\+\_\+\+I\+N\+T\+E\+R\+F\+A\+C\+E\+\_\+\+C\+O\+U\+NT}\mbox{]}}



Definition at line 79 of file net.\+c.

\mbox{\Hypertarget{net_8h_afe31551ad26115fae8e575654346d441}\label{net_8h_afe31551ad26115fae8e575654346d441}} 
\index{net.\+h@{net.\+h}!net\+Mutex@{net\+Mutex}}
\index{net\+Mutex@{net\+Mutex}!net.\+h@{net.\+h}}
\subsubsection{\texorpdfstring{net\+Mutex}{netMutex}}
{\footnotesize\ttfamily \hyperlink{structOsMutex}{Os\+Mutex} net\+Mutex}



Definition at line 75 of file net.\+c.

\mbox{\Hypertarget{net_8h_a93931693c83b6b416bfa6dcd5be8db40}\label{net_8h_a93931693c83b6b416bfa6dcd5be8db40}} 
\index{net.\+h@{net.\+h}!net\+Task\+Handle@{net\+Task\+Handle}}
\index{net\+Task\+Handle@{net\+Task\+Handle}!net.\+h@{net.\+h}}
\subsubsection{\texorpdfstring{net\+Task\+Handle}{netTaskHandle}}
{\footnotesize\ttfamily \hyperlink{structOsTask}{Os\+Task}$\ast$ net\+Task\+Handle}



Definition at line 73 of file net.\+c.

