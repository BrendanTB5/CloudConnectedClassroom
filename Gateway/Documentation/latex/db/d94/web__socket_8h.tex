\hypertarget{web__socket_8h}{}\section{cyclone\+\_\+tcp/web\+\_\+socket/web\+\_\+socket.h File Reference}
\label{web__socket_8h}\index{cyclone\+\_\+tcp/web\+\_\+socket/web\+\_\+socket.\+h@{cyclone\+\_\+tcp/web\+\_\+socket/web\+\_\+socket.\+h}}


Web\+Socket A\+PI (client and server)  


{\ttfamily \#include \char`\"{}core/net.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}core/socket.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}core/crypto.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}tls.\+h\char`\"{}}\newline
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structWebSocketAuthContext}{Web\+Socket\+Auth\+Context}
\begin{DoxyCompactList}\small\item\em Authentication context. \end{DoxyCompactList}\item 
struct \hyperlink{structWebSocketHandshakeContext}{Web\+Socket\+Handshake\+Context}
\begin{DoxyCompactList}\small\item\em Handshake context. \end{DoxyCompactList}\item 
struct \hyperlink{structWebSocketFrameContext}{Web\+Socket\+Frame\+Context}
\begin{DoxyCompactList}\small\item\em Frame encoding/decoding context. \end{DoxyCompactList}\item 
struct \hyperlink{structWebSocketUtf8Context}{Web\+Socket\+Utf8\+Context}
\begin{DoxyCompactList}\small\item\em U\+T\+F-\/8 decoding context. \end{DoxyCompactList}\item 
struct \hyperlink{struct__WebSocket}{\+\_\+\+Web\+Socket}
\begin{DoxyCompactList}\small\item\em Structure describing a Web\+Socket. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{web__socket_8h_ad1b1256d309ec757ce630286f6da3998}{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+S\+U\+P\+P\+O\+RT}~\hyperlink{os__port_8h_abd5c8ab57c190a6522ccdbf0ed7577da}{D\+I\+S\+A\+B\+L\+ED}
\item 
\#define \hyperlink{web__socket_8h_a4b8fc1e9a11a781a449a1293beb6bd70}{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+M\+A\+X\+\_\+\+C\+O\+U\+NT}~4
\item 
\#define \hyperlink{web__socket_8h_a80415bd6ca7ac7ae453477bbc0812760}{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+T\+L\+S\+\_\+\+S\+U\+P\+P\+O\+RT}~\hyperlink{os__port_8h_abd5c8ab57c190a6522ccdbf0ed7577da}{D\+I\+S\+A\+B\+L\+ED}
\item 
\#define \hyperlink{web__socket_8h_a9741a532189544187df607c024b80f6b}{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+B\+A\+S\+I\+C\+\_\+\+A\+U\+T\+H\+\_\+\+S\+U\+P\+P\+O\+RT}~\hyperlink{os__port_8h_abd5c8ab57c190a6522ccdbf0ed7577da}{D\+I\+S\+A\+B\+L\+ED}
\item 
\#define \hyperlink{web__socket_8h_ad35d840b4f27ed5b3e829de6b3a70437}{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+D\+I\+G\+E\+S\+T\+\_\+\+A\+U\+T\+H\+\_\+\+S\+U\+P\+P\+O\+RT}~\hyperlink{os__port_8h_abd5c8ab57c190a6522ccdbf0ed7577da}{D\+I\+S\+A\+B\+L\+ED}
\item 
\#define \hyperlink{web__socket_8h_a48aa29e0ee73ec72c4da91237bd68305}{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+M\+A\+X\+\_\+\+C\+O\+N\+N\+\_\+\+R\+E\+T\+R\+I\+ES}~3
\item 
\#define \hyperlink{web__socket_8h_a4e6ed74586f83eedc4eae5a079f41050}{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+B\+U\+F\+F\+E\+R\+\_\+\+S\+I\+ZE}~1024
\item 
\#define \hyperlink{web__socket_8h_ab0e0a872efe7a6badc10953d0fc24cd0}{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+H\+O\+S\+T\+\_\+\+M\+A\+X\+\_\+\+L\+EN}~32
\item 
\#define \hyperlink{web__socket_8h_a5c93d131ef16f066ea2c64453dcc52aa}{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+O\+R\+I\+G\+I\+N\+\_\+\+M\+A\+X\+\_\+\+L\+EN}~16
\item 
\#define \hyperlink{web__socket_8h_a5a98133b0c199ecd9542c4c6d9388550}{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+S\+U\+B\+\_\+\+P\+R\+O\+T\+O\+C\+O\+L\+\_\+\+M\+A\+X\+\_\+\+L\+EN}~8
\item 
\#define \hyperlink{web__socket_8h_ace530d4ae5bedbea825d9ac103cf2741}{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+U\+R\+I\+\_\+\+M\+A\+X\+\_\+\+L\+EN}~32
\item 
\#define \hyperlink{web__socket_8h_aa438876c03fc0dc137c3aaedc4a3071d}{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+Q\+U\+E\+R\+Y\+\_\+\+S\+T\+R\+I\+N\+G\+\_\+\+M\+A\+X\+\_\+\+L\+EN}~32
\item 
\#define \hyperlink{web__socket_8h_ae74a00b949ab02514b90f9783031b311}{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+R\+E\+A\+L\+M\+\_\+\+M\+A\+X\+\_\+\+L\+EN}~32
\item 
\#define \hyperlink{web__socket_8h_a60c61570c0a031b8e8108cb162a098e5}{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+U\+S\+E\+R\+N\+A\+M\+E\+\_\+\+M\+A\+X\+\_\+\+L\+EN}~16
\item 
\#define \hyperlink{web__socket_8h_a4c69773275a97b429a126bce01074215}{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+P\+A\+S\+S\+W\+O\+R\+D\+\_\+\+M\+A\+X\+\_\+\+L\+EN}~16
\item 
\#define \hyperlink{web__socket_8h_a48d19c4a819af2a5c5b3fea833a7c7ea}{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+N\+O\+N\+C\+E\+\_\+\+M\+A\+X\+\_\+\+L\+EN}~32
\item 
\#define \hyperlink{web__socket_8h_a1703dd1ad84a33246b072ed9a3042d5f}{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+O\+P\+A\+Q\+U\+E\+\_\+\+M\+A\+X\+\_\+\+L\+EN}~32
\item 
\#define \hyperlink{web__socket_8h_a9a4f07ca6ff80b9ce6df8a8de49760e8}{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+C\+N\+O\+N\+C\+E\+\_\+\+S\+I\+ZE}~16
\item 
\#define \hyperlink{web__socket_8h_aec52a37b246082418c0b6dbf0235e99d}{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+C\+L\+I\+E\+N\+T\+\_\+\+K\+E\+Y\+\_\+\+S\+I\+ZE}~24
\item 
\#define \hyperlink{web__socket_8h_ab90bffcb2db9573de4a19252616df227}{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+K\+E\+Y\+\_\+\+S\+I\+ZE}~28
\item 
\#define \hyperlink{web__socket_8h_aad796fb4e3af91c4358c5b273d4a2028}{Web\+Socket}~struct \hyperlink{struct__WebSocket}{\+\_\+\+Web\+Socket}
\end{DoxyCompactItemize}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
\begin{tabbing}
xx\=xx\=xx\=xx\=xx\=xx\=xx\=xx\=xx\=\kill
struct \{\\
\>\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t} \hyperlink{web__socket_8h_a5c1b56e6bccc2a95dbddf1a08e56e87d}{opcode}: 4\\
\>\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t} \hyperlink{web__socket_8h_acb7bc06bed6f6408d719334fc41698c7}{reserved}: 3\\
\>\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t} \hyperlink{web__socket_8h_a48dcf0f2005f7f1028d2cbbc2c6cde85}{fin}: 1\\
\>\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t} \hyperlink{web__socket_8h_ae4d38aba40b6dddf544612da0726cd7e}{payloadLen}: 7\\
\>\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t} \hyperlink{web__socket_8h_a8a74907784be6c7786c2d060c8d7e10b}{mask}: 1\\
\>\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t} \hyperlink{web__socket_8h_a671ca0723b653077828ace38751ed76d}{extPayloadLen} \mbox{[}$\,$\mbox{]}\\
\} \hyperlink{web__socket_8h_a949a0d07e7ae57a9e5762b54617f88d0}{WebSocketFrame}\\

\end{tabbing}\begin{DoxyCompactList}\small\item\em Web\+Socket frame. \end{DoxyCompactList}\item 
typedef \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t}($\ast$ \hyperlink{web__socket_8h_adeedf6ec968cf6f6df535f9616762b2b}{Web\+Socket\+Rand\+Callback}) (\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} $\ast$\hyperlink{tftp__common_8h_a5c239a1bb87b52b0f1d6d68c4749cd2a}{data}, size\+\_\+t \hyperlink{ppp_8h_ab2b3adeb2a67e656ff030b56727fd0ac}{length})
\begin{DoxyCompactList}\small\item\em Random data generation callback function. \end{DoxyCompactList}\item 
typedef \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t}($\ast$ \hyperlink{web__socket_8h_ac1d28db340b5ef55a4a7e5e276018cf4}{Web\+Socket\+Tls\+Init\+Callback}) (\hyperlink{web__socket_8h_aad796fb4e3af91c4358c5b273d4a2028}{Web\+Socket} $\ast$web\+Socket, \hyperlink{tls_8h_ac09f7a286c0cdf9b07ee1edd107946f5}{Tls\+Context} $\ast$tls\+Context)
\begin{DoxyCompactList}\small\item\em T\+LS initialization callback function. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{web__socket_8h_ae7d51561abe243c4f263d6c7d50699a9}{Web\+Socket\+Endpoint} \{ \hyperlink{web__socket_8h_ae7d51561abe243c4f263d6c7d50699a9aa78fcf3108fe2e0b57f32684e9c76076}{W\+S\+\_\+\+E\+N\+D\+P\+O\+I\+N\+T\+\_\+\+C\+L\+I\+E\+NT} = 0, 
\hyperlink{web__socket_8h_ae7d51561abe243c4f263d6c7d50699a9a52543e5816b31e31954fe11186a13d4d}{W\+S\+\_\+\+E\+N\+D\+P\+O\+I\+N\+T\+\_\+\+S\+E\+R\+V\+ER} = 1
 \}\begin{DoxyCompactList}\small\item\em Web\+Socket endpoint types. \end{DoxyCompactList}
\item 
enum \hyperlink{web__socket_8h_a1c876c89b2d8e417e1a99a6dbcb1bfac}{Web\+Socket\+Http\+Version} \{ \hyperlink{web__socket_8h_a1c876c89b2d8e417e1a99a6dbcb1bfacaa86a415cd171b6c10c3a1fad20c166a3}{W\+S\+\_\+\+H\+T\+T\+P\+\_\+\+V\+E\+R\+S\+I\+O\+N\+\_\+0\+\_\+9} = 0x0009, 
\hyperlink{web__socket_8h_a1c876c89b2d8e417e1a99a6dbcb1bfacafeaff3b6056dc9cbbf03d1a6a8cf1eba}{W\+S\+\_\+\+H\+T\+T\+P\+\_\+\+V\+E\+R\+S\+I\+O\+N\+\_\+1\+\_\+0} = 0x0100, 
\hyperlink{web__socket_8h_a1c876c89b2d8e417e1a99a6dbcb1bfacafdefe3d8ccc39d6c50065d47b1c32b6a}{W\+S\+\_\+\+H\+T\+T\+P\+\_\+\+V\+E\+R\+S\+I\+O\+N\+\_\+1\+\_\+1} = 0x0101
 \}\begin{DoxyCompactList}\small\item\em H\+T\+TP version numbers. \end{DoxyCompactList}
\item 
enum \hyperlink{web__socket_8h_a2c2f8d99948379e06bb22ea64745ba77}{Web\+Socket\+Auth\+Mode} \{ \hyperlink{web__socket_8h_a2c2f8d99948379e06bb22ea64745ba77a80f1f0d41bcc49cb11c7618551dd0bdf}{W\+S\+\_\+\+A\+U\+T\+H\+\_\+\+M\+O\+D\+E\+\_\+\+N\+O\+NE} = 0x00, 
\hyperlink{web__socket_8h_a2c2f8d99948379e06bb22ea64745ba77a30430e212026c8648a527167cd8914b0}{W\+S\+\_\+\+A\+U\+T\+H\+\_\+\+M\+O\+D\+E\+\_\+\+B\+A\+S\+IC} = 0x01, 
\hyperlink{web__socket_8h_a2c2f8d99948379e06bb22ea64745ba77ace1b2d04ef4bf3d72f7d378fee80e744}{W\+S\+\_\+\+A\+U\+T\+H\+\_\+\+M\+O\+D\+E\+\_\+\+D\+I\+G\+E\+ST} = 0x02
 \}\begin{DoxyCompactList}\small\item\em Authentication schemes. \end{DoxyCompactList}
\item 
enum \hyperlink{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0}{Web\+Socket\+State} \{ \newline
\hyperlink{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0a68c9aa1cabee320355510e4d1deae9fa}{W\+S\+\_\+\+S\+T\+A\+T\+E\+\_\+\+U\+N\+U\+S\+ED} = 0, 
\hyperlink{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0a4356293e46722d1fa27ca8624f62b296}{W\+S\+\_\+\+S\+T\+A\+T\+E\+\_\+\+C\+L\+O\+S\+ED} = 1, 
\hyperlink{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0a8be7fc475b5c6e5950f1d850b092d2d8}{W\+S\+\_\+\+S\+T\+A\+T\+E\+\_\+\+I\+N\+IT} = 2, 
\hyperlink{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0a782bbde9b515882abdd6b712c127af31}{W\+S\+\_\+\+S\+T\+A\+T\+E\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+NG} = 3, 
\newline
\hyperlink{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0aa36e2729944c323df887386b2aa4bc0c}{W\+S\+\_\+\+S\+T\+A\+T\+E\+\_\+\+C\+L\+I\+E\+N\+T\+\_\+\+H\+A\+N\+D\+S\+H\+A\+KE} = 4, 
\hyperlink{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0af67b597c54a4b89fc2566c326231aa8b}{W\+S\+\_\+\+S\+T\+A\+T\+E\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+H\+A\+N\+D\+S\+H\+A\+KE} = 5, 
\hyperlink{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0a43c62103f8f4932a86f148bb9122d9f5}{W\+S\+\_\+\+S\+T\+A\+T\+E\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+R\+E\+S\+P\+\_\+\+B\+O\+DY} = 6, 
\hyperlink{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0ab0325195f22aca5be7491a425f84808c}{W\+S\+\_\+\+S\+T\+A\+T\+E\+\_\+\+O\+P\+EN} = 7, 
\newline
\hyperlink{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0a497577e6916b829e303f5466a852e8ef}{W\+S\+\_\+\+S\+T\+A\+T\+E\+\_\+\+C\+L\+O\+S\+I\+N\+G\+\_\+\+TX} = 8, 
\hyperlink{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0a389d5ee1c20697d8c258fdf813d16fe5}{W\+S\+\_\+\+S\+T\+A\+T\+E\+\_\+\+C\+L\+O\+S\+I\+N\+G\+\_\+\+RX} = 9, 
\hyperlink{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0ab9ab3613e9b03816f43e9711716c9707}{W\+S\+\_\+\+S\+T\+A\+T\+E\+\_\+\+S\+H\+U\+T\+D\+O\+WN} = 10
 \}\begin{DoxyCompactList}\small\item\em Web\+Socket states. \end{DoxyCompactList}
\item 
enum \hyperlink{web__socket_8h_add467139cdc2100a7640faa4fb6c36d7}{Web\+Socket\+Sub\+State} \{ \newline
\hyperlink{web__socket_8h_add467139cdc2100a7640faa4fb6c36d7a94a204ec550f4e655177970aeaf89306}{W\+S\+\_\+\+S\+U\+B\+\_\+\+S\+T\+A\+T\+E\+\_\+\+I\+N\+IT} = 0, 
\hyperlink{web__socket_8h_add467139cdc2100a7640faa4fb6c36d7a747a95957baf6c56acd5a4a6b662e5ce}{W\+S\+\_\+\+S\+U\+B\+\_\+\+S\+T\+A\+T\+E\+\_\+\+H\+A\+N\+D\+S\+H\+A\+K\+E\+\_\+\+L\+E\+A\+D\+I\+N\+G\+\_\+\+L\+I\+NE} = 1, 
\hyperlink{web__socket_8h_add467139cdc2100a7640faa4fb6c36d7ae6c7088c37c86cacd2822259d9fcad11}{W\+S\+\_\+\+S\+U\+B\+\_\+\+S\+T\+A\+T\+E\+\_\+\+H\+A\+N\+D\+S\+H\+A\+K\+E\+\_\+\+H\+E\+A\+D\+E\+R\+\_\+\+F\+I\+E\+LD} = 2, 
\hyperlink{web__socket_8h_add467139cdc2100a7640faa4fb6c36d7a1c64907f57361f3d97250c8a4b6276be}{W\+S\+\_\+\+S\+U\+B\+\_\+\+S\+T\+A\+T\+E\+\_\+\+H\+A\+N\+D\+S\+H\+A\+K\+E\+\_\+\+L\+W\+SP} = 3, 
\newline
\hyperlink{web__socket_8h_add467139cdc2100a7640faa4fb6c36d7acdecdc58376a8e93ce232125d5f89ae9}{W\+S\+\_\+\+S\+U\+B\+\_\+\+S\+T\+A\+T\+E\+\_\+\+F\+R\+A\+M\+E\+\_\+\+H\+E\+A\+D\+ER} = 4, 
\hyperlink{web__socket_8h_add467139cdc2100a7640faa4fb6c36d7a03dfb65ccfce2b3cdc96ce13c0671216}{W\+S\+\_\+\+S\+U\+B\+\_\+\+S\+T\+A\+T\+E\+\_\+\+F\+R\+A\+M\+E\+\_\+\+E\+X\+T\+\_\+\+H\+E\+A\+D\+ER} = 5, 
\hyperlink{web__socket_8h_add467139cdc2100a7640faa4fb6c36d7a121d5488238716351efb6fc0fd77e255}{W\+S\+\_\+\+S\+U\+B\+\_\+\+S\+T\+A\+T\+E\+\_\+\+F\+R\+A\+M\+E\+\_\+\+P\+A\+Y\+L\+O\+AD} = 6
 \}\begin{DoxyCompactList}\small\item\em Web\+Socket sub-\/states. \end{DoxyCompactList}
\item 
enum \hyperlink{web__socket_8h_a5cb4405f3460a36460b6ba588b60ea28}{Web\+Socket\+Frame\+Type} \{ \newline
\hyperlink{web__socket_8h_a5cb4405f3460a36460b6ba588b60ea28a95a6c87691c4c8b1c52f17806dc612eb}{W\+S\+\_\+\+F\+R\+A\+M\+E\+\_\+\+T\+Y\+P\+E\+\_\+\+C\+O\+N\+T\+I\+N\+U\+A\+T\+I\+ON} = 0x00, 
\hyperlink{web__socket_8h_a5cb4405f3460a36460b6ba588b60ea28a7aa3f47f4e9de2389b7a7f0773ad3785}{W\+S\+\_\+\+F\+R\+A\+M\+E\+\_\+\+T\+Y\+P\+E\+\_\+\+T\+E\+XT} = 0x01, 
\hyperlink{web__socket_8h_a5cb4405f3460a36460b6ba588b60ea28a2fdca4eba8711bd0925febf891d06e58}{W\+S\+\_\+\+F\+R\+A\+M\+E\+\_\+\+T\+Y\+P\+E\+\_\+\+B\+I\+N\+A\+RY} = 0x02, 
\hyperlink{web__socket_8h_a5cb4405f3460a36460b6ba588b60ea28afdcd6c0f02a3c4f929f25acf318ee31d}{W\+S\+\_\+\+F\+R\+A\+M\+E\+\_\+\+T\+Y\+P\+E\+\_\+\+C\+L\+O\+SE} = 0x08, 
\newline
\hyperlink{web__socket_8h_a5cb4405f3460a36460b6ba588b60ea28a155fe54189961469cc9817b9f4d57207}{W\+S\+\_\+\+F\+R\+A\+M\+E\+\_\+\+T\+Y\+P\+E\+\_\+\+P\+I\+NG} = 0x09, 
\hyperlink{web__socket_8h_a5cb4405f3460a36460b6ba588b60ea28a5d1eb7f86566d35b3f41bd8a5ec0ef15}{W\+S\+\_\+\+F\+R\+A\+M\+E\+\_\+\+T\+Y\+P\+E\+\_\+\+P\+O\+NG} = 0x0A
 \}\begin{DoxyCompactList}\small\item\em Web\+Socket frame types. \end{DoxyCompactList}
\item 
enum \hyperlink{web__socket_8h_acd8f55557f218580a4048bba2d0c5192}{Web\+Socket\+Status\+Code} \{ \newline
\hyperlink{web__socket_8h_acd8f55557f218580a4048bba2d0c5192afa052f8cdfa3f02fd4a0700321f66021}{W\+S\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+D\+E\+\_\+\+N\+O\+R\+M\+A\+L\+\_\+\+C\+L\+O\+S\+U\+RE} = 1000, 
\hyperlink{web__socket_8h_acd8f55557f218580a4048bba2d0c5192a97fbce392e2d9fd525f741ba0577df3f}{W\+S\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+D\+E\+\_\+\+G\+O\+I\+N\+G\+\_\+\+A\+W\+AY} = 1001, 
\hyperlink{web__socket_8h_acd8f55557f218580a4048bba2d0c5192a43a574a1eab5c8d022034a5e356ad27c}{W\+S\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+D\+E\+\_\+\+P\+R\+O\+T\+O\+C\+O\+L\+\_\+\+E\+R\+R\+OR} = 1002, 
\hyperlink{web__socket_8h_acd8f55557f218580a4048bba2d0c5192af653d00c4d55a84e3a16b20f29d79197}{W\+S\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+D\+E\+\_\+\+U\+N\+S\+U\+P\+P\+O\+R\+T\+E\+D\+\_\+\+D\+A\+TA} = 1003, 
\newline
\hyperlink{web__socket_8h_acd8f55557f218580a4048bba2d0c5192a7911bd0755c0ff03ee1add8df6ab25ba}{W\+S\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+D\+E\+\_\+\+N\+O\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+R\+C\+VD} = 1005, 
\hyperlink{web__socket_8h_acd8f55557f218580a4048bba2d0c5192afcfb42bc4525116af0d513abd011af40}{W\+S\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+D\+E\+\_\+\+A\+B\+N\+O\+R\+M\+A\+L\+\_\+\+C\+L\+O\+S\+U\+RE} = 1006, 
\hyperlink{web__socket_8h_acd8f55557f218580a4048bba2d0c5192abd132bf158d0fa6b7dbf2f06f4caa99d}{W\+S\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+D\+E\+\_\+\+I\+N\+V\+A\+L\+I\+D\+\_\+\+P\+A\+Y\+L\+O\+A\+D\+\_\+\+D\+A\+TA} = 1007, 
\hyperlink{web__socket_8h_acd8f55557f218580a4048bba2d0c5192a0c9f05bfdebc75c106fe6d5dc7d2bb93}{W\+S\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+D\+E\+\_\+\+P\+O\+L\+I\+C\+Y\+\_\+\+V\+I\+O\+L\+A\+T\+I\+ON} = 1008, 
\newline
\hyperlink{web__socket_8h_acd8f55557f218580a4048bba2d0c5192af7c887bd2638269ce5f50c25819fc913}{W\+S\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+D\+E\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+T\+O\+O\+\_\+\+B\+IG} = 1009, 
\hyperlink{web__socket_8h_acd8f55557f218580a4048bba2d0c5192aefddcb5933804a705a4fbd21bebc4788}{W\+S\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+D\+E\+\_\+\+M\+A\+N\+D\+A\+T\+O\+R\+Y\+\_\+\+E\+XT} = 1010, 
\hyperlink{web__socket_8h_acd8f55557f218580a4048bba2d0c5192a29c02976289b786b18e6bd88f3f30d5c}{W\+S\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+D\+E\+\_\+\+I\+N\+T\+E\+R\+N\+A\+L\+\_\+\+E\+R\+R\+OR} = 1011, 
\hyperlink{web__socket_8h_acd8f55557f218580a4048bba2d0c5192ad674d3f60143cc5b96ca7f7b6cb86012}{W\+S\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+D\+E\+\_\+\+T\+L\+S\+\_\+\+H\+A\+N\+D\+S\+H\+A\+KE} = 1015
 \}\begin{DoxyCompactList}\small\item\em Web\+Socket status codes. \end{DoxyCompactList}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} \hyperlink{web__socket_8h_a5e1adda08b97654f980d5fdb39db17ce}{web\+Socket\+Init} (void)
\begin{DoxyCompactList}\small\item\em Web\+Socket related initialization. \end{DoxyCompactList}\item 
\hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} \hyperlink{web__socket_8h_ac076e9004ba8d8617d2dbb49e760057e}{web\+Socket\+Register\+Rand\+Callback} (\hyperlink{web__socket_8h_adeedf6ec968cf6f6df535f9616762b2b}{Web\+Socket\+Rand\+Callback} callback)
\begin{DoxyCompactList}\small\item\em Register R\+NG callback function. \end{DoxyCompactList}\item 
\hyperlink{web__socket_8h_aad796fb4e3af91c4358c5b273d4a2028}{Web\+Socket} $\ast$ \hyperlink{web__socket_8h_a6134901b088acbcb083e2326600bcd6d}{web\+Socket\+Open} (void)
\begin{DoxyCompactList}\small\item\em Create a Web\+Socket. \end{DoxyCompactList}\item 
\hyperlink{web__socket_8h_aad796fb4e3af91c4358c5b273d4a2028}{Web\+Socket} $\ast$ \hyperlink{web__socket_8h_a5c248cf726d2b629ba392b145c8d2640}{web\+Socket\+Upgrade\+Socket} (\hyperlink{socket_8h_aa85acfb0fa336ef495e6ba87fb88fc48}{Socket} $\ast$\hyperlink{bsd__socket_8h_a3f8f3a2707fbc87fc30aa70f31f53218}{socket})
\begin{DoxyCompactList}\small\item\em Upgrade a socket to a Web\+Socket. \end{DoxyCompactList}\item 
\hyperlink{web__socket_8h_aad796fb4e3af91c4358c5b273d4a2028}{Web\+Socket} $\ast$ \hyperlink{web__socket_8h_a3405a2e8818e5b35aae323f8b0f02ef8}{web\+Socket\+Upgrade\+Secure\+Socket} (\hyperlink{socket_8h_aa85acfb0fa336ef495e6ba87fb88fc48}{Socket} $\ast$\hyperlink{bsd__socket_8h_a3f8f3a2707fbc87fc30aa70f31f53218}{socket}, \hyperlink{tls_8h_ac09f7a286c0cdf9b07ee1edd107946f5}{Tls\+Context} $\ast$tls\+Context)
\begin{DoxyCompactList}\small\item\em Upgrade a secure socket to a secure Web\+Socket. \end{DoxyCompactList}\item 
\hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} \hyperlink{web__socket_8h_a1ba9c852f06d5d531676afbacc32ca0f}{web\+Socket\+Register\+Tls\+Init\+Callback} (\hyperlink{web__socket_8h_aad796fb4e3af91c4358c5b273d4a2028}{Web\+Socket} $\ast$web\+Socket, \hyperlink{web__socket_8h_ac1d28db340b5ef55a4a7e5e276018cf4}{Web\+Socket\+Tls\+Init\+Callback} callback)
\begin{DoxyCompactList}\small\item\em Register T\+LS initialization callback function. \end{DoxyCompactList}\item 
\hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} \hyperlink{web__socket_8h_a62484c97e683330b9dc4953fce89f77b}{web\+Socket\+Set\+Timeout} (\hyperlink{web__socket_8h_aad796fb4e3af91c4358c5b273d4a2028}{Web\+Socket} $\ast$web\+Socket, \hyperlink{compiler__port_8h_ae3e32a98d431a02106616da3071832dd}{systime\+\_\+t} timeout)
\begin{DoxyCompactList}\small\item\em Set timeout value for blocking operations. \end{DoxyCompactList}\item 
\hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} \hyperlink{web__socket_8h_ac6ca86f78b9553dfbb0b317db10bdcae}{web\+Socket\+Set\+Host} (\hyperlink{web__socket_8h_aad796fb4e3af91c4358c5b273d4a2028}{Web\+Socket} $\ast$web\+Socket, const \hyperlink{compiler__port_8h_a40bb5262bf908c328fbcfbe5d29d0201}{char\+\_\+t} $\ast$host)
\begin{DoxyCompactList}\small\item\em Set the domain name of the server (for virtual hosting) \end{DoxyCompactList}\item 
\hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} \hyperlink{web__socket_8h_aec8f009b3a2d80aaaea523b4f3fe30de}{web\+Socket\+Set\+Origin} (\hyperlink{web__socket_8h_aad796fb4e3af91c4358c5b273d4a2028}{Web\+Socket} $\ast$web\+Socket, const \hyperlink{compiler__port_8h_a40bb5262bf908c328fbcfbe5d29d0201}{char\+\_\+t} $\ast$origin)
\begin{DoxyCompactList}\small\item\em Set the origin header field. \end{DoxyCompactList}\item 
\hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} \hyperlink{web__socket_8h_a77b4a38124a405d8a8946d7fde8f0068}{web\+Socket\+Set\+Sub\+Protocol} (\hyperlink{web__socket_8h_aad796fb4e3af91c4358c5b273d4a2028}{Web\+Socket} $\ast$web\+Socket, const \hyperlink{compiler__port_8h_a40bb5262bf908c328fbcfbe5d29d0201}{char\+\_\+t} $\ast$sub\+Protocol)
\begin{DoxyCompactList}\small\item\em Set the sub-\/protocol header field. \end{DoxyCompactList}\item 
\hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} \hyperlink{web__socket_8h_a824a1be920b2aea93a0c8253ffa790b1}{web\+Socket\+Set\+Auth\+Info} (\hyperlink{web__socket_8h_aad796fb4e3af91c4358c5b273d4a2028}{Web\+Socket} $\ast$web\+Socket, const \hyperlink{compiler__port_8h_a40bb5262bf908c328fbcfbe5d29d0201}{char\+\_\+t} $\ast$username, const \hyperlink{compiler__port_8h_a40bb5262bf908c328fbcfbe5d29d0201}{char\+\_\+t} $\ast$password, \hyperlink{compiler__port_8h_a12a1e9b3ce141648783a82445d02b58d}{uint\+\_\+t} allowed\+Auth\+Modes)
\begin{DoxyCompactList}\small\item\em Set authentication information. \end{DoxyCompactList}\item 
\hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} \hyperlink{web__socket_8h_af463d265c223171a38cef0374ba1eeac}{web\+Socket\+Bind\+To\+Interface} (\hyperlink{web__socket_8h_aad796fb4e3af91c4358c5b273d4a2028}{Web\+Socket} $\ast$web\+Socket, \hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{Net\+Interface} $\ast$interface)
\begin{DoxyCompactList}\small\item\em Bind the Web\+Socket to a particular network interface. \end{DoxyCompactList}\item 
\hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} \hyperlink{web__socket_8h_a2e1c929468b9ca8919e78d7f625aa577}{web\+Socket\+Connect} (\hyperlink{web__socket_8h_aad796fb4e3af91c4358c5b273d4a2028}{Web\+Socket} $\ast$web\+Socket, const \hyperlink{structIpAddr}{Ip\+Addr} $\ast$server\+Ip\+Addr, \hyperlink{stdint_8h_a273cf69d639a59973b6019625df33e30}{uint16\+\_\+t} server\+Port, const \hyperlink{compiler__port_8h_a40bb5262bf908c328fbcfbe5d29d0201}{char\+\_\+t} $\ast$uri)
\begin{DoxyCompactList}\small\item\em Establish a Web\+Socket connection. \end{DoxyCompactList}\item 
\hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} \hyperlink{web__socket_8h_a34ff0ac46218d6a3fea6eda0410faebd}{web\+Socket\+Set\+Client\+Key} (\hyperlink{web__socket_8h_aad796fb4e3af91c4358c5b273d4a2028}{Web\+Socket} $\ast$web\+Socket, const \hyperlink{compiler__port_8h_a40bb5262bf908c328fbcfbe5d29d0201}{char\+\_\+t} $\ast$\hyperlink{demo_2microchip_2pic32mz__ef__curiosity_2wifi__http__server__demo_2src_2main_8c_aa47a0ee54f9d77fcd75479e7b64c317a}{client\+Key})
\begin{DoxyCompactList}\small\item\em Set client\textquotesingle{}s key. \end{DoxyCompactList}\item 
\hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} \hyperlink{web__socket_8h_a843776a39e40fbd3d10ee13ba00fb64b}{web\+Socket\+Parse\+Client\+Handshake} (\hyperlink{web__socket_8h_aad796fb4e3af91c4358c5b273d4a2028}{Web\+Socket} $\ast$web\+Socket)
\begin{DoxyCompactList}\small\item\em Parse client\textquotesingle{}s handshake. \end{DoxyCompactList}\item 
\hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} \hyperlink{web__socket_8h_a288851f7d2769de7ea322d35c737873b}{web\+Socket\+Send\+Server\+Handshake} (\hyperlink{web__socket_8h_aad796fb4e3af91c4358c5b273d4a2028}{Web\+Socket} $\ast$web\+Socket)
\begin{DoxyCompactList}\small\item\em Send server\textquotesingle{}s handshake. \end{DoxyCompactList}\item 
\hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} \hyperlink{web__socket_8h_a1ff442b8b0a757dcf52946264f14442a}{web\+Socket\+Send\+Error\+Response} (\hyperlink{web__socket_8h_aad796fb4e3af91c4358c5b273d4a2028}{Web\+Socket} $\ast$web\+Socket, \hyperlink{compiler__port_8h_a12a1e9b3ce141648783a82445d02b58d}{uint\+\_\+t} \hyperlink{dhcpv6__common_8h_ade31e7fd99344e8c35f2c373af659551}{status\+Code}, const \hyperlink{compiler__port_8h_a40bb5262bf908c328fbcfbe5d29d0201}{char\+\_\+t} $\ast$\hyperlink{pap_8h_a52f19d36a71e9b8ddea38fe00c291181}{message})
\begin{DoxyCompactList}\small\item\em Send H\+T\+TP error response to the client. \end{DoxyCompactList}\item 
\hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} \hyperlink{web__socket_8h_a3a04f02a4825742e1ace559e4c1a1e22}{web\+Socket\+Send} (\hyperlink{web__socket_8h_aad796fb4e3af91c4358c5b273d4a2028}{Web\+Socket} $\ast$web\+Socket, const void $\ast$\hyperlink{tftp__common_8h_a5c239a1bb87b52b0f1d6d68c4749cd2a}{data}, size\+\_\+t \hyperlink{ppp_8h_ab2b3adeb2a67e656ff030b56727fd0ac}{length}, \hyperlink{web__socket_8h_a5cb4405f3460a36460b6ba588b60ea28}{Web\+Socket\+Frame\+Type} \hyperlink{ppp_8h_a1d127017fb298b889f4ba24752d08b8e}{type}, size\+\_\+t $\ast$written)
\begin{DoxyCompactList}\small\item\em Transmit data over the Web\+Socket connection. \end{DoxyCompactList}\item 
\hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} \hyperlink{web__socket_8h_a0c4440abc6fbe45c6fe79ef4efba2a67}{web\+Socket\+Send\+Ex} (\hyperlink{web__socket_8h_aad796fb4e3af91c4358c5b273d4a2028}{Web\+Socket} $\ast$web\+Socket, const void $\ast$\hyperlink{tftp__common_8h_a5c239a1bb87b52b0f1d6d68c4749cd2a}{data}, size\+\_\+t \hyperlink{ppp_8h_ab2b3adeb2a67e656ff030b56727fd0ac}{length}, \hyperlink{web__socket_8h_a5cb4405f3460a36460b6ba588b60ea28}{Web\+Socket\+Frame\+Type} \hyperlink{ppp_8h_a1d127017fb298b889f4ba24752d08b8e}{type}, size\+\_\+t $\ast$written, \hyperlink{compiler__port_8h_a812d16e5494522586b3784e55d479912}{bool\+\_\+t} first\+Frag, \hyperlink{compiler__port_8h_a812d16e5494522586b3784e55d479912}{bool\+\_\+t} last\+Frag)
\begin{DoxyCompactList}\small\item\em Transmit data over the Web\+Socket connection. \end{DoxyCompactList}\item 
\hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} \hyperlink{web__socket_8h_aad0e0be082563aff76a155bf4aae585f}{web\+Socket\+Receive} (\hyperlink{web__socket_8h_aad796fb4e3af91c4358c5b273d4a2028}{Web\+Socket} $\ast$web\+Socket, void $\ast$\hyperlink{tftp__common_8h_a5c239a1bb87b52b0f1d6d68c4749cd2a}{data}, size\+\_\+t size, \hyperlink{web__socket_8h_a5cb4405f3460a36460b6ba588b60ea28}{Web\+Socket\+Frame\+Type} $\ast$\hyperlink{ppp_8h_a1d127017fb298b889f4ba24752d08b8e}{type}, size\+\_\+t $\ast$received)
\begin{DoxyCompactList}\small\item\em Receive data from a Web\+Socket connection. \end{DoxyCompactList}\item 
\hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} \hyperlink{web__socket_8h_a8cf6901f5762988ba5cb818cb2782333}{web\+Socket\+Receive\+Ex} (\hyperlink{web__socket_8h_aad796fb4e3af91c4358c5b273d4a2028}{Web\+Socket} $\ast$web\+Socket, void $\ast$\hyperlink{tftp__common_8h_a5c239a1bb87b52b0f1d6d68c4749cd2a}{data}, size\+\_\+t size, \hyperlink{web__socket_8h_a5cb4405f3460a36460b6ba588b60ea28}{Web\+Socket\+Frame\+Type} $\ast$\hyperlink{ppp_8h_a1d127017fb298b889f4ba24752d08b8e}{type}, size\+\_\+t $\ast$received, \hyperlink{compiler__port_8h_a812d16e5494522586b3784e55d479912}{bool\+\_\+t} $\ast$first\+Frag, \hyperlink{compiler__port_8h_a812d16e5494522586b3784e55d479912}{bool\+\_\+t} $\ast$last\+Frag)
\begin{DoxyCompactList}\small\item\em Receive data from a Web\+Socket connection. \end{DoxyCompactList}\item 
\hyperlink{compiler__port_8h_a812d16e5494522586b3784e55d479912}{bool\+\_\+t} \hyperlink{web__socket_8h_ac75db8243c60b28ab95610844f07f9cd}{web\+Socket\+Is\+Rx\+Ready} (\hyperlink{web__socket_8h_aad796fb4e3af91c4358c5b273d4a2028}{Web\+Socket} $\ast$web\+Socket)
\begin{DoxyCompactList}\small\item\em Check whether some data is available in the receive buffer. \end{DoxyCompactList}\item 
\hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} \hyperlink{web__socket_8h_a7e9ab52f176656d3c91c94742b181656}{web\+Socket\+Shutdown} (\hyperlink{web__socket_8h_aad796fb4e3af91c4358c5b273d4a2028}{Web\+Socket} $\ast$web\+Socket)
\begin{DoxyCompactList}\small\item\em Gracefully close a Web\+Socket connection. \end{DoxyCompactList}\item 
void \hyperlink{web__socket_8h_a9b9a31944d5466c54f9720d34403c4d6}{web\+Socket\+Close} (\hyperlink{web__socket_8h_aad796fb4e3af91c4358c5b273d4a2028}{Web\+Socket} $\ast$web\+Socket)
\begin{DoxyCompactList}\small\item\em Close a Web\+Socket connection. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\hyperlink{web__socket_8h_adeedf6ec968cf6f6df535f9616762b2b}{Web\+Socket\+Rand\+Callback} \hyperlink{web__socket_8h_a40c7da11532d9e76959cdfc8ed692b3c}{web\+Sock\+Rand\+Callback}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Web\+Socket A\+PI (client and server) 

\hypertarget{pic32mz__ef__curiosity_8h_License}{}\subsection{License}\label{pic32mz__ef__curiosity_8h_License}
S\+P\+D\+X-\/\+License-\/\+Identifier\+: G\+P\+L-\/2.\+0-\/or-\/later

Copyright (C) 2010-\/2019 Oryx Embedded S\+A\+RL. All rights reserved.

This file is part of Cyclone\+T\+CP Open.

This program is free software; you can redistribute it and/or modify it under the terms of the G\+NU General Public License as published by the Free Software Foundation; either version 2 of the License, or (at your option) any later version.

This program is distributed in the hope that it will be useful, but W\+I\+T\+H\+O\+UT A\+NY W\+A\+R\+R\+A\+N\+TY; without even the implied warranty of M\+E\+R\+C\+H\+A\+N\+T\+A\+B\+I\+L\+I\+TY or F\+I\+T\+N\+E\+SS F\+OR A P\+A\+R\+T\+I\+C\+U\+L\+AR P\+U\+R\+P\+O\+SE. See the G\+NU General Public License for more details.

You should have received a copy of the G\+NU General Public License along with this program; if not, write to the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-\/1301, U\+SA.

\begin{DoxyAuthor}{Author}
Oryx Embedded S\+A\+RL (www.\+oryx-\/embedded.\+com) 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
1.\+9.\+6 
\end{DoxyVersion}


\subsection{Macro Definition Documentation}
\mbox{\Hypertarget{web__socket_8h_a9741a532189544187df607c024b80f6b}\label{web__socket_8h_a9741a532189544187df607c024b80f6b}} 
\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+B\+A\+S\+I\+C\+\_\+\+A\+U\+T\+H\+\_\+\+S\+U\+P\+P\+O\+RT@{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+B\+A\+S\+I\+C\+\_\+\+A\+U\+T\+H\+\_\+\+S\+U\+P\+P\+O\+RT}}
\index{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+B\+A\+S\+I\+C\+\_\+\+A\+U\+T\+H\+\_\+\+S\+U\+P\+P\+O\+RT@{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+B\+A\+S\+I\+C\+\_\+\+A\+U\+T\+H\+\_\+\+S\+U\+P\+P\+O\+RT}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+B\+A\+S\+I\+C\+\_\+\+A\+U\+T\+H\+\_\+\+S\+U\+P\+P\+O\+RT}{WEB\_SOCKET\_BASIC\_AUTH\_SUPPORT}}
{\footnotesize\ttfamily \#define W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+B\+A\+S\+I\+C\+\_\+\+A\+U\+T\+H\+\_\+\+S\+U\+P\+P\+O\+RT~\hyperlink{os__port_8h_abd5c8ab57c190a6522ccdbf0ed7577da}{D\+I\+S\+A\+B\+L\+ED}}



Definition at line 61 of file web\+\_\+socket.\+h.

\mbox{\Hypertarget{web__socket_8h_a4e6ed74586f83eedc4eae5a079f41050}\label{web__socket_8h_a4e6ed74586f83eedc4eae5a079f41050}} 
\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+B\+U\+F\+F\+E\+R\+\_\+\+S\+I\+ZE@{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+B\+U\+F\+F\+E\+R\+\_\+\+S\+I\+ZE}}
\index{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+B\+U\+F\+F\+E\+R\+\_\+\+S\+I\+ZE@{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+B\+U\+F\+F\+E\+R\+\_\+\+S\+I\+ZE}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+B\+U\+F\+F\+E\+R\+\_\+\+S\+I\+ZE}{WEB\_SOCKET\_BUFFER\_SIZE}}
{\footnotesize\ttfamily \#define W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+B\+U\+F\+F\+E\+R\+\_\+\+S\+I\+ZE~1024}



Definition at line 82 of file web\+\_\+socket.\+h.

\mbox{\Hypertarget{web__socket_8h_aec52a37b246082418c0b6dbf0235e99d}\label{web__socket_8h_aec52a37b246082418c0b6dbf0235e99d}} 
\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+C\+L\+I\+E\+N\+T\+\_\+\+K\+E\+Y\+\_\+\+S\+I\+ZE@{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+C\+L\+I\+E\+N\+T\+\_\+\+K\+E\+Y\+\_\+\+S\+I\+ZE}}
\index{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+C\+L\+I\+E\+N\+T\+\_\+\+K\+E\+Y\+\_\+\+S\+I\+ZE@{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+C\+L\+I\+E\+N\+T\+\_\+\+K\+E\+Y\+\_\+\+S\+I\+ZE}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+C\+L\+I\+E\+N\+T\+\_\+\+K\+E\+Y\+\_\+\+S\+I\+ZE}{WEB\_SOCKET\_CLIENT\_KEY\_SIZE}}
{\footnotesize\ttfamily \#define W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+C\+L\+I\+E\+N\+T\+\_\+\+K\+E\+Y\+\_\+\+S\+I\+ZE~24}



Definition at line 171 of file web\+\_\+socket.\+h.

\mbox{\Hypertarget{web__socket_8h_a9a4f07ca6ff80b9ce6df8a8de49760e8}\label{web__socket_8h_a9a4f07ca6ff80b9ce6df8a8de49760e8}} 
\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+C\+N\+O\+N\+C\+E\+\_\+\+S\+I\+ZE@{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+C\+N\+O\+N\+C\+E\+\_\+\+S\+I\+ZE}}
\index{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+C\+N\+O\+N\+C\+E\+\_\+\+S\+I\+ZE@{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+C\+N\+O\+N\+C\+E\+\_\+\+S\+I\+ZE}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+C\+N\+O\+N\+C\+E\+\_\+\+S\+I\+ZE}{WEB\_SOCKET\_CNONCE\_SIZE}}
{\footnotesize\ttfamily \#define W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+C\+N\+O\+N\+C\+E\+\_\+\+S\+I\+ZE~16}



Definition at line 159 of file web\+\_\+socket.\+h.

\mbox{\Hypertarget{web__socket_8h_ad35d840b4f27ed5b3e829de6b3a70437}\label{web__socket_8h_ad35d840b4f27ed5b3e829de6b3a70437}} 
\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+D\+I\+G\+E\+S\+T\+\_\+\+A\+U\+T\+H\+\_\+\+S\+U\+P\+P\+O\+RT@{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+D\+I\+G\+E\+S\+T\+\_\+\+A\+U\+T\+H\+\_\+\+S\+U\+P\+P\+O\+RT}}
\index{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+D\+I\+G\+E\+S\+T\+\_\+\+A\+U\+T\+H\+\_\+\+S\+U\+P\+P\+O\+RT@{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+D\+I\+G\+E\+S\+T\+\_\+\+A\+U\+T\+H\+\_\+\+S\+U\+P\+P\+O\+RT}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+D\+I\+G\+E\+S\+T\+\_\+\+A\+U\+T\+H\+\_\+\+S\+U\+P\+P\+O\+RT}{WEB\_SOCKET\_DIGEST\_AUTH\_SUPPORT}}
{\footnotesize\ttfamily \#define W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+D\+I\+G\+E\+S\+T\+\_\+\+A\+U\+T\+H\+\_\+\+S\+U\+P\+P\+O\+RT~\hyperlink{os__port_8h_abd5c8ab57c190a6522ccdbf0ed7577da}{D\+I\+S\+A\+B\+L\+ED}}



Definition at line 68 of file web\+\_\+socket.\+h.

\mbox{\Hypertarget{web__socket_8h_ab0e0a872efe7a6badc10953d0fc24cd0}\label{web__socket_8h_ab0e0a872efe7a6badc10953d0fc24cd0}} 
\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+H\+O\+S\+T\+\_\+\+M\+A\+X\+\_\+\+L\+EN@{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+H\+O\+S\+T\+\_\+\+M\+A\+X\+\_\+\+L\+EN}}
\index{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+H\+O\+S\+T\+\_\+\+M\+A\+X\+\_\+\+L\+EN@{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+H\+O\+S\+T\+\_\+\+M\+A\+X\+\_\+\+L\+EN}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+H\+O\+S\+T\+\_\+\+M\+A\+X\+\_\+\+L\+EN}{WEB\_SOCKET\_HOST\_MAX\_LEN}}
{\footnotesize\ttfamily \#define W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+H\+O\+S\+T\+\_\+\+M\+A\+X\+\_\+\+L\+EN~32}



Definition at line 89 of file web\+\_\+socket.\+h.

\mbox{\Hypertarget{web__socket_8h_a48aa29e0ee73ec72c4da91237bd68305}\label{web__socket_8h_a48aa29e0ee73ec72c4da91237bd68305}} 
\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+M\+A\+X\+\_\+\+C\+O\+N\+N\+\_\+\+R\+E\+T\+R\+I\+ES@{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+M\+A\+X\+\_\+\+C\+O\+N\+N\+\_\+\+R\+E\+T\+R\+I\+ES}}
\index{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+M\+A\+X\+\_\+\+C\+O\+N\+N\+\_\+\+R\+E\+T\+R\+I\+ES@{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+M\+A\+X\+\_\+\+C\+O\+N\+N\+\_\+\+R\+E\+T\+R\+I\+ES}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+M\+A\+X\+\_\+\+C\+O\+N\+N\+\_\+\+R\+E\+T\+R\+I\+ES}{WEB\_SOCKET\_MAX\_CONN\_RETRIES}}
{\footnotesize\ttfamily \#define W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+M\+A\+X\+\_\+\+C\+O\+N\+N\+\_\+\+R\+E\+T\+R\+I\+ES~3}



Definition at line 75 of file web\+\_\+socket.\+h.

\mbox{\Hypertarget{web__socket_8h_a4b8fc1e9a11a781a449a1293beb6bd70}\label{web__socket_8h_a4b8fc1e9a11a781a449a1293beb6bd70}} 
\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+M\+A\+X\+\_\+\+C\+O\+U\+NT@{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+M\+A\+X\+\_\+\+C\+O\+U\+NT}}
\index{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+M\+A\+X\+\_\+\+C\+O\+U\+NT@{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+M\+A\+X\+\_\+\+C\+O\+U\+NT}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+M\+A\+X\+\_\+\+C\+O\+U\+NT}{WEB\_SOCKET\_MAX\_COUNT}}
{\footnotesize\ttfamily \#define W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+M\+A\+X\+\_\+\+C\+O\+U\+NT~4}



Definition at line 47 of file web\+\_\+socket.\+h.

\mbox{\Hypertarget{web__socket_8h_a48d19c4a819af2a5c5b3fea833a7c7ea}\label{web__socket_8h_a48d19c4a819af2a5c5b3fea833a7c7ea}} 
\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+N\+O\+N\+C\+E\+\_\+\+M\+A\+X\+\_\+\+L\+EN@{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+N\+O\+N\+C\+E\+\_\+\+M\+A\+X\+\_\+\+L\+EN}}
\index{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+N\+O\+N\+C\+E\+\_\+\+M\+A\+X\+\_\+\+L\+EN@{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+N\+O\+N\+C\+E\+\_\+\+M\+A\+X\+\_\+\+L\+EN}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+N\+O\+N\+C\+E\+\_\+\+M\+A\+X\+\_\+\+L\+EN}{WEB\_SOCKET\_NONCE\_MAX\_LEN}}
{\footnotesize\ttfamily \#define W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+N\+O\+N\+C\+E\+\_\+\+M\+A\+X\+\_\+\+L\+EN~32}



Definition at line 145 of file web\+\_\+socket.\+h.

\mbox{\Hypertarget{web__socket_8h_a1703dd1ad84a33246b072ed9a3042d5f}\label{web__socket_8h_a1703dd1ad84a33246b072ed9a3042d5f}} 
\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+O\+P\+A\+Q\+U\+E\+\_\+\+M\+A\+X\+\_\+\+L\+EN@{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+O\+P\+A\+Q\+U\+E\+\_\+\+M\+A\+X\+\_\+\+L\+EN}}
\index{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+O\+P\+A\+Q\+U\+E\+\_\+\+M\+A\+X\+\_\+\+L\+EN@{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+O\+P\+A\+Q\+U\+E\+\_\+\+M\+A\+X\+\_\+\+L\+EN}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+O\+P\+A\+Q\+U\+E\+\_\+\+M\+A\+X\+\_\+\+L\+EN}{WEB\_SOCKET\_OPAQUE\_MAX\_LEN}}
{\footnotesize\ttfamily \#define W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+O\+P\+A\+Q\+U\+E\+\_\+\+M\+A\+X\+\_\+\+L\+EN~32}



Definition at line 152 of file web\+\_\+socket.\+h.

\mbox{\Hypertarget{web__socket_8h_a5c93d131ef16f066ea2c64453dcc52aa}\label{web__socket_8h_a5c93d131ef16f066ea2c64453dcc52aa}} 
\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+O\+R\+I\+G\+I\+N\+\_\+\+M\+A\+X\+\_\+\+L\+EN@{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+O\+R\+I\+G\+I\+N\+\_\+\+M\+A\+X\+\_\+\+L\+EN}}
\index{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+O\+R\+I\+G\+I\+N\+\_\+\+M\+A\+X\+\_\+\+L\+EN@{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+O\+R\+I\+G\+I\+N\+\_\+\+M\+A\+X\+\_\+\+L\+EN}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+O\+R\+I\+G\+I\+N\+\_\+\+M\+A\+X\+\_\+\+L\+EN}{WEB\_SOCKET\_ORIGIN\_MAX\_LEN}}
{\footnotesize\ttfamily \#define W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+O\+R\+I\+G\+I\+N\+\_\+\+M\+A\+X\+\_\+\+L\+EN~16}



Definition at line 96 of file web\+\_\+socket.\+h.

\mbox{\Hypertarget{web__socket_8h_a4c69773275a97b429a126bce01074215}\label{web__socket_8h_a4c69773275a97b429a126bce01074215}} 
\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+P\+A\+S\+S\+W\+O\+R\+D\+\_\+\+M\+A\+X\+\_\+\+L\+EN@{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+P\+A\+S\+S\+W\+O\+R\+D\+\_\+\+M\+A\+X\+\_\+\+L\+EN}}
\index{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+P\+A\+S\+S\+W\+O\+R\+D\+\_\+\+M\+A\+X\+\_\+\+L\+EN@{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+P\+A\+S\+S\+W\+O\+R\+D\+\_\+\+M\+A\+X\+\_\+\+L\+EN}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+P\+A\+S\+S\+W\+O\+R\+D\+\_\+\+M\+A\+X\+\_\+\+L\+EN}{WEB\_SOCKET\_PASSWORD\_MAX\_LEN}}
{\footnotesize\ttfamily \#define W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+P\+A\+S\+S\+W\+O\+R\+D\+\_\+\+M\+A\+X\+\_\+\+L\+EN~16}



Definition at line 138 of file web\+\_\+socket.\+h.

\mbox{\Hypertarget{web__socket_8h_aa438876c03fc0dc137c3aaedc4a3071d}\label{web__socket_8h_aa438876c03fc0dc137c3aaedc4a3071d}} 
\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+Q\+U\+E\+R\+Y\+\_\+\+S\+T\+R\+I\+N\+G\+\_\+\+M\+A\+X\+\_\+\+L\+EN@{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+Q\+U\+E\+R\+Y\+\_\+\+S\+T\+R\+I\+N\+G\+\_\+\+M\+A\+X\+\_\+\+L\+EN}}
\index{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+Q\+U\+E\+R\+Y\+\_\+\+S\+T\+R\+I\+N\+G\+\_\+\+M\+A\+X\+\_\+\+L\+EN@{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+Q\+U\+E\+R\+Y\+\_\+\+S\+T\+R\+I\+N\+G\+\_\+\+M\+A\+X\+\_\+\+L\+EN}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+Q\+U\+E\+R\+Y\+\_\+\+S\+T\+R\+I\+N\+G\+\_\+\+M\+A\+X\+\_\+\+L\+EN}{WEB\_SOCKET\_QUERY\_STRING\_MAX\_LEN}}
{\footnotesize\ttfamily \#define W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+Q\+U\+E\+R\+Y\+\_\+\+S\+T\+R\+I\+N\+G\+\_\+\+M\+A\+X\+\_\+\+L\+EN~32}



Definition at line 117 of file web\+\_\+socket.\+h.

\mbox{\Hypertarget{web__socket_8h_ae74a00b949ab02514b90f9783031b311}\label{web__socket_8h_ae74a00b949ab02514b90f9783031b311}} 
\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+R\+E\+A\+L\+M\+\_\+\+M\+A\+X\+\_\+\+L\+EN@{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+R\+E\+A\+L\+M\+\_\+\+M\+A\+X\+\_\+\+L\+EN}}
\index{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+R\+E\+A\+L\+M\+\_\+\+M\+A\+X\+\_\+\+L\+EN@{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+R\+E\+A\+L\+M\+\_\+\+M\+A\+X\+\_\+\+L\+EN}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+R\+E\+A\+L\+M\+\_\+\+M\+A\+X\+\_\+\+L\+EN}{WEB\_SOCKET\_REALM\_MAX\_LEN}}
{\footnotesize\ttfamily \#define W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+R\+E\+A\+L\+M\+\_\+\+M\+A\+X\+\_\+\+L\+EN~32}



Definition at line 124 of file web\+\_\+socket.\+h.

\mbox{\Hypertarget{web__socket_8h_ab90bffcb2db9573de4a19252616df227}\label{web__socket_8h_ab90bffcb2db9573de4a19252616df227}} 
\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+K\+E\+Y\+\_\+\+S\+I\+ZE@{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+K\+E\+Y\+\_\+\+S\+I\+ZE}}
\index{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+K\+E\+Y\+\_\+\+S\+I\+ZE@{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+K\+E\+Y\+\_\+\+S\+I\+ZE}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+K\+E\+Y\+\_\+\+S\+I\+ZE}{WEB\_SOCKET\_SERVER\_KEY\_SIZE}}
{\footnotesize\ttfamily \#define W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+K\+E\+Y\+\_\+\+S\+I\+ZE~28}



Definition at line 173 of file web\+\_\+socket.\+h.

\mbox{\Hypertarget{web__socket_8h_a5a98133b0c199ecd9542c4c6d9388550}\label{web__socket_8h_a5a98133b0c199ecd9542c4c6d9388550}} 
\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+S\+U\+B\+\_\+\+P\+R\+O\+T\+O\+C\+O\+L\+\_\+\+M\+A\+X\+\_\+\+L\+EN@{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+S\+U\+B\+\_\+\+P\+R\+O\+T\+O\+C\+O\+L\+\_\+\+M\+A\+X\+\_\+\+L\+EN}}
\index{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+S\+U\+B\+\_\+\+P\+R\+O\+T\+O\+C\+O\+L\+\_\+\+M\+A\+X\+\_\+\+L\+EN@{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+S\+U\+B\+\_\+\+P\+R\+O\+T\+O\+C\+O\+L\+\_\+\+M\+A\+X\+\_\+\+L\+EN}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+S\+U\+B\+\_\+\+P\+R\+O\+T\+O\+C\+O\+L\+\_\+\+M\+A\+X\+\_\+\+L\+EN}{WEB\_SOCKET\_SUB\_PROTOCOL\_MAX\_LEN}}
{\footnotesize\ttfamily \#define W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+S\+U\+B\+\_\+\+P\+R\+O\+T\+O\+C\+O\+L\+\_\+\+M\+A\+X\+\_\+\+L\+EN~8}



Definition at line 103 of file web\+\_\+socket.\+h.

\mbox{\Hypertarget{web__socket_8h_ad1b1256d309ec757ce630286f6da3998}\label{web__socket_8h_ad1b1256d309ec757ce630286f6da3998}} 
\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+S\+U\+P\+P\+O\+RT@{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+S\+U\+P\+P\+O\+RT}}
\index{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+S\+U\+P\+P\+O\+RT@{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+S\+U\+P\+P\+O\+RT}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+S\+U\+P\+P\+O\+RT}{WEB\_SOCKET\_SUPPORT}}
{\footnotesize\ttfamily \#define W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+S\+U\+P\+P\+O\+RT~\hyperlink{os__port_8h_abd5c8ab57c190a6522ccdbf0ed7577da}{D\+I\+S\+A\+B\+L\+ED}}



Definition at line 40 of file web\+\_\+socket.\+h.

\mbox{\Hypertarget{web__socket_8h_a80415bd6ca7ac7ae453477bbc0812760}\label{web__socket_8h_a80415bd6ca7ac7ae453477bbc0812760}} 
\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+T\+L\+S\+\_\+\+S\+U\+P\+P\+O\+RT@{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+T\+L\+S\+\_\+\+S\+U\+P\+P\+O\+RT}}
\index{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+T\+L\+S\+\_\+\+S\+U\+P\+P\+O\+RT@{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+T\+L\+S\+\_\+\+S\+U\+P\+P\+O\+RT}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+T\+L\+S\+\_\+\+S\+U\+P\+P\+O\+RT}{WEB\_SOCKET\_TLS\_SUPPORT}}
{\footnotesize\ttfamily \#define W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+T\+L\+S\+\_\+\+S\+U\+P\+P\+O\+RT~\hyperlink{os__port_8h_abd5c8ab57c190a6522ccdbf0ed7577da}{D\+I\+S\+A\+B\+L\+ED}}



Definition at line 54 of file web\+\_\+socket.\+h.

\mbox{\Hypertarget{web__socket_8h_ace530d4ae5bedbea825d9ac103cf2741}\label{web__socket_8h_ace530d4ae5bedbea825d9ac103cf2741}} 
\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+U\+R\+I\+\_\+\+M\+A\+X\+\_\+\+L\+EN@{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+U\+R\+I\+\_\+\+M\+A\+X\+\_\+\+L\+EN}}
\index{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+U\+R\+I\+\_\+\+M\+A\+X\+\_\+\+L\+EN@{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+U\+R\+I\+\_\+\+M\+A\+X\+\_\+\+L\+EN}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+U\+R\+I\+\_\+\+M\+A\+X\+\_\+\+L\+EN}{WEB\_SOCKET\_URI\_MAX\_LEN}}
{\footnotesize\ttfamily \#define W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+U\+R\+I\+\_\+\+M\+A\+X\+\_\+\+L\+EN~32}



Definition at line 110 of file web\+\_\+socket.\+h.

\mbox{\Hypertarget{web__socket_8h_a60c61570c0a031b8e8108cb162a098e5}\label{web__socket_8h_a60c61570c0a031b8e8108cb162a098e5}} 
\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+U\+S\+E\+R\+N\+A\+M\+E\+\_\+\+M\+A\+X\+\_\+\+L\+EN@{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+U\+S\+E\+R\+N\+A\+M\+E\+\_\+\+M\+A\+X\+\_\+\+L\+EN}}
\index{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+U\+S\+E\+R\+N\+A\+M\+E\+\_\+\+M\+A\+X\+\_\+\+L\+EN@{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+U\+S\+E\+R\+N\+A\+M\+E\+\_\+\+M\+A\+X\+\_\+\+L\+EN}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+U\+S\+E\+R\+N\+A\+M\+E\+\_\+\+M\+A\+X\+\_\+\+L\+EN}{WEB\_SOCKET\_USERNAME\_MAX\_LEN}}
{\footnotesize\ttfamily \#define W\+E\+B\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+U\+S\+E\+R\+N\+A\+M\+E\+\_\+\+M\+A\+X\+\_\+\+L\+EN~16}



Definition at line 131 of file web\+\_\+socket.\+h.

\mbox{\Hypertarget{web__socket_8h_aad796fb4e3af91c4358c5b273d4a2028}\label{web__socket_8h_aad796fb4e3af91c4358c5b273d4a2028}} 
\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!Web\+Socket@{Web\+Socket}}
\index{Web\+Socket@{Web\+Socket}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{Web\+Socket}{WebSocket}}
{\footnotesize\ttfamily \#define Web\+Socket~struct \hyperlink{struct__WebSocket}{\+\_\+\+Web\+Socket}}



Definition at line 177 of file web\+\_\+socket.\+h.



\subsection{Typedef Documentation}
\mbox{\Hypertarget{web__socket_8h_a949a0d07e7ae57a9e5762b54617f88d0}\label{web__socket_8h_a949a0d07e7ae57a9e5762b54617f88d0}} 
\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!Web\+Socket\+Frame@{Web\+Socket\+Frame}}
\index{Web\+Socket\+Frame@{Web\+Socket\+Frame}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{Web\+Socket\+Frame}{WebSocketFrame}}
{\footnotesize\ttfamily typedef \{ ... \}  \hyperlink{web__socket_8h_a949a0d07e7ae57a9e5762b54617f88d0}{Web\+Socket\+Frame}}



Web\+Socket frame. 

\mbox{\Hypertarget{web__socket_8h_adeedf6ec968cf6f6df535f9616762b2b}\label{web__socket_8h_adeedf6ec968cf6f6df535f9616762b2b}} 
\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!Web\+Socket\+Rand\+Callback@{Web\+Socket\+Rand\+Callback}}
\index{Web\+Socket\+Rand\+Callback@{Web\+Socket\+Rand\+Callback}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{Web\+Socket\+Rand\+Callback}{WebSocketRandCallback}}
{\footnotesize\ttfamily typedef \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t}($\ast$ Web\+Socket\+Rand\+Callback) (\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} $\ast$\hyperlink{tftp__common_8h_a5c239a1bb87b52b0f1d6d68c4749cd2a}{data}, size\+\_\+t \hyperlink{ppp_8h_ab2b3adeb2a67e656ff030b56727fd0ac}{length})}



Random data generation callback function. 



Definition at line 333 of file web\+\_\+socket.\+h.

\mbox{\Hypertarget{web__socket_8h_ac1d28db340b5ef55a4a7e5e276018cf4}\label{web__socket_8h_ac1d28db340b5ef55a4a7e5e276018cf4}} 
\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!Web\+Socket\+Tls\+Init\+Callback@{Web\+Socket\+Tls\+Init\+Callback}}
\index{Web\+Socket\+Tls\+Init\+Callback@{Web\+Socket\+Tls\+Init\+Callback}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{Web\+Socket\+Tls\+Init\+Callback}{WebSocketTlsInitCallback}}
{\footnotesize\ttfamily typedef \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t}($\ast$ Web\+Socket\+Tls\+Init\+Callback) (\hyperlink{web__socket_8h_aad796fb4e3af91c4358c5b273d4a2028}{Web\+Socket} $\ast$web\+Socket, \hyperlink{tls_8h_ac09f7a286c0cdf9b07ee1edd107946f5}{Tls\+Context} $\ast$tls\+Context)}



T\+LS initialization callback function. 



Definition at line 343 of file web\+\_\+socket.\+h.



\subsection{Enumeration Type Documentation}
\mbox{\Hypertarget{web__socket_8h_a2c2f8d99948379e06bb22ea64745ba77}\label{web__socket_8h_a2c2f8d99948379e06bb22ea64745ba77}} 
\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!Web\+Socket\+Auth\+Mode@{Web\+Socket\+Auth\+Mode}}
\index{Web\+Socket\+Auth\+Mode@{Web\+Socket\+Auth\+Mode}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{Web\+Socket\+Auth\+Mode}{WebSocketAuthMode}}
{\footnotesize\ttfamily enum \hyperlink{web__socket_8h_a2c2f8d99948379e06bb22ea64745ba77}{Web\+Socket\+Auth\+Mode}}



Authentication schemes. 

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{W\+S\+\_\+\+A\+U\+T\+H\+\_\+\+M\+O\+D\+E\+\_\+\+N\+O\+NE@{W\+S\+\_\+\+A\+U\+T\+H\+\_\+\+M\+O\+D\+E\+\_\+\+N\+O\+NE}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!W\+S\+\_\+\+A\+U\+T\+H\+\_\+\+M\+O\+D\+E\+\_\+\+N\+O\+NE@{W\+S\+\_\+\+A\+U\+T\+H\+\_\+\+M\+O\+D\+E\+\_\+\+N\+O\+NE}}}\mbox{\Hypertarget{web__socket_8h_a2c2f8d99948379e06bb22ea64745ba77a80f1f0d41bcc49cb11c7618551dd0bdf}\label{web__socket_8h_a2c2f8d99948379e06bb22ea64745ba77a80f1f0d41bcc49cb11c7618551dd0bdf}} 
W\+S\+\_\+\+A\+U\+T\+H\+\_\+\+M\+O\+D\+E\+\_\+\+N\+O\+NE&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{W\+S\+\_\+\+A\+U\+T\+H\+\_\+\+M\+O\+D\+E\+\_\+\+B\+A\+S\+IC@{W\+S\+\_\+\+A\+U\+T\+H\+\_\+\+M\+O\+D\+E\+\_\+\+B\+A\+S\+IC}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!W\+S\+\_\+\+A\+U\+T\+H\+\_\+\+M\+O\+D\+E\+\_\+\+B\+A\+S\+IC@{W\+S\+\_\+\+A\+U\+T\+H\+\_\+\+M\+O\+D\+E\+\_\+\+B\+A\+S\+IC}}}\mbox{\Hypertarget{web__socket_8h_a2c2f8d99948379e06bb22ea64745ba77a30430e212026c8648a527167cd8914b0}\label{web__socket_8h_a2c2f8d99948379e06bb22ea64745ba77a30430e212026c8648a527167cd8914b0}} 
W\+S\+\_\+\+A\+U\+T\+H\+\_\+\+M\+O\+D\+E\+\_\+\+B\+A\+S\+IC&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{W\+S\+\_\+\+A\+U\+T\+H\+\_\+\+M\+O\+D\+E\+\_\+\+D\+I\+G\+E\+ST@{W\+S\+\_\+\+A\+U\+T\+H\+\_\+\+M\+O\+D\+E\+\_\+\+D\+I\+G\+E\+ST}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!W\+S\+\_\+\+A\+U\+T\+H\+\_\+\+M\+O\+D\+E\+\_\+\+D\+I\+G\+E\+ST@{W\+S\+\_\+\+A\+U\+T\+H\+\_\+\+M\+O\+D\+E\+\_\+\+D\+I\+G\+E\+ST}}}\mbox{\Hypertarget{web__socket_8h_a2c2f8d99948379e06bb22ea64745ba77ace1b2d04ef4bf3d72f7d378fee80e744}\label{web__socket_8h_a2c2f8d99948379e06bb22ea64745ba77ace1b2d04ef4bf3d72f7d378fee80e744}} 
W\+S\+\_\+\+A\+U\+T\+H\+\_\+\+M\+O\+D\+E\+\_\+\+D\+I\+G\+E\+ST&\\
\hline

\end{DoxyEnumFields}


Definition at line 212 of file web\+\_\+socket.\+h.


\begin{DoxyCode}
213 \{
214    \hyperlink{web__socket_8h_a2c2f8d99948379e06bb22ea64745ba77a80f1f0d41bcc49cb11c7618551dd0bdf}{WS\_AUTH\_MODE\_NONE}   = 0x00,
215    \hyperlink{web__socket_8h_a2c2f8d99948379e06bb22ea64745ba77a30430e212026c8648a527167cd8914b0}{WS\_AUTH\_MODE\_BASIC}  = 0x01,
216    \hyperlink{web__socket_8h_a2c2f8d99948379e06bb22ea64745ba77ace1b2d04ef4bf3d72f7d378fee80e744}{WS\_AUTH\_MODE\_DIGEST} = 0x02
217 \} \hyperlink{web__socket_8h_a2c2f8d99948379e06bb22ea64745ba77}{WebSocketAuthMode};
\end{DoxyCode}
\mbox{\Hypertarget{web__socket_8h_ae7d51561abe243c4f263d6c7d50699a9}\label{web__socket_8h_ae7d51561abe243c4f263d6c7d50699a9}} 
\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!Web\+Socket\+Endpoint@{Web\+Socket\+Endpoint}}
\index{Web\+Socket\+Endpoint@{Web\+Socket\+Endpoint}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{Web\+Socket\+Endpoint}{WebSocketEndpoint}}
{\footnotesize\ttfamily enum \hyperlink{web__socket_8h_ae7d51561abe243c4f263d6c7d50699a9}{Web\+Socket\+Endpoint}}



Web\+Socket endpoint types. 

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{W\+S\+\_\+\+E\+N\+D\+P\+O\+I\+N\+T\+\_\+\+C\+L\+I\+E\+NT@{W\+S\+\_\+\+E\+N\+D\+P\+O\+I\+N\+T\+\_\+\+C\+L\+I\+E\+NT}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!W\+S\+\_\+\+E\+N\+D\+P\+O\+I\+N\+T\+\_\+\+C\+L\+I\+E\+NT@{W\+S\+\_\+\+E\+N\+D\+P\+O\+I\+N\+T\+\_\+\+C\+L\+I\+E\+NT}}}\mbox{\Hypertarget{web__socket_8h_ae7d51561abe243c4f263d6c7d50699a9aa78fcf3108fe2e0b57f32684e9c76076}\label{web__socket_8h_ae7d51561abe243c4f263d6c7d50699a9aa78fcf3108fe2e0b57f32684e9c76076}} 
W\+S\+\_\+\+E\+N\+D\+P\+O\+I\+N\+T\+\_\+\+C\+L\+I\+E\+NT&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{W\+S\+\_\+\+E\+N\+D\+P\+O\+I\+N\+T\+\_\+\+S\+E\+R\+V\+ER@{W\+S\+\_\+\+E\+N\+D\+P\+O\+I\+N\+T\+\_\+\+S\+E\+R\+V\+ER}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!W\+S\+\_\+\+E\+N\+D\+P\+O\+I\+N\+T\+\_\+\+S\+E\+R\+V\+ER@{W\+S\+\_\+\+E\+N\+D\+P\+O\+I\+N\+T\+\_\+\+S\+E\+R\+V\+ER}}}\mbox{\Hypertarget{web__socket_8h_ae7d51561abe243c4f263d6c7d50699a9a52543e5816b31e31954fe11186a13d4d}\label{web__socket_8h_ae7d51561abe243c4f263d6c7d50699a9a52543e5816b31e31954fe11186a13d4d}} 
W\+S\+\_\+\+E\+N\+D\+P\+O\+I\+N\+T\+\_\+\+S\+E\+R\+V\+ER&\\
\hline

\end{DoxyEnumFields}


Definition at line 189 of file web\+\_\+socket.\+h.


\begin{DoxyCode}
190 \{
191    \hyperlink{web__socket_8h_ae7d51561abe243c4f263d6c7d50699a9aa78fcf3108fe2e0b57f32684e9c76076}{WS\_ENDPOINT\_CLIENT} = 0,
192    \hyperlink{web__socket_8h_ae7d51561abe243c4f263d6c7d50699a9a52543e5816b31e31954fe11186a13d4d}{WS\_ENDPOINT\_SERVER} = 1
193 \} \hyperlink{web__socket_8h_ae7d51561abe243c4f263d6c7d50699a9}{WebSocketEndpoint};
\end{DoxyCode}
\mbox{\Hypertarget{web__socket_8h_a5cb4405f3460a36460b6ba588b60ea28}\label{web__socket_8h_a5cb4405f3460a36460b6ba588b60ea28}} 
\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!Web\+Socket\+Frame\+Type@{Web\+Socket\+Frame\+Type}}
\index{Web\+Socket\+Frame\+Type@{Web\+Socket\+Frame\+Type}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{Web\+Socket\+Frame\+Type}{WebSocketFrameType}}
{\footnotesize\ttfamily enum \hyperlink{web__socket_8h_a5cb4405f3460a36460b6ba588b60ea28}{Web\+Socket\+Frame\+Type}}



Web\+Socket frame types. 

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{W\+S\+\_\+\+F\+R\+A\+M\+E\+\_\+\+T\+Y\+P\+E\+\_\+\+C\+O\+N\+T\+I\+N\+U\+A\+T\+I\+ON@{W\+S\+\_\+\+F\+R\+A\+M\+E\+\_\+\+T\+Y\+P\+E\+\_\+\+C\+O\+N\+T\+I\+N\+U\+A\+T\+I\+ON}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!W\+S\+\_\+\+F\+R\+A\+M\+E\+\_\+\+T\+Y\+P\+E\+\_\+\+C\+O\+N\+T\+I\+N\+U\+A\+T\+I\+ON@{W\+S\+\_\+\+F\+R\+A\+M\+E\+\_\+\+T\+Y\+P\+E\+\_\+\+C\+O\+N\+T\+I\+N\+U\+A\+T\+I\+ON}}}\mbox{\Hypertarget{web__socket_8h_a5cb4405f3460a36460b6ba588b60ea28a95a6c87691c4c8b1c52f17806dc612eb}\label{web__socket_8h_a5cb4405f3460a36460b6ba588b60ea28a95a6c87691c4c8b1c52f17806dc612eb}} 
W\+S\+\_\+\+F\+R\+A\+M\+E\+\_\+\+T\+Y\+P\+E\+\_\+\+C\+O\+N\+T\+I\+N\+U\+A\+T\+I\+ON&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{W\+S\+\_\+\+F\+R\+A\+M\+E\+\_\+\+T\+Y\+P\+E\+\_\+\+T\+E\+XT@{W\+S\+\_\+\+F\+R\+A\+M\+E\+\_\+\+T\+Y\+P\+E\+\_\+\+T\+E\+XT}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!W\+S\+\_\+\+F\+R\+A\+M\+E\+\_\+\+T\+Y\+P\+E\+\_\+\+T\+E\+XT@{W\+S\+\_\+\+F\+R\+A\+M\+E\+\_\+\+T\+Y\+P\+E\+\_\+\+T\+E\+XT}}}\mbox{\Hypertarget{web__socket_8h_a5cb4405f3460a36460b6ba588b60ea28a7aa3f47f4e9de2389b7a7f0773ad3785}\label{web__socket_8h_a5cb4405f3460a36460b6ba588b60ea28a7aa3f47f4e9de2389b7a7f0773ad3785}} 
W\+S\+\_\+\+F\+R\+A\+M\+E\+\_\+\+T\+Y\+P\+E\+\_\+\+T\+E\+XT&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{W\+S\+\_\+\+F\+R\+A\+M\+E\+\_\+\+T\+Y\+P\+E\+\_\+\+B\+I\+N\+A\+RY@{W\+S\+\_\+\+F\+R\+A\+M\+E\+\_\+\+T\+Y\+P\+E\+\_\+\+B\+I\+N\+A\+RY}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!W\+S\+\_\+\+F\+R\+A\+M\+E\+\_\+\+T\+Y\+P\+E\+\_\+\+B\+I\+N\+A\+RY@{W\+S\+\_\+\+F\+R\+A\+M\+E\+\_\+\+T\+Y\+P\+E\+\_\+\+B\+I\+N\+A\+RY}}}\mbox{\Hypertarget{web__socket_8h_a5cb4405f3460a36460b6ba588b60ea28a2fdca4eba8711bd0925febf891d06e58}\label{web__socket_8h_a5cb4405f3460a36460b6ba588b60ea28a2fdca4eba8711bd0925febf891d06e58}} 
W\+S\+\_\+\+F\+R\+A\+M\+E\+\_\+\+T\+Y\+P\+E\+\_\+\+B\+I\+N\+A\+RY&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{W\+S\+\_\+\+F\+R\+A\+M\+E\+\_\+\+T\+Y\+P\+E\+\_\+\+C\+L\+O\+SE@{W\+S\+\_\+\+F\+R\+A\+M\+E\+\_\+\+T\+Y\+P\+E\+\_\+\+C\+L\+O\+SE}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!W\+S\+\_\+\+F\+R\+A\+M\+E\+\_\+\+T\+Y\+P\+E\+\_\+\+C\+L\+O\+SE@{W\+S\+\_\+\+F\+R\+A\+M\+E\+\_\+\+T\+Y\+P\+E\+\_\+\+C\+L\+O\+SE}}}\mbox{\Hypertarget{web__socket_8h_a5cb4405f3460a36460b6ba588b60ea28afdcd6c0f02a3c4f929f25acf318ee31d}\label{web__socket_8h_a5cb4405f3460a36460b6ba588b60ea28afdcd6c0f02a3c4f929f25acf318ee31d}} 
W\+S\+\_\+\+F\+R\+A\+M\+E\+\_\+\+T\+Y\+P\+E\+\_\+\+C\+L\+O\+SE&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{W\+S\+\_\+\+F\+R\+A\+M\+E\+\_\+\+T\+Y\+P\+E\+\_\+\+P\+I\+NG@{W\+S\+\_\+\+F\+R\+A\+M\+E\+\_\+\+T\+Y\+P\+E\+\_\+\+P\+I\+NG}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!W\+S\+\_\+\+F\+R\+A\+M\+E\+\_\+\+T\+Y\+P\+E\+\_\+\+P\+I\+NG@{W\+S\+\_\+\+F\+R\+A\+M\+E\+\_\+\+T\+Y\+P\+E\+\_\+\+P\+I\+NG}}}\mbox{\Hypertarget{web__socket_8h_a5cb4405f3460a36460b6ba588b60ea28a155fe54189961469cc9817b9f4d57207}\label{web__socket_8h_a5cb4405f3460a36460b6ba588b60ea28a155fe54189961469cc9817b9f4d57207}} 
W\+S\+\_\+\+F\+R\+A\+M\+E\+\_\+\+T\+Y\+P\+E\+\_\+\+P\+I\+NG&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{W\+S\+\_\+\+F\+R\+A\+M\+E\+\_\+\+T\+Y\+P\+E\+\_\+\+P\+O\+NG@{W\+S\+\_\+\+F\+R\+A\+M\+E\+\_\+\+T\+Y\+P\+E\+\_\+\+P\+O\+NG}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!W\+S\+\_\+\+F\+R\+A\+M\+E\+\_\+\+T\+Y\+P\+E\+\_\+\+P\+O\+NG@{W\+S\+\_\+\+F\+R\+A\+M\+E\+\_\+\+T\+Y\+P\+E\+\_\+\+P\+O\+NG}}}\mbox{\Hypertarget{web__socket_8h_a5cb4405f3460a36460b6ba588b60ea28a5d1eb7f86566d35b3f41bd8a5ec0ef15}\label{web__socket_8h_a5cb4405f3460a36460b6ba588b60ea28a5d1eb7f86566d35b3f41bd8a5ec0ef15}} 
W\+S\+\_\+\+F\+R\+A\+M\+E\+\_\+\+T\+Y\+P\+E\+\_\+\+P\+O\+NG&\\
\hline

\end{DoxyEnumFields}


Definition at line 262 of file web\+\_\+socket.\+h.


\begin{DoxyCode}
263 \{
264    \hyperlink{web__socket_8h_a5cb4405f3460a36460b6ba588b60ea28a95a6c87691c4c8b1c52f17806dc612eb}{WS\_FRAME\_TYPE\_CONTINUATION} = 0x00,
265    \hyperlink{web__socket_8h_a5cb4405f3460a36460b6ba588b60ea28a7aa3f47f4e9de2389b7a7f0773ad3785}{WS\_FRAME\_TYPE\_TEXT}         = 0x01,
266    \hyperlink{web__socket_8h_a5cb4405f3460a36460b6ba588b60ea28a2fdca4eba8711bd0925febf891d06e58}{WS\_FRAME\_TYPE\_BINARY}       = 0x02,
267    \hyperlink{web__socket_8h_a5cb4405f3460a36460b6ba588b60ea28afdcd6c0f02a3c4f929f25acf318ee31d}{WS\_FRAME\_TYPE\_CLOSE}        = 0x08,
268    \hyperlink{web__socket_8h_a5cb4405f3460a36460b6ba588b60ea28a155fe54189961469cc9817b9f4d57207}{WS\_FRAME\_TYPE\_PING}         = 0x09,
269    \hyperlink{web__socket_8h_a5cb4405f3460a36460b6ba588b60ea28a5d1eb7f86566d35b3f41bd8a5ec0ef15}{WS\_FRAME\_TYPE\_PONG}         = 0x0A
270 \} \hyperlink{web__socket_8h_a5cb4405f3460a36460b6ba588b60ea28}{WebSocketFrameType};
\end{DoxyCode}
\mbox{\Hypertarget{web__socket_8h_a1c876c89b2d8e417e1a99a6dbcb1bfac}\label{web__socket_8h_a1c876c89b2d8e417e1a99a6dbcb1bfac}} 
\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!Web\+Socket\+Http\+Version@{Web\+Socket\+Http\+Version}}
\index{Web\+Socket\+Http\+Version@{Web\+Socket\+Http\+Version}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{Web\+Socket\+Http\+Version}{WebSocketHttpVersion}}
{\footnotesize\ttfamily enum \hyperlink{web__socket_8h_a1c876c89b2d8e417e1a99a6dbcb1bfac}{Web\+Socket\+Http\+Version}}



H\+T\+TP version numbers. 

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{W\+S\+\_\+\+H\+T\+T\+P\+\_\+\+V\+E\+R\+S\+I\+O\+N\+\_\+0\+\_\+9@{W\+S\+\_\+\+H\+T\+T\+P\+\_\+\+V\+E\+R\+S\+I\+O\+N\+\_\+0\+\_\+9}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!W\+S\+\_\+\+H\+T\+T\+P\+\_\+\+V\+E\+R\+S\+I\+O\+N\+\_\+0\+\_\+9@{W\+S\+\_\+\+H\+T\+T\+P\+\_\+\+V\+E\+R\+S\+I\+O\+N\+\_\+0\+\_\+9}}}\mbox{\Hypertarget{web__socket_8h_a1c876c89b2d8e417e1a99a6dbcb1bfacaa86a415cd171b6c10c3a1fad20c166a3}\label{web__socket_8h_a1c876c89b2d8e417e1a99a6dbcb1bfacaa86a415cd171b6c10c3a1fad20c166a3}} 
W\+S\+\_\+\+H\+T\+T\+P\+\_\+\+V\+E\+R\+S\+I\+O\+N\+\_\+0\+\_\+9&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{W\+S\+\_\+\+H\+T\+T\+P\+\_\+\+V\+E\+R\+S\+I\+O\+N\+\_\+1\+\_\+0@{W\+S\+\_\+\+H\+T\+T\+P\+\_\+\+V\+E\+R\+S\+I\+O\+N\+\_\+1\+\_\+0}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!W\+S\+\_\+\+H\+T\+T\+P\+\_\+\+V\+E\+R\+S\+I\+O\+N\+\_\+1\+\_\+0@{W\+S\+\_\+\+H\+T\+T\+P\+\_\+\+V\+E\+R\+S\+I\+O\+N\+\_\+1\+\_\+0}}}\mbox{\Hypertarget{web__socket_8h_a1c876c89b2d8e417e1a99a6dbcb1bfacafeaff3b6056dc9cbbf03d1a6a8cf1eba}\label{web__socket_8h_a1c876c89b2d8e417e1a99a6dbcb1bfacafeaff3b6056dc9cbbf03d1a6a8cf1eba}} 
W\+S\+\_\+\+H\+T\+T\+P\+\_\+\+V\+E\+R\+S\+I\+O\+N\+\_\+1\+\_\+0&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{W\+S\+\_\+\+H\+T\+T\+P\+\_\+\+V\+E\+R\+S\+I\+O\+N\+\_\+1\+\_\+1@{W\+S\+\_\+\+H\+T\+T\+P\+\_\+\+V\+E\+R\+S\+I\+O\+N\+\_\+1\+\_\+1}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!W\+S\+\_\+\+H\+T\+T\+P\+\_\+\+V\+E\+R\+S\+I\+O\+N\+\_\+1\+\_\+1@{W\+S\+\_\+\+H\+T\+T\+P\+\_\+\+V\+E\+R\+S\+I\+O\+N\+\_\+1\+\_\+1}}}\mbox{\Hypertarget{web__socket_8h_a1c876c89b2d8e417e1a99a6dbcb1bfacafdefe3d8ccc39d6c50065d47b1c32b6a}\label{web__socket_8h_a1c876c89b2d8e417e1a99a6dbcb1bfacafdefe3d8ccc39d6c50065d47b1c32b6a}} 
W\+S\+\_\+\+H\+T\+T\+P\+\_\+\+V\+E\+R\+S\+I\+O\+N\+\_\+1\+\_\+1&\\
\hline

\end{DoxyEnumFields}


Definition at line 200 of file web\+\_\+socket.\+h.


\begin{DoxyCode}
201 \{
202    \hyperlink{web__socket_8h_a1c876c89b2d8e417e1a99a6dbcb1bfacaa86a415cd171b6c10c3a1fad20c166a3}{WS\_HTTP\_VERSION\_0\_9} = 0x0009,
203    \hyperlink{web__socket_8h_a1c876c89b2d8e417e1a99a6dbcb1bfacafeaff3b6056dc9cbbf03d1a6a8cf1eba}{WS\_HTTP\_VERSION\_1\_0} = 0x0100,
204    \hyperlink{web__socket_8h_a1c876c89b2d8e417e1a99a6dbcb1bfacafdefe3d8ccc39d6c50065d47b1c32b6a}{WS\_HTTP\_VERSION\_1\_1} = 0x0101
205 \} \hyperlink{web__socket_8h_a1c876c89b2d8e417e1a99a6dbcb1bfac}{WebSocketHttpVersion};
\end{DoxyCode}
\mbox{\Hypertarget{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0}\label{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0}} 
\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!Web\+Socket\+State@{Web\+Socket\+State}}
\index{Web\+Socket\+State@{Web\+Socket\+State}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{Web\+Socket\+State}{WebSocketState}}
{\footnotesize\ttfamily enum \hyperlink{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0}{Web\+Socket\+State}}



Web\+Socket states. 

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{W\+S\+\_\+\+S\+T\+A\+T\+E\+\_\+\+U\+N\+U\+S\+ED@{W\+S\+\_\+\+S\+T\+A\+T\+E\+\_\+\+U\+N\+U\+S\+ED}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!W\+S\+\_\+\+S\+T\+A\+T\+E\+\_\+\+U\+N\+U\+S\+ED@{W\+S\+\_\+\+S\+T\+A\+T\+E\+\_\+\+U\+N\+U\+S\+ED}}}\mbox{\Hypertarget{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0a68c9aa1cabee320355510e4d1deae9fa}\label{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0a68c9aa1cabee320355510e4d1deae9fa}} 
W\+S\+\_\+\+S\+T\+A\+T\+E\+\_\+\+U\+N\+U\+S\+ED&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{W\+S\+\_\+\+S\+T\+A\+T\+E\+\_\+\+C\+L\+O\+S\+ED@{W\+S\+\_\+\+S\+T\+A\+T\+E\+\_\+\+C\+L\+O\+S\+ED}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!W\+S\+\_\+\+S\+T\+A\+T\+E\+\_\+\+C\+L\+O\+S\+ED@{W\+S\+\_\+\+S\+T\+A\+T\+E\+\_\+\+C\+L\+O\+S\+ED}}}\mbox{\Hypertarget{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0a4356293e46722d1fa27ca8624f62b296}\label{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0a4356293e46722d1fa27ca8624f62b296}} 
W\+S\+\_\+\+S\+T\+A\+T\+E\+\_\+\+C\+L\+O\+S\+ED&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{W\+S\+\_\+\+S\+T\+A\+T\+E\+\_\+\+I\+N\+IT@{W\+S\+\_\+\+S\+T\+A\+T\+E\+\_\+\+I\+N\+IT}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!W\+S\+\_\+\+S\+T\+A\+T\+E\+\_\+\+I\+N\+IT@{W\+S\+\_\+\+S\+T\+A\+T\+E\+\_\+\+I\+N\+IT}}}\mbox{\Hypertarget{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0a8be7fc475b5c6e5950f1d850b092d2d8}\label{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0a8be7fc475b5c6e5950f1d850b092d2d8}} 
W\+S\+\_\+\+S\+T\+A\+T\+E\+\_\+\+I\+N\+IT&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{W\+S\+\_\+\+S\+T\+A\+T\+E\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+NG@{W\+S\+\_\+\+S\+T\+A\+T\+E\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+NG}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!W\+S\+\_\+\+S\+T\+A\+T\+E\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+NG@{W\+S\+\_\+\+S\+T\+A\+T\+E\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+NG}}}\mbox{\Hypertarget{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0a782bbde9b515882abdd6b712c127af31}\label{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0a782bbde9b515882abdd6b712c127af31}} 
W\+S\+\_\+\+S\+T\+A\+T\+E\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+NG&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{W\+S\+\_\+\+S\+T\+A\+T\+E\+\_\+\+C\+L\+I\+E\+N\+T\+\_\+\+H\+A\+N\+D\+S\+H\+A\+KE@{W\+S\+\_\+\+S\+T\+A\+T\+E\+\_\+\+C\+L\+I\+E\+N\+T\+\_\+\+H\+A\+N\+D\+S\+H\+A\+KE}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!W\+S\+\_\+\+S\+T\+A\+T\+E\+\_\+\+C\+L\+I\+E\+N\+T\+\_\+\+H\+A\+N\+D\+S\+H\+A\+KE@{W\+S\+\_\+\+S\+T\+A\+T\+E\+\_\+\+C\+L\+I\+E\+N\+T\+\_\+\+H\+A\+N\+D\+S\+H\+A\+KE}}}\mbox{\Hypertarget{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0aa36e2729944c323df887386b2aa4bc0c}\label{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0aa36e2729944c323df887386b2aa4bc0c}} 
W\+S\+\_\+\+S\+T\+A\+T\+E\+\_\+\+C\+L\+I\+E\+N\+T\+\_\+\+H\+A\+N\+D\+S\+H\+A\+KE&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{W\+S\+\_\+\+S\+T\+A\+T\+E\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+H\+A\+N\+D\+S\+H\+A\+KE@{W\+S\+\_\+\+S\+T\+A\+T\+E\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+H\+A\+N\+D\+S\+H\+A\+KE}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!W\+S\+\_\+\+S\+T\+A\+T\+E\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+H\+A\+N\+D\+S\+H\+A\+KE@{W\+S\+\_\+\+S\+T\+A\+T\+E\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+H\+A\+N\+D\+S\+H\+A\+KE}}}\mbox{\Hypertarget{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0af67b597c54a4b89fc2566c326231aa8b}\label{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0af67b597c54a4b89fc2566c326231aa8b}} 
W\+S\+\_\+\+S\+T\+A\+T\+E\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+H\+A\+N\+D\+S\+H\+A\+KE&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{W\+S\+\_\+\+S\+T\+A\+T\+E\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+R\+E\+S\+P\+\_\+\+B\+O\+DY@{W\+S\+\_\+\+S\+T\+A\+T\+E\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+R\+E\+S\+P\+\_\+\+B\+O\+DY}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!W\+S\+\_\+\+S\+T\+A\+T\+E\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+R\+E\+S\+P\+\_\+\+B\+O\+DY@{W\+S\+\_\+\+S\+T\+A\+T\+E\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+R\+E\+S\+P\+\_\+\+B\+O\+DY}}}\mbox{\Hypertarget{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0a43c62103f8f4932a86f148bb9122d9f5}\label{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0a43c62103f8f4932a86f148bb9122d9f5}} 
W\+S\+\_\+\+S\+T\+A\+T\+E\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+R\+E\+S\+P\+\_\+\+B\+O\+DY&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{W\+S\+\_\+\+S\+T\+A\+T\+E\+\_\+\+O\+P\+EN@{W\+S\+\_\+\+S\+T\+A\+T\+E\+\_\+\+O\+P\+EN}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!W\+S\+\_\+\+S\+T\+A\+T\+E\+\_\+\+O\+P\+EN@{W\+S\+\_\+\+S\+T\+A\+T\+E\+\_\+\+O\+P\+EN}}}\mbox{\Hypertarget{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0ab0325195f22aca5be7491a425f84808c}\label{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0ab0325195f22aca5be7491a425f84808c}} 
W\+S\+\_\+\+S\+T\+A\+T\+E\+\_\+\+O\+P\+EN&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{W\+S\+\_\+\+S\+T\+A\+T\+E\+\_\+\+C\+L\+O\+S\+I\+N\+G\+\_\+\+TX@{W\+S\+\_\+\+S\+T\+A\+T\+E\+\_\+\+C\+L\+O\+S\+I\+N\+G\+\_\+\+TX}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!W\+S\+\_\+\+S\+T\+A\+T\+E\+\_\+\+C\+L\+O\+S\+I\+N\+G\+\_\+\+TX@{W\+S\+\_\+\+S\+T\+A\+T\+E\+\_\+\+C\+L\+O\+S\+I\+N\+G\+\_\+\+TX}}}\mbox{\Hypertarget{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0a497577e6916b829e303f5466a852e8ef}\label{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0a497577e6916b829e303f5466a852e8ef}} 
W\+S\+\_\+\+S\+T\+A\+T\+E\+\_\+\+C\+L\+O\+S\+I\+N\+G\+\_\+\+TX&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{W\+S\+\_\+\+S\+T\+A\+T\+E\+\_\+\+C\+L\+O\+S\+I\+N\+G\+\_\+\+RX@{W\+S\+\_\+\+S\+T\+A\+T\+E\+\_\+\+C\+L\+O\+S\+I\+N\+G\+\_\+\+RX}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!W\+S\+\_\+\+S\+T\+A\+T\+E\+\_\+\+C\+L\+O\+S\+I\+N\+G\+\_\+\+RX@{W\+S\+\_\+\+S\+T\+A\+T\+E\+\_\+\+C\+L\+O\+S\+I\+N\+G\+\_\+\+RX}}}\mbox{\Hypertarget{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0a389d5ee1c20697d8c258fdf813d16fe5}\label{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0a389d5ee1c20697d8c258fdf813d16fe5}} 
W\+S\+\_\+\+S\+T\+A\+T\+E\+\_\+\+C\+L\+O\+S\+I\+N\+G\+\_\+\+RX&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{W\+S\+\_\+\+S\+T\+A\+T\+E\+\_\+\+S\+H\+U\+T\+D\+O\+WN@{W\+S\+\_\+\+S\+T\+A\+T\+E\+\_\+\+S\+H\+U\+T\+D\+O\+WN}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!W\+S\+\_\+\+S\+T\+A\+T\+E\+\_\+\+S\+H\+U\+T\+D\+O\+WN@{W\+S\+\_\+\+S\+T\+A\+T\+E\+\_\+\+S\+H\+U\+T\+D\+O\+WN}}}\mbox{\Hypertarget{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0ab9ab3613e9b03816f43e9711716c9707}\label{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0ab9ab3613e9b03816f43e9711716c9707}} 
W\+S\+\_\+\+S\+T\+A\+T\+E\+\_\+\+S\+H\+U\+T\+D\+O\+WN&\\
\hline

\end{DoxyEnumFields}


Definition at line 224 of file web\+\_\+socket.\+h.


\begin{DoxyCode}
225 \{
226    \hyperlink{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0a68c9aa1cabee320355510e4d1deae9fa}{WS\_STATE\_UNUSED}             = 0,
227    \hyperlink{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0a4356293e46722d1fa27ca8624f62b296}{WS\_STATE\_CLOSED}             = 1,
228    \hyperlink{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0a8be7fc475b5c6e5950f1d850b092d2d8}{WS\_STATE\_INIT}               = 2,
229    \hyperlink{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0a782bbde9b515882abdd6b712c127af31}{WS\_STATE\_CONNECTING}         = 3,
230    \hyperlink{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0aa36e2729944c323df887386b2aa4bc0c}{WS\_STATE\_CLIENT\_HANDSHAKE}   = 4,
231    \hyperlink{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0af67b597c54a4b89fc2566c326231aa8b}{WS\_STATE\_SERVER\_HANDSHAKE}   = 5,
232    \hyperlink{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0a43c62103f8f4932a86f148bb9122d9f5}{WS\_STATE\_SERVER\_RESP\_BODY}   = 6,
233    \hyperlink{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0ab0325195f22aca5be7491a425f84808c}{WS\_STATE\_OPEN}               = 7,
234    \hyperlink{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0a497577e6916b829e303f5466a852e8ef}{WS\_STATE\_CLOSING\_TX}         = 8,
235    \hyperlink{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0a389d5ee1c20697d8c258fdf813d16fe5}{WS\_STATE\_CLOSING\_RX}         = 9,
236    \hyperlink{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0ab9ab3613e9b03816f43e9711716c9707}{WS\_STATE\_SHUTDOWN}           = 10,
237 \} \hyperlink{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0}{WebSocketState};
\end{DoxyCode}
\mbox{\Hypertarget{web__socket_8h_acd8f55557f218580a4048bba2d0c5192}\label{web__socket_8h_acd8f55557f218580a4048bba2d0c5192}} 
\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!Web\+Socket\+Status\+Code@{Web\+Socket\+Status\+Code}}
\index{Web\+Socket\+Status\+Code@{Web\+Socket\+Status\+Code}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{Web\+Socket\+Status\+Code}{WebSocketStatusCode}}
{\footnotesize\ttfamily enum \hyperlink{web__socket_8h_acd8f55557f218580a4048bba2d0c5192}{Web\+Socket\+Status\+Code}}



Web\+Socket status codes. 

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{W\+S\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+D\+E\+\_\+\+N\+O\+R\+M\+A\+L\+\_\+\+C\+L\+O\+S\+U\+RE@{W\+S\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+D\+E\+\_\+\+N\+O\+R\+M\+A\+L\+\_\+\+C\+L\+O\+S\+U\+RE}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!W\+S\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+D\+E\+\_\+\+N\+O\+R\+M\+A\+L\+\_\+\+C\+L\+O\+S\+U\+RE@{W\+S\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+D\+E\+\_\+\+N\+O\+R\+M\+A\+L\+\_\+\+C\+L\+O\+S\+U\+RE}}}\mbox{\Hypertarget{web__socket_8h_acd8f55557f218580a4048bba2d0c5192afa052f8cdfa3f02fd4a0700321f66021}\label{web__socket_8h_acd8f55557f218580a4048bba2d0c5192afa052f8cdfa3f02fd4a0700321f66021}} 
W\+S\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+D\+E\+\_\+\+N\+O\+R\+M\+A\+L\+\_\+\+C\+L\+O\+S\+U\+RE&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{W\+S\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+D\+E\+\_\+\+G\+O\+I\+N\+G\+\_\+\+A\+W\+AY@{W\+S\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+D\+E\+\_\+\+G\+O\+I\+N\+G\+\_\+\+A\+W\+AY}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!W\+S\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+D\+E\+\_\+\+G\+O\+I\+N\+G\+\_\+\+A\+W\+AY@{W\+S\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+D\+E\+\_\+\+G\+O\+I\+N\+G\+\_\+\+A\+W\+AY}}}\mbox{\Hypertarget{web__socket_8h_acd8f55557f218580a4048bba2d0c5192a97fbce392e2d9fd525f741ba0577df3f}\label{web__socket_8h_acd8f55557f218580a4048bba2d0c5192a97fbce392e2d9fd525f741ba0577df3f}} 
W\+S\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+D\+E\+\_\+\+G\+O\+I\+N\+G\+\_\+\+A\+W\+AY&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{W\+S\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+D\+E\+\_\+\+P\+R\+O\+T\+O\+C\+O\+L\+\_\+\+E\+R\+R\+OR@{W\+S\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+D\+E\+\_\+\+P\+R\+O\+T\+O\+C\+O\+L\+\_\+\+E\+R\+R\+OR}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!W\+S\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+D\+E\+\_\+\+P\+R\+O\+T\+O\+C\+O\+L\+\_\+\+E\+R\+R\+OR@{W\+S\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+D\+E\+\_\+\+P\+R\+O\+T\+O\+C\+O\+L\+\_\+\+E\+R\+R\+OR}}}\mbox{\Hypertarget{web__socket_8h_acd8f55557f218580a4048bba2d0c5192a43a574a1eab5c8d022034a5e356ad27c}\label{web__socket_8h_acd8f55557f218580a4048bba2d0c5192a43a574a1eab5c8d022034a5e356ad27c}} 
W\+S\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+D\+E\+\_\+\+P\+R\+O\+T\+O\+C\+O\+L\+\_\+\+E\+R\+R\+OR&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{W\+S\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+D\+E\+\_\+\+U\+N\+S\+U\+P\+P\+O\+R\+T\+E\+D\+\_\+\+D\+A\+TA@{W\+S\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+D\+E\+\_\+\+U\+N\+S\+U\+P\+P\+O\+R\+T\+E\+D\+\_\+\+D\+A\+TA}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!W\+S\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+D\+E\+\_\+\+U\+N\+S\+U\+P\+P\+O\+R\+T\+E\+D\+\_\+\+D\+A\+TA@{W\+S\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+D\+E\+\_\+\+U\+N\+S\+U\+P\+P\+O\+R\+T\+E\+D\+\_\+\+D\+A\+TA}}}\mbox{\Hypertarget{web__socket_8h_acd8f55557f218580a4048bba2d0c5192af653d00c4d55a84e3a16b20f29d79197}\label{web__socket_8h_acd8f55557f218580a4048bba2d0c5192af653d00c4d55a84e3a16b20f29d79197}} 
W\+S\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+D\+E\+\_\+\+U\+N\+S\+U\+P\+P\+O\+R\+T\+E\+D\+\_\+\+D\+A\+TA&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{W\+S\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+D\+E\+\_\+\+N\+O\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+R\+C\+VD@{W\+S\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+D\+E\+\_\+\+N\+O\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+R\+C\+VD}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!W\+S\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+D\+E\+\_\+\+N\+O\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+R\+C\+VD@{W\+S\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+D\+E\+\_\+\+N\+O\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+R\+C\+VD}}}\mbox{\Hypertarget{web__socket_8h_acd8f55557f218580a4048bba2d0c5192a7911bd0755c0ff03ee1add8df6ab25ba}\label{web__socket_8h_acd8f55557f218580a4048bba2d0c5192a7911bd0755c0ff03ee1add8df6ab25ba}} 
W\+S\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+D\+E\+\_\+\+N\+O\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+R\+C\+VD&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{W\+S\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+D\+E\+\_\+\+A\+B\+N\+O\+R\+M\+A\+L\+\_\+\+C\+L\+O\+S\+U\+RE@{W\+S\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+D\+E\+\_\+\+A\+B\+N\+O\+R\+M\+A\+L\+\_\+\+C\+L\+O\+S\+U\+RE}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!W\+S\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+D\+E\+\_\+\+A\+B\+N\+O\+R\+M\+A\+L\+\_\+\+C\+L\+O\+S\+U\+RE@{W\+S\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+D\+E\+\_\+\+A\+B\+N\+O\+R\+M\+A\+L\+\_\+\+C\+L\+O\+S\+U\+RE}}}\mbox{\Hypertarget{web__socket_8h_acd8f55557f218580a4048bba2d0c5192afcfb42bc4525116af0d513abd011af40}\label{web__socket_8h_acd8f55557f218580a4048bba2d0c5192afcfb42bc4525116af0d513abd011af40}} 
W\+S\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+D\+E\+\_\+\+A\+B\+N\+O\+R\+M\+A\+L\+\_\+\+C\+L\+O\+S\+U\+RE&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{W\+S\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+D\+E\+\_\+\+I\+N\+V\+A\+L\+I\+D\+\_\+\+P\+A\+Y\+L\+O\+A\+D\+\_\+\+D\+A\+TA@{W\+S\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+D\+E\+\_\+\+I\+N\+V\+A\+L\+I\+D\+\_\+\+P\+A\+Y\+L\+O\+A\+D\+\_\+\+D\+A\+TA}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!W\+S\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+D\+E\+\_\+\+I\+N\+V\+A\+L\+I\+D\+\_\+\+P\+A\+Y\+L\+O\+A\+D\+\_\+\+D\+A\+TA@{W\+S\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+D\+E\+\_\+\+I\+N\+V\+A\+L\+I\+D\+\_\+\+P\+A\+Y\+L\+O\+A\+D\+\_\+\+D\+A\+TA}}}\mbox{\Hypertarget{web__socket_8h_acd8f55557f218580a4048bba2d0c5192abd132bf158d0fa6b7dbf2f06f4caa99d}\label{web__socket_8h_acd8f55557f218580a4048bba2d0c5192abd132bf158d0fa6b7dbf2f06f4caa99d}} 
W\+S\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+D\+E\+\_\+\+I\+N\+V\+A\+L\+I\+D\+\_\+\+P\+A\+Y\+L\+O\+A\+D\+\_\+\+D\+A\+TA&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{W\+S\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+D\+E\+\_\+\+P\+O\+L\+I\+C\+Y\+\_\+\+V\+I\+O\+L\+A\+T\+I\+ON@{W\+S\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+D\+E\+\_\+\+P\+O\+L\+I\+C\+Y\+\_\+\+V\+I\+O\+L\+A\+T\+I\+ON}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!W\+S\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+D\+E\+\_\+\+P\+O\+L\+I\+C\+Y\+\_\+\+V\+I\+O\+L\+A\+T\+I\+ON@{W\+S\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+D\+E\+\_\+\+P\+O\+L\+I\+C\+Y\+\_\+\+V\+I\+O\+L\+A\+T\+I\+ON}}}\mbox{\Hypertarget{web__socket_8h_acd8f55557f218580a4048bba2d0c5192a0c9f05bfdebc75c106fe6d5dc7d2bb93}\label{web__socket_8h_acd8f55557f218580a4048bba2d0c5192a0c9f05bfdebc75c106fe6d5dc7d2bb93}} 
W\+S\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+D\+E\+\_\+\+P\+O\+L\+I\+C\+Y\+\_\+\+V\+I\+O\+L\+A\+T\+I\+ON&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{W\+S\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+D\+E\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+T\+O\+O\+\_\+\+B\+IG@{W\+S\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+D\+E\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+T\+O\+O\+\_\+\+B\+IG}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!W\+S\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+D\+E\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+T\+O\+O\+\_\+\+B\+IG@{W\+S\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+D\+E\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+T\+O\+O\+\_\+\+B\+IG}}}\mbox{\Hypertarget{web__socket_8h_acd8f55557f218580a4048bba2d0c5192af7c887bd2638269ce5f50c25819fc913}\label{web__socket_8h_acd8f55557f218580a4048bba2d0c5192af7c887bd2638269ce5f50c25819fc913}} 
W\+S\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+D\+E\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+T\+O\+O\+\_\+\+B\+IG&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{W\+S\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+D\+E\+\_\+\+M\+A\+N\+D\+A\+T\+O\+R\+Y\+\_\+\+E\+XT@{W\+S\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+D\+E\+\_\+\+M\+A\+N\+D\+A\+T\+O\+R\+Y\+\_\+\+E\+XT}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!W\+S\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+D\+E\+\_\+\+M\+A\+N\+D\+A\+T\+O\+R\+Y\+\_\+\+E\+XT@{W\+S\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+D\+E\+\_\+\+M\+A\+N\+D\+A\+T\+O\+R\+Y\+\_\+\+E\+XT}}}\mbox{\Hypertarget{web__socket_8h_acd8f55557f218580a4048bba2d0c5192aefddcb5933804a705a4fbd21bebc4788}\label{web__socket_8h_acd8f55557f218580a4048bba2d0c5192aefddcb5933804a705a4fbd21bebc4788}} 
W\+S\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+D\+E\+\_\+\+M\+A\+N\+D\+A\+T\+O\+R\+Y\+\_\+\+E\+XT&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{W\+S\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+D\+E\+\_\+\+I\+N\+T\+E\+R\+N\+A\+L\+\_\+\+E\+R\+R\+OR@{W\+S\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+D\+E\+\_\+\+I\+N\+T\+E\+R\+N\+A\+L\+\_\+\+E\+R\+R\+OR}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!W\+S\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+D\+E\+\_\+\+I\+N\+T\+E\+R\+N\+A\+L\+\_\+\+E\+R\+R\+OR@{W\+S\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+D\+E\+\_\+\+I\+N\+T\+E\+R\+N\+A\+L\+\_\+\+E\+R\+R\+OR}}}\mbox{\Hypertarget{web__socket_8h_acd8f55557f218580a4048bba2d0c5192a29c02976289b786b18e6bd88f3f30d5c}\label{web__socket_8h_acd8f55557f218580a4048bba2d0c5192a29c02976289b786b18e6bd88f3f30d5c}} 
W\+S\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+D\+E\+\_\+\+I\+N\+T\+E\+R\+N\+A\+L\+\_\+\+E\+R\+R\+OR&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{W\+S\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+D\+E\+\_\+\+T\+L\+S\+\_\+\+H\+A\+N\+D\+S\+H\+A\+KE@{W\+S\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+D\+E\+\_\+\+T\+L\+S\+\_\+\+H\+A\+N\+D\+S\+H\+A\+KE}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!W\+S\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+D\+E\+\_\+\+T\+L\+S\+\_\+\+H\+A\+N\+D\+S\+H\+A\+KE@{W\+S\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+D\+E\+\_\+\+T\+L\+S\+\_\+\+H\+A\+N\+D\+S\+H\+A\+KE}}}\mbox{\Hypertarget{web__socket_8h_acd8f55557f218580a4048bba2d0c5192ad674d3f60143cc5b96ca7f7b6cb86012}\label{web__socket_8h_acd8f55557f218580a4048bba2d0c5192ad674d3f60143cc5b96ca7f7b6cb86012}} 
W\+S\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+D\+E\+\_\+\+T\+L\+S\+\_\+\+H\+A\+N\+D\+S\+H\+A\+KE&\\
\hline

\end{DoxyEnumFields}


Definition at line 277 of file web\+\_\+socket.\+h.


\begin{DoxyCode}
278 \{
279    \hyperlink{web__socket_8h_acd8f55557f218580a4048bba2d0c5192afa052f8cdfa3f02fd4a0700321f66021}{WS\_STATUS\_CODE\_NORMAL\_CLOSURE}       = 1000,
280    \hyperlink{web__socket_8h_acd8f55557f218580a4048bba2d0c5192a97fbce392e2d9fd525f741ba0577df3f}{WS\_STATUS\_CODE\_GOING\_AWAY}           = 1001,
281    \hyperlink{web__socket_8h_acd8f55557f218580a4048bba2d0c5192a43a574a1eab5c8d022034a5e356ad27c}{WS\_STATUS\_CODE\_PROTOCOL\_ERROR}       = 1002,
282    \hyperlink{web__socket_8h_acd8f55557f218580a4048bba2d0c5192af653d00c4d55a84e3a16b20f29d79197}{WS\_STATUS\_CODE\_UNSUPPORTED\_DATA}     = 1003,
283    \hyperlink{web__socket_8h_acd8f55557f218580a4048bba2d0c5192a7911bd0755c0ff03ee1add8df6ab25ba}{WS\_STATUS\_CODE\_NO\_STATUS\_RCVD}       = 1005,
284    \hyperlink{web__socket_8h_acd8f55557f218580a4048bba2d0c5192afcfb42bc4525116af0d513abd011af40}{WS\_STATUS\_CODE\_ABNORMAL\_CLOSURE}     = 1006,
285    \hyperlink{web__socket_8h_acd8f55557f218580a4048bba2d0c5192abd132bf158d0fa6b7dbf2f06f4caa99d}{WS\_STATUS\_CODE\_INVALID\_PAYLOAD\_DATA} = 1007,
286    \hyperlink{web__socket_8h_acd8f55557f218580a4048bba2d0c5192a0c9f05bfdebc75c106fe6d5dc7d2bb93}{WS\_STATUS\_CODE\_POLICY\_VIOLATION}     = 1008,
287    \hyperlink{web__socket_8h_acd8f55557f218580a4048bba2d0c5192af7c887bd2638269ce5f50c25819fc913}{WS\_STATUS\_CODE\_MESSAGE\_TOO\_BIG}      = 1009,
288    \hyperlink{web__socket_8h_acd8f55557f218580a4048bba2d0c5192aefddcb5933804a705a4fbd21bebc4788}{WS\_STATUS\_CODE\_MANDATORY\_EXT}        = 1010,
289    \hyperlink{web__socket_8h_acd8f55557f218580a4048bba2d0c5192a29c02976289b786b18e6bd88f3f30d5c}{WS\_STATUS\_CODE\_INTERNAL\_ERROR}       = 1011,
290    \hyperlink{web__socket_8h_acd8f55557f218580a4048bba2d0c5192ad674d3f60143cc5b96ca7f7b6cb86012}{WS\_STATUS\_CODE\_TLS\_HANDSHAKE}        = 1015
291 \} \hyperlink{web__socket_8h_acd8f55557f218580a4048bba2d0c5192}{WebSocketStatusCode};
\end{DoxyCode}
\mbox{\Hypertarget{web__socket_8h_add467139cdc2100a7640faa4fb6c36d7}\label{web__socket_8h_add467139cdc2100a7640faa4fb6c36d7}} 
\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!Web\+Socket\+Sub\+State@{Web\+Socket\+Sub\+State}}
\index{Web\+Socket\+Sub\+State@{Web\+Socket\+Sub\+State}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{Web\+Socket\+Sub\+State}{WebSocketSubState}}
{\footnotesize\ttfamily enum \hyperlink{web__socket_8h_add467139cdc2100a7640faa4fb6c36d7}{Web\+Socket\+Sub\+State}}



Web\+Socket sub-\/states. 

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{W\+S\+\_\+\+S\+U\+B\+\_\+\+S\+T\+A\+T\+E\+\_\+\+I\+N\+IT@{W\+S\+\_\+\+S\+U\+B\+\_\+\+S\+T\+A\+T\+E\+\_\+\+I\+N\+IT}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!W\+S\+\_\+\+S\+U\+B\+\_\+\+S\+T\+A\+T\+E\+\_\+\+I\+N\+IT@{W\+S\+\_\+\+S\+U\+B\+\_\+\+S\+T\+A\+T\+E\+\_\+\+I\+N\+IT}}}\mbox{\Hypertarget{web__socket_8h_add467139cdc2100a7640faa4fb6c36d7a94a204ec550f4e655177970aeaf89306}\label{web__socket_8h_add467139cdc2100a7640faa4fb6c36d7a94a204ec550f4e655177970aeaf89306}} 
W\+S\+\_\+\+S\+U\+B\+\_\+\+S\+T\+A\+T\+E\+\_\+\+I\+N\+IT&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{W\+S\+\_\+\+S\+U\+B\+\_\+\+S\+T\+A\+T\+E\+\_\+\+H\+A\+N\+D\+S\+H\+A\+K\+E\+\_\+\+L\+E\+A\+D\+I\+N\+G\+\_\+\+L\+I\+NE@{W\+S\+\_\+\+S\+U\+B\+\_\+\+S\+T\+A\+T\+E\+\_\+\+H\+A\+N\+D\+S\+H\+A\+K\+E\+\_\+\+L\+E\+A\+D\+I\+N\+G\+\_\+\+L\+I\+NE}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!W\+S\+\_\+\+S\+U\+B\+\_\+\+S\+T\+A\+T\+E\+\_\+\+H\+A\+N\+D\+S\+H\+A\+K\+E\+\_\+\+L\+E\+A\+D\+I\+N\+G\+\_\+\+L\+I\+NE@{W\+S\+\_\+\+S\+U\+B\+\_\+\+S\+T\+A\+T\+E\+\_\+\+H\+A\+N\+D\+S\+H\+A\+K\+E\+\_\+\+L\+E\+A\+D\+I\+N\+G\+\_\+\+L\+I\+NE}}}\mbox{\Hypertarget{web__socket_8h_add467139cdc2100a7640faa4fb6c36d7a747a95957baf6c56acd5a4a6b662e5ce}\label{web__socket_8h_add467139cdc2100a7640faa4fb6c36d7a747a95957baf6c56acd5a4a6b662e5ce}} 
W\+S\+\_\+\+S\+U\+B\+\_\+\+S\+T\+A\+T\+E\+\_\+\+H\+A\+N\+D\+S\+H\+A\+K\+E\+\_\+\+L\+E\+A\+D\+I\+N\+G\+\_\+\+L\+I\+NE&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{W\+S\+\_\+\+S\+U\+B\+\_\+\+S\+T\+A\+T\+E\+\_\+\+H\+A\+N\+D\+S\+H\+A\+K\+E\+\_\+\+H\+E\+A\+D\+E\+R\+\_\+\+F\+I\+E\+LD@{W\+S\+\_\+\+S\+U\+B\+\_\+\+S\+T\+A\+T\+E\+\_\+\+H\+A\+N\+D\+S\+H\+A\+K\+E\+\_\+\+H\+E\+A\+D\+E\+R\+\_\+\+F\+I\+E\+LD}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!W\+S\+\_\+\+S\+U\+B\+\_\+\+S\+T\+A\+T\+E\+\_\+\+H\+A\+N\+D\+S\+H\+A\+K\+E\+\_\+\+H\+E\+A\+D\+E\+R\+\_\+\+F\+I\+E\+LD@{W\+S\+\_\+\+S\+U\+B\+\_\+\+S\+T\+A\+T\+E\+\_\+\+H\+A\+N\+D\+S\+H\+A\+K\+E\+\_\+\+H\+E\+A\+D\+E\+R\+\_\+\+F\+I\+E\+LD}}}\mbox{\Hypertarget{web__socket_8h_add467139cdc2100a7640faa4fb6c36d7ae6c7088c37c86cacd2822259d9fcad11}\label{web__socket_8h_add467139cdc2100a7640faa4fb6c36d7ae6c7088c37c86cacd2822259d9fcad11}} 
W\+S\+\_\+\+S\+U\+B\+\_\+\+S\+T\+A\+T\+E\+\_\+\+H\+A\+N\+D\+S\+H\+A\+K\+E\+\_\+\+H\+E\+A\+D\+E\+R\+\_\+\+F\+I\+E\+LD&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{W\+S\+\_\+\+S\+U\+B\+\_\+\+S\+T\+A\+T\+E\+\_\+\+H\+A\+N\+D\+S\+H\+A\+K\+E\+\_\+\+L\+W\+SP@{W\+S\+\_\+\+S\+U\+B\+\_\+\+S\+T\+A\+T\+E\+\_\+\+H\+A\+N\+D\+S\+H\+A\+K\+E\+\_\+\+L\+W\+SP}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!W\+S\+\_\+\+S\+U\+B\+\_\+\+S\+T\+A\+T\+E\+\_\+\+H\+A\+N\+D\+S\+H\+A\+K\+E\+\_\+\+L\+W\+SP@{W\+S\+\_\+\+S\+U\+B\+\_\+\+S\+T\+A\+T\+E\+\_\+\+H\+A\+N\+D\+S\+H\+A\+K\+E\+\_\+\+L\+W\+SP}}}\mbox{\Hypertarget{web__socket_8h_add467139cdc2100a7640faa4fb6c36d7a1c64907f57361f3d97250c8a4b6276be}\label{web__socket_8h_add467139cdc2100a7640faa4fb6c36d7a1c64907f57361f3d97250c8a4b6276be}} 
W\+S\+\_\+\+S\+U\+B\+\_\+\+S\+T\+A\+T\+E\+\_\+\+H\+A\+N\+D\+S\+H\+A\+K\+E\+\_\+\+L\+W\+SP&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{W\+S\+\_\+\+S\+U\+B\+\_\+\+S\+T\+A\+T\+E\+\_\+\+F\+R\+A\+M\+E\+\_\+\+H\+E\+A\+D\+ER@{W\+S\+\_\+\+S\+U\+B\+\_\+\+S\+T\+A\+T\+E\+\_\+\+F\+R\+A\+M\+E\+\_\+\+H\+E\+A\+D\+ER}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!W\+S\+\_\+\+S\+U\+B\+\_\+\+S\+T\+A\+T\+E\+\_\+\+F\+R\+A\+M\+E\+\_\+\+H\+E\+A\+D\+ER@{W\+S\+\_\+\+S\+U\+B\+\_\+\+S\+T\+A\+T\+E\+\_\+\+F\+R\+A\+M\+E\+\_\+\+H\+E\+A\+D\+ER}}}\mbox{\Hypertarget{web__socket_8h_add467139cdc2100a7640faa4fb6c36d7acdecdc58376a8e93ce232125d5f89ae9}\label{web__socket_8h_add467139cdc2100a7640faa4fb6c36d7acdecdc58376a8e93ce232125d5f89ae9}} 
W\+S\+\_\+\+S\+U\+B\+\_\+\+S\+T\+A\+T\+E\+\_\+\+F\+R\+A\+M\+E\+\_\+\+H\+E\+A\+D\+ER&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{W\+S\+\_\+\+S\+U\+B\+\_\+\+S\+T\+A\+T\+E\+\_\+\+F\+R\+A\+M\+E\+\_\+\+E\+X\+T\+\_\+\+H\+E\+A\+D\+ER@{W\+S\+\_\+\+S\+U\+B\+\_\+\+S\+T\+A\+T\+E\+\_\+\+F\+R\+A\+M\+E\+\_\+\+E\+X\+T\+\_\+\+H\+E\+A\+D\+ER}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!W\+S\+\_\+\+S\+U\+B\+\_\+\+S\+T\+A\+T\+E\+\_\+\+F\+R\+A\+M\+E\+\_\+\+E\+X\+T\+\_\+\+H\+E\+A\+D\+ER@{W\+S\+\_\+\+S\+U\+B\+\_\+\+S\+T\+A\+T\+E\+\_\+\+F\+R\+A\+M\+E\+\_\+\+E\+X\+T\+\_\+\+H\+E\+A\+D\+ER}}}\mbox{\Hypertarget{web__socket_8h_add467139cdc2100a7640faa4fb6c36d7a03dfb65ccfce2b3cdc96ce13c0671216}\label{web__socket_8h_add467139cdc2100a7640faa4fb6c36d7a03dfb65ccfce2b3cdc96ce13c0671216}} 
W\+S\+\_\+\+S\+U\+B\+\_\+\+S\+T\+A\+T\+E\+\_\+\+F\+R\+A\+M\+E\+\_\+\+E\+X\+T\+\_\+\+H\+E\+A\+D\+ER&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{W\+S\+\_\+\+S\+U\+B\+\_\+\+S\+T\+A\+T\+E\+\_\+\+F\+R\+A\+M\+E\+\_\+\+P\+A\+Y\+L\+O\+AD@{W\+S\+\_\+\+S\+U\+B\+\_\+\+S\+T\+A\+T\+E\+\_\+\+F\+R\+A\+M\+E\+\_\+\+P\+A\+Y\+L\+O\+AD}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!W\+S\+\_\+\+S\+U\+B\+\_\+\+S\+T\+A\+T\+E\+\_\+\+F\+R\+A\+M\+E\+\_\+\+P\+A\+Y\+L\+O\+AD@{W\+S\+\_\+\+S\+U\+B\+\_\+\+S\+T\+A\+T\+E\+\_\+\+F\+R\+A\+M\+E\+\_\+\+P\+A\+Y\+L\+O\+AD}}}\mbox{\Hypertarget{web__socket_8h_add467139cdc2100a7640faa4fb6c36d7a121d5488238716351efb6fc0fd77e255}\label{web__socket_8h_add467139cdc2100a7640faa4fb6c36d7a121d5488238716351efb6fc0fd77e255}} 
W\+S\+\_\+\+S\+U\+B\+\_\+\+S\+T\+A\+T\+E\+\_\+\+F\+R\+A\+M\+E\+\_\+\+P\+A\+Y\+L\+O\+AD&\\
\hline

\end{DoxyEnumFields}


Definition at line 244 of file web\+\_\+socket.\+h.


\begin{DoxyCode}
245 \{
246    \hyperlink{web__socket_8h_add467139cdc2100a7640faa4fb6c36d7a94a204ec550f4e655177970aeaf89306}{WS\_SUB\_STATE\_INIT}                   = 0,
247    \textcolor{comment}{//Handshake decoding}
248    \hyperlink{web__socket_8h_add467139cdc2100a7640faa4fb6c36d7a747a95957baf6c56acd5a4a6b662e5ce}{WS\_SUB\_STATE\_HANDSHAKE\_LEADING\_LINE} = 1,
249    \hyperlink{web__socket_8h_add467139cdc2100a7640faa4fb6c36d7ae6c7088c37c86cacd2822259d9fcad11}{WS\_SUB\_STATE\_HANDSHAKE\_HEADER\_FIELD} = 2,
250    \hyperlink{web__socket_8h_add467139cdc2100a7640faa4fb6c36d7a1c64907f57361f3d97250c8a4b6276be}{WS\_SUB\_STATE\_HANDSHAKE\_LWSP}         = 3,
251    \textcolor{comment}{//WebSocket frame decoding}
252    \hyperlink{web__socket_8h_add467139cdc2100a7640faa4fb6c36d7acdecdc58376a8e93ce232125d5f89ae9}{WS\_SUB\_STATE\_FRAME\_HEADER}           = 4,
253    \hyperlink{web__socket_8h_add467139cdc2100a7640faa4fb6c36d7a03dfb65ccfce2b3cdc96ce13c0671216}{WS\_SUB\_STATE\_FRAME\_EXT\_HEADER}       = 5,
254    \hyperlink{web__socket_8h_add467139cdc2100a7640faa4fb6c36d7a121d5488238716351efb6fc0fd77e255}{WS\_SUB\_STATE\_FRAME\_PAYLOAD}          = 6
255 \} \hyperlink{web__socket_8h_add467139cdc2100a7640faa4fb6c36d7}{WebSocketSubState};
\end{DoxyCode}


\subsection{Function Documentation}
\mbox{\Hypertarget{web__socket_8h_af463d265c223171a38cef0374ba1eeac}\label{web__socket_8h_af463d265c223171a38cef0374ba1eeac}} 
\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!web\+Socket\+Bind\+To\+Interface@{web\+Socket\+Bind\+To\+Interface}}
\index{web\+Socket\+Bind\+To\+Interface@{web\+Socket\+Bind\+To\+Interface}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{web\+Socket\+Bind\+To\+Interface()}{webSocketBindToInterface()}}
{\footnotesize\ttfamily \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} web\+Socket\+Bind\+To\+Interface (\begin{DoxyParamCaption}\item[{\hyperlink{web__socket_8h_aad796fb4e3af91c4358c5b273d4a2028}{Web\+Socket} $\ast$}]{web\+Socket,  }\item[{\hyperlink{net_8h_a2234db8911a1148c9159979d8f5e0d6b}{Net\+Interface} $\ast$}]{interface }\end{DoxyParamCaption})}



Bind the Web\+Socket to a particular network interface. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em web\+Socket} & Handle to a Web\+Socket \\
\hline
\mbox{\tt in}  & {\em interface} & Network interface to be used \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Error code 
\end{DoxyReturn}


Definition at line 380 of file web\+\_\+socket.\+c.


\begin{DoxyCode}
381 \{
382    \textcolor{comment}{//Make sure the WebSocket handle is valid}
383    \textcolor{keywordflow}{if}(webSocket == \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
384       \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689caeae4b12e06d727d085f75f79a820f2e8}{ERROR\_INVALID\_PARAMETER};
385 
386    \textcolor{comment}{//Explicitly associate the WebSocket with the specified interface}
387    webSocket->interface = interface;
388 
389    \textcolor{comment}{//Successful processing}
390    \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94}{NO\_ERROR};
391 \}
\end{DoxyCode}
\mbox{\Hypertarget{web__socket_8h_a9b9a31944d5466c54f9720d34403c4d6}\label{web__socket_8h_a9b9a31944d5466c54f9720d34403c4d6}} 
\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!web\+Socket\+Close@{web\+Socket\+Close}}
\index{web\+Socket\+Close@{web\+Socket\+Close}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{web\+Socket\+Close()}{webSocketClose()}}
{\footnotesize\ttfamily void web\+Socket\+Close (\begin{DoxyParamCaption}\item[{\hyperlink{web__socket_8h_aad796fb4e3af91c4358c5b273d4a2028}{Web\+Socket} $\ast$}]{web\+Socket }\end{DoxyParamCaption})}



Close a Web\+Socket connection. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em web\+Socket} & Handle identifying the Web\+Socket to close \\
\hline
\end{DoxyParams}


Definition at line 1555 of file web\+\_\+socket.\+c.


\begin{DoxyCode}
1556 \{
1557    \textcolor{comment}{//Make sure the WebSocket handle is valid}
1558    \textcolor{keywordflow}{if}(webSocket != \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
1559    \{
1560       \textcolor{comment}{//Close connection}
1561       \hyperlink{web__socket__transport_8c_a66153cc13b2f563fbdfd27eb4c0b7afa}{webSocketCloseConnection}(webSocket);
1562 
1563 \textcolor{preprocessor}{#if (WEB\_SOCKET\_TLS\_SUPPORT == ENABLED)}
1564       \textcolor{comment}{//Release TLS session state}
1565       \hyperlink{tls_8c_a6e78d966a9bcd9eb6210c996389f6551}{tlsFreeSessionState}(&webSocket->tlsSession);
1566 \textcolor{preprocessor}{#endif}
1567 
1568       \textcolor{comment}{//Release the WebSocket}
1569       \hyperlink{web__socket__misc_8c_a2950d387e998381f3aab0031a3e13004}{webSocketChangeState}(webSocket, \hyperlink{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0a68c9aa1cabee320355510e4d1deae9fa}{WS\_STATE\_UNUSED});
1570    \}
1571 \}
\end{DoxyCode}
\mbox{\Hypertarget{web__socket_8h_a2e1c929468b9ca8919e78d7f625aa577}\label{web__socket_8h_a2e1c929468b9ca8919e78d7f625aa577}} 
\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!web\+Socket\+Connect@{web\+Socket\+Connect}}
\index{web\+Socket\+Connect@{web\+Socket\+Connect}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{web\+Socket\+Connect()}{webSocketConnect()}}
{\footnotesize\ttfamily \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} web\+Socket\+Connect (\begin{DoxyParamCaption}\item[{\hyperlink{web__socket_8h_aad796fb4e3af91c4358c5b273d4a2028}{Web\+Socket} $\ast$}]{web\+Socket,  }\item[{const \hyperlink{structIpAddr}{Ip\+Addr} $\ast$}]{server\+Ip\+Addr,  }\item[{\hyperlink{stdint_8h_a273cf69d639a59973b6019625df33e30}{uint16\+\_\+t}}]{server\+Port,  }\item[{const \hyperlink{compiler__port_8h_a40bb5262bf908c328fbcfbe5d29d0201}{char\+\_\+t} $\ast$}]{uri }\end{DoxyParamCaption})}



Establish a Web\+Socket connection. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em web\+Socket} & Handle to a Web\+Socket \\
\hline
\mbox{\tt in}  & {\em server\+Ip\+Addr} & IP address of the Web\+Socket server to connect to \\
\hline
\mbox{\tt in}  & {\em server\+Port} & T\+CP port number that will be used to establish the connection \\
\hline
\mbox{\tt in}  & {\em uri} & N\+U\+L\+L-\/terminated string that contains the resource name \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Error code 
\end{DoxyReturn}


Definition at line 404 of file web\+\_\+socket.\+c.


\begin{DoxyCode}
406 \{
407    \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\_t} error;
408    \textcolor{keywordtype}{size\_t} \hyperlink{dhcpv6__common_8h_a5a648f5ec00c526b0dfa2df7a272c6c0}{n};
409    \hyperlink{structWebSocketFrameContext}{WebSocketFrameContext} *txContext;
410 
411    \textcolor{comment}{//Make sure the WebSocket handle is valid}
412    \textcolor{keywordflow}{if}(webSocket == \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
413       \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689caeae4b12e06d727d085f75f79a820f2e8}{ERROR\_INVALID\_PARAMETER};
414 
415    \textcolor{comment}{//Point to the TX context}
416    txContext = &webSocket->txContext;
417 
418    \textcolor{comment}{//Initialize status code}
419    error = \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94}{NO\_ERROR};
420 
421    \textcolor{comment}{//Establish connection}
422    \textcolor{keywordflow}{while}(webSocket->state != \hyperlink{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0ab0325195f22aca5be7491a425f84808c}{WS\_STATE\_OPEN})
423    \{
424       \textcolor{comment}{//Check current state}
425       \textcolor{keywordflow}{if}(webSocket->state == \hyperlink{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0a4356293e46722d1fa27ca8624f62b296}{WS\_STATE\_CLOSED})
426       \{
427          \textcolor{comment}{//Check parameters}
428          \textcolor{keywordflow}{if}(serverIpAddr == \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} || uri == \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
429          \{
430             \textcolor{comment}{//Report an error}
431             error = \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689caeae4b12e06d727d085f75f79a820f2e8}{ERROR\_INVALID\_PARAMETER};
432          \}
433          \textcolor{keywordflow}{else}
434          \{
435             \textcolor{comment}{//A WebSocket client is a WebSocket endpoint that initiates a}
436             \textcolor{comment}{//connection to a peer}
437             webSocket->endpoint = \hyperlink{web__socket_8h_ae7d51561abe243c4f263d6c7d50699a9aa78fcf3108fe2e0b57f32684e9c76076}{WS\_ENDPOINT\_CLIENT};
438 
439             \textcolor{comment}{//Save the URI}
440             \hyperlink{str_8c_ac10cb0bca1fb0c39b2c765afd068486d}{strSafeCopy}(webSocket->uri, uri, \hyperlink{web__socket_8h_ace530d4ae5bedbea825d9ac103cf2741}{WEB\_SOCKET\_URI\_MAX\_LEN});
441             \textcolor{comment}{//Reset retry counter}
442             webSocket->retryCount = 0;
443 
444 \textcolor{preprocessor}{#if (WEB\_SOCKET\_BASIC\_AUTH\_SUPPORT == ENABLED || WEB\_SOCKET\_DIGEST\_AUTH\_SUPPORT == ENABLED)}
445             \textcolor{comment}{//HTTP authentication is not used for the first connection attempt}
446             webSocket->authContext.requiredAuthMode = \hyperlink{web__socket_8h_a2c2f8d99948379e06bb22ea64745ba77a80f1f0d41bcc49cb11c7618551dd0bdf}{WS\_AUTH\_MODE\_NONE};
447             webSocket->authContext.selectedAuthMode = \hyperlink{web__socket_8h_a2c2f8d99948379e06bb22ea64745ba77a80f1f0d41bcc49cb11c7618551dd0bdf}{WS\_AUTH\_MODE\_NONE};
448 \textcolor{preprocessor}{#endif}
449             \textcolor{comment}{//Initialize the WebSocket connection}
450             \hyperlink{web__socket__misc_8c_a2950d387e998381f3aab0031a3e13004}{webSocketChangeState}(webSocket, \hyperlink{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0a8be7fc475b5c6e5950f1d850b092d2d8}{WS\_STATE\_INIT});
451          \}
452       \}
453       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(webSocket->state == \hyperlink{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0a8be7fc475b5c6e5950f1d850b092d2d8}{WS\_STATE\_INIT})
454       \{
455          \textcolor{comment}{//Increment retry counter}
456          webSocket->retryCount++;
457 
458          \textcolor{comment}{//Limit the number of connection attempts}
459          \textcolor{keywordflow}{if}(webSocket->retryCount > \hyperlink{web__socket_8h_a48aa29e0ee73ec72c4da91237bd68305}{WEB\_SOCKET\_MAX\_CONN\_RETRIES})
460          \{
461             \textcolor{comment}{//Report an error}
462             error = \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689cab721230e985e398cc0977dd729a12c61}{ERROR\_OPEN\_FAILED};
463          \}
464          \textcolor{keywordflow}{else}
465          \{
466             \textcolor{comment}{//Open network connection}
467             error = \hyperlink{web__socket__transport_8c_a5b9a0007642ec4f35d3817d9e7055644}{webSocketOpenConnection}(webSocket);
468          \}
469 
470          \textcolor{comment}{//Check status code}
471          \textcolor{keywordflow}{if}(!error)
472          \{
473             \textcolor{comment}{//Establish connection}
474             \hyperlink{web__socket__misc_8c_a2950d387e998381f3aab0031a3e13004}{webSocketChangeState}(webSocket, 
      \hyperlink{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0a782bbde9b515882abdd6b712c127af31}{WS\_STATE\_CONNECTING});
475          \}
476       \}
477       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(webSocket->state == \hyperlink{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0a782bbde9b515882abdd6b712c127af31}{WS\_STATE\_CONNECTING})
478       \{
479          \textcolor{comment}{//Establish connection}
480          error = \hyperlink{web__socket__transport_8c_a6380e8c6557f050fb13d0b5b0aa5112c}{webSocketEstablishConnection}(webSocket,
481             serverIpAddr, serverPort);
482 
483          \textcolor{comment}{//Check status code}
484          \textcolor{keywordflow}{if}(!error)
485          \{
486             \textcolor{comment}{//Generate client's key}
487             error = \hyperlink{web__socket__misc_8c_a0f5423d5e539eb83f757b8b08c2554d7}{webSocketGenerateClientKey}(webSocket);
488          \}
489 
490          \textcolor{comment}{//Check status code}
491          \textcolor{keywordflow}{if}(!error)
492          \{
493             \textcolor{comment}{//Format client handshake}
494             error = \hyperlink{web__socket__misc_8c_aa15e411e1187dac7e519d9f57e250663}{webSocketFormatClientHandshake}(webSocket, serverPort);
495          \}
496 
497          \textcolor{comment}{//Check status code}
498          \textcolor{keywordflow}{if}(!error)
499          \{
500             \textcolor{comment}{//Send client handshake}
501             \hyperlink{web__socket__misc_8c_a2950d387e998381f3aab0031a3e13004}{webSocketChangeState}(webSocket, 
      \hyperlink{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0aa36e2729944c323df887386b2aa4bc0c}{WS\_STATE\_CLIENT\_HANDSHAKE});
502          \}
503       \}
504       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(webSocket->state == \hyperlink{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0aa36e2729944c323df887386b2aa4bc0c}{WS\_STATE\_CLIENT\_HANDSHAKE})
505       \{
506          \textcolor{comment}{//Any remaining data to be sent?}
507          \textcolor{keywordflow}{if}(txContext->\hyperlink{structWebSocketFrameContext_acad756853cbb653f12d4fd64bbf4cf0a}{bufferPos} < txContext->\hyperlink{structWebSocketFrameContext_ac89d1a88498690e3ae1f39c96182ea19}{bufferLen})
508          \{
509             \textcolor{comment}{//Send more data}
510             error = \hyperlink{web__socket__transport_8c_a8569db2a11a8adecaa48dd7ffa12b2fe}{webSocketSendData}(webSocket,
511                txContext->\hyperlink{structWebSocketFrameContext_a3cec5a6cbb2cf4c3d519ddecae1f4726}{buffer} + txContext->\hyperlink{structWebSocketFrameContext_acad756853cbb653f12d4fd64bbf4cf0a}{bufferPos},
512                txContext->\hyperlink{structWebSocketFrameContext_ac89d1a88498690e3ae1f39c96182ea19}{bufferLen} - txContext->\hyperlink{structWebSocketFrameContext_acad756853cbb653f12d4fd64bbf4cf0a}{bufferPos}, &n, 0);
513 
514             \textcolor{comment}{//Advance data pointer}
515             txContext->\hyperlink{structWebSocketFrameContext_acad756853cbb653f12d4fd64bbf4cf0a}{bufferPos} += \hyperlink{dhcpv6__common_8h_a5a648f5ec00c526b0dfa2df7a272c6c0}{n};
516          \}
517          \textcolor{keywordflow}{else}
518          \{
519             \textcolor{comment}{//Wait for server handshake}
520             \hyperlink{web__socket__misc_8c_a2950d387e998381f3aab0031a3e13004}{webSocketChangeState}(webSocket, 
      \hyperlink{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0af67b597c54a4b89fc2566c326231aa8b}{WS\_STATE\_SERVER\_HANDSHAKE});
521          \}
522       \}
523       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(webSocket->state == \hyperlink{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0af67b597c54a4b89fc2566c326231aa8b}{WS\_STATE\_SERVER\_HANDSHAKE})
524       \{
525          \textcolor{comment}{//Parse the server handshake}
526          error = \hyperlink{web__socket__misc_8c_a58c11ba38cafb8acad6b67e587a15839}{webSocketParseHandshake}(webSocket);
527       \}
528       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(webSocket->state == \hyperlink{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0a43c62103f8f4932a86f148bb9122d9f5}{WS\_STATE\_SERVER\_RESP\_BODY})
529       \{
530          \textcolor{comment}{//Check Connection header field}
531          \textcolor{keywordflow}{if}(webSocket->handshakeContext.connectionClose)
532          \{
533             \textcolor{comment}{//Close connection}
534             \hyperlink{web__socket__transport_8c_a66153cc13b2f563fbdfd27eb4c0b7afa}{webSocketCloseConnection}(webSocket);
535             \textcolor{comment}{//Try to connect again}
536             \hyperlink{web__socket__misc_8c_a2950d387e998381f3aab0031a3e13004}{webSocketChangeState}(webSocket, \hyperlink{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0a8be7fc475b5c6e5950f1d850b092d2d8}{WS\_STATE\_INIT});
537          \}
538          \textcolor{keywordflow}{else}
539          \{
540             \textcolor{comment}{//Any remaining data to read in the response body?}
541             \textcolor{keywordflow}{if}(webSocket->handshakeContext.contentLength > 0)
542             \{
543                \textcolor{comment}{//Limit the number of bytes to read at a time}
544                n = \hyperlink{os__port_8h_a3acffbd305ee72dcd4593c0d8af64a4f}{MIN}(webSocket->handshakeContext.contentLength, 
      \hyperlink{web__socket_8h_a4e6ed74586f83eedc4eae5a079f41050}{WEB\_SOCKET\_BUFFER\_SIZE});
545                \textcolor{comment}{//Discard any received data}
546                error = \hyperlink{web__socket__transport_8c_a18b5d001e9fd3caae71c20355695e2c4}{webSocketReceiveData}(webSocket, txContext->
      \hyperlink{structWebSocketFrameContext_a3cec5a6cbb2cf4c3d519ddecae1f4726}{buffer}, n, &n, 0);
547                \textcolor{comment}{//Decrement byte counter}
548                webSocket->handshakeContext.contentLength -= \hyperlink{dhcpv6__common_8h_a5a648f5ec00c526b0dfa2df7a272c6c0}{n};
549             \}
550             \textcolor{keywordflow}{else}
551             \{
552                \textcolor{comment}{//Format client handshake}
553                error = \hyperlink{web__socket__misc_8c_aa15e411e1187dac7e519d9f57e250663}{webSocketFormatClientHandshake}(webSocket, serverPort);
554                \textcolor{comment}{//Try to authenticate again}
555                \hyperlink{web__socket__misc_8c_a2950d387e998381f3aab0031a3e13004}{webSocketChangeState}(webSocket, 
      \hyperlink{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0aa36e2729944c323df887386b2aa4bc0c}{WS\_STATE\_CLIENT\_HANDSHAKE});
556             \}
557          \}
558       \}
559       \textcolor{keywordflow}{else}
560       \{
561          \textcolor{comment}{//Invalid state}
562          error = \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689cac3190fa1f36c6acf147c7ce453a655e2}{ERROR\_WRONG\_STATE};
563       \}
564 
565       \textcolor{comment}{//Check whether authentication is required}
566       \textcolor{keywordflow}{if}(error == \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689caf39266cb112974885d37b09ef0f40f42}{ERROR\_AUTH\_REQUIRED})
567       \{
568 \textcolor{preprocessor}{#if (WEB\_SOCKET\_BASIC\_AUTH\_SUPPORT == ENABLED)}
569          \textcolor{comment}{//Basic authentication?}
570          \textcolor{keywordflow}{if}(webSocket->authContext.requiredAuthMode == \hyperlink{web__socket_8h_a2c2f8d99948379e06bb22ea64745ba77a30430e212026c8648a527167cd8914b0}{WS\_AUTH\_MODE\_BASIC})
571          \{
572             \textcolor{comment}{//Check whether the basic authentication scheme is allowed}
573             \textcolor{keywordflow}{if}(webSocket->authContext.allowedAuthModes & \hyperlink{web__socket_8h_a2c2f8d99948379e06bb22ea64745ba77a30430e212026c8648a527167cd8914b0}{WS\_AUTH\_MODE\_BASIC})
574             \{
575                \textcolor{comment}{//Do not try to connect again if the credentials are not valid...}
576                \textcolor{keywordflow}{if}(webSocket->authContext.selectedAuthMode == \hyperlink{web__socket_8h_a2c2f8d99948379e06bb22ea64745ba77a80f1f0d41bcc49cb11c7618551dd0bdf}{WS\_AUTH\_MODE\_NONE})
577                \{
578                   \textcolor{comment}{//Catch exception}
579                   error = \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94}{NO\_ERROR};
580                   \textcolor{comment}{//Force the WebSocket client to use basic authentication}
581                   webSocket->authContext.selectedAuthMode = \hyperlink{web__socket_8h_a2c2f8d99948379e06bb22ea64745ba77a30430e212026c8648a527167cd8914b0}{WS\_AUTH\_MODE\_BASIC};
582                   \textcolor{comment}{//Read response body, if any}
583                   \hyperlink{web__socket__misc_8c_a2950d387e998381f3aab0031a3e13004}{webSocketChangeState}(webSocket, 
      \hyperlink{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0a43c62103f8f4932a86f148bb9122d9f5}{WS\_STATE\_SERVER\_RESP\_BODY});
584                \}
585             \}
586          \}
587 \textcolor{preprocessor}{#endif}
588 \textcolor{preprocessor}{#if (WEB\_SOCKET\_DIGEST\_AUTH\_SUPPORT == ENABLED)}
589          \textcolor{comment}{//Digest authentication?}
590          \textcolor{keywordflow}{if}(webSocket->authContext.requiredAuthMode == \hyperlink{web__socket_8h_a2c2f8d99948379e06bb22ea64745ba77ace1b2d04ef4bf3d72f7d378fee80e744}{WS\_AUTH\_MODE\_DIGEST})
591          \{
592             \textcolor{comment}{//Check whether the digest authentication scheme is allowed}
593             \textcolor{keywordflow}{if}(webSocket->authContext.allowedAuthModes & \hyperlink{web__socket_8h_a2c2f8d99948379e06bb22ea64745ba77ace1b2d04ef4bf3d72f7d378fee80e744}{WS\_AUTH\_MODE\_DIGEST})
594             \{
595                \textcolor{comment}{//Do not try to connect again if the credentials are not valid...}
596                \textcolor{keywordflow}{if}(webSocket->authContext.selectedAuthMode == \hyperlink{web__socket_8h_a2c2f8d99948379e06bb22ea64745ba77a80f1f0d41bcc49cb11c7618551dd0bdf}{WS\_AUTH\_MODE\_NONE})
597                \{
598                   \textcolor{comment}{//Force the WebSocket client to use digest authentication}
599                   webSocket->authContext.selectedAuthMode = \hyperlink{web__socket_8h_a2c2f8d99948379e06bb22ea64745ba77ace1b2d04ef4bf3d72f7d378fee80e744}{WS\_AUTH\_MODE\_DIGEST};
600 
601                   \textcolor{comment}{//Make sure that the RNG callback function has been registered}
602                   \textcolor{keywordflow}{if}(\hyperlink{web__socket_8c_a40c7da11532d9e76959cdfc8ed692b3c}{webSockRandCallback} != \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
603                   \{
604                      \textcolor{comment}{//Generate a random cnonce}
605                      error = \hyperlink{web__socket_8c_a40c7da11532d9e76959cdfc8ed692b3c}{webSockRandCallback}(txContext->
      \hyperlink{structWebSocketFrameContext_a3cec5a6cbb2cf4c3d519ddecae1f4726}{buffer},
606                         \hyperlink{web__socket_8h_a9a4f07ca6ff80b9ce6df8a8de49760e8}{WEB\_SOCKET\_CNONCE\_SIZE});
607                   \}
608                   \textcolor{keywordflow}{else}
609                   \{
610                      \textcolor{comment}{//A cryptographically strong random number generator}
611                      \textcolor{comment}{//must be used to generate the cnonce}
612                      error = \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689ca2846b744950d419d058ba0f917caf491}{ERROR\_PRNG\_NOT\_READY};
613                   \}
614 
615                   \textcolor{comment}{//Convert the byte array to hex string}
616                   \hyperlink{web__socket__auth_8c_a6cbcaa172904edf5cd5ee774562164cd}{webSocketConvertArrayToHexString}(txContext->
      \hyperlink{structWebSocketFrameContext_a3cec5a6cbb2cf4c3d519ddecae1f4726}{buffer},
617                      \hyperlink{web__socket_8h_a9a4f07ca6ff80b9ce6df8a8de49760e8}{WEB\_SOCKET\_CNONCE\_SIZE}, webSocket->authContext.cnonce);
618 
619                   \textcolor{comment}{//Read response body, if any}
620                   \hyperlink{web__socket__misc_8c_a2950d387e998381f3aab0031a3e13004}{webSocketChangeState}(webSocket, 
      \hyperlink{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0a43c62103f8f4932a86f148bb9122d9f5}{WS\_STATE\_SERVER\_RESP\_BODY});
621                \}
622             \}
623          \}
624 \textcolor{preprocessor}{#endif}
625       \}
626 
627       \textcolor{comment}{//If an error occurred, then the client must fail the WebSocket}
628       \textcolor{comment}{//connection}
629       \textcolor{keywordflow}{if}(error)
630       \{
631 \textcolor{preprocessor}{#if (NET\_RTOS\_SUPPORT == DISABLED)}
632          \textcolor{comment}{//Timeout error?}
633          \textcolor{keywordflow}{if}(error == \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689ca16f356a669fbb42deb27f59e9054f6d6}{ERROR\_WOULD\_BLOCK} || error == 
      \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689ca4d0f7be53b837f004379ac6bbd56f1e2}{ERROR\_TIMEOUT})
634             \textcolor{keywordflow}{break};
635 \textcolor{preprocessor}{#endif}
636          \textcolor{comment}{//Close connection}
637          \hyperlink{web__socket__transport_8c_a66153cc13b2f563fbdfd27eb4c0b7afa}{webSocketCloseConnection}(webSocket);
638 
639          \textcolor{comment}{//Switch to the CLOSED state}
640          \hyperlink{web__socket__misc_8c_a2950d387e998381f3aab0031a3e13004}{webSocketChangeState}(webSocket, \hyperlink{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0a4356293e46722d1fa27ca8624f62b296}{WS\_STATE\_CLOSED});
641          \textcolor{comment}{//Exit immediately}
642          \textcolor{keywordflow}{break};
643       \}
644    \}
645 
646    \textcolor{comment}{//Return status code}
647    \textcolor{keywordflow}{return} error;
648 \}
\end{DoxyCode}
\mbox{\Hypertarget{web__socket_8h_a5e1adda08b97654f980d5fdb39db17ce}\label{web__socket_8h_a5e1adda08b97654f980d5fdb39db17ce}} 
\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!web\+Socket\+Init@{web\+Socket\+Init}}
\index{web\+Socket\+Init@{web\+Socket\+Init}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{web\+Socket\+Init()}{webSocketInit()}}
{\footnotesize\ttfamily \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} web\+Socket\+Init (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Web\+Socket related initialization. 

\begin{DoxyReturn}{Returns}
Error code 
\end{DoxyReturn}


Definition at line 60 of file web\+\_\+socket.\+c.


\begin{DoxyCode}
61 \{
62    \textcolor{comment}{//Initialize WebSockets}
63    memset(\hyperlink{web__socket_8c_a965c9b0783f5634c1751de0dc914bf73}{webSocketTable}, 0, \textcolor{keyword}{sizeof}(\hyperlink{web__socket_8c_a965c9b0783f5634c1751de0dc914bf73}{webSocketTable}));
64 
65    \textcolor{comment}{//Successful initialization}
66    \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94}{NO\_ERROR};
67 \}
\end{DoxyCode}
\mbox{\Hypertarget{web__socket_8h_ac75db8243c60b28ab95610844f07f9cd}\label{web__socket_8h_ac75db8243c60b28ab95610844f07f9cd}} 
\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!web\+Socket\+Is\+Rx\+Ready@{web\+Socket\+Is\+Rx\+Ready}}
\index{web\+Socket\+Is\+Rx\+Ready@{web\+Socket\+Is\+Rx\+Ready}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{web\+Socket\+Is\+Rx\+Ready()}{webSocketIsRxReady()}}
{\footnotesize\ttfamily \hyperlink{compiler__port_8h_a812d16e5494522586b3784e55d479912}{bool\+\_\+t} web\+Socket\+Is\+Rx\+Ready (\begin{DoxyParamCaption}\item[{\hyperlink{web__socket_8h_aad796fb4e3af91c4358c5b273d4a2028}{Web\+Socket} $\ast$}]{web\+Socket }\end{DoxyParamCaption})}



Check whether some data is available in the receive buffer. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em web\+Socket} & Handle to a Web\+Socket \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The function returns T\+R\+UE if some data is pending and can be read immediately without blocking. Otherwise, F\+A\+L\+SE is returned 
\end{DoxyReturn}


Definition at line 1414 of file web\+\_\+socket.\+c.


\begin{DoxyCode}
1415 \{
1416    \hyperlink{compiler__port_8h_a812d16e5494522586b3784e55d479912}{bool\_t} available = \hyperlink{os__port_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
1417 
1418 \textcolor{preprocessor}{#if (WEB\_SOCKET\_TLS\_SUPPORT == ENABLED)}
1419    \textcolor{comment}{//Check whether a secure connection is being used}
1420    \textcolor{keywordflow}{if}(webSocket->tlsContext != \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
1421    \{
1422       \textcolor{comment}{//Check whether some data is pending in the receive buffer}
1423       \textcolor{keywordflow}{if}(webSocket->tlsContext->rxBufferLen > 0)
1424          available = \hyperlink{os__port_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
1425    \}
1426 \textcolor{preprocessor}{#endif}
1427 
1428    \textcolor{comment}{//The function returns TRUE if some data can be read immediately}
1429    \textcolor{comment}{//without blocking}
1430    \textcolor{keywordflow}{return} available;
1431 \}
\end{DoxyCode}
\mbox{\Hypertarget{web__socket_8h_a6134901b088acbcb083e2326600bcd6d}\label{web__socket_8h_a6134901b088acbcb083e2326600bcd6d}} 
\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!web\+Socket\+Open@{web\+Socket\+Open}}
\index{web\+Socket\+Open@{web\+Socket\+Open}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{web\+Socket\+Open()}{webSocketOpen()}}
{\footnotesize\ttfamily \hyperlink{web__socket_8h_aad796fb4e3af91c4358c5b273d4a2028}{Web\+Socket}$\ast$ web\+Socket\+Open (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Create a Web\+Socket. 

\begin{DoxyReturn}{Returns}
Handle referencing the new Web\+Socket 
\end{DoxyReturn}


Definition at line 95 of file web\+\_\+socket.\+c.


\begin{DoxyCode}
96 \{
97    \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\_t} error;
98    \hyperlink{compiler__port_8h_a12a1e9b3ce141648783a82445d02b58d}{uint\_t} i;
99    \hyperlink{web__socket_8h_aad796fb4e3af91c4358c5b273d4a2028}{WebSocket} *webSocket;
100 
101    \textcolor{comment}{//Initialize WebSocket handle}
102    webSocket = \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
103 
104    \textcolor{comment}{//Get exclusive access}
105    \hyperlink{os__port__chibios_8c_a58485224df4bfa522246d55b35bbd83a}{osAcquireMutex}(&\hyperlink{net_8c_afe31551ad26115fae8e575654346d441}{netMutex});
106 
107    \textcolor{comment}{//Loop through WebSocket descriptors}
108    \textcolor{keywordflow}{for}(i = 0; i < \hyperlink{web__socket_8h_a4b8fc1e9a11a781a449a1293beb6bd70}{WEB\_SOCKET\_MAX\_COUNT}; i++)
109    \{
110       \textcolor{comment}{//Unused WebSocket found?}
111       \textcolor{keywordflow}{if}(\hyperlink{web__socket_8c_a965c9b0783f5634c1751de0dc914bf73}{webSocketTable}[i].state == \hyperlink{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0a68c9aa1cabee320355510e4d1deae9fa}{WS\_STATE\_UNUSED})
112       \{
113          \textcolor{comment}{//Save socket handle}
114          webSocket = &\hyperlink{web__socket_8c_a965c9b0783f5634c1751de0dc914bf73}{webSocketTable}[i];
115 
116          \textcolor{comment}{//Clear associated structure}
117          memset(webSocket, 0, \textcolor{keyword}{sizeof}(\hyperlink{web__socket_8h_aad796fb4e3af91c4358c5b273d4a2028}{WebSocket}));
118 
119 \textcolor{preprocessor}{#if (WEB\_SOCKET\_TLS\_SUPPORT == ENABLED)}
120          \textcolor{comment}{//Initialize TLS session state}
121          error = \hyperlink{tls_8c_aea7b98b4b876fe45322df04583f7c1b4}{tlsInitSessionState}(&webSocket->tlsSession);
122 \textcolor{preprocessor}{#else}
123          \textcolor{comment}{//TLS is not implemented}
124          error = \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94}{NO\_ERROR};
125 \textcolor{preprocessor}{#endif}
126 
127          \textcolor{comment}{//Check status code}
128          \textcolor{keywordflow}{if}(!error)
129          \{
130             \textcolor{comment}{//Set the default timeout to be used}
131             webSocket->timeout = \hyperlink{os__port_8h_ab893de6f8a0ec8b0e6dd8097ff398019}{INFINITE\_DELAY};
132             \textcolor{comment}{//Enter the CLOSED state}
133             webSocket->state = \hyperlink{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0a4356293e46722d1fa27ca8624f62b296}{WS\_STATE\_CLOSED};
134 
135             \textcolor{comment}{//We are done}
136             \textcolor{keywordflow}{break};
137          \}
138       \}
139    \}
140 
141    \textcolor{comment}{//Release exclusive access}
142    \hyperlink{os__port__chibios_8c_a8e10e5b2c6d3877b5ba60e375ac45d79}{osReleaseMutex}(&\hyperlink{net_8c_afe31551ad26115fae8e575654346d441}{netMutex});
143 
144    \textcolor{comment}{//Return a handle to the freshly created WebSocket}
145    \textcolor{keywordflow}{return} webSocket;
146 \}
\end{DoxyCode}
\mbox{\Hypertarget{web__socket_8h_a843776a39e40fbd3d10ee13ba00fb64b}\label{web__socket_8h_a843776a39e40fbd3d10ee13ba00fb64b}} 
\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!web\+Socket\+Parse\+Client\+Handshake@{web\+Socket\+Parse\+Client\+Handshake}}
\index{web\+Socket\+Parse\+Client\+Handshake@{web\+Socket\+Parse\+Client\+Handshake}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{web\+Socket\+Parse\+Client\+Handshake()}{webSocketParseClientHandshake()}}
{\footnotesize\ttfamily \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} web\+Socket\+Parse\+Client\+Handshake (\begin{DoxyParamCaption}\item[{\hyperlink{web__socket_8h_aad796fb4e3af91c4358c5b273d4a2028}{Web\+Socket} $\ast$}]{web\+Socket }\end{DoxyParamCaption})}



Parse client\textquotesingle{}s handshake. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em web\+Socket} & Handle that identifies a Web\+Socket \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Error code 
\end{DoxyReturn}


Definition at line 724 of file web\+\_\+socket.\+c.


\begin{DoxyCode}
725 \{
726    \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\_t} error;
727 
728    \textcolor{comment}{//Make sure the WebSocket handle is valid}
729    \textcolor{keywordflow}{if}(webSocket == \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
730       \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689caeae4b12e06d727d085f75f79a820f2e8}{ERROR\_INVALID\_PARAMETER};
731 
732    \textcolor{comment}{//a WebSocket server is a WebSocket endpoint that awaits}
733    \textcolor{comment}{//connections from peers}
734    webSocket->endpoint = \hyperlink{web__socket_8h_ae7d51561abe243c4f263d6c7d50699a9a52543e5816b31e31954fe11186a13d4d}{WS\_ENDPOINT\_SERVER};
735 
736    \textcolor{comment}{//Initialize status code}
737    error = \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94}{NO\_ERROR};
738 
739    \textcolor{comment}{//Establish connection}
740    \textcolor{keywordflow}{while}(webSocket->state != \hyperlink{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0af67b597c54a4b89fc2566c326231aa8b}{WS\_STATE\_SERVER\_HANDSHAKE})
741    \{
742       \textcolor{comment}{//Check current state}
743       \textcolor{keywordflow}{if}(webSocket->state == \hyperlink{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0a8be7fc475b5c6e5950f1d850b092d2d8}{WS\_STATE\_INIT})
744       \{
745          \textcolor{comment}{//Open network connection}
746          error = \hyperlink{web__socket__transport_8c_a5b9a0007642ec4f35d3817d9e7055644}{webSocketOpenConnection}(webSocket);
747 
748          \textcolor{comment}{//Check status code}
749          \textcolor{keywordflow}{if}(!error)
750          \{
751             \textcolor{comment}{//Establish connection}
752             \hyperlink{web__socket__misc_8c_a2950d387e998381f3aab0031a3e13004}{webSocketChangeState}(webSocket, 
      \hyperlink{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0a782bbde9b515882abdd6b712c127af31}{WS\_STATE\_CONNECTING});
753          \}
754       \}
755       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(webSocket->state == \hyperlink{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0a782bbde9b515882abdd6b712c127af31}{WS\_STATE\_CONNECTING})
756       \{
757 \textcolor{preprocessor}{#if (WEB\_SOCKET\_TLS\_SUPPORT == ENABLED)}
758          \textcolor{comment}{//TLS-secured connection?}
759          \textcolor{keywordflow}{if}(webSocket->tlsInitCallback != \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
760          \{
761             \textcolor{comment}{//Establish TLS connection}
762             error = \hyperlink{tls_8c_a09ea66af9332cc10296020164428224e}{tlsConnect}(webSocket->tlsContext);
763          \}
764 \textcolor{preprocessor}{#endif}
765          \textcolor{comment}{//Check status code}
766          \textcolor{keywordflow}{if}(!error)
767          \{
768             \textcolor{comment}{//Parse client handshake}
769             \hyperlink{web__socket__misc_8c_a2950d387e998381f3aab0031a3e13004}{webSocketChangeState}(webSocket, 
      \hyperlink{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0aa36e2729944c323df887386b2aa4bc0c}{WS\_STATE\_CLIENT\_HANDSHAKE});
770          \}
771       \}
772       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(webSocket->state == \hyperlink{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0aa36e2729944c323df887386b2aa4bc0c}{WS\_STATE\_CLIENT\_HANDSHAKE})
773       \{
774          \textcolor{comment}{//Parse the client handshake}
775          error = \hyperlink{web__socket__misc_8c_a58c11ba38cafb8acad6b67e587a15839}{webSocketParseHandshake}(webSocket);
776 
777          \textcolor{comment}{//Check status code}
778          \textcolor{keywordflow}{if}(!error)
779          \{
780             \textcolor{comment}{//Generate server's key}
781             error = \hyperlink{web__socket__misc_8c_ab04656395be442e453689fe5b009512f}{webSocketGenerateServerKey}(webSocket);
782          \}
783 
784          \textcolor{comment}{//Check status code}
785          \textcolor{keywordflow}{if}(!error)
786          \{
787             \textcolor{comment}{//Format server handshake}
788             error = \hyperlink{web__socket__misc_8c_a5514a69c87c82c3c6d3536998e052086}{webSocketFormatServerHandshake}(webSocket);
789          \}
790       \}
791       \textcolor{keywordflow}{else}
792       \{
793          \textcolor{comment}{//Invalid state}
794          error = \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689cac3190fa1f36c6acf147c7ce453a655e2}{ERROR\_WRONG\_STATE};
795       \}
796 
797       \textcolor{comment}{//Any error to report?}
798       \textcolor{keywordflow}{if}(error)
799          \textcolor{keywordflow}{break};
800    \}
801 
802    \textcolor{comment}{//Return status code}
803    \textcolor{keywordflow}{return} error;
804 \}
\end{DoxyCode}
\mbox{\Hypertarget{web__socket_8h_aad0e0be082563aff76a155bf4aae585f}\label{web__socket_8h_aad0e0be082563aff76a155bf4aae585f}} 
\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!web\+Socket\+Receive@{web\+Socket\+Receive}}
\index{web\+Socket\+Receive@{web\+Socket\+Receive}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{web\+Socket\+Receive()}{webSocketReceive()}}
{\footnotesize\ttfamily \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} web\+Socket\+Receive (\begin{DoxyParamCaption}\item[{\hyperlink{web__socket_8h_aad796fb4e3af91c4358c5b273d4a2028}{Web\+Socket} $\ast$}]{web\+Socket,  }\item[{void $\ast$}]{data,  }\item[{size\+\_\+t}]{size,  }\item[{\hyperlink{web__socket_8h_a5cb4405f3460a36460b6ba588b60ea28}{Web\+Socket\+Frame\+Type} $\ast$}]{type,  }\item[{size\+\_\+t $\ast$}]{received }\end{DoxyParamCaption})}



Receive data from a Web\+Socket connection. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em web\+Socket} & Handle that identifies a Web\+Socket \\
\hline
\mbox{\tt out}  & {\em data} & Buffer where to store the incoming data \\
\hline
\mbox{\tt in}  & {\em size} & Maximum number of bytes that can be received \\
\hline
\mbox{\tt out}  & {\em type} & Frame type \\
\hline
\mbox{\tt out}  & {\em received} & Number of bytes that have been received \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Error code 
\end{DoxyReturn}


Definition at line 1136 of file web\+\_\+socket.\+c.


\begin{DoxyCode}
1138 \{
1139    \hyperlink{compiler__port_8h_a812d16e5494522586b3784e55d479912}{bool\_t} firstFrag;
1140    \hyperlink{compiler__port_8h_a812d16e5494522586b3784e55d479912}{bool\_t} lastFrag;
1141 
1142    \textcolor{keywordflow}{return} \hyperlink{web__socket_8c_a8cf6901f5762988ba5cb818cb2782333}{webSocketReceiveEx}(webSocket, \hyperlink{dtls__misc_8h_a5c239a1bb87b52b0f1d6d68c4749cd2a}{data}, size,
1143       \hyperlink{resource__manager_8h_a12e46a33bfe90638e58ef067c6fd4a6e}{type}, received, &firstFrag, &lastFrag);
1144 \}
\end{DoxyCode}
\mbox{\Hypertarget{web__socket_8h_a8cf6901f5762988ba5cb818cb2782333}\label{web__socket_8h_a8cf6901f5762988ba5cb818cb2782333}} 
\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!web\+Socket\+Receive\+Ex@{web\+Socket\+Receive\+Ex}}
\index{web\+Socket\+Receive\+Ex@{web\+Socket\+Receive\+Ex}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{web\+Socket\+Receive\+Ex()}{webSocketReceiveEx()}}
{\footnotesize\ttfamily \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} web\+Socket\+Receive\+Ex (\begin{DoxyParamCaption}\item[{\hyperlink{web__socket_8h_aad796fb4e3af91c4358c5b273d4a2028}{Web\+Socket} $\ast$}]{web\+Socket,  }\item[{void $\ast$}]{data,  }\item[{size\+\_\+t}]{size,  }\item[{\hyperlink{web__socket_8h_a5cb4405f3460a36460b6ba588b60ea28}{Web\+Socket\+Frame\+Type} $\ast$}]{type,  }\item[{size\+\_\+t $\ast$}]{received,  }\item[{\hyperlink{compiler__port_8h_a812d16e5494522586b3784e55d479912}{bool\+\_\+t} $\ast$}]{first\+Frag,  }\item[{\hyperlink{compiler__port_8h_a812d16e5494522586b3784e55d479912}{bool\+\_\+t} $\ast$}]{last\+Frag }\end{DoxyParamCaption})}



Receive data from a Web\+Socket connection. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em web\+Socket} & Handle that identifies a Web\+Socket \\
\hline
\mbox{\tt out}  & {\em data} & Buffer where to store the incoming data \\
\hline
\mbox{\tt in}  & {\em size} & Maximum number of bytes that can be received \\
\hline
\mbox{\tt out}  & {\em type} & Frame type \\
\hline
\mbox{\tt out}  & {\em received} & Number of bytes that have been received \\
\hline
\mbox{\tt out}  & {\em first\+Frag} & First fragment of the message \\
\hline
\mbox{\tt out}  & {\em last\+Frag} & Last fragment of the message \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Error code 
\end{DoxyReturn}


Definition at line 1159 of file web\+\_\+socket.\+c.


\begin{DoxyCode}
1161 \{
1162    \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\_t} error;
1163    \textcolor{keywordtype}{size\_t} i;
1164    \textcolor{keywordtype}{size\_t} j;
1165    \textcolor{keywordtype}{size\_t} \hyperlink{md5_8c_af11ea3cdbca7345eb6a4a8ac5ce0434d}{k};
1166    \textcolor{keywordtype}{size\_t} \hyperlink{dhcpv6__common_8h_a5a648f5ec00c526b0dfa2df7a272c6c0}{n};
1167    \hyperlink{web__socket_8h_a949a0d07e7ae57a9e5762b54617f88d0}{WebSocketFrame} *frame;
1168    \hyperlink{structWebSocketFrameContext}{WebSocketFrameContext} *rxContext;
1169 
1170    \textcolor{comment}{//Make sure the WebSocket handle is valid}
1171    \textcolor{keywordflow}{if}(webSocket == \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
1172       \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689caeae4b12e06d727d085f75f79a820f2e8}{ERROR\_INVALID\_PARAMETER};
1173 
1174    \textcolor{comment}{//Check the state of the WebSocket connection}
1175    \textcolor{keywordflow}{if}(webSocket->state != \hyperlink{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0ab0325195f22aca5be7491a425f84808c}{WS\_STATE\_OPEN} &&
1176       webSocket->state != \hyperlink{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0a389d5ee1c20697d8c258fdf813d16fe5}{WS\_STATE\_CLOSING\_RX})
1177       \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689ca8cf62de6117b9a4c1537d1ce96c219a8}{ERROR\_NOT\_CONNECTED};
1178 
1179    \textcolor{comment}{//Point to the RX context}
1180    rxContext = &webSocket->rxContext;
1181    \textcolor{comment}{//Point to the WebSocket frame header}
1182    frame = (\hyperlink{web__socket_8h_a949a0d07e7ae57a9e5762b54617f88d0}{WebSocketFrame} *) rxContext->\hyperlink{structWebSocketFrameContext_a3cec5a6cbb2cf4c3d519ddecae1f4726}{buffer};
1183 
1184    \textcolor{comment}{//Initialize status code}
1185    error = \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94}{NO\_ERROR};
1186 
1187    \textcolor{comment}{//Initialize flags}
1188    \textcolor{keywordflow}{if}(\hyperlink{resource__manager_8h_a12e46a33bfe90638e58ef067c6fd4a6e}{type} != \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
1189       *\hyperlink{resource__manager_8h_a12e46a33bfe90638e58ef067c6fd4a6e}{type} = \hyperlink{web__socket_8h_a5cb4405f3460a36460b6ba588b60ea28a95a6c87691c4c8b1c52f17806dc612eb}{WS\_FRAME\_TYPE\_CONTINUATION};
1190    \textcolor{keywordflow}{if}(firstFrag != \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
1191       *firstFrag = \hyperlink{os__port_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
1192    \textcolor{keywordflow}{if}(lastFrag != \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
1193       *lastFrag = \hyperlink{os__port_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
1194 
1195    \textcolor{comment}{//No data has been read yet}
1196    i = 0;
1197 
1198    \textcolor{comment}{//Read as much data as possible}
1199    \textcolor{keywordflow}{while}(i < size)
1200    \{
1201       \textcolor{comment}{//Check current sub-state}
1202       \textcolor{keywordflow}{if}(rxContext->\hyperlink{structWebSocketFrameContext_ab89eea5d9b9f9a20fd7675db64016dc0}{state} == \hyperlink{web__socket_8h_add467139cdc2100a7640faa4fb6c36d7a94a204ec550f4e655177970aeaf89306}{WS\_SUB\_STATE\_INIT})
1203       \{
1204          \textcolor{comment}{//Flush the receive buffer}
1205          rxContext->\hyperlink{structWebSocketFrameContext_acad756853cbb653f12d4fd64bbf4cf0a}{bufferPos} = 0;
1206          rxContext->\hyperlink{structWebSocketFrameContext_ac89d1a88498690e3ae1f39c96182ea19}{bufferLen} = \textcolor{keyword}{sizeof}(\hyperlink{web__socket_8h_a949a0d07e7ae57a9e5762b54617f88d0}{WebSocketFrame});
1207 
1208          \textcolor{comment}{//Decode the frame header}
1209          rxContext->\hyperlink{structWebSocketFrameContext_ab89eea5d9b9f9a20fd7675db64016dc0}{state} = \hyperlink{web__socket_8h_add467139cdc2100a7640faa4fb6c36d7acdecdc58376a8e93ce232125d5f89ae9}{WS\_SUB\_STATE\_FRAME\_HEADER};
1210       \}
1211       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(rxContext->\hyperlink{structWebSocketFrameContext_ab89eea5d9b9f9a20fd7675db64016dc0}{state} == \hyperlink{web__socket_8h_add467139cdc2100a7640faa4fb6c36d7acdecdc58376a8e93ce232125d5f89ae9}{WS\_SUB\_STATE\_FRAME\_HEADER})
1212       \{
1213          \textcolor{comment}{//Incomplete frame header?}
1214          \textcolor{keywordflow}{if}(rxContext->\hyperlink{structWebSocketFrameContext_acad756853cbb653f12d4fd64bbf4cf0a}{bufferPos} < rxContext->\hyperlink{structWebSocketFrameContext_ac89d1a88498690e3ae1f39c96182ea19}{bufferLen})
1215          \{
1216             \textcolor{comment}{//Read more data}
1217             error = \hyperlink{web__socket__transport_8c_a18b5d001e9fd3caae71c20355695e2c4}{webSocketReceiveData}(webSocket,
1218                rxContext->\hyperlink{structWebSocketFrameContext_a3cec5a6cbb2cf4c3d519ddecae1f4726}{buffer} + rxContext->\hyperlink{structWebSocketFrameContext_acad756853cbb653f12d4fd64bbf4cf0a}{bufferPos},
1219                rxContext->\hyperlink{structWebSocketFrameContext_ac89d1a88498690e3ae1f39c96182ea19}{bufferLen} - rxContext->\hyperlink{structWebSocketFrameContext_acad756853cbb653f12d4fd64bbf4cf0a}{bufferPos}, &n, 0);
1220 
1221             \textcolor{comment}{//Advance data pointer}
1222             rxContext->\hyperlink{structWebSocketFrameContext_acad756853cbb653f12d4fd64bbf4cf0a}{bufferPos} += \hyperlink{dhcpv6__common_8h_a5a648f5ec00c526b0dfa2df7a272c6c0}{n};
1223          \}
1224          \textcolor{keywordflow}{else}
1225          \{
1226             \textcolor{comment}{//Check the Payload Length field}
1227             \textcolor{keywordflow}{if}(frame->payloadLen == 126)
1228                rxContext->\hyperlink{structWebSocketFrameContext_ac89d1a88498690e3ae1f39c96182ea19}{bufferLen} += \textcolor{keyword}{sizeof}(\hyperlink{stdint_8h_a273cf69d639a59973b6019625df33e30}{uint16\_t});
1229             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(frame->payloadLen == 127)
1230                rxContext->\hyperlink{structWebSocketFrameContext_ac89d1a88498690e3ae1f39c96182ea19}{bufferLen} += \textcolor{keyword}{sizeof}(\hyperlink{stdint_8h_aec6fcb673ff035718c238c8c9d544c47}{uint64\_t});
1231 
1232             \textcolor{comment}{//Check whether the masking key is present}
1233             \textcolor{keywordflow}{if}(frame->mask)
1234                rxContext->\hyperlink{structWebSocketFrameContext_ac89d1a88498690e3ae1f39c96182ea19}{bufferLen} += \textcolor{keyword}{sizeof}(\hyperlink{stdint_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t});
1235 
1236             \textcolor{comment}{//The Opcode field defines the interpretation of the payload data}
1237             \textcolor{keywordflow}{if}(frame->opcode == \hyperlink{web__socket_8h_a5cb4405f3460a36460b6ba588b60ea28afdcd6c0f02a3c4f929f25acf318ee31d}{WS\_FRAME\_TYPE\_CLOSE})
1238             \{
1239                \textcolor{comment}{//All control frames must have a payload length of 125 bytes or less}
1240                \textcolor{keywordflow}{if}(frame->payloadLen <= 125)
1241                \{
1242                   \textcolor{comment}{//Retrieve the length of the WebSocket frame}
1243                   rxContext->\hyperlink{structWebSocketFrameContext_ac89d1a88498690e3ae1f39c96182ea19}{bufferLen} += frame->payloadLen;
1244                \}
1245                \textcolor{keywordflow}{else}
1246                \{
1247                   \textcolor{comment}{//Report a protocol error}
1248                   webSocket->statusCode = \hyperlink{web__socket_8h_acd8f55557f218580a4048bba2d0c5192a43a574a1eab5c8d022034a5e356ad27c}{WS\_STATUS\_CODE\_PROTOCOL\_ERROR};
1249                   \textcolor{comment}{//Terminate the WebSocket connection}
1250                   error = \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689caa0a36625ee2bb3f8a1f6562033634139}{ERROR\_INVALID\_FRAME};
1251                \}
1252             \}
1253 
1254             \textcolor{comment}{//Decode the extended payload length and the masking key, if any}
1255             rxContext->\hyperlink{structWebSocketFrameContext_ab89eea5d9b9f9a20fd7675db64016dc0}{state} = \hyperlink{web__socket_8h_add467139cdc2100a7640faa4fb6c36d7a03dfb65ccfce2b3cdc96ce13c0671216}{WS\_SUB\_STATE\_FRAME\_EXT\_HEADER};
1256          \}
1257       \}
1258       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(rxContext->\hyperlink{structWebSocketFrameContext_ab89eea5d9b9f9a20fd7675db64016dc0}{state} == \hyperlink{web__socket_8h_add467139cdc2100a7640faa4fb6c36d7a03dfb65ccfce2b3cdc96ce13c0671216}{WS\_SUB\_STATE\_FRAME\_EXT\_HEADER})
1259       \{
1260          \textcolor{comment}{//Incomplete frame header?}
1261          \textcolor{keywordflow}{if}(rxContext->\hyperlink{structWebSocketFrameContext_acad756853cbb653f12d4fd64bbf4cf0a}{bufferPos} < rxContext->\hyperlink{structWebSocketFrameContext_ac89d1a88498690e3ae1f39c96182ea19}{bufferLen})
1262          \{
1263             \textcolor{comment}{//Read more data}
1264             error = \hyperlink{web__socket__transport_8c_a18b5d001e9fd3caae71c20355695e2c4}{webSocketReceiveData}(webSocket,
1265                rxContext->\hyperlink{structWebSocketFrameContext_a3cec5a6cbb2cf4c3d519ddecae1f4726}{buffer} + rxContext->\hyperlink{structWebSocketFrameContext_acad756853cbb653f12d4fd64bbf4cf0a}{bufferPos},
1266                rxContext->\hyperlink{structWebSocketFrameContext_ac89d1a88498690e3ae1f39c96182ea19}{bufferLen} - rxContext->\hyperlink{structWebSocketFrameContext_acad756853cbb653f12d4fd64bbf4cf0a}{bufferPos}, &n, 0);
1267 
1268             \textcolor{comment}{//Advance data pointer}
1269             rxContext->\hyperlink{structWebSocketFrameContext_acad756853cbb653f12d4fd64bbf4cf0a}{bufferPos} += \hyperlink{dhcpv6__common_8h_a5a648f5ec00c526b0dfa2df7a272c6c0}{n};
1270          \}
1271          \textcolor{keywordflow}{else}
1272          \{
1273             \textcolor{comment}{//Parse the header of the WebSocket frame}
1274             error = \hyperlink{web__socket__frame_8c_a85a0b487af35df826e4b7d963cbab4f8}{webSocketParseFrameHeader}(webSocket, frame, 
      \hyperlink{resource__manager_8h_a12e46a33bfe90638e58ef067c6fd4a6e}{type});
1275 
1276             \textcolor{comment}{//Check status code}
1277             \textcolor{keywordflow}{if}(error == \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689cafb4f7e4640c9d495bf35ee668d620b17}{ERROR\_UNEXPECTED\_MESSAGE})
1278             \{
1279                error = \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94}{NO\_ERROR};
1280                \textcolor{keywordflow}{break};
1281             \}
1282             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(error == \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94}{NO\_ERROR})
1283             \{
1284                \textcolor{keywordflow}{if}(firstFrag != \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
1285                   *firstFrag = \hyperlink{os__port_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
1286             \}
1287 
1288             \textcolor{comment}{//Flush the receive buffer}
1289             rxContext->\hyperlink{structWebSocketFrameContext_a41d8ddb620bef6087c9806318db79f3f}{payloadPos} = 0;
1290             rxContext->\hyperlink{structWebSocketFrameContext_acad756853cbb653f12d4fd64bbf4cf0a}{bufferPos} = 0;
1291             rxContext->\hyperlink{structWebSocketFrameContext_ac89d1a88498690e3ae1f39c96182ea19}{bufferLen} = 0;
1292 
1293             \textcolor{comment}{//Decode the payload of the WebSocket frame}
1294             rxContext->\hyperlink{structWebSocketFrameContext_ab89eea5d9b9f9a20fd7675db64016dc0}{state} = \hyperlink{web__socket_8h_add467139cdc2100a7640faa4fb6c36d7a121d5488238716351efb6fc0fd77e255}{WS\_SUB\_STATE\_FRAME\_PAYLOAD};
1295          \}
1296       \}
1297       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(rxContext->\hyperlink{structWebSocketFrameContext_ab89eea5d9b9f9a20fd7675db64016dc0}{state} == \hyperlink{web__socket_8h_add467139cdc2100a7640faa4fb6c36d7a121d5488238716351efb6fc0fd77e255}{WS\_SUB\_STATE\_FRAME\_PAYLOAD})
1298       \{
1299          \textcolor{keywordflow}{if}(rxContext->\hyperlink{structWebSocketFrameContext_a41d8ddb620bef6087c9806318db79f3f}{payloadPos} < rxContext->\hyperlink{structWebSocketFrameContext_a55076f17b7463a67c6e07cbd2de8d241}{payloadLen})
1300          \{
1301             \textcolor{comment}{//Limit the number of bytes to read at a time}
1302             n = \hyperlink{os__port_8h_a3acffbd305ee72dcd4593c0d8af64a4f}{MIN}(size - i, rxContext->\hyperlink{structWebSocketFrameContext_a55076f17b7463a67c6e07cbd2de8d241}{payloadLen} - rxContext->
      \hyperlink{structWebSocketFrameContext_a41d8ddb620bef6087c9806318db79f3f}{payloadPos});
1303             \textcolor{comment}{//Limit the number of bytes to be copied at a time}
1304             n = \hyperlink{os__port_8h_a3acffbd305ee72dcd4593c0d8af64a4f}{MIN}(n, \hyperlink{web__socket_8h_a4e6ed74586f83eedc4eae5a079f41050}{WEB\_SOCKET\_BUFFER\_SIZE});
1305 
1306             \textcolor{comment}{//Read more data}
1307             error = \hyperlink{web__socket__transport_8c_a18b5d001e9fd3caae71c20355695e2c4}{webSocketReceiveData}(webSocket, rxContext->
      \hyperlink{structWebSocketFrameContext_a3cec5a6cbb2cf4c3d519ddecae1f4726}{buffer}, n, &n, 0);
1308 
1309             \textcolor{comment}{//All frames sent from the client to the server are masked}
1310             \textcolor{keywordflow}{if}(rxContext->\hyperlink{structWebSocketFrameContext_a98aeed86b6916fbcf5aa32f7439066e0}{mask})
1311             \{
1312                \textcolor{comment}{//Unmask the data}
1313                \textcolor{keywordflow}{for}(j = 0; j < \hyperlink{dhcpv6__common_8h_a5a648f5ec00c526b0dfa2df7a272c6c0}{n}; j++)
1314                \{
1315                   \textcolor{comment}{//Index of the masking key to be applied}
1316                   k = (rxContext->\hyperlink{structWebSocketFrameContext_a41d8ddb620bef6087c9806318db79f3f}{payloadPos} + j) % 4;
1317                   \textcolor{comment}{//Convert masked data into unmasked data}
1318                   rxContext->\hyperlink{structWebSocketFrameContext_a3cec5a6cbb2cf4c3d519ddecae1f4726}{buffer}[j] ^= rxContext->\hyperlink{structWebSocketFrameContext_aed0e3efec712dcb1c747dad97187d0ad}{maskingKey}[
      \hyperlink{md5_8c_af11ea3cdbca7345eb6a4a8ac5ce0434d}{k}];
1319                \}
1320             \}
1321 
1322             \textcolor{comment}{//Text frame?}
1323             \textcolor{keywordflow}{if}(rxContext->\hyperlink{structWebSocketFrameContext_a036fe6609ab0425c8e56724c22e8760b}{dataFrameType} == \hyperlink{web__socket_8h_a5cb4405f3460a36460b6ba588b60ea28a7aa3f47f4e9de2389b7a7f0773ad3785}{WS\_FRAME\_TYPE\_TEXT} &&
1324                rxContext->\hyperlink{structWebSocketFrameContext_a7bb7a8727546244769ec56b41f991fee}{controlFrameType} == 
      \hyperlink{web__socket_8h_a5cb4405f3460a36460b6ba588b60ea28a95a6c87691c4c8b1c52f17806dc612eb}{WS\_FRAME\_TYPE\_CONTINUATION})
1325             \{
1326                \textcolor{comment}{//Compute the number of remaining data bytes in the UTF-8 stream}
1327                \textcolor{keywordflow}{if}(rxContext->\hyperlink{structWebSocketFrameContext_a0ac654d7668a4269ca136460a5361b50}{fin})
1328                   k = rxContext->\hyperlink{structWebSocketFrameContext_a55076f17b7463a67c6e07cbd2de8d241}{payloadLen} - rxContext->\hyperlink{structWebSocketFrameContext_a41d8ddb620bef6087c9806318db79f3f}{payloadPos};
1329                \textcolor{keywordflow}{else}
1330                   k = 0;
1331 
1332                \textcolor{comment}{//Invalid UTF-8 sequence?}
1333                \textcolor{keywordflow}{if}(!\hyperlink{web__socket__misc_8c_af1a30f65aca1d139d377ae373eead15c}{webSocketCheckUtf8Stream}(&webSocket->utf8Context,
1334                   rxContext->\hyperlink{structWebSocketFrameContext_a3cec5a6cbb2cf4c3d519ddecae1f4726}{buffer}, n, k))
1335                \{
1336                   \textcolor{comment}{//The received data is not consistent with the type of the message}
1337                   webSocket->statusCode = \hyperlink{web__socket_8h_acd8f55557f218580a4048bba2d0c5192abd132bf158d0fa6b7dbf2f06f4caa99d}{WS\_STATUS\_CODE\_INVALID\_PAYLOAD\_DATA}
      ;
1338                   \textcolor{comment}{//The endpoint must fail the WebSocket connection}
1339                   error = \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689caa0a36625ee2bb3f8a1f6562033634139}{ERROR\_INVALID\_FRAME};
1340                \}
1341             \}
1342 
1343             \textcolor{comment}{//Sanity check}
1344             \textcolor{keywordflow}{if}(\hyperlink{dtls__misc_8h_a5c239a1bb87b52b0f1d6d68c4749cd2a}{data} != \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
1345             \{
1346                \textcolor{comment}{//Copy application data}
1347                memcpy((\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t} *) \hyperlink{dtls__misc_8h_a5c239a1bb87b52b0f1d6d68c4749cd2a}{data} + i, rxContext->\hyperlink{structWebSocketFrameContext_a3cec5a6cbb2cf4c3d519ddecae1f4726}{buffer}, n);
1348             \}
1349 
1350             \textcolor{comment}{//Advance data pointer}
1351             rxContext->\hyperlink{structWebSocketFrameContext_a41d8ddb620bef6087c9806318db79f3f}{payloadPos} += \hyperlink{dhcpv6__common_8h_a5a648f5ec00c526b0dfa2df7a272c6c0}{n};
1352 
1353             \textcolor{comment}{//Total number of data that have been read}
1354             i += \hyperlink{dhcpv6__common_8h_a5a648f5ec00c526b0dfa2df7a272c6c0}{n};
1355          \}
1356 
1357          \textcolor{keywordflow}{if}(rxContext->\hyperlink{structWebSocketFrameContext_a41d8ddb620bef6087c9806318db79f3f}{payloadPos} == rxContext->\hyperlink{structWebSocketFrameContext_a55076f17b7463a67c6e07cbd2de8d241}{payloadLen})
1358          \{
1359             \textcolor{comment}{//Decode the next WebSocket frame}
1360             rxContext->\hyperlink{structWebSocketFrameContext_ab89eea5d9b9f9a20fd7675db64016dc0}{state} = \hyperlink{web__socket_8h_add467139cdc2100a7640faa4fb6c36d7a94a204ec550f4e655177970aeaf89306}{WS\_SUB\_STATE\_INIT};
1361 
1362             \textcolor{comment}{//Last fragment of the message?}
1363             \textcolor{keywordflow}{if}(rxContext->\hyperlink{structWebSocketFrameContext_a0ac654d7668a4269ca136460a5361b50}{fin} || rxContext->\hyperlink{structWebSocketFrameContext_a7bb7a8727546244769ec56b41f991fee}{controlFrameType} != 
      \hyperlink{web__socket_8h_a5cb4405f3460a36460b6ba588b60ea28a95a6c87691c4c8b1c52f17806dc612eb}{WS\_FRAME\_TYPE\_CONTINUATION})
1364             \{
1365                \textcolor{keywordflow}{if}(lastFrag != \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
1366                   *lastFrag = \hyperlink{os__port_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
1367 
1368                \textcolor{comment}{//Exit immediately}
1369                \textcolor{keywordflow}{break};
1370             \}
1371          \}
1372       \}
1373       \textcolor{keywordflow}{else}
1374       \{
1375          \textcolor{comment}{//Invalid state}
1376          error = \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689cac3190fa1f36c6acf147c7ce453a655e2}{ERROR\_WRONG\_STATE};
1377       \}
1378 
1379       \textcolor{comment}{//Any error to report?}
1380       \textcolor{keywordflow}{if}(error)
1381          \textcolor{keywordflow}{break};
1382    \}
1383 
1384    \textcolor{comment}{//Check status code}
1385    \textcolor{keywordflow}{if}(!error)
1386    \{
1387       \textcolor{comment}{//Return the frame type}
1388       \textcolor{keywordflow}{if}(\hyperlink{resource__manager_8h_a12e46a33bfe90638e58ef067c6fd4a6e}{type} != \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
1389       \{
1390          \textcolor{comment}{//Control or data frame?}
1391          \textcolor{keywordflow}{if}(rxContext->\hyperlink{structWebSocketFrameContext_a7bb7a8727546244769ec56b41f991fee}{controlFrameType} != 
      \hyperlink{web__socket_8h_a5cb4405f3460a36460b6ba588b60ea28a95a6c87691c4c8b1c52f17806dc612eb}{WS\_FRAME\_TYPE\_CONTINUATION})
1392             *\hyperlink{resource__manager_8h_a12e46a33bfe90638e58ef067c6fd4a6e}{type} = rxContext->\hyperlink{structWebSocketFrameContext_a7bb7a8727546244769ec56b41f991fee}{controlFrameType};
1393          \textcolor{keywordflow}{else}
1394             *\hyperlink{resource__manager_8h_a12e46a33bfe90638e58ef067c6fd4a6e}{type} = rxContext->\hyperlink{structWebSocketFrameContext_a036fe6609ab0425c8e56724c22e8760b}{dataFrameType};
1395       \}
1396    \}
1397 
1398    \textcolor{comment}{//Return the total number of data that have been read}
1399    \textcolor{keywordflow}{if}(received != \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
1400       *received = i;
1401 
1402    \textcolor{comment}{//Return status code}
1403    \textcolor{keywordflow}{return} error;
1404 \}
\end{DoxyCode}
\mbox{\Hypertarget{web__socket_8h_ac076e9004ba8d8617d2dbb49e760057e}\label{web__socket_8h_ac076e9004ba8d8617d2dbb49e760057e}} 
\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!web\+Socket\+Register\+Rand\+Callback@{web\+Socket\+Register\+Rand\+Callback}}
\index{web\+Socket\+Register\+Rand\+Callback@{web\+Socket\+Register\+Rand\+Callback}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{web\+Socket\+Register\+Rand\+Callback()}{webSocketRegisterRandCallback()}}
{\footnotesize\ttfamily \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} web\+Socket\+Register\+Rand\+Callback (\begin{DoxyParamCaption}\item[{\hyperlink{web__socket_8h_adeedf6ec968cf6f6df535f9616762b2b}{Web\+Socket\+Rand\+Callback}}]{callback }\end{DoxyParamCaption})}



Register R\+NG callback function. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em callback} & R\+NG callback function \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Error code 
\end{DoxyReturn}


Definition at line 76 of file web\+\_\+socket.\+c.


\begin{DoxyCode}
77 \{
78    \textcolor{comment}{//Check parameter}
79    \textcolor{keywordflow}{if}(callback == \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
80       \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689caeae4b12e06d727d085f75f79a820f2e8}{ERROR\_INVALID\_PARAMETER};
81 
82    \textcolor{comment}{//Save callback function}
83    \hyperlink{web__socket_8c_a40c7da11532d9e76959cdfc8ed692b3c}{webSockRandCallback} = callback;
84 
85    \textcolor{comment}{//Successful processing}
86    \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94}{NO\_ERROR};
87 \}
\end{DoxyCode}
\mbox{\Hypertarget{web__socket_8h_a1ba9c852f06d5d531676afbacc32ca0f}\label{web__socket_8h_a1ba9c852f06d5d531676afbacc32ca0f}} 
\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!web\+Socket\+Register\+Tls\+Init\+Callback@{web\+Socket\+Register\+Tls\+Init\+Callback}}
\index{web\+Socket\+Register\+Tls\+Init\+Callback@{web\+Socket\+Register\+Tls\+Init\+Callback}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{web\+Socket\+Register\+Tls\+Init\+Callback()}{webSocketRegisterTlsInitCallback()}}
{\footnotesize\ttfamily \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} web\+Socket\+Register\+Tls\+Init\+Callback (\begin{DoxyParamCaption}\item[{\hyperlink{web__socket_8h_aad796fb4e3af91c4358c5b273d4a2028}{Web\+Socket} $\ast$}]{web\+Socket,  }\item[{\hyperlink{web__socket_8h_ac1d28db340b5ef55a4a7e5e276018cf4}{Web\+Socket\+Tls\+Init\+Callback}}]{callback }\end{DoxyParamCaption})}



Register T\+LS initialization callback function. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em web\+Socket} & Handle that identifies a Web\+Socket \\
\hline
\mbox{\tt in}  & {\em callback} & T\+LS initialization callback function \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Error code 
\end{DoxyReturn}


Definition at line 233 of file web\+\_\+socket.\+c.


\begin{DoxyCode}
235 \{
236    \textcolor{comment}{//Check parameters}
237    \textcolor{keywordflow}{if}(webSocket == \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} || callback == \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
238       \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689caeae4b12e06d727d085f75f79a820f2e8}{ERROR\_INVALID\_PARAMETER};
239 
240    \textcolor{comment}{//Save callback function}
241    webSocket->tlsInitCallback = callback;
242 
243    \textcolor{comment}{//Successful processing}
244    \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94}{NO\_ERROR};
245 \}
\end{DoxyCode}
\mbox{\Hypertarget{web__socket_8h_a3a04f02a4825742e1ace559e4c1a1e22}\label{web__socket_8h_a3a04f02a4825742e1ace559e4c1a1e22}} 
\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!web\+Socket\+Send@{web\+Socket\+Send}}
\index{web\+Socket\+Send@{web\+Socket\+Send}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{web\+Socket\+Send()}{webSocketSend()}}
{\footnotesize\ttfamily \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} web\+Socket\+Send (\begin{DoxyParamCaption}\item[{\hyperlink{web__socket_8h_aad796fb4e3af91c4358c5b273d4a2028}{Web\+Socket} $\ast$}]{web\+Socket,  }\item[{const void $\ast$}]{data,  }\item[{size\+\_\+t}]{length,  }\item[{\hyperlink{web__socket_8h_a5cb4405f3460a36460b6ba588b60ea28}{Web\+Socket\+Frame\+Type}}]{type,  }\item[{size\+\_\+t $\ast$}]{written }\end{DoxyParamCaption})}



Transmit data over the Web\+Socket connection. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em web\+Socket} & Handle that identifies a Web\+Socket \\
\hline
\mbox{\tt in}  & {\em data} & Pointer to a buffer containing the data to be transmitted \\
\hline
\mbox{\tt in}  & {\em length} & Number of data bytes to send \\
\hline
\mbox{\tt in}  & {\em type} & Frame type \\
\hline
\mbox{\tt out}  & {\em written} & Actual number of bytes written (optional parameter) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Error code 
\end{DoxyReturn}


Definition at line 951 of file web\+\_\+socket.\+c.


\begin{DoxyCode}
953 \{
954    \textcolor{comment}{//An unfragmented message consists of a single frame with the FIN bit}
955    \textcolor{comment}{//set and an opcode other than 0}
956    \textcolor{keywordflow}{return} \hyperlink{web__socket_8c_a0c4440abc6fbe45c6fe79ef4efba2a67}{webSocketSendEx}(webSocket, \hyperlink{dtls__misc_8h_a5c239a1bb87b52b0f1d6d68c4749cd2a}{data}, \hyperlink{dtls__misc_8h_ab43ca82dd7fa2a0e56f941032ef324c4}{length},
957       \hyperlink{resource__manager_8h_a12e46a33bfe90638e58ef067c6fd4a6e}{type}, written, \hyperlink{os__port_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE}, \hyperlink{os__port_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});
958 \}
\end{DoxyCode}
\mbox{\Hypertarget{web__socket_8h_a1ff442b8b0a757dcf52946264f14442a}\label{web__socket_8h_a1ff442b8b0a757dcf52946264f14442a}} 
\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!web\+Socket\+Send\+Error\+Response@{web\+Socket\+Send\+Error\+Response}}
\index{web\+Socket\+Send\+Error\+Response@{web\+Socket\+Send\+Error\+Response}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{web\+Socket\+Send\+Error\+Response()}{webSocketSendErrorResponse()}}
{\footnotesize\ttfamily \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} web\+Socket\+Send\+Error\+Response (\begin{DoxyParamCaption}\item[{\hyperlink{web__socket_8h_aad796fb4e3af91c4358c5b273d4a2028}{Web\+Socket} $\ast$}]{web\+Socket,  }\item[{\hyperlink{compiler__port_8h_a12a1e9b3ce141648783a82445d02b58d}{uint\+\_\+t}}]{status\+Code,  }\item[{const \hyperlink{compiler__port_8h_a40bb5262bf908c328fbcfbe5d29d0201}{char\+\_\+t} $\ast$}]{message }\end{DoxyParamCaption})}



Send H\+T\+TP error response to the client. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em web\+Socket} & Handle that identifies a Web\+Socket \\
\hline
\mbox{\tt in}  & {\em status\+Code} & H\+T\+TP status code \\
\hline
\mbox{\tt in}  & {\em message} & Text message \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Error code 
\end{DoxyReturn}


Definition at line 876 of file web\+\_\+socket.\+c.


\begin{DoxyCode}
878 \{
879    \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\_t} error;
880    \textcolor{keywordtype}{size\_t} \hyperlink{dhcpv6__common_8h_a5a648f5ec00c526b0dfa2df7a272c6c0}{n};
881    \hyperlink{structWebSocketFrameContext}{WebSocketFrameContext} *txContext;
882 
883    \textcolor{comment}{//Make sure the WebSocket handle is valid}
884    \textcolor{keywordflow}{if}(webSocket == \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
885       \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689caeae4b12e06d727d085f75f79a820f2e8}{ERROR\_INVALID\_PARAMETER};
886 
887    \textcolor{comment}{//Point to the TX context}
888    txContext = &webSocket->txContext;
889 
890    \textcolor{comment}{//Initialize status code}
891    error = \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94}{NO\_ERROR};
892 
893    \textcolor{comment}{//Send HTTP error message}
894    \textcolor{keywordflow}{while}(1)
895    \{
896       \textcolor{comment}{//Check current state}
897       \textcolor{keywordflow}{if}(txContext->\hyperlink{structWebSocketFrameContext_ab89eea5d9b9f9a20fd7675db64016dc0}{state} == \hyperlink{web__socket_8h_add467139cdc2100a7640faa4fb6c36d7a94a204ec550f4e655177970aeaf89306}{WS\_SUB\_STATE\_INIT})
898       \{
899          \textcolor{comment}{//Format HTTP error response}
900          error = \hyperlink{web__socket__misc_8c_a6bf091f9d776b556c82d3a5e1cfc8a83}{webSocketFormatErrorResponse}(webSocket, 
      \hyperlink{dhcpv6__common_8h_ade31e7fd99344e8c35f2c373af659551}{statusCode}, \hyperlink{chap_8h_a52f19d36a71e9b8ddea38fe00c291181}{message});
901 
902          \textcolor{comment}{//Send the response}
903          txContext->\hyperlink{structWebSocketFrameContext_ab89eea5d9b9f9a20fd7675db64016dc0}{state} = \hyperlink{web__socket_8h_add467139cdc2100a7640faa4fb6c36d7a121d5488238716351efb6fc0fd77e255}{WS\_SUB\_STATE\_FRAME\_PAYLOAD};
904       \}
905       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(txContext->\hyperlink{structWebSocketFrameContext_ab89eea5d9b9f9a20fd7675db64016dc0}{state} == \hyperlink{web__socket_8h_add467139cdc2100a7640faa4fb6c36d7a121d5488238716351efb6fc0fd77e255}{WS\_SUB\_STATE\_FRAME\_PAYLOAD})
906       \{
907          \textcolor{comment}{//Any remaining data to be sent?}
908          \textcolor{keywordflow}{if}(txContext->\hyperlink{structWebSocketFrameContext_acad756853cbb653f12d4fd64bbf4cf0a}{bufferPos} < txContext->\hyperlink{structWebSocketFrameContext_ac89d1a88498690e3ae1f39c96182ea19}{bufferLen})
909          \{
910             \textcolor{comment}{//Send more data}
911             error = \hyperlink{web__socket__transport_8c_a8569db2a11a8adecaa48dd7ffa12b2fe}{webSocketSendData}(webSocket,
912                txContext->\hyperlink{structWebSocketFrameContext_a3cec5a6cbb2cf4c3d519ddecae1f4726}{buffer} + txContext->\hyperlink{structWebSocketFrameContext_acad756853cbb653f12d4fd64bbf4cf0a}{bufferPos},
913                txContext->\hyperlink{structWebSocketFrameContext_ac89d1a88498690e3ae1f39c96182ea19}{bufferLen} - txContext->\hyperlink{structWebSocketFrameContext_acad756853cbb653f12d4fd64bbf4cf0a}{bufferPos}, &n, 0);
914 
915             \textcolor{comment}{//Advance data pointer}
916             txContext->\hyperlink{structWebSocketFrameContext_acad756853cbb653f12d4fd64bbf4cf0a}{bufferPos} += \hyperlink{dhcpv6__common_8h_a5a648f5ec00c526b0dfa2df7a272c6c0}{n};
917          \}
918          \textcolor{keywordflow}{else}
919          \{
920             \textcolor{comment}{//We are done}
921             \hyperlink{web__socket__misc_8c_a2950d387e998381f3aab0031a3e13004}{webSocketChangeState}(webSocket, 
      \hyperlink{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0ab9ab3613e9b03816f43e9711716c9707}{WS\_STATE\_SHUTDOWN});
922             \textcolor{keywordflow}{break};
923          \}
924       \}
925       \textcolor{keywordflow}{else}
926       \{
927          \textcolor{comment}{//Invalid state}
928          error = \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689cac3190fa1f36c6acf147c7ce453a655e2}{ERROR\_WRONG\_STATE};
929       \}
930 
931       \textcolor{comment}{//Any error to report?}
932       \textcolor{keywordflow}{if}(error)
933          \textcolor{keywordflow}{break};
934    \}
935 
936    \textcolor{comment}{//Return status code}
937    \textcolor{keywordflow}{return} error;
938 \}
\end{DoxyCode}
\mbox{\Hypertarget{web__socket_8h_a0c4440abc6fbe45c6fe79ef4efba2a67}\label{web__socket_8h_a0c4440abc6fbe45c6fe79ef4efba2a67}} 
\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!web\+Socket\+Send\+Ex@{web\+Socket\+Send\+Ex}}
\index{web\+Socket\+Send\+Ex@{web\+Socket\+Send\+Ex}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{web\+Socket\+Send\+Ex()}{webSocketSendEx()}}
{\footnotesize\ttfamily \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} web\+Socket\+Send\+Ex (\begin{DoxyParamCaption}\item[{\hyperlink{web__socket_8h_aad796fb4e3af91c4358c5b273d4a2028}{Web\+Socket} $\ast$}]{web\+Socket,  }\item[{const void $\ast$}]{data,  }\item[{size\+\_\+t}]{length,  }\item[{\hyperlink{web__socket_8h_a5cb4405f3460a36460b6ba588b60ea28}{Web\+Socket\+Frame\+Type}}]{type,  }\item[{size\+\_\+t $\ast$}]{written,  }\item[{\hyperlink{compiler__port_8h_a812d16e5494522586b3784e55d479912}{bool\+\_\+t}}]{first\+Frag,  }\item[{\hyperlink{compiler__port_8h_a812d16e5494522586b3784e55d479912}{bool\+\_\+t}}]{last\+Frag }\end{DoxyParamCaption})}



Transmit data over the Web\+Socket connection. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em web\+Socket} & Handle that identifies a Web\+Socket \\
\hline
\mbox{\tt in}  & {\em data} & Pointer to a buffer containing the data to be transmitted \\
\hline
\mbox{\tt in}  & {\em length} & Number of data bytes to send \\
\hline
\mbox{\tt in}  & {\em type} & Frame type \\
\hline
\mbox{\tt out}  & {\em written} & Actual number of bytes written (optional parameter) \\
\hline
\mbox{\tt in}  & {\em first\+Frag} & First fragment of the message \\
\hline
\mbox{\tt in}  & {\em last\+Frag} & Last fragment of the message \\
\hline
\end{DoxyParams}


Definition at line 972 of file web\+\_\+socket.\+c.


\begin{DoxyCode}
974 \{
975    \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\_t} error;
976    \textcolor{keywordtype}{size\_t} i;
977    \textcolor{keywordtype}{size\_t} j;
978    \textcolor{keywordtype}{size\_t} \hyperlink{md5_8c_af11ea3cdbca7345eb6a4a8ac5ce0434d}{k};
979    \textcolor{keywordtype}{size\_t} \hyperlink{dhcpv6__common_8h_a5a648f5ec00c526b0dfa2df7a272c6c0}{n};
980    \textcolor{keyword}{const} \hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t} *\hyperlink{ndp_8h_a6519522ad9a6f45e7a8d25d31392a977}{p};
981    \hyperlink{structWebSocketFrameContext}{WebSocketFrameContext} *txContext;
982 
983    \textcolor{comment}{//Check parameters}
984    \textcolor{keywordflow}{if}(webSocket == \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} || \hyperlink{dtls__misc_8h_a5c239a1bb87b52b0f1d6d68c4749cd2a}{data} == \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
985       \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689caeae4b12e06d727d085f75f79a820f2e8}{ERROR\_INVALID\_PARAMETER};
986 
987    \textcolor{comment}{//A data frame may be transmitted by either the client or the server at}
988    \textcolor{comment}{//any time after opening handshake completion and before that endpoint}
989    \textcolor{comment}{//has sent a Close frame}
990    \textcolor{keywordflow}{if}(webSocket->state != \hyperlink{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0ab0325195f22aca5be7491a425f84808c}{WS\_STATE\_OPEN})
991       \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689ca8cf62de6117b9a4c1537d1ce96c219a8}{ERROR\_NOT\_CONNECTED};
992 
993    \textcolor{comment}{//Point to the TX context}
994    txContext = &webSocket->txContext;
995 
996    \textcolor{comment}{//Initialize status code}
997    error = \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94}{NO\_ERROR};
998 
999    \textcolor{comment}{//Point to the application data to be written}
1000    p = (\textcolor{keyword}{const} \hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t} *) \hyperlink{dtls__misc_8h_a5c239a1bb87b52b0f1d6d68c4749cd2a}{data};
1001    \textcolor{comment}{//No data has been transmitted yet}
1002    i = 0;
1003 
1004    \textcolor{comment}{//Send as much data as possible}
1005    \textcolor{keywordflow}{while}(1)
1006    \{
1007       \textcolor{comment}{//Check current sub-state}
1008       \textcolor{keywordflow}{if}(txContext->\hyperlink{structWebSocketFrameContext_ab89eea5d9b9f9a20fd7675db64016dc0}{state} == \hyperlink{web__socket_8h_add467139cdc2100a7640faa4fb6c36d7a94a204ec550f4e655177970aeaf89306}{WS\_SUB\_STATE\_INIT})
1009       \{
1010          \textcolor{comment}{//A fragmented message consists of a single frame with the FIN bit}
1011          \textcolor{comment}{//clear and an opcode other than 0, followed by zero or more frames}
1012          \textcolor{comment}{//with the FIN bit clear and the opcode set to 0, and terminated by}
1013          \textcolor{comment}{//a single frame with the FIN bit set and an opcode of 0}
1014          \textcolor{keywordflow}{if}(!firstFrag)
1015             \hyperlink{resource__manager_8h_a12e46a33bfe90638e58ef067c6fd4a6e}{type} = \hyperlink{web__socket_8h_a5cb4405f3460a36460b6ba588b60ea28a95a6c87691c4c8b1c52f17806dc612eb}{WS\_FRAME\_TYPE\_CONTINUATION};
1016 
1017          \textcolor{comment}{//Format WebSocket frame header}
1018          error = \hyperlink{web__socket__frame_8c_a8ca0a7202ffdd839b35230742c85e902}{webSocketFormatFrameHeader}(webSocket, lastFrag, 
      \hyperlink{resource__manager_8h_a12e46a33bfe90638e58ef067c6fd4a6e}{type}, \hyperlink{dtls__misc_8h_ab43ca82dd7fa2a0e56f941032ef324c4}{length} - i);
1019 
1020          \textcolor{comment}{//Send the frame header}
1021          txContext->\hyperlink{structWebSocketFrameContext_ab89eea5d9b9f9a20fd7675db64016dc0}{state} = \hyperlink{web__socket_8h_add467139cdc2100a7640faa4fb6c36d7acdecdc58376a8e93ce232125d5f89ae9}{WS\_SUB\_STATE\_FRAME\_HEADER};
1022       \}
1023       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(txContext->\hyperlink{structWebSocketFrameContext_ab89eea5d9b9f9a20fd7675db64016dc0}{state} == \hyperlink{web__socket_8h_add467139cdc2100a7640faa4fb6c36d7acdecdc58376a8e93ce232125d5f89ae9}{WS\_SUB\_STATE\_FRAME\_HEADER})
1024       \{
1025          \textcolor{comment}{//Any remaining data to be sent?}
1026          \textcolor{keywordflow}{if}(txContext->\hyperlink{structWebSocketFrameContext_acad756853cbb653f12d4fd64bbf4cf0a}{bufferPos} < txContext->\hyperlink{structWebSocketFrameContext_ac89d1a88498690e3ae1f39c96182ea19}{bufferLen})
1027          \{
1028             \textcolor{comment}{//Send more data}
1029             error = \hyperlink{web__socket__transport_8c_a8569db2a11a8adecaa48dd7ffa12b2fe}{webSocketSendData}(webSocket,
1030                txContext->\hyperlink{structWebSocketFrameContext_a3cec5a6cbb2cf4c3d519ddecae1f4726}{buffer} + txContext->\hyperlink{structWebSocketFrameContext_acad756853cbb653f12d4fd64bbf4cf0a}{bufferPos},
1031                txContext->\hyperlink{structWebSocketFrameContext_ac89d1a88498690e3ae1f39c96182ea19}{bufferLen} - txContext->\hyperlink{structWebSocketFrameContext_acad756853cbb653f12d4fd64bbf4cf0a}{bufferPos}, &n, 0);
1032 
1033             \textcolor{comment}{//Advance data pointer}
1034             txContext->\hyperlink{structWebSocketFrameContext_acad756853cbb653f12d4fd64bbf4cf0a}{bufferPos} += \hyperlink{dhcpv6__common_8h_a5a648f5ec00c526b0dfa2df7a272c6c0}{n};
1035          \}
1036          \textcolor{keywordflow}{else}
1037          \{
1038             \textcolor{comment}{//Flush the transmit buffer}
1039             txContext->\hyperlink{structWebSocketFrameContext_a41d8ddb620bef6087c9806318db79f3f}{payloadPos} = 0;
1040             txContext->\hyperlink{structWebSocketFrameContext_acad756853cbb653f12d4fd64bbf4cf0a}{bufferPos} = 0;
1041             txContext->\hyperlink{structWebSocketFrameContext_ac89d1a88498690e3ae1f39c96182ea19}{bufferLen} = 0;
1042 
1043             \textcolor{comment}{//Send the payload of the WebSocket frame}
1044             txContext->\hyperlink{structWebSocketFrameContext_ab89eea5d9b9f9a20fd7675db64016dc0}{state} = \hyperlink{web__socket_8h_add467139cdc2100a7640faa4fb6c36d7a121d5488238716351efb6fc0fd77e255}{WS\_SUB\_STATE\_FRAME\_PAYLOAD};
1045          \}
1046       \}
1047       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(txContext->\hyperlink{structWebSocketFrameContext_ab89eea5d9b9f9a20fd7675db64016dc0}{state} == \hyperlink{web__socket_8h_add467139cdc2100a7640faa4fb6c36d7a121d5488238716351efb6fc0fd77e255}{WS\_SUB\_STATE\_FRAME\_PAYLOAD})
1048       \{
1049          \textcolor{comment}{//Any remaining data to be sent?}
1050          \textcolor{keywordflow}{if}(txContext->\hyperlink{structWebSocketFrameContext_acad756853cbb653f12d4fd64bbf4cf0a}{bufferPos} < txContext->\hyperlink{structWebSocketFrameContext_ac89d1a88498690e3ae1f39c96182ea19}{bufferLen})
1051          \{
1052             \textcolor{comment}{//Send more data}
1053             error = \hyperlink{web__socket__transport_8c_a8569db2a11a8adecaa48dd7ffa12b2fe}{webSocketSendData}(webSocket,
1054                txContext->\hyperlink{structWebSocketFrameContext_a3cec5a6cbb2cf4c3d519ddecae1f4726}{buffer} + txContext->\hyperlink{structWebSocketFrameContext_acad756853cbb653f12d4fd64bbf4cf0a}{bufferPos},
1055                txContext->\hyperlink{structWebSocketFrameContext_ac89d1a88498690e3ae1f39c96182ea19}{bufferLen} - txContext->\hyperlink{structWebSocketFrameContext_acad756853cbb653f12d4fd64bbf4cf0a}{bufferPos}, &n, 0);
1056 
1057             \textcolor{comment}{//Advance data pointer}
1058             txContext->\hyperlink{structWebSocketFrameContext_a41d8ddb620bef6087c9806318db79f3f}{payloadPos} += \hyperlink{dhcpv6__common_8h_a5a648f5ec00c526b0dfa2df7a272c6c0}{n};
1059             txContext->\hyperlink{structWebSocketFrameContext_acad756853cbb653f12d4fd64bbf4cf0a}{bufferPos} += \hyperlink{dhcpv6__common_8h_a5a648f5ec00c526b0dfa2df7a272c6c0}{n};
1060 
1061             \textcolor{comment}{//Total number of data that have been written}
1062             i += \hyperlink{dhcpv6__common_8h_a5a648f5ec00c526b0dfa2df7a272c6c0}{n};
1063          \}
1064          \textcolor{keywordflow}{else}
1065          \{
1066             \textcolor{comment}{//Send as much data as possible}
1067             \textcolor{keywordflow}{if}(txContext->\hyperlink{structWebSocketFrameContext_a41d8ddb620bef6087c9806318db79f3f}{payloadPos} < txContext->\hyperlink{structWebSocketFrameContext_a55076f17b7463a67c6e07cbd2de8d241}{payloadLen})
1068             \{
1069                \textcolor{comment}{//Calculate the number of bytes that are pending}
1070                n = \hyperlink{os__port_8h_a3acffbd305ee72dcd4593c0d8af64a4f}{MIN}(\hyperlink{dtls__misc_8h_ab43ca82dd7fa2a0e56f941032ef324c4}{length} - i, txContext->\hyperlink{structWebSocketFrameContext_a55076f17b7463a67c6e07cbd2de8d241}{payloadLen} - txContext->
      \hyperlink{structWebSocketFrameContext_a41d8ddb620bef6087c9806318db79f3f}{payloadPos});
1071                \textcolor{comment}{//Limit the number of bytes to be copied at a time}
1072                n = \hyperlink{os__port_8h_a3acffbd305ee72dcd4593c0d8af64a4f}{MIN}(n, \hyperlink{web__socket_8h_a4e6ed74586f83eedc4eae5a079f41050}{WEB\_SOCKET\_BUFFER\_SIZE});
1073 
1074                \textcolor{comment}{//Copy application data to the transmit buffer}
1075                memcpy(txContext->\hyperlink{structWebSocketFrameContext_a3cec5a6cbb2cf4c3d519ddecae1f4726}{buffer}, p, n);
1076 
1077                \textcolor{comment}{//All frames sent from the client to the server are masked}
1078                \textcolor{keywordflow}{if}(webSocket->endpoint == \hyperlink{web__socket_8h_ae7d51561abe243c4f263d6c7d50699a9aa78fcf3108fe2e0b57f32684e9c76076}{WS\_ENDPOINT\_CLIENT})
1079                \{
1080                   \textcolor{comment}{//Apply masking}
1081                   \textcolor{keywordflow}{for}(j = 0; j < \hyperlink{dhcpv6__common_8h_a5a648f5ec00c526b0dfa2df7a272c6c0}{n}; j++)
1082                   \{
1083                      \textcolor{comment}{//Index of the masking key to be applied}
1084                      k = (txContext->\hyperlink{structWebSocketFrameContext_a41d8ddb620bef6087c9806318db79f3f}{payloadPos} + j) % 4;
1085                      \textcolor{comment}{//Convert unmasked data into masked data}
1086                      txContext->\hyperlink{structWebSocketFrameContext_a3cec5a6cbb2cf4c3d519ddecae1f4726}{buffer}[j] = p[i + j] ^ txContext->
      \hyperlink{structWebSocketFrameContext_aed0e3efec712dcb1c747dad97187d0ad}{maskingKey}[\hyperlink{md5_8c_af11ea3cdbca7345eb6a4a8ac5ce0434d}{k}];
1087                   \}
1088                \}
1089 
1090                \textcolor{comment}{//Rewind to the beginning of the buffer}
1091                txContext->\hyperlink{structWebSocketFrameContext_acad756853cbb653f12d4fd64bbf4cf0a}{bufferPos} = 0;
1092                \textcolor{comment}{//Update the number of data buffered but not yet sent}
1093                txContext->\hyperlink{structWebSocketFrameContext_ac89d1a88498690e3ae1f39c96182ea19}{bufferLen} = \hyperlink{dhcpv6__common_8h_a5a648f5ec00c526b0dfa2df7a272c6c0}{n};
1094             \}
1095             \textcolor{keywordflow}{else}
1096             \{
1097                \textcolor{comment}{//Prepare to send a new WebSocket frame}
1098                txContext->\hyperlink{structWebSocketFrameContext_ab89eea5d9b9f9a20fd7675db64016dc0}{state} = \hyperlink{web__socket_8h_add467139cdc2100a7640faa4fb6c36d7a94a204ec550f4e655177970aeaf89306}{WS\_SUB\_STATE\_INIT};
1099 
1100                \textcolor{comment}{//Write operation complete?}
1101                \textcolor{keywordflow}{if}(i >= \hyperlink{dtls__misc_8h_ab43ca82dd7fa2a0e56f941032ef324c4}{length})
1102                   \textcolor{keywordflow}{break};
1103             \}
1104          \}
1105       \}
1106       \textcolor{keywordflow}{else}
1107       \{
1108          \textcolor{comment}{//Invalid state}
1109          error = \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689cac3190fa1f36c6acf147c7ce453a655e2}{ERROR\_WRONG\_STATE};
1110       \}
1111 
1112       \textcolor{comment}{//Any error to report?}
1113       \textcolor{keywordflow}{if}(error)
1114          \textcolor{keywordflow}{break};
1115    \}
1116 
1117    \textcolor{comment}{//Total number of data that have been written}
1118    \textcolor{keywordflow}{if}(written != \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
1119       *written = i;
1120 
1121    \textcolor{comment}{//Return status code}
1122    \textcolor{keywordflow}{return} error;
1123 \}
\end{DoxyCode}
\mbox{\Hypertarget{web__socket_8h_a288851f7d2769de7ea322d35c737873b}\label{web__socket_8h_a288851f7d2769de7ea322d35c737873b}} 
\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!web\+Socket\+Send\+Server\+Handshake@{web\+Socket\+Send\+Server\+Handshake}}
\index{web\+Socket\+Send\+Server\+Handshake@{web\+Socket\+Send\+Server\+Handshake}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{web\+Socket\+Send\+Server\+Handshake()}{webSocketSendServerHandshake()}}
{\footnotesize\ttfamily \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} web\+Socket\+Send\+Server\+Handshake (\begin{DoxyParamCaption}\item[{\hyperlink{web__socket_8h_aad796fb4e3af91c4358c5b273d4a2028}{Web\+Socket} $\ast$}]{web\+Socket }\end{DoxyParamCaption})}



Send server\textquotesingle{}s handshake. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em web\+Socket} & Handle that identifies a Web\+Socket \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Error code 
\end{DoxyReturn}


Definition at line 813 of file web\+\_\+socket.\+c.


\begin{DoxyCode}
814 \{
815    \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\_t} error;
816    \textcolor{keywordtype}{size\_t} \hyperlink{dhcpv6__common_8h_a5a648f5ec00c526b0dfa2df7a272c6c0}{n};
817    \hyperlink{structWebSocketFrameContext}{WebSocketFrameContext} *txContext;
818 
819    \textcolor{comment}{//Make sure the WebSocket handle is valid}
820    \textcolor{keywordflow}{if}(webSocket == \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
821       \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689caeae4b12e06d727d085f75f79a820f2e8}{ERROR\_INVALID\_PARAMETER};
822 
823    \textcolor{comment}{//Point to the TX context}
824    txContext = &webSocket->txContext;
825 
826    \textcolor{comment}{//Initialize status code}
827    error = \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94}{NO\_ERROR};
828 
829    \textcolor{comment}{//Establish connection}
830    \textcolor{keywordflow}{while}(webSocket->state != \hyperlink{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0ab0325195f22aca5be7491a425f84808c}{WS\_STATE\_OPEN})
831    \{
832       \textcolor{comment}{//Check current state}
833       \textcolor{keywordflow}{if}(webSocket->state == \hyperlink{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0af67b597c54a4b89fc2566c326231aa8b}{WS\_STATE\_SERVER\_HANDSHAKE})
834       \{
835          \textcolor{comment}{//Any remaining data to be sent?}
836          \textcolor{keywordflow}{if}(txContext->\hyperlink{structWebSocketFrameContext_acad756853cbb653f12d4fd64bbf4cf0a}{bufferPos} < txContext->\hyperlink{structWebSocketFrameContext_ac89d1a88498690e3ae1f39c96182ea19}{bufferLen})
837          \{
838             \textcolor{comment}{//Send more data}
839             error = \hyperlink{web__socket__transport_8c_a8569db2a11a8adecaa48dd7ffa12b2fe}{webSocketSendData}(webSocket,
840                txContext->\hyperlink{structWebSocketFrameContext_a3cec5a6cbb2cf4c3d519ddecae1f4726}{buffer} + txContext->\hyperlink{structWebSocketFrameContext_acad756853cbb653f12d4fd64bbf4cf0a}{bufferPos},
841                txContext->\hyperlink{structWebSocketFrameContext_ac89d1a88498690e3ae1f39c96182ea19}{bufferLen} - txContext->\hyperlink{structWebSocketFrameContext_acad756853cbb653f12d4fd64bbf4cf0a}{bufferPos}, &n, 0);
842 
843             \textcolor{comment}{//Advance data pointer}
844             txContext->\hyperlink{structWebSocketFrameContext_acad756853cbb653f12d4fd64bbf4cf0a}{bufferPos} += \hyperlink{dhcpv6__common_8h_a5a648f5ec00c526b0dfa2df7a272c6c0}{n};
845          \}
846          \textcolor{keywordflow}{else}
847          \{
848             \textcolor{comment}{//The WebSocket connection is established}
849             \hyperlink{web__socket__misc_8c_a2950d387e998381f3aab0031a3e13004}{webSocketChangeState}(webSocket, \hyperlink{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0ab0325195f22aca5be7491a425f84808c}{WS\_STATE\_OPEN});
850          \}
851       \}
852       \textcolor{keywordflow}{else}
853       \{
854          \textcolor{comment}{//Invalid state}
855          error = \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689cac3190fa1f36c6acf147c7ce453a655e2}{ERROR\_WRONG\_STATE};
856       \}
857 
858       \textcolor{comment}{//Any error to report?}
859       \textcolor{keywordflow}{if}(error)
860          \textcolor{keywordflow}{break};
861    \}
862 
863    \textcolor{comment}{//Return status code}
864    \textcolor{keywordflow}{return} error;
865 \}
\end{DoxyCode}
\mbox{\Hypertarget{web__socket_8h_a824a1be920b2aea93a0c8253ffa790b1}\label{web__socket_8h_a824a1be920b2aea93a0c8253ffa790b1}} 
\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!web\+Socket\+Set\+Auth\+Info@{web\+Socket\+Set\+Auth\+Info}}
\index{web\+Socket\+Set\+Auth\+Info@{web\+Socket\+Set\+Auth\+Info}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{web\+Socket\+Set\+Auth\+Info()}{webSocketSetAuthInfo()}}
{\footnotesize\ttfamily \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} web\+Socket\+Set\+Auth\+Info (\begin{DoxyParamCaption}\item[{\hyperlink{web__socket_8h_aad796fb4e3af91c4358c5b273d4a2028}{Web\+Socket} $\ast$}]{web\+Socket,  }\item[{const \hyperlink{compiler__port_8h_a40bb5262bf908c328fbcfbe5d29d0201}{char\+\_\+t} $\ast$}]{username,  }\item[{const \hyperlink{compiler__port_8h_a40bb5262bf908c328fbcfbe5d29d0201}{char\+\_\+t} $\ast$}]{password,  }\item[{\hyperlink{compiler__port_8h_a12a1e9b3ce141648783a82445d02b58d}{uint\+\_\+t}}]{allowed\+Auth\+Modes }\end{DoxyParamCaption})}



Set authentication information. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em web\+Socket} & Handle to a Web\+Socket \\
\hline
\mbox{\tt in}  & {\em username} & N\+U\+L\+L-\/terminated string containing the user name to be used \\
\hline
\mbox{\tt in}  & {\em password} & N\+U\+L\+L-\/terminated string containing the password to be used \\
\hline
\mbox{\tt in}  & {\em allowed\+Auth\+Modes} & Logic OR of allowed H\+T\+TP authentication schemes \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Error code 
\end{DoxyReturn}


Definition at line 347 of file web\+\_\+socket.\+c.


\begin{DoxyCode}
349 \{
350 \textcolor{preprocessor}{#if (WEB\_SOCKET\_BASIC\_AUTH\_SUPPORT == ENABLED || WEB\_SOCKET\_DIGEST\_AUTH\_SUPPORT == ENABLED)}
351    \hyperlink{structWebSocketAuthContext}{WebSocketAuthContext} *authContext;
352 
353    \textcolor{comment}{//Check parameters}
354    \textcolor{keywordflow}{if}(webSocket == \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} || username == \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} || password == \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
355       \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689caeae4b12e06d727d085f75f79a820f2e8}{ERROR\_INVALID\_PARAMETER};
356 
357    \textcolor{comment}{//Point to the authentication context}
358    authContext = &webSocket->authContext;
359 
360    \textcolor{comment}{//Save user name}
361    \hyperlink{str_8c_ac10cb0bca1fb0c39b2c765afd068486d}{strSafeCopy}(authContext->\hyperlink{structWebSocketAuthContext_a69b8df5c2bf4a6849bec5f2c84068da9}{username}, username, 
      \hyperlink{web__socket_8h_a60c61570c0a031b8e8108cb162a098e5}{WEB\_SOCKET\_USERNAME\_MAX\_LEN});
362    \textcolor{comment}{//Save password}
363    \hyperlink{str_8c_ac10cb0bca1fb0c39b2c765afd068486d}{strSafeCopy}(authContext->\hyperlink{structWebSocketAuthContext_af6fc321cd2597378b1086cfe03858830}{password}, password, 
      \hyperlink{web__socket_8h_a4c69773275a97b429a126bce01074215}{WEB\_SOCKET\_PASSWORD\_MAX\_LEN});
364    \textcolor{comment}{//Save the list of allowed HTTP authentication schemes}
365    authContext->\hyperlink{structWebSocketAuthContext_adb63e01f01d517c51fec717e2d3cf21e}{allowedAuthModes} = allowedAuthModes;
366 \textcolor{preprocessor}{#endif}
367 
368    \textcolor{comment}{//Successful processing}
369    \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94}{NO\_ERROR};
370 \}
\end{DoxyCode}
\mbox{\Hypertarget{web__socket_8h_a34ff0ac46218d6a3fea6eda0410faebd}\label{web__socket_8h_a34ff0ac46218d6a3fea6eda0410faebd}} 
\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!web\+Socket\+Set\+Client\+Key@{web\+Socket\+Set\+Client\+Key}}
\index{web\+Socket\+Set\+Client\+Key@{web\+Socket\+Set\+Client\+Key}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{web\+Socket\+Set\+Client\+Key()}{webSocketSetClientKey()}}
{\footnotesize\ttfamily \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} web\+Socket\+Set\+Client\+Key (\begin{DoxyParamCaption}\item[{\hyperlink{web__socket_8h_aad796fb4e3af91c4358c5b273d4a2028}{Web\+Socket} $\ast$}]{web\+Socket,  }\item[{const \hyperlink{compiler__port_8h_a40bb5262bf908c328fbcfbe5d29d0201}{char\+\_\+t} $\ast$}]{client\+Key }\end{DoxyParamCaption})}



Set client\textquotesingle{}s key. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em web\+Socket} & Handle to a Web\+Socket \\
\hline
\mbox{\tt in}  & {\em client\+Key} & N\+U\+L\+L-\/terminated string that holds the the client\textquotesingle{}s key \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Error code 
\end{DoxyReturn}


Definition at line 658 of file web\+\_\+socket.\+c.


\begin{DoxyCode}
659 \{
660    \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\_t} error;
661    \textcolor{keywordtype}{size\_t} \hyperlink{dhcpv6__common_8h_a5a648f5ec00c526b0dfa2df7a272c6c0}{n};
662 
663    \textcolor{comment}{//Check parameters}
664    \textcolor{keywordflow}{if}(webSocket == \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} || \hyperlink{demo_2microchip_2pic32mz__ef__curiosity_2wifi__http__server__demo_2src_2main_8c_aa47a0ee54f9d77fcd75479e7b64c317a}{clientKey} == \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
665       \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689caeae4b12e06d727d085f75f79a820f2e8}{ERROR\_INVALID\_PARAMETER};
666 
667    \textcolor{comment}{//Get the length of the client's key}
668    n = strlen(\hyperlink{demo_2microchip_2pic32mz__ef__curiosity_2wifi__http__server__demo_2src_2main_8c_aa47a0ee54f9d77fcd75479e7b64c317a}{clientKey});
669 
670    \textcolor{comment}{//Check the length of the key}
671    \textcolor{keywordflow}{if}(n > \hyperlink{web__socket_8h_aec52a37b246082418c0b6dbf0235e99d}{WEB\_SOCKET\_CLIENT\_KEY\_SIZE})
672       \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689cae5c014519c3ac2540447887ddca1bd28}{ERROR\_INVALID\_LENGTH};
673 
674    \textcolor{comment}{//Copy client's key}
675    strcpy(webSocket->handshakeContext.clientKey, \hyperlink{demo_2microchip_2pic32mz__ef__curiosity_2wifi__http__server__demo_2src_2main_8c_aa47a0ee54f9d77fcd75479e7b64c317a}{clientKey});
676 
677    \textcolor{comment}{//a WebSocket server is a WebSocket endpoint that awaits}
678    \textcolor{comment}{//connections from peers}
679    webSocket->endpoint = \hyperlink{web__socket_8h_ae7d51561abe243c4f263d6c7d50699a9a52543e5816b31e31954fe11186a13d4d}{WS\_ENDPOINT\_SERVER};
680 
681    \textcolor{comment}{//Initialize status code}
682    webSocket->statusCode = \hyperlink{web__socket_8h_acd8f55557f218580a4048bba2d0c5192a7911bd0755c0ff03ee1add8df6ab25ba}{WS\_STATUS\_CODE\_NO\_STATUS\_RCVD};
683 
684    \textcolor{comment}{//Initialize handshake parameters}
685    webSocket->handshakeContext.version = \hyperlink{web__socket_8h_a1c876c89b2d8e417e1a99a6dbcb1bfacafdefe3d8ccc39d6c50065d47b1c32b6a}{WS\_HTTP\_VERSION\_1\_1};
686    webSocket->handshakeContext.connectionUpgrade = \hyperlink{os__port_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
687    webSocket->handshakeContext.upgradeWebSocket = \hyperlink{os__port_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
688 
689    \textcolor{comment}{//Initialize FIN flag}
690    webSocket->rxContext.fin = \hyperlink{os__port_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
691 
692    \textcolor{comment}{//Verify client's key}
693    error = \hyperlink{web__socket__misc_8c_a048d6225a8694c41679c280211d983e2}{webSocketVerifyClientKey}(webSocket);
694    \textcolor{comment}{//Any error to report?}
695    \textcolor{keywordflow}{if}(error)
696       \textcolor{keywordflow}{return} error;
697 
698    \textcolor{comment}{//Generate server's key}
699    error = \hyperlink{web__socket__misc_8c_ab04656395be442e453689fe5b009512f}{webSocketGenerateServerKey}(webSocket);
700    \textcolor{comment}{//Any error to report?}
701    \textcolor{keywordflow}{if}(error)
702       \textcolor{keywordflow}{return} error;
703 
704    \textcolor{comment}{//Format server handshake}
705    error = \hyperlink{web__socket__misc_8c_a5514a69c87c82c3c6d3536998e052086}{webSocketFormatServerHandshake}(webSocket);
706    \textcolor{comment}{//Any error to report?}
707    \textcolor{keywordflow}{if}(error)
708       \textcolor{keywordflow}{return} error;
709 
710    \textcolor{comment}{//Update FSM state}
711    webSocket->state = \hyperlink{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0af67b597c54a4b89fc2566c326231aa8b}{WS\_STATE\_SERVER\_HANDSHAKE};
712 
713    \textcolor{comment}{//Successful processing}
714    \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94}{NO\_ERROR};
715 \}
\end{DoxyCode}
\mbox{\Hypertarget{web__socket_8h_ac6ca86f78b9553dfbb0b317db10bdcae}\label{web__socket_8h_ac6ca86f78b9553dfbb0b317db10bdcae}} 
\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!web\+Socket\+Set\+Host@{web\+Socket\+Set\+Host}}
\index{web\+Socket\+Set\+Host@{web\+Socket\+Set\+Host}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{web\+Socket\+Set\+Host()}{webSocketSetHost()}}
{\footnotesize\ttfamily \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} web\+Socket\+Set\+Host (\begin{DoxyParamCaption}\item[{\hyperlink{web__socket_8h_aad796fb4e3af91c4358c5b273d4a2028}{Web\+Socket} $\ast$}]{web\+Socket,  }\item[{const \hyperlink{compiler__port_8h_a40bb5262bf908c328fbcfbe5d29d0201}{char\+\_\+t} $\ast$}]{host }\end{DoxyParamCaption})}



Set the domain name of the server (for virtual hosting) 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em web\+Socket} & Handle to a Web\+Socket \\
\hline
\mbox{\tt in}  & {\em host} & N\+U\+L\+L-\/terminated string containing the hostname \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Error code 
\end{DoxyReturn}


Definition at line 282 of file web\+\_\+socket.\+c.


\begin{DoxyCode}
283 \{
284    \textcolor{comment}{//Check parameters}
285    \textcolor{keywordflow}{if}(webSocket == \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} || host == \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
286       \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689caeae4b12e06d727d085f75f79a820f2e8}{ERROR\_INVALID\_PARAMETER};
287 
288    \textcolor{comment}{//Save the hostname}
289    \hyperlink{str_8c_ac10cb0bca1fb0c39b2c765afd068486d}{strSafeCopy}(webSocket->host, host, \hyperlink{web__socket_8h_ab0e0a872efe7a6badc10953d0fc24cd0}{WEB\_SOCKET\_HOST\_MAX\_LEN});
290 
291    \textcolor{comment}{//Successful processing}
292    \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94}{NO\_ERROR};
293 \}
\end{DoxyCode}
\mbox{\Hypertarget{web__socket_8h_aec8f009b3a2d80aaaea523b4f3fe30de}\label{web__socket_8h_aec8f009b3a2d80aaaea523b4f3fe30de}} 
\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!web\+Socket\+Set\+Origin@{web\+Socket\+Set\+Origin}}
\index{web\+Socket\+Set\+Origin@{web\+Socket\+Set\+Origin}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{web\+Socket\+Set\+Origin()}{webSocketSetOrigin()}}
{\footnotesize\ttfamily \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} web\+Socket\+Set\+Origin (\begin{DoxyParamCaption}\item[{\hyperlink{web__socket_8h_aad796fb4e3af91c4358c5b273d4a2028}{Web\+Socket} $\ast$}]{web\+Socket,  }\item[{const \hyperlink{compiler__port_8h_a40bb5262bf908c328fbcfbe5d29d0201}{char\+\_\+t} $\ast$}]{origin }\end{DoxyParamCaption})}



Set the origin header field. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em web\+Socket} & Handle to a Web\+Socket \\
\hline
\mbox{\tt in}  & {\em origin} & N\+U\+L\+L-\/terminated string containing the origin \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Error code 
\end{DoxyReturn}


Definition at line 303 of file web\+\_\+socket.\+c.


\begin{DoxyCode}
304 \{
305    \textcolor{comment}{//Check parameters}
306    \textcolor{keywordflow}{if}(webSocket == \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} || origin == \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
307       \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689caeae4b12e06d727d085f75f79a820f2e8}{ERROR\_INVALID\_PARAMETER};
308 
309    \textcolor{comment}{//Save origin}
310    \hyperlink{str_8c_ac10cb0bca1fb0c39b2c765afd068486d}{strSafeCopy}(webSocket->origin, origin, \hyperlink{web__socket_8h_a5c93d131ef16f066ea2c64453dcc52aa}{WEB\_SOCKET\_ORIGIN\_MAX\_LEN});
311 
312    \textcolor{comment}{//Successful processing}
313    \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94}{NO\_ERROR};
314 \}
\end{DoxyCode}
\mbox{\Hypertarget{web__socket_8h_a77b4a38124a405d8a8946d7fde8f0068}\label{web__socket_8h_a77b4a38124a405d8a8946d7fde8f0068}} 
\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!web\+Socket\+Set\+Sub\+Protocol@{web\+Socket\+Set\+Sub\+Protocol}}
\index{web\+Socket\+Set\+Sub\+Protocol@{web\+Socket\+Set\+Sub\+Protocol}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{web\+Socket\+Set\+Sub\+Protocol()}{webSocketSetSubProtocol()}}
{\footnotesize\ttfamily \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} web\+Socket\+Set\+Sub\+Protocol (\begin{DoxyParamCaption}\item[{\hyperlink{web__socket_8h_aad796fb4e3af91c4358c5b273d4a2028}{Web\+Socket} $\ast$}]{web\+Socket,  }\item[{const \hyperlink{compiler__port_8h_a40bb5262bf908c328fbcfbe5d29d0201}{char\+\_\+t} $\ast$}]{sub\+Protocol }\end{DoxyParamCaption})}



Set the sub-\/protocol header field. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em web\+Socket} & Handle to a Web\+Socket \\
\hline
\mbox{\tt in}  & {\em sub\+Protocol} & N\+U\+L\+L-\/terminated string containing the sub-\/protocol \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Error code 
\end{DoxyReturn}


Definition at line 324 of file web\+\_\+socket.\+c.


\begin{DoxyCode}
325 \{
326    \textcolor{comment}{//Check parameters}
327    \textcolor{keywordflow}{if}(webSocket == \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} || subProtocol == \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
328       \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689caeae4b12e06d727d085f75f79a820f2e8}{ERROR\_INVALID\_PARAMETER};
329 
330    \textcolor{comment}{//Save sub-protocol}
331    \hyperlink{str_8c_ac10cb0bca1fb0c39b2c765afd068486d}{strSafeCopy}(webSocket->subProtocol, subProtocol, 
      \hyperlink{web__socket_8h_a5a98133b0c199ecd9542c4c6d9388550}{WEB\_SOCKET\_SUB\_PROTOCOL\_MAX\_LEN});
332 
333    \textcolor{comment}{//Successful processing}
334    \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94}{NO\_ERROR};
335 \}
\end{DoxyCode}
\mbox{\Hypertarget{web__socket_8h_a62484c97e683330b9dc4953fce89f77b}\label{web__socket_8h_a62484c97e683330b9dc4953fce89f77b}} 
\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!web\+Socket\+Set\+Timeout@{web\+Socket\+Set\+Timeout}}
\index{web\+Socket\+Set\+Timeout@{web\+Socket\+Set\+Timeout}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{web\+Socket\+Set\+Timeout()}{webSocketSetTimeout()}}
{\footnotesize\ttfamily \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} web\+Socket\+Set\+Timeout (\begin{DoxyParamCaption}\item[{\hyperlink{web__socket_8h_aad796fb4e3af91c4358c5b273d4a2028}{Web\+Socket} $\ast$}]{web\+Socket,  }\item[{\hyperlink{compiler__port_8h_ae3e32a98d431a02106616da3071832dd}{systime\+\_\+t}}]{timeout }\end{DoxyParamCaption})}



Set timeout value for blocking operations. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em web\+Socket} & Handle to a Web\+Socket \\
\hline
\mbox{\tt in}  & {\em timeout} & Maximum time to wait \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Error code 
\end{DoxyReturn}


Definition at line 257 of file web\+\_\+socket.\+c.


\begin{DoxyCode}
258 \{
259    \textcolor{comment}{//Make sure the WebSocket handle is valid}
260    \textcolor{keywordflow}{if}(webSocket == \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
261       \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689caeae4b12e06d727d085f75f79a820f2e8}{ERROR\_INVALID\_PARAMETER};
262 
263    \textcolor{comment}{//Save timeout value}
264    webSocket->timeout = timeout;
265 
266    \textcolor{comment}{//Valid socket?}
267    \textcolor{keywordflow}{if}(webSocket->socket != \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
268       \hyperlink{socket_8c_abdd29ac0ba4a644c726f5b1280680099}{socketSetTimeout}(webSocket->socket, timeout);
269 
270    \textcolor{comment}{//Successful processing}
271    \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94}{NO\_ERROR};
272 \}
\end{DoxyCode}
\mbox{\Hypertarget{web__socket_8h_a7e9ab52f176656d3c91c94742b181656}\label{web__socket_8h_a7e9ab52f176656d3c91c94742b181656}} 
\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!web\+Socket\+Shutdown@{web\+Socket\+Shutdown}}
\index{web\+Socket\+Shutdown@{web\+Socket\+Shutdown}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{web\+Socket\+Shutdown()}{webSocketShutdown()}}
{\footnotesize\ttfamily \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\+\_\+t} web\+Socket\+Shutdown (\begin{DoxyParamCaption}\item[{\hyperlink{web__socket_8h_aad796fb4e3af91c4358c5b273d4a2028}{Web\+Socket} $\ast$}]{web\+Socket }\end{DoxyParamCaption})}



Gracefully close a Web\+Socket connection. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em web\+Socket} & Handle to a Web\+Socket \\
\hline
\end{DoxyParams}


Definition at line 1439 of file web\+\_\+socket.\+c.


\begin{DoxyCode}
1440 \{
1441    \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689c}{error\_t} error;
1442    \textcolor{keywordtype}{size\_t} \hyperlink{dhcpv6__common_8h_a5a648f5ec00c526b0dfa2df7a272c6c0}{n};
1443    \hyperlink{structWebSocketFrameContext}{WebSocketFrameContext} *txContext;
1444 
1445    \textcolor{comment}{//Make sure the WebSocket handle is valid}
1446    \textcolor{keywordflow}{if}(webSocket == \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
1447       \textcolor{keywordflow}{return} \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689caeae4b12e06d727d085f75f79a820f2e8}{ERROR\_INVALID\_PARAMETER};
1448 
1449    \textcolor{comment}{//Point to the TX context}
1450    txContext = &webSocket->txContext;
1451 
1452    \textcolor{comment}{//Initialize status code}
1453    error = \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94}{NO\_ERROR};
1454 
1455    \textcolor{comment}{//Closing handshake}
1456    \textcolor{keywordflow}{while}(webSocket->state != \hyperlink{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0a4356293e46722d1fa27ca8624f62b296}{WS\_STATE\_CLOSED})
1457    \{
1458       \textcolor{comment}{//Check current state}
1459       \textcolor{keywordflow}{if}(webSocket->state == \hyperlink{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0ab0325195f22aca5be7491a425f84808c}{WS\_STATE\_OPEN})
1460       \{
1461          \textcolor{comment}{//Check whether the latest frame has been completely transmitted}
1462          \textcolor{keywordflow}{if}(txContext->\hyperlink{structWebSocketFrameContext_a41d8ddb620bef6087c9806318db79f3f}{payloadPos} == txContext->\hyperlink{structWebSocketFrameContext_a55076f17b7463a67c6e07cbd2de8d241}{payloadLen})
1463          \{
1464             \textcolor{comment}{//Format Close frame}
1465             error = \hyperlink{web__socket__frame_8c_a172d65e16ec86639ed38de661bbd6dc5}{webSocketFormatCloseFrame}(webSocket);
1466             \textcolor{comment}{//Send Close frame}
1467             webSocket->state = \hyperlink{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0a497577e6916b829e303f5466a852e8ef}{WS\_STATE\_CLOSING\_TX};
1468          \}
1469          \textcolor{keywordflow}{else}
1470          \{
1471             \textcolor{comment}{//The WebSocket connection cannot be closed until the}
1472             \textcolor{comment}{//transmission of the frame is complete...}
1473             error = \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689cae9be6449970fca5714ab9957b16562a5}{ERROR\_FAILURE};
1474          \}
1475       \}
1476       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(webSocket->state == \hyperlink{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0a497577e6916b829e303f5466a852e8ef}{WS\_STATE\_CLOSING\_TX})
1477       \{
1478          \textcolor{comment}{//Any remaining data to be sent?}
1479          \textcolor{keywordflow}{if}(txContext->\hyperlink{structWebSocketFrameContext_acad756853cbb653f12d4fd64bbf4cf0a}{bufferPos} < txContext->\hyperlink{structWebSocketFrameContext_ac89d1a88498690e3ae1f39c96182ea19}{bufferLen})
1480          \{
1481             \textcolor{comment}{//Send more data}
1482             error = \hyperlink{web__socket__transport_8c_a8569db2a11a8adecaa48dd7ffa12b2fe}{webSocketSendData}(webSocket,
1483                txContext->\hyperlink{structWebSocketFrameContext_a3cec5a6cbb2cf4c3d519ddecae1f4726}{buffer} + txContext->\hyperlink{structWebSocketFrameContext_acad756853cbb653f12d4fd64bbf4cf0a}{bufferPos},
1484                txContext->\hyperlink{structWebSocketFrameContext_ac89d1a88498690e3ae1f39c96182ea19}{bufferLen} - txContext->\hyperlink{structWebSocketFrameContext_acad756853cbb653f12d4fd64bbf4cf0a}{bufferPos}, &n, 0);
1485 
1486             \textcolor{comment}{//Advance data pointer}
1487             txContext->\hyperlink{structWebSocketFrameContext_acad756853cbb653f12d4fd64bbf4cf0a}{bufferPos} += \hyperlink{dhcpv6__common_8h_a5a648f5ec00c526b0dfa2df7a272c6c0}{n};
1488          \}
1489          \textcolor{keywordflow}{else}
1490          \{
1491             \textcolor{comment}{//Check whether a Close frame has been received from the peer}
1492             \textcolor{keywordflow}{if}(webSocket->handshakeContext.closingFrameReceived)
1493                webSocket->state = \hyperlink{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0ab9ab3613e9b03816f43e9711716c9707}{WS\_STATE\_SHUTDOWN};
1494             \textcolor{keywordflow}{else}
1495                webSocket->state = \hyperlink{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0a389d5ee1c20697d8c258fdf813d16fe5}{WS\_STATE\_CLOSING\_RX};
1496          \}
1497       \}
1498       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(webSocket->state == \hyperlink{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0a389d5ee1c20697d8c258fdf813d16fe5}{WS\_STATE\_CLOSING\_RX})
1499       \{
1500          \textcolor{comment}{//After receiving a control frame indicating the connection should}
1501          \textcolor{comment}{//be closed, a peer discards any further data received}
1502          error = \hyperlink{web__socket_8c_aad0e0be082563aff76a155bf4aae585f}{webSocketReceive}(webSocket, \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}, 
      \hyperlink{web__socket_8h_a4e6ed74586f83eedc4eae5a079f41050}{WEB\_SOCKET\_BUFFER\_SIZE}, \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}, 0);
1503 
1504          \textcolor{comment}{//Check status code}
1505          \textcolor{keywordflow}{if}(error == \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94}{NO\_ERROR})
1506          \{
1507             \textcolor{comment}{//Close frame received?}
1508             \textcolor{keywordflow}{if}(webSocket->handshakeContext.closingFrameReceived)
1509             \{
1510                \textcolor{comment}{//Properly shutdown the network connection}
1511                webSocket->state = \hyperlink{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0ab9ab3613e9b03816f43e9711716c9707}{WS\_STATE\_SHUTDOWN};
1512             \}
1513          \}
1514          \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(error == \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689caa0a36625ee2bb3f8a1f6562033634139}{ERROR\_INVALID\_FRAME} || error == 
      \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689ca8b7223773301a4f3dd811f1d35e13ce4}{ERROR\_END\_OF\_STREAM})
1515          \{
1516             \textcolor{comment}{//Catch exception}
1517             error = \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689cabf350750d0d4fabd8954c0f1e9bbae94}{NO\_ERROR};
1518             \textcolor{comment}{//Properly shutdown the network connection}
1519             webSocket->state = \hyperlink{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0ab9ab3613e9b03816f43e9711716c9707}{WS\_STATE\_SHUTDOWN};
1520          \}
1521       \}
1522       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(webSocket->state == \hyperlink{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0ab9ab3613e9b03816f43e9711716c9707}{WS\_STATE\_SHUTDOWN})
1523       \{
1524          \textcolor{comment}{//Properly dispose the network connection}
1525          error = \hyperlink{web__socket__transport_8c_a0d897cb29993628ebd61695b089f7d5d}{webSocketShutdownConnection}(webSocket);
1526 
1527          \textcolor{comment}{//Check status code}
1528          \textcolor{keywordflow}{if}(!error)
1529          \{
1530             \textcolor{comment}{//The connection has been properly closed}
1531             webSocket->state = \hyperlink{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0a4356293e46722d1fa27ca8624f62b296}{WS\_STATE\_CLOSED};
1532          \}
1533       \}
1534       \textcolor{keywordflow}{else}
1535       \{
1536          \textcolor{comment}{//Invalid state}
1537          error = \hyperlink{error_8h_ac7659d73a8cdedc08e9f566bb406689cac3190fa1f36c6acf147c7ce453a655e2}{ERROR\_WRONG\_STATE};
1538       \}
1539 
1540       \textcolor{comment}{//Any error to report?}
1541       \textcolor{keywordflow}{if}(error)
1542          \textcolor{keywordflow}{break};
1543    \}
1544 
1545    \textcolor{comment}{//Return status code}
1546    \textcolor{keywordflow}{return} error;
1547 \}
\end{DoxyCode}
\mbox{\Hypertarget{web__socket_8h_a3405a2e8818e5b35aae323f8b0f02ef8}\label{web__socket_8h_a3405a2e8818e5b35aae323f8b0f02ef8}} 
\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!web\+Socket\+Upgrade\+Secure\+Socket@{web\+Socket\+Upgrade\+Secure\+Socket}}
\index{web\+Socket\+Upgrade\+Secure\+Socket@{web\+Socket\+Upgrade\+Secure\+Socket}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{web\+Socket\+Upgrade\+Secure\+Socket()}{webSocketUpgradeSecureSocket()}}
{\footnotesize\ttfamily \hyperlink{web__socket_8h_aad796fb4e3af91c4358c5b273d4a2028}{Web\+Socket}$\ast$ web\+Socket\+Upgrade\+Secure\+Socket (\begin{DoxyParamCaption}\item[{\hyperlink{socket_8h_aa85acfb0fa336ef495e6ba87fb88fc48}{Socket} $\ast$}]{socket,  }\item[{\hyperlink{tls_8h_ac09f7a286c0cdf9b07ee1edd107946f5}{Tls\+Context} $\ast$}]{tls\+Context }\end{DoxyParamCaption})}



Upgrade a secure socket to a secure Web\+Socket. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em socket} & Handle referencing the socket \\
\hline
\mbox{\tt in}  & {\em tls\+Context} & Pointer to the T\+LS context \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Handle referencing the new Web\+Socket 
\end{DoxyReturn}


Definition at line 194 of file web\+\_\+socket.\+c.


\begin{DoxyCode}
195 \{
196    \hyperlink{web__socket_8h_aad796fb4e3af91c4358c5b273d4a2028}{WebSocket} *webSocket;
197 
198    \textcolor{comment}{//Valid TLS context?}
199    \textcolor{keywordflow}{if}(tlsContext != \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
200    \{
201       \textcolor{comment}{//Create a new WebSocket}
202       webSocket = \hyperlink{web__socket_8c_a6134901b088acbcb083e2326600bcd6d}{webSocketOpen}();
203 
204       \textcolor{comment}{//WebSocket successfully created?}
205       \textcolor{keywordflow}{if}(webSocket != \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
206       \{
207          \textcolor{comment}{//Attach the socket handle}
208          webSocket->socket = \hyperlink{bsd__socket_8c_a3f8f3a2707fbc87fc30aa70f31f53218}{socket};
209          \textcolor{comment}{//Attach the TLS context}
210          webSocket->tlsContext = tlsContext;
211          \textcolor{comment}{//Initialize state}
212          webSocket->state = \hyperlink{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0a8be7fc475b5c6e5950f1d850b092d2d8}{WS\_STATE\_INIT};
213       \}
214    \}
215    \textcolor{keywordflow}{else}
216    \{
217       \textcolor{comment}{//The specified socket is not valid...}
218       webSocket = \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
219    \}
220 
221    \textcolor{comment}{//Return a handle to the freshly created WebSocket}
222    \textcolor{keywordflow}{return} webSocket;
223 \}
\end{DoxyCode}
\mbox{\Hypertarget{web__socket_8h_a5c248cf726d2b629ba392b145c8d2640}\label{web__socket_8h_a5c248cf726d2b629ba392b145c8d2640}} 
\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!web\+Socket\+Upgrade\+Socket@{web\+Socket\+Upgrade\+Socket}}
\index{web\+Socket\+Upgrade\+Socket@{web\+Socket\+Upgrade\+Socket}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{web\+Socket\+Upgrade\+Socket()}{webSocketUpgradeSocket()}}
{\footnotesize\ttfamily \hyperlink{web__socket_8h_aad796fb4e3af91c4358c5b273d4a2028}{Web\+Socket}$\ast$ web\+Socket\+Upgrade\+Socket (\begin{DoxyParamCaption}\item[{\hyperlink{socket_8h_aa85acfb0fa336ef495e6ba87fb88fc48}{Socket} $\ast$}]{socket }\end{DoxyParamCaption})}



Upgrade a socket to a Web\+Socket. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em socket} & Handle referencing the socket \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Handle referencing the new Web\+Socket 
\end{DoxyReturn}


Definition at line 155 of file web\+\_\+socket.\+c.


\begin{DoxyCode}
156 \{
157    \hyperlink{web__socket_8h_aad796fb4e3af91c4358c5b273d4a2028}{WebSocket} *webSocket;
158 
159    \textcolor{comment}{//Valid socket handle?}
160    \textcolor{keywordflow}{if}(\hyperlink{bsd__socket_8c_a3f8f3a2707fbc87fc30aa70f31f53218}{socket} != \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
161    \{
162       \textcolor{comment}{//Create a new WebSocket}
163       webSocket = \hyperlink{web__socket_8c_a6134901b088acbcb083e2326600bcd6d}{webSocketOpen}();
164 
165       \textcolor{comment}{//WebSocket successfully created?}
166       \textcolor{keywordflow}{if}(webSocket != \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
167       \{
168          \textcolor{comment}{//Attach the socket handle}
169          webSocket->socket = \hyperlink{bsd__socket_8c_a3f8f3a2707fbc87fc30aa70f31f53218}{socket};
170          \textcolor{comment}{//Initialize state}
171          webSocket->state = \hyperlink{web__socket_8h_a84047dc3e004de841d87c90be9dcd0f0a8be7fc475b5c6e5950f1d850b092d2d8}{WS\_STATE\_INIT};
172       \}
173    \}
174    \textcolor{keywordflow}{else}
175    \{
176       \textcolor{comment}{//The specified socket is not valid...}
177       webSocket = \hyperlink{group__BSPDefine_ga070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
178    \}
179 
180    \textcolor{comment}{//Return a handle to the freshly created WebSocket}
181    \textcolor{keywordflow}{return} webSocket;
182 \}
\end{DoxyCode}


\subsection{Variable Documentation}
\mbox{\Hypertarget{web__socket_8h_a671ca0723b653077828ace38751ed76d}\label{web__socket_8h_a671ca0723b653077828ace38751ed76d}} 
\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!ext\+Payload\+Len@{ext\+Payload\+Len}}
\index{ext\+Payload\+Len@{ext\+Payload\+Len}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{ext\+Payload\+Len}{extPayloadLen}}
{\footnotesize\ttfamily \hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} ext\+Payload\+Len\mbox{[}$\,$\mbox{]}}



Definition at line 319 of file web\+\_\+socket.\+h.

\mbox{\Hypertarget{web__socket_8h_a48dcf0f2005f7f1028d2cbbc2c6cde85}\label{web__socket_8h_a48dcf0f2005f7f1028d2cbbc2c6cde85}} 
\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!fin@{fin}}
\index{fin@{fin}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{fin}{fin}}
{\footnotesize\ttfamily \hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} fin}



Definition at line 315 of file web\+\_\+socket.\+h.

\mbox{\Hypertarget{web__socket_8h_a8a74907784be6c7786c2d060c8d7e10b}\label{web__socket_8h_a8a74907784be6c7786c2d060c8d7e10b}} 
\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!mask@{mask}}
\index{mask@{mask}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{mask}{mask}}
{\footnotesize\ttfamily \hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} mask}



Definition at line 317 of file web\+\_\+socket.\+h.

\mbox{\Hypertarget{web__socket_8h_a5c1b56e6bccc2a95dbddf1a08e56e87d}\label{web__socket_8h_a5c1b56e6bccc2a95dbddf1a08e56e87d}} 
\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!opcode@{opcode}}
\index{opcode@{opcode}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{opcode}{opcode}}
{\footnotesize\ttfamily \hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} opcode}



Definition at line 313 of file web\+\_\+socket.\+h.

\mbox{\Hypertarget{web__socket_8h_ae4d38aba40b6dddf544612da0726cd7e}\label{web__socket_8h_ae4d38aba40b6dddf544612da0726cd7e}} 
\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!payload\+Len@{payload\+Len}}
\index{payload\+Len@{payload\+Len}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{payload\+Len}{payloadLen}}
{\footnotesize\ttfamily \hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} payload\+Len}



Definition at line 316 of file web\+\_\+socket.\+h.

\mbox{\Hypertarget{web__socket_8h_acb7bc06bed6f6408d719334fc41698c7}\label{web__socket_8h_acb7bc06bed6f6408d719334fc41698c7}} 
\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!reserved@{reserved}}
\index{reserved@{reserved}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{reserved}{reserved}}
{\footnotesize\ttfamily \hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} reserved}



Definition at line 314 of file web\+\_\+socket.\+h.

\mbox{\Hypertarget{web__socket_8h_a40c7da11532d9e76959cdfc8ed692b3c}\label{web__socket_8h_a40c7da11532d9e76959cdfc8ed692b3c}} 
\index{web\+\_\+socket.\+h@{web\+\_\+socket.\+h}!web\+Sock\+Rand\+Callback@{web\+Sock\+Rand\+Callback}}
\index{web\+Sock\+Rand\+Callback@{web\+Sock\+Rand\+Callback}!web\+\_\+socket.\+h@{web\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{web\+Sock\+Rand\+Callback}{webSockRandCallback}}
{\footnotesize\ttfamily \hyperlink{web__socket_8h_adeedf6ec968cf6f6df535f9616762b2b}{Web\+Socket\+Rand\+Callback} web\+Sock\+Rand\+Callback}



Definition at line 52 of file web\+\_\+socket.\+c.

